(function() {
  function resolve() {
    document.body.removeAttribute("unresolved")
  }
  if (window.WebComponents) addEventListener("WebComponentsReady", resolve);
  else if (document.readyState === "interactive" || document.readyState === "complete") resolve();
  else addEventListener("DOMContentLoaded", resolve)
})();
window.Polymer = {
  Settings: function() {
    var settings = window.Polymer || {};
    if (!settings.noUrlSettings) {
      var parts = location.search.slice(1).split("&");
      for (var i = 0, o; i < parts.length && (o = parts[i]); i++) {
        o = o.split("=");
        o[0] && (settings[o[0]] = o[1] || true)
      }
    }
    settings.wantShadow = settings.dom === "shadow";
    settings.hasShadow = Boolean(Element.prototype.createShadowRoot);
    settings.nativeShadow = settings.hasShadow && !window.ShadowDOMPolyfill;
    settings.useShadow = settings.wantShadow && settings.hasShadow;
    settings.hasNativeImports = Boolean("import" in
      document.createElement("link"));
    settings.useNativeImports = settings.hasNativeImports;
    settings.useNativeCustomElements = !window.CustomElements || window.CustomElements.useNative;
    settings.useNativeShadow = settings.useShadow && settings.nativeShadow;
    settings.usePolyfillProto = !settings.useNativeCustomElements && !Object.__proto__;
    settings.hasNativeCSSProperties = !navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/) && window.CSS && CSS.supports && CSS.supports("box-shadow", "0 0 0 var(--foo)");
    settings.useNativeCSSProperties =
      settings.hasNativeCSSProperties && settings.lazyRegister && settings.useNativeCSSProperties;
    settings.isIE = navigator.userAgent.match("Trident");
    settings.passiveTouchGestures = settings.passiveTouchGestures || false;
    return settings
  }()
};
(function() {
  var userPolymer = window.Polymer;
  window.Polymer = function(prototype) {
    if (typeof prototype === "function") prototype = prototype.prototype;
    if (!prototype) prototype = {};
    prototype = desugar(prototype);
    var customCtor = prototype === prototype.constructor.prototype ? prototype.constructor : null;
    var options = {
      prototype: prototype
    };
    if (prototype["extends"]) options["extends"] = prototype["extends"];
    Polymer.telemetry._registrate(prototype);
    var ctor = document.registerElement(prototype.is, options);
    return customCtor || ctor
  };
  var desugar = function(prototype) {
    var base = Polymer.Base;
    if (prototype["extends"]) base = Polymer.Base._getExtendedPrototype(prototype["extends"]);
    prototype = Polymer.Base.chainObject(prototype, base);
    prototype.registerCallback();
    return prototype
  };
  if (userPolymer)
    for (var i in userPolymer) Polymer[i] = userPolymer[i];
  Polymer.Class = function(prototype) {
    if (!prototype.factoryImpl) prototype.factoryImpl = function() {};
    return desugar(prototype).constructor
  }
})();
Polymer.telemetry = {
  registrations: [],
  _regLog: function(prototype) {
    console.log("[" + prototype.is + "]: registered")
  },
  _registrate: function(prototype) {
    this.registrations.push(prototype);
    Polymer.log && this._regLog(prototype)
  },
  dumpRegistrations: function() {
    this.registrations.forEach(this._regLog)
  }
};
Object.defineProperty(window, "currentImport", {
  enumerable: true,
  configurable: true,
  get: function() {
    return (document._currentScript || document.currentScript || {}).ownerDocument
  }
});
Polymer.RenderStatus = {
  _ready: false,
  _callbacks: [],
  whenReady: function(cb) {
    if (this._ready) cb();
    else this._callbacks.push(cb)
  },
  _makeReady: function() {
    this._ready = true;
    for (var i = 0; i < this._callbacks.length; i++) this._callbacks[i]();
    this._callbacks = []
  },
  _catchFirstRender: function() {
    requestAnimationFrame(function() {
      Polymer.RenderStatus._makeReady()
    })
  },
  _afterNextRenderQueue: [],
  _waitingNextRender: false,
  afterNextRender: function(element, fn, args) {
    this._watchNextRender();
    this._afterNextRenderQueue.push([element, fn,
      args
    ])
  },
  hasRendered: function() {
    return this._ready
  },
  _watchNextRender: function() {
    if (!this._waitingNextRender) {
      this._waitingNextRender = true;
      var fn = function() {
        Polymer.RenderStatus._flushNextRender()
      };
      if (!this._ready) this.whenReady(fn);
      else requestAnimationFrame(fn)
    }
  },
  _flushNextRender: function() {
    var self = this;
    setTimeout(function() {
      self._flushRenderCallbacks(self._afterNextRenderQueue);
      self._afterNextRenderQueue = [];
      self._waitingNextRender = false
    })
  },
  _flushRenderCallbacks: function(callbacks) {
    for (var i = 0, h; i <
      callbacks.length; i++) {
      h = callbacks[i];
      h[1].apply(h[0], h[2] || Polymer.nar)
    }
  }
};
if (window.HTMLImports) HTMLImports.whenReady(function() {
  Polymer.RenderStatus._catchFirstRender()
});
else Polymer.RenderStatus._catchFirstRender();
Polymer.ImportStatus = Polymer.RenderStatus;
Polymer.ImportStatus.whenLoaded = Polymer.ImportStatus.whenReady;
(function() {
  var settings = Polymer.Settings;
  Polymer.Base = {
    __isPolymerInstance__: true,
    _addFeature: function(feature) {
      this.mixin(this, feature)
    },
    registerCallback: function() {
      if (settings.lazyRegister === "max") {
        if (this.beforeRegister) this.beforeRegister()
      } else {
        this._desugarBehaviors();
        for (var i = 0, b; i < this.behaviors.length; i++) {
          b = this.behaviors[i];
          if (b.beforeRegister) b.beforeRegister.call(this)
        }
        if (this.beforeRegister) this.beforeRegister()
      }
      this._registerFeatures();
      if (!settings.lazyRegister) this.ensureRegisterFinished()
    },
    createdCallback: function() {
      if (settings.disableUpgradeEnabled)
        if (this.hasAttribute("disable-upgrade")) {
          this._propertySetter = disableUpgradePropertySetter;
          this._configValue = null;
          this.__data__ = {};
          return
        } else this.__hasInitialized = true;
      this.__initialize()
    },
    __initialize: function() {
      if (!this.__hasRegisterFinished) this._ensureRegisterFinished(this.__proto__);
      Polymer.telemetry.instanceCount++;
      this.root = this;
      for (var i = 0, b; i < this.behaviors.length; i++) {
        b = this.behaviors[i];
        if (b.created) b.created.call(this)
      }
      if (this.created) this.created();
      this._initFeatures()
    },
    ensureRegisterFinished: function() {
      this._ensureRegisterFinished(this)
    },
    _ensureRegisterFinished: function(proto) {
      if (proto.__hasRegisterFinished !== proto.is || !proto.is) {
        if (settings.lazyRegister === "max") {
          proto._desugarBehaviors();
          for (var i = 0, b; i < proto.behaviors.length; i++) {
            b = proto.behaviors[i];
            if (b.beforeRegister) b.beforeRegister.call(proto)
          }
        }
        proto.__hasRegisterFinished = proto.is;
        if (proto._finishRegisterFeatures) proto._finishRegisterFeatures();
        for (var j = 0, pb; j < proto.behaviors.length; j++) {
          pb =
            proto.behaviors[j];
          if (pb.registered) pb.registered.call(proto)
        }
        if (proto.registered) proto.registered();
        if (settings.usePolyfillProto && proto !== this) proto.extend(this, proto)
      }
    },
    attachedCallback: function() {
      var self = this;
      Polymer.RenderStatus.whenReady(function() {
        self.isAttached = true;
        for (var i = 0, b; i < self.behaviors.length; i++) {
          b = self.behaviors[i];
          if (b.attached) b.attached.call(self)
        }
        if (self.attached) self.attached()
      })
    },
    detachedCallback: function() {
      var self = this;
      Polymer.RenderStatus.whenReady(function() {
        self.isAttached =
          false;
        for (var i = 0, b; i < self.behaviors.length; i++) {
          b = self.behaviors[i];
          if (b.detached) b.detached.call(self)
        }
        if (self.detached) self.detached()
      })
    },
    attributeChangedCallback: function(name, oldValue, newValue) {
      this._attributeChangedImpl(name);
      for (var i = 0, b; i < this.behaviors.length; i++) {
        b = this.behaviors[i];
        if (b.attributeChanged) b.attributeChanged.call(this, name, oldValue, newValue)
      }
      if (this.attributeChanged) this.attributeChanged(name, oldValue, newValue)
    },
    _attributeChangedImpl: function(name) {
      this._setAttributeToProperty(this,
        name)
    },
    extend: function(target, source) {
      if (target && source) {
        var n$ = Object.getOwnPropertyNames(source);
        for (var i = 0, n; i < n$.length && (n = n$[i]); i++) this.copyOwnProperty(n, source, target)
      }
      return target || source
    },
    mixin: function(target, source) {
      for (var i in source) target[i] = source[i];
      return target
    },
    copyOwnProperty: function(name, source, target) {
      var pd = Object.getOwnPropertyDescriptor(source, name);
      if (pd) Object.defineProperty(target, name, pd)
    },
    _logger: function(level, args) {
      if (args.length === 1 && Array.isArray(args[0])) args =
        args[0];
      switch (level) {
        case "log":
        case "warn":
        case "error":
          console[level].apply(console, args);
          break
      }
    },
    _log: function() {
      var args = Array.prototype.slice.call(arguments, 0);
      this._logger("log", args)
    },
    _warn: function() {
      var args = Array.prototype.slice.call(arguments, 0);
      this._logger("warn", args)
    },
    _error: function() {
      var args = Array.prototype.slice.call(arguments, 0);
      this._logger("error", args)
    },
    _logf: function() {
      return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments, 0))
    }
  };
  Polymer.Base._logPrefix =
    function() {
      var color = window.chrome && !/edge/i.test(navigator.userAgent) || /firefox/i.test(navigator.userAgent);
      return color ? ["%c[%s::%s]:", "font-weight: bold; background-color:#EEEE00;"] : ["[%s::%s]:"]
    }();
  Polymer.Base.chainObject = function(object, inherited) {
    if (object && inherited && object !== inherited) {
      if (!Object.__proto__) object = Polymer.Base.extend(Object.create(inherited), object);
      object.__proto__ = inherited
    }
    return object
  };
  Polymer.Base = Polymer.Base.chainObject(Polymer.Base, HTMLElement.prototype);
  Polymer.BaseDescriptors = {};
  var disableUpgradePropertySetter;
  if (settings.disableUpgradeEnabled) {
    disableUpgradePropertySetter = function(property, value) {
      this.__data__[property] = value
    };
    var origAttributeChangedCallback = Polymer.Base.attributeChangedCallback;
    Polymer.Base.attributeChangedCallback = function(name, oldValue, newValue) {
      if (!this.__hasInitialized && name === "disable-upgrade") {
        this.__hasInitialized = true;
        this._propertySetter = Polymer.Bind._modelApi._propertySetter;
        this._configValue = Polymer.Base._configValue;
        this.__initialize()
      }
      origAttributeChangedCallback.call(this,
        name, oldValue, newValue)
    }
  }
  if (window.CustomElements) Polymer["instanceof"] = CustomElements["instanceof"];
  else Polymer["instanceof"] = function(obj, ctor) {
    return obj instanceof ctor
  };
  Polymer.isInstance = function(obj) {
    return Boolean(obj && obj.__isPolymerInstance__)
  };
  Polymer.telemetry.instanceCount = 0
})();
(function() {
  var modules = {};
  var lcModules = {};
  var findModule = function(id) {
    return modules[id] || lcModules[id.toLowerCase()]
  };
  var DomModule = function() {
    return document.createElement("dom-module")
  };
  DomModule.prototype = Object.create(HTMLElement.prototype);
  Polymer.Base.mixin(DomModule.prototype, {
    createdCallback: function() {
      this.register()
    },
    register: function(id) {
      id = id || this.id || this.getAttribute("name") || this.getAttribute("is");
      if (id) {
        this.id = id;
        modules[id] = this;
        lcModules[id.toLowerCase()] = this
      }
    },
    "import": function(id,
      selector) {
      if (id) {
        var m = findModule(id);
        if (!m) {
          forceDomModulesUpgrade();
          m = findModule(id)
        }
        if (m && selector) m = m.querySelector(selector);
        return m
      }
    }
  });
  Object.defineProperty(DomModule.prototype, "constructor", {
    value: DomModule,
    configurable: true,
    writable: true
  });
  var cePolyfill = window.CustomElements && !CustomElements.useNative;
  document.registerElement("dom-module", DomModule);

  function forceDomModulesUpgrade() {
    if (cePolyfill) {
      var script = document._currentScript || document.currentScript;
      var doc = script && script.ownerDocument ||
        document;
      var modules = doc.querySelectorAll("dom-module");
      for (var i = modules.length - 1, m; i >= 0 && (m = modules[i]); i--)
        if (m.__upgraded__) return;
        else CustomElements.upgrade(m)
    }
  }
})();
Polymer.Base._addFeature({
  _prepIs: function() {
    if (!this.is) {
      var module = (document._currentScript || document.currentScript).parentNode;
      if (module.localName === "dom-module") {
        var id = module.id || module.getAttribute("name") || module.getAttribute("is");
        this.is = id
      }
    }
    if (this.is) this.is = this.is.toLowerCase()
  }
});
Polymer.Base._addFeature({
  behaviors: [],
  _desugarBehaviors: function() {
    if (this.behaviors.length) this.behaviors = this._desugarSomeBehaviors(this.behaviors)
  },
  _desugarSomeBehaviors: function(behaviors) {
    var behaviorSet = [];
    behaviors = this._flattenBehaviorsList(behaviors);
    for (var i = behaviors.length - 1; i >= 0; i--) {
      var b = behaviors[i];
      if (behaviorSet.indexOf(b) === -1) {
        this._mixinBehavior(b);
        behaviorSet.unshift(b)
      }
    }
    return behaviorSet
  },
  _flattenBehaviorsList: function(behaviors) {
    var flat = [];
    for (var i = 0; i < behaviors.length; i++) {
      var b =
        behaviors[i];
      if (b instanceof Array) flat = flat.concat(this._flattenBehaviorsList(b));
      else if (b) flat.push(b);
      else this._warn(this._logf("_flattenBehaviorsList", "behavior is null, check for missing or 404 import"))
    }
    return flat
  },
  _mixinBehavior: function(b) {
    var n$ = Object.getOwnPropertyNames(b);
    var useAssignment = b._noAccessors;
    for (var i = 0, n; i < n$.length && (n = n$[i]); i++)
      if (!Polymer.Base._behaviorProperties[n] && !this.hasOwnProperty(n))
        if (useAssignment) this[n] = b[n];
        else this.copyOwnProperty(n, b, this)
  },
  _prepBehaviors: function() {
    this._prepFlattenedBehaviors(this.behaviors)
  },
  _prepFlattenedBehaviors: function(behaviors) {
    for (var i = 0, l = behaviors.length; i < l; i++) this._prepBehavior(behaviors[i]);
    this._prepBehavior(this)
  },
  _marshalBehaviors: function() {
    for (var i = 0; i < this.behaviors.length; i++) this._marshalBehavior(this.behaviors[i]);
    this._marshalBehavior(this)
  }
});
Polymer.Base._behaviorProperties = {
  hostAttributes: true,
  beforeRegister: true,
  registered: true,
  properties: true,
  observers: true,
  listeners: true,
  created: true,
  attached: true,
  detached: true,
  attributeChanged: true,
  ready: true,
  _noAccessors: true
};
Polymer.Base._addFeature({
  _getExtendedPrototype: function(tag) {
    return this._getExtendedNativePrototype(tag)
  },
  _nativePrototypes: {},
  _getExtendedNativePrototype: function(tag) {
    var p = this._nativePrototypes[tag];
    if (!p) {
      p = Object.create(this.getNativePrototype(tag));
      var p$ = Object.getOwnPropertyNames(Polymer.Base);
      for (var i = 0, n; i < p$.length && (n = p$[i]); i++)
        if (!Polymer.BaseDescriptors[n]) p[n] = Polymer.Base[n];
      Object.defineProperties(p, Polymer.BaseDescriptors);
      this._nativePrototypes[tag] = p
    }
    return p
  },
  getNativePrototype: function(tag) {
    return Object.getPrototypeOf(document.createElement(tag))
  }
});
Polymer.Base._addFeature({
  _prepConstructor: function() {
    this._factoryArgs = this["extends"] ? [this["extends"], this.is] : [this.is];
    var ctor = function() {
      return this._factory(arguments)
    };
    if (this.hasOwnProperty("extends")) ctor["extends"] = this["extends"];
    Object.defineProperty(this, "constructor", {
      value: ctor,
      writable: true,
      configurable: true
    });
    ctor.prototype = this
  },
  _factory: function(args) {
    var elt = document.createElement.apply(document, this._factoryArgs);
    if (this.factoryImpl) this.factoryImpl.apply(elt, args);
    return elt
  }
});
Polymer.nob = Object.create(null);
Polymer.Base._addFeature({
  getPropertyInfo: function(property) {
    var info = this._getPropertyInfo(property, this.properties);
    if (!info)
      for (var i = 0; i < this.behaviors.length; i++) {
        info = this._getPropertyInfo(property, this.behaviors[i].properties);
        if (info) return info
      }
    return info || Polymer.nob
  },
  _getPropertyInfo: function(property, properties) {
    var p = properties && properties[property];
    if (typeof p === "function") p = properties[property] = {
      type: p
    };
    if (p) p.defined = true;
    return p
  },
  _prepPropertyInfo: function() {
    this._propertyInfo = {};
    for (var i = 0; i < this.behaviors.length; i++) this._addPropertyInfo(this._propertyInfo, this.behaviors[i].properties);
    this._addPropertyInfo(this._propertyInfo, this.properties);
    this._addPropertyInfo(this._propertyInfo, this._propertyEffects)
  },
  _addPropertyInfo: function(target, source) {
    if (source) {
      var t, s;
      for (var i in source) {
        t = target[i];
        s = source[i];
        if (i[0] === "_" && !s.readOnly) continue;
        if (!target[i]) target[i] = {
          type: typeof s === "function" ? s : s.type,
          readOnly: s.readOnly,
          attribute: Polymer.CaseMap.camelToDashCase(i)
        };
        else {
          if (!t.type) t.type = s.type;
          if (!t.readOnly) t.readOnly = s.readOnly
        }
      }
    }
  }
});
(function() {
  var propertiesDesc = {
    configurable: true,
    writable: true,
    enumerable: true,
    value: {}
  };
  Polymer.BaseDescriptors.properties = propertiesDesc;
  Object.defineProperty(Polymer.Base, "properties", propertiesDesc)
})();
Polymer.CaseMap = {
  _caseMap: {},
  _rx: {
    dashToCamel: /-[a-z]/g,
    camelToDash: /([A-Z])/g
  },
  dashToCamelCase: function(dash) {
    return this._caseMap[dash] || (this._caseMap[dash] = dash.indexOf("-") < 0 ? dash : dash.replace(this._rx.dashToCamel, function(m) {
      return m[1].toUpperCase()
    }))
  },
  camelToDashCase: function(camel) {
    return this._caseMap[camel] || (this._caseMap[camel] = camel.replace(this._rx.camelToDash, "-$1").toLowerCase())
  }
};
Polymer.Base._addFeature({
  _addHostAttributes: function(attributes) {
    if (!this._aggregatedAttributes) this._aggregatedAttributes = {};
    if (attributes) this.mixin(this._aggregatedAttributes, attributes)
  },
  _marshalHostAttributes: function() {
    if (this._aggregatedAttributes) this._applyAttributes(this, this._aggregatedAttributes)
  },
  _applyAttributes: function(node, attr$) {
    for (var n in attr$)
      if (!this.hasAttribute(n) && n !== "class") {
        var v = attr$[n];
        this.serializeValueToAttribute(v, n, this)
      }
  },
  _marshalAttributes: function() {
    this._takeAttributesToModel(this)
  },
  _takeAttributesToModel: function(model) {
    if (this.hasAttributes())
      for (var i in this._propertyInfo) {
        var info = this._propertyInfo[i];
        if (this.hasAttribute(info.attribute)) this._setAttributeToProperty(model, info.attribute, i, info)
      }
  },
  _setAttributeToProperty: function(model, attribute, property, info) {
    if (!this._serializing) {
      property = property || Polymer.CaseMap.dashToCamelCase(attribute);
      info = info || this._propertyInfo && this._propertyInfo[property];
      if (info && !info.readOnly) {
        var v = this.getAttribute(attribute);
        model[property] =
          this.deserialize(v, info.type)
      }
    }
  },
  _serializing: false,
  reflectPropertyToAttribute: function(property, attribute, value) {
    this._serializing = true;
    value = value === undefined ? this[property] : value;
    this.serializeValueToAttribute(value, attribute || Polymer.CaseMap.camelToDashCase(property));
    this._serializing = false
  },
  serializeValueToAttribute: function(value, attribute, node) {
    var str = this.serialize(value);
    node = node || this;
    if (str === undefined) node.removeAttribute(attribute);
    else node.setAttribute(attribute, str)
  },
  deserialize: function(value,
    type) {
    switch (type) {
      case Number:
        value = Number(value);
        break;
      case Boolean:
        value = value != null;
        break;
      case Object:
        try {
          value = JSON.parse(value)
        } catch (x) {}
        break;
      case Array:
        try {
          value = JSON.parse(value)
        } catch (x$0) {
          value = null;
          console.warn("Polymer::Attributes: couldn`t decode Array as JSON")
        }
        break;
      case Date:
        value = new Date(value);
        break;
      case String:
      default:
        break
    }
    return value
  },
  serialize: function(value) {
    switch (typeof value) {
      case "boolean":
        return value ? "" : undefined;
      case "object":
        if (value instanceof Date) return value.toString();
        else if (value) try {
          return JSON.stringify(value)
        } catch (x) {
          return ""
        }
        default: return value != null ? value : undefined
    }
  }
});
Polymer.version = "1.11.3";
Polymer.Base._addFeature({
  _registerFeatures: function() {
    this._prepIs();
    this._prepBehaviors();
    this._prepConstructor();
    this._prepPropertyInfo()
  },
  _prepBehavior: function(b) {
    this._addHostAttributes(b.hostAttributes)
  },
  _marshalBehavior: function(b) {},
  _initFeatures: function() {
    this._marshalHostAttributes();
    this._marshalBehaviors()
  }
});
(function() {
  function resolveCss(cssText, ownerDocument) {
    return cssText.replace(CSS_URL_RX, function(m, pre, url, post) {
      return pre + "'" + resolve(url.replace(/["']/g, ""), ownerDocument) + "'" + post
    })
  }

  function resolveAttrs(element, ownerDocument) {
    for (var name in URL_ATTRS) {
      var a$ = URL_ATTRS[name];
      for (var i = 0, l = a$.length, a, at, v; i < l && (a = a$[i]); i++)
        if (name === "*" || element.localName === name) {
          at = element.attributes[a];
          v = at && at.value;
          if (v && v.search(BINDING_RX) < 0) at.value = a === "style" ? resolveCss(v, ownerDocument) : resolve(v,
            ownerDocument)
        }
    }
  }

  function resolve(url, ownerDocument) {
    if (url && ABS_URL.test(url)) return url;
    var resolver = getUrlResolver(ownerDocument);
    resolver.href = url;
    return resolver.href || url
  }
  var tempDoc;
  var tempDocBase;

  function resolveUrl(url, baseUri) {
    if (!tempDoc) {
      tempDoc = document.implementation.createHTMLDocument("temp");
      tempDocBase = tempDoc.createElement("base");
      tempDoc.head.appendChild(tempDocBase)
    }
    tempDocBase.href = baseUri;
    return resolve(url, tempDoc)
  }

  function getUrlResolver(ownerDocument) {
    return ownerDocument.body.__urlResolver ||
      (ownerDocument.body.__urlResolver = ownerDocument.createElement("a"))
  }

  function pathFromUrl(url) {
    return url.substring(0, url.lastIndexOf("/") + 1)
  }
  var CSS_URL_RX = /(url\()([^)]*)(\))/g;
  var URL_ATTRS = {
    "*": ["href", "src", "style", "url"],
    form: ["action"]
  };
  var ABS_URL = /(^\/)|(^#)|(^[\w-\d]*:)/;
  var BINDING_RX = /\{\{|\[\[/;
  Polymer.ResolveUrl = {
    resolveCss: resolveCss,
    resolveAttrs: resolveAttrs,
    resolveUrl: resolveUrl,
    pathFromUrl: pathFromUrl
  };
  Polymer.rootPath = Polymer.Settings.rootPath || pathFromUrl(document.baseURI || window.location.href)
})();
Polymer.Base._addFeature({
  _prepTemplate: function() {
    var module;
    if (this._template === undefined) {
      module = Polymer.DomModule["import"](this.is);
      this._template = module && module.querySelector("template")
    }
    if (module) {
      var assetPath = module.getAttribute("assetpath") || "";
      var importURL = Polymer.ResolveUrl.resolveUrl(assetPath, module.ownerDocument.baseURI);
      this._importPath = Polymer.ResolveUrl.pathFromUrl(importURL)
    } else this._importPath = "";
    if (this._template && this._template.hasAttribute("is")) this._warn(this._logf("_prepTemplate",
      "top-level Polymer template " + "must not be a type-extension, found", this._template, "Move inside simple <template>."));
    if (this._template && !this._template.content && window.HTMLTemplateElement && HTMLTemplateElement.decorate) HTMLTemplateElement.decorate(this._template)
  },
  _stampTemplate: function() {
    if (this._template) this.root = this.instanceTemplate(this._template)
  },
  instanceTemplate: function(template) {
    var dom = document.importNode(template._content || template.content, true);
    return dom
  }
});
(function() {
  var baseAttachedCallback = Polymer.Base.attachedCallback;
  var baseDetachedCallback = Polymer.Base.detachedCallback;
  Polymer.Base._addFeature({
    _hostStack: [],
    ready: function() {},
    _registerHost: function(host) {
      this.dataHost = host = host || Polymer.Base._hostStack[Polymer.Base._hostStack.length - 1];
      if (host && host._clients) host._clients.push(this);
      this._clients = null;
      this._clientsReadied = false
    },
    _beginHosting: function() {
      Polymer.Base._hostStack.push(this);
      if (!this._clients) this._clients = []
    },
    _endHosting: function() {
      Polymer.Base._hostStack.pop()
    },
    _tryReady: function() {
      this._readied = false;
      if (this._canReady()) this._ready()
    },
    _canReady: function() {
      return !this.dataHost || this.dataHost._clientsReadied
    },
    _ready: function() {
      this._beforeClientsReady();
      if (this._template) {
        this._setupRoot();
        this._readyClients()
      }
      this._clientsReadied = true;
      this._clients = null;
      this._afterClientsReady();
      this._readySelf()
    },
    _readyClients: function() {
      this._beginDistribute();
      var c$ = this._clients;
      if (c$)
        for (var i = 0, l = c$.length, c; i < l && (c = c$[i]); i++) c._ready();
      this._finishDistribute()
    },
    _readySelf: function() {
      for (var i = 0, b; i < this.behaviors.length; i++) {
        b = this.behaviors[i];
        if (b.ready) b.ready.call(this)
      }
      if (this.ready) this.ready();
      this._readied = true;
      if (this._attachedPending) {
        this._attachedPending = false;
        this.attachedCallback()
      }
    },
    _beforeClientsReady: function() {},
    _afterClientsReady: function() {},
    _beforeAttached: function() {},
    attachedCallback: function() {
      if (this._readied) {
        this._beforeAttached();
        baseAttachedCallback.call(this)
      } else this._attachedPending = true
    },
    detachedCallback: function() {
      if (this._readied) baseDetachedCallback.call(this);
      else this._attachedPending = false
    }
  })
})();
Polymer.ArraySplice = function() {
  function newSplice(index, removed, addedCount) {
    return {
      index: index,
      removed: removed,
      addedCount: addedCount
    }
  }
  var EDIT_LEAVE = 0;
  var EDIT_UPDATE = 1;
  var EDIT_ADD = 2;
  var EDIT_DELETE = 3;

  function ArraySplice() {}
  ArraySplice.prototype = {
    calcEditDistances: function(current, currentStart, currentEnd, old, oldStart, oldEnd) {
      var rowCount = oldEnd - oldStart + 1;
      var columnCount = currentEnd - currentStart + 1;
      var distances = new Array(rowCount);
      for (var i = 0; i < rowCount; i++) {
        distances[i] = new Array(columnCount);
        distances[i][0] =
          i
      }
      for (var j = 0; j < columnCount; j++) distances[0][j] = j;
      for (i = 1; i < rowCount; i++)
        for (j = 1; j < columnCount; j++)
          if (this.equals(current[currentStart + j - 1], old[oldStart + i - 1])) distances[i][j] = distances[i - 1][j - 1];
          else {
            var north = distances[i - 1][j] + 1;
            var west = distances[i][j - 1] + 1;
            distances[i][j] = north < west ? north : west
          } return distances
    },
    spliceOperationsFromEditDistances: function(distances) {
      var i = distances.length - 1;
      var j = distances[0].length - 1;
      var current = distances[i][j];
      var edits = [];
      while (i > 0 || j > 0) {
        if (i == 0) {
          edits.push(EDIT_ADD);
          j--;
          continue
        }
        if (j == 0) {
          edits.push(EDIT_DELETE);
          i--;
          continue
        }
        var northWest = distances[i - 1][j - 1];
        var west = distances[i - 1][j];
        var north = distances[i][j - 1];
        var min;
        if (west < north) min = west < northWest ? west : northWest;
        else min = north < northWest ? north : northWest;
        if (min == northWest) {
          if (northWest == current) edits.push(EDIT_LEAVE);
          else {
            edits.push(EDIT_UPDATE);
            current = northWest
          }
          i--;
          j--
        } else if (min == west) {
          edits.push(EDIT_DELETE);
          i--;
          current = west
        } else {
          edits.push(EDIT_ADD);
          j--;
          current = north
        }
      }
      edits.reverse();
      return edits
    },
    calcSplices: function(current,
      currentStart, currentEnd, old, oldStart, oldEnd) {
      var prefixCount = 0;
      var suffixCount = 0;
      var minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);
      if (currentStart == 0 && oldStart == 0) prefixCount = this.sharedPrefix(current, old, minLength);
      if (currentEnd == current.length && oldEnd == old.length) suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);
      currentStart += prefixCount;
      oldStart += prefixCount;
      currentEnd -= suffixCount;
      oldEnd -= suffixCount;
      if (currentEnd - currentStart == 0 && oldEnd - oldStart == 0) return [];
      if (currentStart ==
        currentEnd) {
        var splice = newSplice(currentStart, [], 0);
        while (oldStart < oldEnd) splice.removed.push(old[oldStart++]);
        return [splice]
      } else if (oldStart == oldEnd) return [newSplice(currentStart, [], currentEnd - currentStart)];
      var ops = this.spliceOperationsFromEditDistances(this.calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd));
      splice = undefined;
      var splices = [];
      var index = currentStart;
      var oldIndex = oldStart;
      for (var i = 0; i < ops.length; i++) switch (ops[i]) {
        case EDIT_LEAVE:
          if (splice) {
            splices.push(splice);
            splice = undefined
          }
          index++;
          oldIndex++;
          break;
        case EDIT_UPDATE:
          if (!splice) splice = newSplice(index, [], 0);
          splice.addedCount++;
          index++;
          splice.removed.push(old[oldIndex]);
          oldIndex++;
          break;
        case EDIT_ADD:
          if (!splice) splice = newSplice(index, [], 0);
          splice.addedCount++;
          index++;
          break;
        case EDIT_DELETE:
          if (!splice) splice = newSplice(index, [], 0);
          splice.removed.push(old[oldIndex]);
          oldIndex++;
          break
      }
      if (splice) splices.push(splice);
      return splices
    },
    sharedPrefix: function(current, old, searchLength) {
      for (var i = 0; i < searchLength; i++)
        if (!this.equals(current[i],
            old[i])) return i;
      return searchLength
    },
    sharedSuffix: function(current, old, searchLength) {
      var index1 = current.length;
      var index2 = old.length;
      var count = 0;
      while (count < searchLength && this.equals(current[--index1], old[--index2])) count++;
      return count
    },
    calculateSplices: function(current, previous) {
      return this.calcSplices(current, 0, current.length, previous, 0, previous.length)
    },
    equals: function(currentValue, previousValue) {
      return currentValue === previousValue
    }
  };
  return new ArraySplice
}();
Polymer.domInnerHTML = function() {
  var escapeAttrRegExp = /[&\u00A0"]/g;
  var escapeDataRegExp = /[&\u00A0<>]/g;

  function escapeReplace(c) {
    switch (c) {
      case "&":
        return "&amp;";
      case "<":
        return "&lt;";
      case ">":
        return "&gt;";
      case '"':
        return "&quot;";
      case "\u00a0":
        return "&nbsp;"
    }
  }

  function escapeAttr(s) {
    return s.replace(escapeAttrRegExp, escapeReplace)
  }

  function escapeData(s) {
    return s.replace(escapeDataRegExp, escapeReplace)
  }

  function makeSet(arr) {
    var set = {};
    for (var i = 0; i < arr.length; i++) set[arr[i]] = true;
    return set
  }
  var voidElements =
    makeSet(["area", "base", "br", "col", "command", "embed", "hr", "img", "input", "keygen", "link", "meta", "param", "source", "track", "wbr"]);
  var plaintextParents = makeSet(["style", "script", "xmp", "iframe", "noembed", "noframes", "plaintext", "noscript"]);

  function getOuterHTML(node, parentNode, composed) {
    switch (node.nodeType) {
      case Node.ELEMENT_NODE:
        var tagName = node.localName;
        var s = "<" + tagName;
        var attrs = node.attributes;
        for (var i = 0, attr; attr = attrs[i]; i++) s += " " + attr.name + '="' + escapeAttr(attr.value) + '"';
        s += ">";
        if (voidElements[tagName]) return s;
        return s + getInnerHTML(node, composed) + "</" + tagName + ">";
      case Node.TEXT_NODE:
        var data = node.data;
        if (parentNode && plaintextParents[parentNode.localName]) return data;
        return escapeData(data);
      case Node.COMMENT_NODE:
        return "\x3c!--" + node.data + "--\x3e";
      default:
        console.error(node);
        throw new Error("not implemented");
    }
  }

  function getInnerHTML(node, composed) {
    if (node instanceof HTMLTemplateElement) node = node.content;
    var s = "";
    var c$ = Polymer.dom(node).childNodes;
    for (var i = 0, l = c$.length, child; i < l && (child = c$[i]); i++) s +=
      getOuterHTML(child, node, composed);
    return s
  }
  return {
    getInnerHTML: getInnerHTML
  }
}();
(function() {
  var nativeInsertBefore = Element.prototype.insertBefore;
  var nativeAppendChild = Element.prototype.appendChild;
  var nativeRemoveChild = Element.prototype.removeChild;
  Polymer.TreeApi = {
    arrayCopyChildNodes: function(parent) {
      var copy = [],
        i = 0;
      for (var n = parent.firstChild; n; n = n.nextSibling) copy[i++] = n;
      return copy
    },
    arrayCopyChildren: function(parent) {
      var copy = [],
        i = 0;
      for (var n = parent.firstElementChild; n; n = n.nextElementSibling) copy[i++] = n;
      return copy
    },
    arrayCopy: function(a$) {
      var l = a$.length;
      var copy = new Array(l);
      for (var i = 0; i < l; i++) copy[i] = a$[i];
      return copy
    }
  };
  Polymer.TreeApi.Logical = {
    hasParentNode: function(node) {
      return Boolean(node.__dom && node.__dom.parentNode)
    },
    hasChildNodes: function(node) {
      return Boolean(node.__dom && node.__dom.childNodes !== undefined)
    },
    getChildNodes: function(node) {
      return this.hasChildNodes(node) ? this._getChildNodes(node) : node.childNodes
    },
    _getChildNodes: function(node) {
      if (!node.__dom.childNodes) {
        node.__dom.childNodes = [];
        for (var n = node.__dom.firstChild; n; n = n.__dom.nextSibling) node.__dom.childNodes.push(n)
      }
      return node.__dom.childNodes
    },
    getParentNode: function(node) {
      return node.__dom && node.__dom.parentNode !== undefined ? node.__dom.parentNode : node.parentNode
    },
    getFirstChild: function(node) {
      return node.__dom && node.__dom.firstChild !== undefined ? node.__dom.firstChild : node.firstChild
    },
    getLastChild: function(node) {
      return node.__dom && node.__dom.lastChild !== undefined ? node.__dom.lastChild : node.lastChild
    },
    getNextSibling: function(node) {
      return node.__dom && node.__dom.nextSibling !== undefined ? node.__dom.nextSibling : node.nextSibling
    },
    getPreviousSibling: function(node) {
      return node.__dom &&
        node.__dom.previousSibling !== undefined ? node.__dom.previousSibling : node.previousSibling
    },
    getFirstElementChild: function(node) {
      return node.__dom && node.__dom.firstChild !== undefined ? this._getFirstElementChild(node) : node.firstElementChild
    },
    _getFirstElementChild: function(node) {
      var n = node.__dom.firstChild;
      while (n && n.nodeType !== Node.ELEMENT_NODE) n = n.__dom.nextSibling;
      return n
    },
    getLastElementChild: function(node) {
      return node.__dom && node.__dom.lastChild !== undefined ? this._getLastElementChild(node) : node.lastElementChild
    },
    _getLastElementChild: function(node) {
      var n = node.__dom.lastChild;
      while (n && n.nodeType !== Node.ELEMENT_NODE) n = n.__dom.previousSibling;
      return n
    },
    getNextElementSibling: function(node) {
      return node.__dom && node.__dom.nextSibling !== undefined ? this._getNextElementSibling(node) : node.nextElementSibling
    },
    _getNextElementSibling: function(node) {
      var n = node.__dom.nextSibling;
      while (n && n.nodeType !== Node.ELEMENT_NODE) n = n.__dom.nextSibling;
      return n
    },
    getPreviousElementSibling: function(node) {
      return node.__dom && node.__dom.previousSibling !==
        undefined ? this._getPreviousElementSibling(node) : node.previousElementSibling
    },
    _getPreviousElementSibling: function(node) {
      var n = node.__dom.previousSibling;
      while (n && n.nodeType !== Node.ELEMENT_NODE) n = n.__dom.previousSibling;
      return n
    },
    saveChildNodes: function(node) {
      if (!this.hasChildNodes(node)) {
        node.__dom = node.__dom || {};
        node.__dom.firstChild = node.firstChild;
        node.__dom.lastChild = node.lastChild;
        node.__dom.childNodes = [];
        for (var n = node.firstChild; n; n = n.nextSibling) {
          n.__dom = n.__dom || {};
          n.__dom.parentNode = node;
          node.__dom.childNodes.push(n);
          n.__dom.nextSibling = n.nextSibling;
          n.__dom.previousSibling = n.previousSibling
        }
      }
    },
    recordInsertBefore: function(node, container, ref_node) {
      container.__dom.childNodes = null;
      if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE)
        for (var n = node.firstChild; n; n = n.nextSibling) this._linkNode(n, container, ref_node);
      else this._linkNode(node, container, ref_node)
    },
    _linkNode: function(node, container, ref_node) {
      node.__dom = node.__dom || {};
      container.__dom = container.__dom || {};
      if (ref_node) ref_node.__dom =
        ref_node.__dom || {};
      node.__dom.previousSibling = ref_node ? ref_node.__dom.previousSibling : container.__dom.lastChild;
      if (node.__dom.previousSibling) node.__dom.previousSibling.__dom.nextSibling = node;
      node.__dom.nextSibling = ref_node || null;
      if (node.__dom.nextSibling) node.__dom.nextSibling.__dom.previousSibling = node;
      node.__dom.parentNode = container;
      if (ref_node) {
        if (ref_node === container.__dom.firstChild) container.__dom.firstChild = node
      } else {
        container.__dom.lastChild = node;
        if (!container.__dom.firstChild) container.__dom.firstChild =
          node
      }
      container.__dom.childNodes = null
    },
    recordRemoveChild: function(node, container) {
      node.__dom = node.__dom || {};
      container.__dom = container.__dom || {};
      if (node === container.__dom.firstChild) container.__dom.firstChild = node.__dom.nextSibling;
      if (node === container.__dom.lastChild) container.__dom.lastChild = node.__dom.previousSibling;
      var p = node.__dom.previousSibling;
      var n = node.__dom.nextSibling;
      if (p) p.__dom.nextSibling = n;
      if (n) n.__dom.previousSibling = p;
      node.__dom.parentNode = node.__dom.previousSibling = node.__dom.nextSibling =
        undefined;
      container.__dom.childNodes = null
    }
  };
  Polymer.TreeApi.Composed = {
    getChildNodes: function(node) {
      return Polymer.TreeApi.arrayCopyChildNodes(node)
    },
    getParentNode: function(node) {
      return node.parentNode
    },
    clearChildNodes: function(node) {
      node.textContent = ""
    },
    insertBefore: function(parentNode, newChild, refChild) {
      return nativeInsertBefore.call(parentNode, newChild, refChild || null)
    },
    appendChild: function(parentNode, newChild) {
      return nativeAppendChild.call(parentNode, newChild)
    },
    removeChild: function(parentNode, node) {
      return nativeRemoveChild.call(parentNode,
        node)
    }
  }
})();
Polymer.DomApi = function() {
  var Settings = Polymer.Settings;
  var TreeApi = Polymer.TreeApi;
  var DomApi = function(node) {
    this.node = needsToWrap ? DomApi.wrap(node) : node
  };
  var needsToWrap = Settings.hasShadow && !Settings.nativeShadow;
  DomApi.wrap = window.wrap ? window.wrap : function(node) {
    return node
  };
  DomApi.prototype = {
    flush: function() {
      Polymer.dom.flush()
    },
    deepContains: function(node) {
      if (this.node.contains(node)) return true;
      var n = node;
      var doc = node.ownerDocument;
      while (n && n !== doc && n !== this.node) n = Polymer.dom(n).parentNode || n.host;
      return n === this.node
    },
    queryDistributedElements: function(selector) {
      var c$ = this.getEffectiveChildNodes();
      var list = [];
      for (var i = 0, l = c$.length, c; i < l && (c = c$[i]); i++)
        if (c.nodeType === Node.ELEMENT_NODE && DomApi.matchesSelector.call(c, selector)) list.push(c);
      return list
    },
    getEffectiveChildNodes: function() {
      var list = [];
      var c$ = this.childNodes;
      for (var i = 0, l = c$.length, c; i < l && (c = c$[i]); i++)
        if (c.localName === CONTENT) {
          var d$ = dom(c).getDistributedNodes();
          for (var j = 0; j < d$.length; j++) list.push(d$[j])
        } else list.push(c);
      return list
    },
    observeNodes: function(callback) {
      if (callback) {
        if (!this.observer) this.observer = this.node.localName === CONTENT ? new DomApi.DistributedNodesObserver(this) : new DomApi.EffectiveNodesObserver(this);
        return this.observer.addListener(callback)
      }
    },
    unobserveNodes: function(handle) {
      if (this.observer) this.observer.removeListener(handle)
    },
    notifyObserver: function() {
      if (this.observer) this.observer.notify()
    },
    _query: function(matcher, node, halter) {
      node = node || this.node;
      var list = [];
      this._queryElements(TreeApi.Logical.getChildNodes(node),
        matcher, halter, list);
      return list
    },
    _queryElements: function(elements, matcher, halter, list) {
      for (var i = 0, l = elements.length, c; i < l && (c = elements[i]); i++)
        if (c.nodeType === Node.ELEMENT_NODE)
          if (this._queryElement(c, matcher, halter, list)) return true
    },
    _queryElement: function(node, matcher, halter, list) {
      var result = matcher(node);
      if (result) list.push(node);
      if (halter && halter(result)) return result;
      this._queryElements(TreeApi.Logical.getChildNodes(node), matcher, halter, list)
    }
  };
  var CONTENT = DomApi.CONTENT = "content";
  var dom =
    DomApi.factory = function(node) {
      node = node || document;
      if (!node.__domApi) node.__domApi = new DomApi.ctor(node);
      return node.__domApi
    };
  DomApi.hasApi = function(node) {
    return Boolean(node.__domApi)
  };
  DomApi.ctor = DomApi;
  Polymer.dom = function(obj, patch) {
    if (obj instanceof Event) return Polymer.EventApi.factory(obj);
    else return DomApi.factory(obj, patch)
  };
  var p = Element.prototype;
  DomApi.matchesSelector = p.matches || p.matchesSelector || p.mozMatchesSelector || p.msMatchesSelector || p.oMatchesSelector || p.webkitMatchesSelector;
  return DomApi
}();
(function() {
  var Settings = Polymer.Settings;
  var DomApi = Polymer.DomApi;
  var dom = DomApi.factory;
  var TreeApi = Polymer.TreeApi;
  var getInnerHTML = Polymer.domInnerHTML.getInnerHTML;
  var CONTENT = DomApi.CONTENT;
  if (Settings.useShadow) return;
  var nativeCloneNode = Element.prototype.cloneNode;
  var nativeImportNode = Document.prototype.importNode;
  Polymer.Base.mixin(DomApi.prototype, {
    _lazyDistribute: function(host) {
      if (host.shadyRoot && host.shadyRoot._distributionClean) {
        host.shadyRoot._distributionClean = false;
        Polymer.dom.addDebouncer(host.debounce("_distribute",
          host._distributeContent))
      }
    },
    appendChild: function(node) {
      return this.insertBefore(node)
    },
    insertBefore: function(node, ref_node) {
      if (ref_node && TreeApi.Logical.getParentNode(ref_node) !== this.node) throw Error("The ref_node to be inserted before is not a child " + "of this node");
      if (node.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {
        var parent = TreeApi.Logical.getParentNode(node);
        if (parent) {
          if (DomApi.hasApi(parent)) dom(parent).notifyObserver();
          this._removeNode(node)
        } else this._removeOwnerShadyRoot(node)
      }
      if (!this._addNode(node,
          ref_node)) {
        if (ref_node) ref_node = ref_node.localName === CONTENT ? this._firstComposedNode(ref_node) : ref_node;
        var container = this.node._isShadyRoot ? this.node.host : this.node;
        if (ref_node) TreeApi.Composed.insertBefore(container, node, ref_node);
        else TreeApi.Composed.appendChild(container, node)
      }
      this.notifyObserver();
      return node
    },
    _addNode: function(node, ref_node) {
      var root = this.getOwnerRoot();
      if (root) {
        var ipAdded = this._maybeAddInsertionPoint(node, this.node);
        if (!root._invalidInsertionPoints) root._invalidInsertionPoints =
          ipAdded;
        this._addNodeToHost(root.host, node)
      }
      if (TreeApi.Logical.hasChildNodes(this.node)) TreeApi.Logical.recordInsertBefore(node, this.node, ref_node);
      var handled = this._maybeDistribute(node) || this.node.shadyRoot;
      if (handled)
        if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE)
          while (node.firstChild) TreeApi.Composed.removeChild(node, node.firstChild);
        else {
          var parent = TreeApi.Composed.getParentNode(node);
          if (parent) TreeApi.Composed.removeChild(parent, node)
        } return handled
    },
    removeChild: function(node) {
      if (TreeApi.Logical.getParentNode(node) !==
        this.node) throw Error("The node to be removed is not a child of this node: " + node);
      if (!this._removeNode(node)) {
        var container = this.node._isShadyRoot ? this.node.host : this.node;
        var parent = TreeApi.Composed.getParentNode(node);
        if (container === parent) TreeApi.Composed.removeChild(container, node)
      }
      this.notifyObserver();
      return node
    },
    _removeNode: function(node) {
      var logicalParent = TreeApi.Logical.hasParentNode(node) && TreeApi.Logical.getParentNode(node);
      var distributed;
      var root = this._ownerShadyRootForNode(node);
      if (logicalParent) {
        distributed =
          dom(node)._maybeDistributeParent();
        TreeApi.Logical.recordRemoveChild(node, logicalParent);
        if (root && this._removeDistributedChildren(root, node)) {
          root._invalidInsertionPoints = true;
          this._lazyDistribute(root.host)
        }
      }
      this._removeOwnerShadyRoot(node);
      if (root) this._removeNodeFromHost(root.host, node);
      return distributed
    },
    replaceChild: function(node, ref_node) {
      this.insertBefore(node, ref_node);
      this.removeChild(ref_node);
      return node
    },
    _hasCachedOwnerRoot: function(node) {
      return Boolean(node._ownerShadyRoot !== undefined)
    },
    getOwnerRoot: function() {
      return this._ownerShadyRootForNode(this.node)
    },
    _ownerShadyRootForNode: function(node) {
      if (!node) return;
      var root = node._ownerShadyRoot;
      if (root === undefined) {
        if (node._isShadyRoot) root = node;
        else {
          var parent = TreeApi.Logical.getParentNode(node);
          if (parent) root = parent._isShadyRoot ? parent : this._ownerShadyRootForNode(parent);
          else root = null
        }
        if (root || document.documentElement.contains(node)) node._ownerShadyRoot = root
      }
      return root
    },
    _maybeDistribute: function(node) {
      var fragContent = node.nodeType ===
        Node.DOCUMENT_FRAGMENT_NODE && !node.__noContent && dom(node).querySelector(CONTENT);
      var wrappedContent = fragContent && TreeApi.Logical.getParentNode(fragContent).nodeType !== Node.DOCUMENT_FRAGMENT_NODE;
      var hasContent = fragContent || node.localName === CONTENT;
      if (hasContent) {
        var root = this.getOwnerRoot();
        if (root) this._lazyDistribute(root.host)
      }
      var needsDist = this._nodeNeedsDistribution(this.node);
      if (needsDist) this._lazyDistribute(this.node);
      return needsDist || hasContent && !wrappedContent
    },
    _maybeAddInsertionPoint: function(node,
      parent) {
      var added;
      if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE && !node.__noContent) {
        var c$ = dom(node).querySelectorAll(CONTENT);
        for (var i = 0, n, np, na; i < c$.length && (n = c$[i]); i++) {
          np = TreeApi.Logical.getParentNode(n);
          if (np === node) np = parent;
          na = this._maybeAddInsertionPoint(n, np);
          added = added || na
        }
      } else if (node.localName === CONTENT) {
        TreeApi.Logical.saveChildNodes(parent);
        TreeApi.Logical.saveChildNodes(node);
        added = true
      }
      return added
    },
    _updateInsertionPoints: function(host) {
      var i$ = host.shadyRoot._insertionPoints =
        dom(host.shadyRoot).querySelectorAll(CONTENT);
      for (var i = 0, c; i < i$.length; i++) {
        c = i$[i];
        TreeApi.Logical.saveChildNodes(c);
        TreeApi.Logical.saveChildNodes(TreeApi.Logical.getParentNode(c))
      }
    },
    _nodeNeedsDistribution: function(node) {
      return node && node.shadyRoot && DomApi.hasInsertionPoint(node.shadyRoot)
    },
    _addNodeToHost: function(host, node) {
      if (host._elementAdd) host._elementAdd(node)
    },
    _removeNodeFromHost: function(host, node) {
      if (host._elementRemove) host._elementRemove(node)
    },
    _removeDistributedChildren: function(root,
      container) {
      var hostNeedsDist;
      var ip$ = root._insertionPoints;
      for (var i = 0; i < ip$.length; i++) {
        var content = ip$[i];
        if (this._contains(container, content)) {
          var dc$ = dom(content).getDistributedNodes();
          for (var j = 0; j < dc$.length; j++) {
            hostNeedsDist = true;
            var node = dc$[j];
            var parent = TreeApi.Composed.getParentNode(node);
            if (parent) TreeApi.Composed.removeChild(parent, node)
          }
        }
      }
      return hostNeedsDist
    },
    _contains: function(container, node) {
      while (node) {
        if (node == container) return true;
        node = TreeApi.Logical.getParentNode(node)
      }
    },
    _removeOwnerShadyRoot: function(node) {
      if (this._hasCachedOwnerRoot(node)) {
        var c$ =
          TreeApi.Logical.getChildNodes(node);
        for (var i = 0, l = c$.length, n; i < l && (n = c$[i]); i++) this._removeOwnerShadyRoot(n)
      }
      node._ownerShadyRoot = undefined
    },
    _firstComposedNode: function(content) {
      var n$ = dom(content).getDistributedNodes();
      for (var i = 0, l = n$.length, n, p$; i < l && (n = n$[i]); i++) {
        p$ = dom(n).getDestinationInsertionPoints();
        if (p$[p$.length - 1] === content) return n
      }
    },
    querySelector: function(selector) {
      var result = this._query(function(n) {
        return DomApi.matchesSelector.call(n, selector)
      }, this.node, function(n) {
        return Boolean(n)
      })[0];
      return result || null
    },
    querySelectorAll: function(selector) {
      return this._query(function(n) {
        return DomApi.matchesSelector.call(n, selector)
      }, this.node)
    },
    getDestinationInsertionPoints: function() {
      return this.node._destinationInsertionPoints || []
    },
    getDistributedNodes: function() {
      return this.node._distributedNodes || []
    },
    _clear: function() {
      while (this.childNodes.length) this.removeChild(this.childNodes[0])
    },
    setAttribute: function(name, value) {
      this.node.setAttribute(name, value);
      this._maybeDistributeParent()
    },
    removeAttribute: function(name) {
      this.node.removeAttribute(name);
      this._maybeDistributeParent()
    },
    _maybeDistributeParent: function() {
      if (this._nodeNeedsDistribution(this.parentNode)) {
        this._lazyDistribute(this.parentNode);
        return true
      }
    },
    cloneNode: function(deep) {
      var n = nativeCloneNode.call(this.node, false);
      if (deep) {
        var c$ = this.childNodes;
        var d = dom(n);
        for (var i = 0, nc; i < c$.length; i++) {
          nc = dom(c$[i]).cloneNode(true);
          d.appendChild(nc)
        }
      }
      return n
    },
    importNode: function(externalNode, deep) {
      var doc = this.node instanceof Document ? this.node : this.node.ownerDocument;
      var n = nativeImportNode.call(doc,
        externalNode, false);
      if (deep) {
        var c$ = TreeApi.Logical.getChildNodes(externalNode);
        var d = dom(n);
        for (var i = 0, nc; i < c$.length; i++) {
          nc = dom(doc).importNode(c$[i], true);
          d.appendChild(nc)
        }
      }
      return n
    },
    _getComposedInnerHTML: function() {
      return getInnerHTML(this.node, true)
    }
  });
  Object.defineProperties(DomApi.prototype, {
    activeElement: {
      get: function() {
        var active = document.activeElement;
        if (!active) return null;
        var isShadyRoot = !!this.node._isShadyRoot;
        if (this.node !== document) {
          if (!isShadyRoot) return null;
          if (this.node.host ===
            active || !this.node.host.contains(active)) return null
        }
        var activeRoot = dom(active).getOwnerRoot();
        while (activeRoot && activeRoot !== this.node) {
          active = activeRoot.host;
          activeRoot = dom(active).getOwnerRoot()
        }
        if (this.node === document) return activeRoot ? null : active;
        else return activeRoot === this.node ? active : null
      },
      configurable: true
    },
    childNodes: {
      get: function() {
        var c$ = TreeApi.Logical.getChildNodes(this.node);
        return Array.isArray(c$) ? c$ : TreeApi.arrayCopyChildNodes(this.node)
      },
      configurable: true
    },
    children: {
      get: function() {
        if (TreeApi.Logical.hasChildNodes(this.node)) return Array.prototype.filter.call(this.childNodes,
          function(n) {
            return n.nodeType === Node.ELEMENT_NODE
          });
        else return TreeApi.arrayCopyChildren(this.node)
      },
      configurable: true
    },
    parentNode: {
      get: function() {
        return TreeApi.Logical.getParentNode(this.node)
      },
      configurable: true
    },
    firstChild: {
      get: function() {
        return TreeApi.Logical.getFirstChild(this.node)
      },
      configurable: true
    },
    lastChild: {
      get: function() {
        return TreeApi.Logical.getLastChild(this.node)
      },
      configurable: true
    },
    nextSibling: {
      get: function() {
        return TreeApi.Logical.getNextSibling(this.node)
      },
      configurable: true
    },
    previousSibling: {
      get: function() {
        return TreeApi.Logical.getPreviousSibling(this.node)
      },
      configurable: true
    },
    firstElementChild: {
      get: function() {
        return TreeApi.Logical.getFirstElementChild(this.node)
      },
      configurable: true
    },
    lastElementChild: {
      get: function() {
        return TreeApi.Logical.getLastElementChild(this.node)
      },
      configurable: true
    },
    nextElementSibling: {
      get: function() {
        return TreeApi.Logical.getNextElementSibling(this.node)
      },
      configurable: true
    },
    previousElementSibling: {
      get: function() {
        return TreeApi.Logical.getPreviousElementSibling(this.node)
      },
      configurable: true
    },
    textContent: {
      get: function() {
        var nt = this.node.nodeType;
        if (nt === Node.TEXT_NODE || nt === Node.COMMENT_NODE) return this.node.textContent;
        else {
          var tc = [];
          for (var i = 0, cn = this.childNodes, c; c = cn[i]; i++)
            if (c.nodeType !== Node.COMMENT_NODE) tc.push(c.textContent);
          return tc.join("")
        }
      },
      set: function(text) {
        var nt = this.node.nodeType;
        if (nt === Node.TEXT_NODE || nt === Node.COMMENT_NODE) this.node.textContent = text;
        else {
          this._clear();
          if (text) this.appendChild(document.createTextNode(text))
        }
      },
      configurable: true
    },
    innerHTML: {
      get: function() {
        var nt = this.node.nodeType;
        if (nt === Node.TEXT_NODE || nt === Node.COMMENT_NODE) return null;
        else return getInnerHTML(this.node)
      },
      set: function(text) {
        var nt = this.node.nodeType;
        if (nt !== Node.TEXT_NODE || nt !== Node.COMMENT_NODE) {
          this._clear();
          var d = document.createElement("div");
          d.innerHTML = text;
          var c$ = TreeApi.arrayCopyChildNodes(d);
          for (var i = 0; i < c$.length; i++) this.appendChild(c$[i])
        }
      },
      configurable: true
    }
  });
  DomApi.hasInsertionPoint = function(root) {
    return Boolean(root && root._insertionPoints.length)
  }
})();
(function() {
  var Settings = Polymer.Settings;
  var TreeApi = Polymer.TreeApi;
  var DomApi = Polymer.DomApi;
  if (!Settings.useShadow) return;
  Polymer.Base.mixin(DomApi.prototype, {
    querySelectorAll: function(selector) {
      return TreeApi.arrayCopy(this.node.querySelectorAll(selector))
    },
    getOwnerRoot: function() {
      var n = this.node;
      while (n) {
        if (n.nodeType === Node.DOCUMENT_FRAGMENT_NODE && n.host) return n;
        n = n.parentNode
      }
    },
    importNode: function(externalNode, deep) {
      var doc = this.node instanceof Document ? this.node : this.node.ownerDocument;
      return doc.importNode(externalNode, deep)
    },
    getDestinationInsertionPoints: function() {
      var n$ = this.node.getDestinationInsertionPoints && this.node.getDestinationInsertionPoints();
      return n$ ? TreeApi.arrayCopy(n$) : []
    },
    getDistributedNodes: function() {
      var n$ = this.node.getDistributedNodes && this.node.getDistributedNodes();
      return n$ ? TreeApi.arrayCopy(n$) : []
    }
  });
  Object.defineProperties(DomApi.prototype, {
    activeElement: {
      get: function() {
        var node = DomApi.wrap(this.node);
        var activeElement = node.activeElement;
        return node.contains(activeElement) ?
          activeElement : null
      },
      configurable: true
    },
    childNodes: {
      get: function() {
        return TreeApi.arrayCopyChildNodes(this.node)
      },
      configurable: true
    },
    children: {
      get: function() {
        return TreeApi.arrayCopyChildren(this.node)
      },
      configurable: true
    },
    textContent: {
      get: function() {
        return this.node.textContent
      },
      set: function(value) {
        return this.node.textContent = value
      },
      configurable: true
    },
    innerHTML: {
      get: function() {
        return this.node.innerHTML
      },
      set: function(value) {
        return this.node.innerHTML = value
      },
      configurable: true
    }
  });
  var forwardMethods =
    function(m$) {
      for (var i = 0; i < m$.length; i++) forwardMethod(m$[i])
    };
  var forwardMethod = function(method) {
    DomApi.prototype[method] = function() {
      return this.node[method].apply(this.node, arguments)
    }
  };
  forwardMethods(["cloneNode", "appendChild", "insertBefore", "removeChild", "replaceChild", "setAttribute", "removeAttribute", "querySelector"]);
  var forwardProperties = function(f$) {
    for (var i = 0; i < f$.length; i++) forwardProperty(f$[i])
  };
  var forwardProperty = function(name) {
    Object.defineProperty(DomApi.prototype, name, {
      get: function() {
        return this.node[name]
      },
      configurable: true
    })
  };
  forwardProperties(["parentNode", "firstChild", "lastChild", "nextSibling", "previousSibling", "firstElementChild", "lastElementChild", "nextElementSibling", "previousElementSibling"])
})();
Polymer.Base.mixin(Polymer.dom, {
  _flushGuard: 0,
  _FLUSH_MAX: 100,
  _needsTakeRecords: !Polymer.Settings.useNativeCustomElements,
  _debouncers: [],
  _staticFlushList: [],
  _finishDebouncer: null,
  flush: function() {
    this._flushGuard = 0;
    this._prepareFlush();
    while (this._debouncers.length && this._flushGuard < this._FLUSH_MAX) {
      while (this._debouncers.length) this._debouncers.shift().complete();
      if (this._finishDebouncer) this._finishDebouncer.complete();
      this._prepareFlush();
      this._flushGuard++
    }
    if (this._flushGuard >= this._FLUSH_MAX) console.warn("Polymer.dom.flush aborted. Flush may not be complete.")
  },
  _prepareFlush: function() {
    if (this._needsTakeRecords) CustomElements.takeRecords();
    for (var i = 0; i < this._staticFlushList.length; i++) this._staticFlushList[i]()
  },
  addStaticFlush: function(fn) {
    this._staticFlushList.push(fn)
  },
  removeStaticFlush: function(fn) {
    var i = this._staticFlushList.indexOf(fn);
    if (i >= 0) this._staticFlushList.splice(i, 1)
  },
  addDebouncer: function(debouncer) {
    this._debouncers.push(debouncer);
    this._finishDebouncer = Polymer.Debounce(this._finishDebouncer, this._finishFlush)
  },
  _finishFlush: function() {
    Polymer.dom._debouncers = []
  }
});
Polymer.EventApi = function() {
  var DomApi = Polymer.DomApi.ctor;
  var Settings = Polymer.Settings;
  DomApi.Event = function(event) {
    this.event = event
  };
  if (Settings.useShadow) DomApi.Event.prototype = {
    get rootTarget() {
      return this.event.path[0]
    },
    get localTarget() {
      return this.event.target
    },
    get path() {
      var path = this.event.path;
      if (!Array.isArray(path)) path = Array.prototype.slice.call(path);
      return path
    }
  };
  else DomApi.Event.prototype = {
    get rootTarget() {
      return this.event.target
    },
    get localTarget() {
      var current = this.event.currentTarget;
      var currentRoot =
        current && Polymer.dom(current).getOwnerRoot();
      var p$ = this.path;
      for (var i = 0; i < p$.length; i++)
        if (Polymer.dom(p$[i]).getOwnerRoot() === currentRoot) return p$[i]
    },
    get path() {
      if (!this.event._path) {
        var path = [];
        var current = this.rootTarget;
        while (current) {
          path.push(current);
          var insertionPoints = Polymer.dom(current).getDestinationInsertionPoints();
          if (insertionPoints.length) {
            for (var i = 0; i < insertionPoints.length - 1; i++) path.push(insertionPoints[i]);
            current = insertionPoints[insertionPoints.length - 1]
          } else current = Polymer.dom(current).parentNode ||
            current.host
        }
        path.push(window);
        this.event._path = path
      }
      return this.event._path
    }
  };
  var factory = function(event) {
    if (!event.__eventApi) event.__eventApi = new DomApi.Event(event);
    return event.__eventApi
  };
  return {
    factory: factory
  }
}();
(function() {
  var DomApi = Polymer.DomApi.ctor;
  var useShadow = Polymer.Settings.useShadow;
  Object.defineProperty(DomApi.prototype, "classList", {
    get: function() {
      if (!this._classList) this._classList = new DomApi.ClassList(this);
      return this._classList
    },
    configurable: true
  });
  DomApi.ClassList = function(host) {
    this.domApi = host;
    this.node = host.node
  };
  DomApi.ClassList.prototype = {
    add: function() {
      this.node.classList.add.apply(this.node.classList, arguments);
      this._distributeParent()
    },
    remove: function() {
      this.node.classList.remove.apply(this.node.classList,
        arguments);
      this._distributeParent()
    },
    toggle: function() {
      this.node.classList.toggle.apply(this.node.classList, arguments);
      this._distributeParent()
    },
    _distributeParent: function() {
      if (!useShadow) this.domApi._maybeDistributeParent()
    },
    contains: function() {
      return this.node.classList.contains.apply(this.node.classList, arguments)
    }
  }
})();
(function() {
  var DomApi = Polymer.DomApi.ctor;
  var Settings = Polymer.Settings;
  DomApi.EffectiveNodesObserver = function(domApi) {
    this.domApi = domApi;
    this.node = this.domApi.node;
    this._listeners = []
  };
  DomApi.EffectiveNodesObserver.prototype = {
    addListener: function(callback) {
      if (!this._isSetup) {
        this._setup();
        this._isSetup = true
      }
      var listener = {
        fn: callback,
        _nodes: []
      };
      this._listeners.push(listener);
      this._scheduleNotify();
      return listener
    },
    removeListener: function(handle) {
      var i = this._listeners.indexOf(handle);
      if (i >= 0) {
        this._listeners.splice(i,
          1);
        handle._nodes = []
      }
      if (!this._hasListeners()) {
        this._cleanup();
        this._isSetup = false
      }
    },
    _setup: function() {
      this._observeContentElements(this.domApi.childNodes)
    },
    _cleanup: function() {
      this._unobserveContentElements(this.domApi.childNodes)
    },
    _hasListeners: function() {
      return Boolean(this._listeners.length)
    },
    _scheduleNotify: function() {
      if (this._debouncer) this._debouncer.stop();
      this._debouncer = Polymer.Debounce(this._debouncer, this._notify);
      this._debouncer.context = this;
      Polymer.dom.addDebouncer(this._debouncer)
    },
    notify: function() {
      if (this._hasListeners()) this._scheduleNotify()
    },
    _notify: function() {
      this._beforeCallListeners();
      this._callListeners()
    },
    _beforeCallListeners: function() {
      this._updateContentElements()
    },
    _updateContentElements: function() {
      this._observeContentElements(this.domApi.childNodes)
    },
    _observeContentElements: function(elements) {
      for (var i = 0, n; i < elements.length && (n = elements[i]); i++)
        if (this._isContent(n)) {
          n.__observeNodesMap = n.__observeNodesMap || new WeakMap;
          if (!n.__observeNodesMap.has(this)) n.__observeNodesMap.set(this,
            this._observeContent(n))
        }
    },
    _observeContent: function(content) {
      var self = this;
      var h = Polymer.dom(content).observeNodes(function() {
        self._scheduleNotify()
      });
      h._avoidChangeCalculation = true;
      return h
    },
    _unobserveContentElements: function(elements) {
      for (var i = 0, n, h; i < elements.length && (n = elements[i]); i++)
        if (this._isContent(n)) {
          h = n.__observeNodesMap && n.__observeNodesMap.get(this);
          if (h) {
            Polymer.dom(n).unobserveNodes(h);
            n.__observeNodesMap["delete"](this)
          }
        }
    },
    _isContent: function(node) {
      return node.localName === "content"
    },
    _callListeners: function() {
      var o$ = this._listeners;
      var nodes = this._getEffectiveNodes();
      for (var i = 0, o; i < o$.length && (o = o$[i]); i++) {
        var info = this._generateListenerInfo(o, nodes);
        if (info || o._alwaysNotify) this._callListener(o, info)
      }
    },
    _getEffectiveNodes: function() {
      return this.domApi.getEffectiveChildNodes()
    },
    _generateListenerInfo: function(listener, newNodes) {
      if (listener._avoidChangeCalculation) return true;
      var oldNodes = listener._nodes;
      var info = {
        target: this.node,
        addedNodes: [],
        removedNodes: []
      };
      var splices = Polymer.ArraySplice.calculateSplices(newNodes,
        oldNodes);
      for (var i = 0, s; i < splices.length && (s = splices[i]); i++)
        for (var j = 0, n; j < s.removed.length && (n = s.removed[j]); j++) info.removedNodes.push(n);
      for (i = 0, s; i < splices.length && (s = splices[i]); i++)
        for (j = s.index; j < s.index + s.addedCount; j++) info.addedNodes.push(newNodes[j]);
      listener._nodes = newNodes;
      if (info.addedNodes.length || info.removedNodes.length) return info
    },
    _callListener: function(listener, info) {
      return listener.fn.call(this.node, info)
    },
    enableShadowAttributeTracking: function() {}
  };
  if (Settings.useShadow) {
    var baseSetup =
      DomApi.EffectiveNodesObserver.prototype._setup;
    var baseCleanup = DomApi.EffectiveNodesObserver.prototype._cleanup;
    Polymer.Base.mixin(DomApi.EffectiveNodesObserver.prototype, {
      _setup: function() {
        if (!this._observer) {
          var self = this;
          this._mutationHandler = function(mxns) {
            if (mxns && mxns.length) self._scheduleNotify()
          };
          this._observer = new MutationObserver(this._mutationHandler);
          this._boundFlush = function() {
            self._flush()
          };
          Polymer.dom.addStaticFlush(this._boundFlush);
          this._observer.observe(this.node, {
            childList: true
          })
        }
        baseSetup.call(this)
      },
      _cleanup: function() {
        this._observer.disconnect();
        this._observer = null;
        this._mutationHandler = null;
        Polymer.dom.removeStaticFlush(this._boundFlush);
        baseCleanup.call(this)
      },
      _flush: function() {
        if (this._observer) this._mutationHandler(this._observer.takeRecords())
      },
      enableShadowAttributeTracking: function() {
        if (this._observer) {
          this._makeContentListenersAlwaysNotify();
          this._observer.disconnect();
          this._observer.observe(this.node, {
            childList: true,
            attributes: true,
            subtree: true
          });
          var root = this.domApi.getOwnerRoot();
          var host = root && root.host;
          if (host && Polymer.dom(host).observer) Polymer.dom(host).observer.enableShadowAttributeTracking()
        }
      },
      _makeContentListenersAlwaysNotify: function() {
        for (var i = 0, h; i < this._listeners.length; i++) {
          h = this._listeners[i];
          h._alwaysNotify = h._isContentListener
        }
      }
    })
  }
})();
(function() {
  var DomApi = Polymer.DomApi.ctor;
  var Settings = Polymer.Settings;
  DomApi.DistributedNodesObserver = function(domApi) {
    DomApi.EffectiveNodesObserver.call(this, domApi)
  };
  DomApi.DistributedNodesObserver.prototype = Object.create(DomApi.EffectiveNodesObserver.prototype);
  Polymer.Base.mixin(DomApi.DistributedNodesObserver.prototype, {
    _setup: function() {},
    _cleanup: function() {},
    _beforeCallListeners: function() {},
    _getEffectiveNodes: function() {
      return this.domApi.getDistributedNodes()
    }
  });
  if (Settings.useShadow) Polymer.Base.mixin(DomApi.DistributedNodesObserver.prototype, {
    _setup: function() {
      if (!this._observer) {
        var root = this.domApi.getOwnerRoot();
        var host = root && root.host;
        if (host) {
          var self = this;
          this._observer = Polymer.dom(host).observeNodes(function() {
            self._scheduleNotify()
          });
          this._observer._isContentListener = true;
          if (this._hasAttrSelect()) Polymer.dom(host).observer.enableShadowAttributeTracking()
        }
      }
    },
    _hasAttrSelect: function() {
      var select = this.node.getAttribute("select");
      return select && select.match(/[[.]+/)
    },
    _cleanup: function() {
      var root = this.domApi.getOwnerRoot();
      var host =
        root && root.host;
      if (host) Polymer.dom(host).unobserveNodes(this._observer);
      this._observer = null
    }
  })
})();
(function() {
  var DomApi = Polymer.DomApi;
  var TreeApi = Polymer.TreeApi;
  Polymer.Base._addFeature({
    _prepShady: function() {
      this._useContent = this._useContent || Boolean(this._template)
    },
    _setupShady: function() {
      this.shadyRoot = null;
      if (!this.__domApi) this.__domApi = null;
      if (!this.__dom) this.__dom = null;
      if (!this._ownerShadyRoot) this._ownerShadyRoot = undefined
    },
    _poolContent: function() {
      if (this._useContent) TreeApi.Logical.saveChildNodes(this)
    },
    _setupRoot: function() {
      if (this._useContent) {
        this._createLocalRoot();
        if (!this.dataHost) upgradeLogicalChildren(TreeApi.Logical.getChildNodes(this))
      }
    },
    _createLocalRoot: function() {
      this.shadyRoot = this.root;
      this.shadyRoot._distributionClean = false;
      this.shadyRoot._hasDistributed = false;
      this.shadyRoot._isShadyRoot = true;
      this.shadyRoot._dirtyRoots = [];
      var i$ = this.shadyRoot._insertionPoints = !this._notes || this._notes._hasContent ? this.shadyRoot.querySelectorAll("content") : [];
      TreeApi.Logical.saveChildNodes(this.shadyRoot);
      for (var i = 0, c; i < i$.length; i++) {
        c = i$[i];
        TreeApi.Logical.saveChildNodes(c);
        TreeApi.Logical.saveChildNodes(c.parentNode)
      }
      this.shadyRoot.host =
        this
    },
    distributeContent: function(updateInsertionPoints) {
      if (this.shadyRoot) {
        this.shadyRoot._invalidInsertionPoints = this.shadyRoot._invalidInsertionPoints || updateInsertionPoints;
        var host = getTopDistributingHost(this);
        Polymer.dom(this)._lazyDistribute(host)
      }
    },
    _distributeContent: function() {
      if (this._useContent && !this.shadyRoot._distributionClean) {
        if (this.shadyRoot._invalidInsertionPoints) {
          Polymer.dom(this)._updateInsertionPoints(this);
          this.shadyRoot._invalidInsertionPoints = false
        }
        this._beginDistribute();
        this._distributeDirtyRoots();
        this._finishDistribute()
      }
    },
    _beginDistribute: function() {
      if (this._useContent && DomApi.hasInsertionPoint(this.shadyRoot)) {
        this._resetDistribution();
        this._distributePool(this.shadyRoot, this._collectPool())
      }
    },
    _distributeDirtyRoots: function() {
      var c$ = this.shadyRoot._dirtyRoots;
      for (var i = 0, l = c$.length, c; i < l && (c = c$[i]); i++) c._distributeContent();
      this.shadyRoot._dirtyRoots = []
    },
    _finishDistribute: function() {
      if (this._useContent) {
        this.shadyRoot._distributionClean = true;
        if (DomApi.hasInsertionPoint(this.shadyRoot)) {
          this._composeTree();
          notifyContentObservers(this.shadyRoot)
        } else if (!this.shadyRoot._hasDistributed) {
          TreeApi.Composed.clearChildNodes(this);
          this.appendChild(this.shadyRoot)
        } else {
          var children = this._composeNode(this);
          this._updateChildNodes(this, children)
        }
        if (!this.shadyRoot._hasDistributed) notifyInitialDistribution(this);
        this.shadyRoot._hasDistributed = true
      }
    },
    elementMatches: function(selector, node) {
      node = node || this;
      return DomApi.matchesSelector.call(node, selector)
    },
    _resetDistribution: function() {
      var children = TreeApi.Logical.getChildNodes(this);
      for (var i = 0; i < children.length; i++) {
        var child = children[i];
        if (child._destinationInsertionPoints) child._destinationInsertionPoints = undefined;
        if (isInsertionPoint(child)) clearDistributedDestinationInsertionPoints(child)
      }
      var root = this.shadyRoot;
      var p$ = root._insertionPoints;
      for (var j = 0; j < p$.length; j++) p$[j]._distributedNodes = []
    },
    _collectPool: function() {
      var pool = [];
      var children = TreeApi.Logical.getChildNodes(this);
      for (var i = 0; i < children.length; i++) {
        var child = children[i];
        if (isInsertionPoint(child)) pool.push.apply(pool,
          child._distributedNodes);
        else pool.push(child)
      }
      return pool
    },
    _distributePool: function(node, pool) {
      var p$ = node._insertionPoints;
      for (var i = 0, l = p$.length, p; i < l && (p = p$[i]); i++) {
        this._distributeInsertionPoint(p, pool);
        maybeRedistributeParent(p, this)
      }
    },
    _distributeInsertionPoint: function(content, pool) {
      var anyDistributed = false;
      for (var i = 0, l = pool.length, node; i < l; i++) {
        node = pool[i];
        if (!node) continue;
        if (this._matchesContentSelect(node, content)) {
          distributeNodeInto(node, content);
          pool[i] = undefined;
          anyDistributed = true
        }
      }
      if (!anyDistributed) {
        var children =
          TreeApi.Logical.getChildNodes(content);
        for (var j = 0; j < children.length; j++) distributeNodeInto(children[j], content)
      }
    },
    _composeTree: function() {
      this._updateChildNodes(this, this._composeNode(this));
      var p$ = this.shadyRoot._insertionPoints;
      for (var i = 0, l = p$.length, p, parent; i < l && (p = p$[i]); i++) {
        parent = TreeApi.Logical.getParentNode(p);
        if (!parent._useContent && parent !== this && parent !== this.shadyRoot) this._updateChildNodes(parent, this._composeNode(parent))
      }
    },
    _composeNode: function(node) {
      var children = [];
      var c$ = TreeApi.Logical.getChildNodes(node.shadyRoot ||
        node);
      for (var i = 0; i < c$.length; i++) {
        var child = c$[i];
        if (isInsertionPoint(child)) {
          var distributedNodes = child._distributedNodes;
          for (var j = 0; j < distributedNodes.length; j++) {
            var distributedNode = distributedNodes[j];
            if (isFinalDestination(child, distributedNode)) children.push(distributedNode)
          }
        } else children.push(child)
      }
      return children
    },
    _updateChildNodes: function(container, children) {
      var composed = TreeApi.Composed.getChildNodes(container);
      var splices = Polymer.ArraySplice.calculateSplices(children, composed);
      for (var i =
          0, d = 0, s; i < splices.length && (s = splices[i]); i++) {
        for (var j = 0, n; j < s.removed.length && (n = s.removed[j]); j++) {
          if (TreeApi.Composed.getParentNode(n) === container) TreeApi.Composed.removeChild(container, n);
          composed.splice(s.index + d, 1)
        }
        d -= s.addedCount
      }
      for (var i = 0, s, next; i < splices.length && (s = splices[i]); i++) {
        next = composed[s.index];
        for (j = s.index, n; j < s.index + s.addedCount; j++) {
          n = children[j];
          TreeApi.Composed.insertBefore(container, n, next);
          composed.splice(j, 0, n)
        }
      }
    },
    _matchesContentSelect: function(node, contentElement) {
      var select =
        contentElement.getAttribute("select");
      if (!select) return true;
      select = select.trim();
      if (!select) return true;
      if (!(node instanceof Element)) return false;
      var validSelectors = /^(:not\()?[*.#[a-zA-Z_|]/;
      if (!validSelectors.test(select)) return false;
      return this.elementMatches(select, node)
    },
    _elementAdd: function() {},
    _elementRemove: function() {}
  });
  var domHostDesc = {
    get: function() {
      var root = Polymer.dom(this).getOwnerRoot();
      return root && root.host
    },
    configurable: true
  };
  Object.defineProperty(Polymer.Base, "domHost", domHostDesc);
  Polymer.BaseDescriptors.domHost = domHostDesc;

  function distributeNodeInto(child, insertionPoint) {
    insertionPoint._distributedNodes.push(child);
    var points = child._destinationInsertionPoints;
    if (!points) child._destinationInsertionPoints = [insertionPoint];
    else points.push(insertionPoint)
  }

  function clearDistributedDestinationInsertionPoints(content) {
    var e$ = content._distributedNodes;
    if (e$)
      for (var i = 0; i < e$.length; i++) {
        var d = e$[i]._destinationInsertionPoints;
        if (d) d.splice(d.indexOf(content) + 1, d.length)
      }
  }

  function maybeRedistributeParent(content,
    host) {
    var parent = TreeApi.Logical.getParentNode(content);
    if (parent && parent.shadyRoot && DomApi.hasInsertionPoint(parent.shadyRoot) && parent.shadyRoot._distributionClean) {
      parent.shadyRoot._distributionClean = false;
      host.shadyRoot._dirtyRoots.push(parent)
    }
  }

  function isFinalDestination(insertionPoint, node) {
    var points = node._destinationInsertionPoints;
    return points && points[points.length - 1] === insertionPoint
  }

  function isInsertionPoint(node) {
    return node.localName == "content"
  }

  function getTopDistributingHost(host) {
    while (host &&
      hostNeedsRedistribution(host)) host = host.domHost;
    return host
  }

  function hostNeedsRedistribution(host) {
    var c$ = TreeApi.Logical.getChildNodes(host);
    for (var i = 0, c; i < c$.length; i++) {
      c = c$[i];
      if (c.localName && c.localName === "content") return host.domHost
    }
  }

  function notifyContentObservers(root) {
    for (var i = 0, c; i < root._insertionPoints.length; i++) {
      c = root._insertionPoints[i];
      if (DomApi.hasApi(c)) Polymer.dom(c).notifyObserver()
    }
  }

  function notifyInitialDistribution(host) {
    if (DomApi.hasApi(host)) Polymer.dom(host).notifyObserver()
  }
  var needsUpgrade = window.CustomElements && !CustomElements.useNative;

  function upgradeLogicalChildren(children) {
    if (needsUpgrade && children)
      for (var i = 0; i < children.length; i++) CustomElements.upgrade(children[i])
  }
})();
if (Polymer.Settings.useShadow) Polymer.Base._addFeature({
  _poolContent: function() {},
  _beginDistribute: function() {},
  distributeContent: function() {},
  _distributeContent: function() {},
  _finishDistribute: function() {},
  _createLocalRoot: function() {
    this.createShadowRoot();
    this.shadowRoot.appendChild(this.root);
    this.root = this.shadowRoot
  }
});
Polymer.Async = {
  _currVal: 0,
  _lastVal: 0,
  _callbacks: [],
  _twiddleContent: 0,
  _twiddle: document.createTextNode(""),
  run: function(callback, waitTime) {
    if (waitTime > 0) return ~setTimeout(callback, waitTime);
    else {
      this._twiddle.textContent = this._twiddleContent++;
      this._callbacks.push(callback);
      return this._currVal++
    }
  },
  cancel: function(handle) {
    if (handle < 0) clearTimeout(~handle);
    else {
      var idx = handle - this._lastVal;
      if (idx >= 0) {
        if (!this._callbacks[idx]) throw "invalid async handle: " + handle;
        this._callbacks[idx] = null
      }
    }
  },
  _atEndOfMicrotask: function() {
    var len =
      this._callbacks.length;
    for (var i = 0; i < len; i++) {
      var cb = this._callbacks[i];
      if (cb) try {
        cb()
      } catch (e) {
        i++;
        this._callbacks.splice(0, i);
        this._lastVal += i;
        this._twiddle.textContent = this._twiddleContent++;
        throw e;
      }
    }
    this._callbacks.splice(0, len);
    this._lastVal += len
  }
};
(new window.MutationObserver(function() {
  Polymer.Async._atEndOfMicrotask()
})).observe(Polymer.Async._twiddle, {
  characterData: true
});
Polymer.Debounce = function() {
  var Async = Polymer.Async;
  var Debouncer = function(context) {
    this.context = context;
    var self = this;
    this.boundComplete = function() {
      self.complete()
    }
  };
  Debouncer.prototype = {
    go: function(callback, wait) {
      var h;
      this.finish = function() {
        Async.cancel(h)
      };
      h = Async.run(this.boundComplete, wait);
      this.callback = callback
    },
    stop: function() {
      if (this.finish) {
        this.finish();
        this.finish = null;
        this.callback = null
      }
    },
    complete: function() {
      if (this.finish) {
        var callback = this.callback;
        this.stop();
        callback.call(this.context)
      }
    }
  };

  function debounce(debouncer, callback, wait) {
    if (debouncer) debouncer.stop();
    else debouncer = new Debouncer(this);
    debouncer.go(callback, wait);
    return debouncer
  }
  return debounce
}();
Polymer.Base._addFeature({
  _setupDebouncers: function() {
    this._debouncers = {}
  },
  debounce: function(jobName, callback, wait) {
    return this._debouncers[jobName] = Polymer.Debounce.call(this, this._debouncers[jobName], callback, wait)
  },
  isDebouncerActive: function(jobName) {
    var debouncer = this._debouncers[jobName];
    return !!(debouncer && debouncer.finish)
  },
  flushDebouncer: function(jobName) {
    var debouncer = this._debouncers[jobName];
    if (debouncer) debouncer.complete()
  },
  cancelDebouncer: function(jobName) {
    var debouncer = this._debouncers[jobName];
    if (debouncer) debouncer.stop()
  }
});
Polymer.DomModule = document.createElement("dom-module");
Polymer.Base._addFeature({
  _registerFeatures: function() {
    this._prepIs();
    this._prepBehaviors();
    this._prepConstructor();
    this._prepTemplate();
    this._prepShady();
    this._prepPropertyInfo()
  },
  _prepBehavior: function(b) {
    this._addHostAttributes(b.hostAttributes)
  },
  _initFeatures: function() {
    this._registerHost();
    if (this._template) {
      this._poolContent();
      this._beginHosting();
      this._stampTemplate();
      this._endHosting()
    }
    this._marshalHostAttributes();
    this._setupDebouncers();
    this._marshalBehaviors();
    this._tryReady()
  },
  _marshalBehavior: function(b) {}
});
(function() {
  Polymer.nar = [];
  var disableUpgradeEnabled = Polymer.Settings.disableUpgradeEnabled;
  Polymer.Annotations = {
    parseAnnotations: function(template, stripWhiteSpace) {
      var list = [];
      var content = template._content || template.content;
      this._parseNodeAnnotations(content, list, stripWhiteSpace || template.hasAttribute("strip-whitespace"));
      return list
    },
    _parseNodeAnnotations: function(node, list, stripWhiteSpace) {
      return node.nodeType === Node.TEXT_NODE ? this._parseTextNodeAnnotation(node, list) : this._parseElementAnnotations(node,
        list, stripWhiteSpace)
    },
    _bindingRegex: function() {
      var IDENT = "(?:" + "[a-zA-Z_$][\\w.:$\\-*]*" + ")";
      var NUMBER = "(?:" + "[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?" + ")";
      var SQUOTE_STRING = "(?:" + "'(?:[^'\\\\]|\\\\.)*'" + ")";
      var DQUOTE_STRING = "(?:" + '"(?:[^"\\\\]|\\\\.)*"' + ")";
      var STRING = "(?:" + SQUOTE_STRING + "|" + DQUOTE_STRING + ")";
      var ARGUMENT = "(?:" + IDENT + "|" + NUMBER + "|" + STRING + "\\s*" + ")";
      var ARGUMENTS = "(?:" + ARGUMENT + "(?:,\\s*" + ARGUMENT + ")*" + ")";
      var ARGUMENT_LIST = "(?:" + "\\(\\s*" + "(?:" + ARGUMENTS + "?" + ")" + "\\)\\s*" + ")";
      var BINDING = "(" + IDENT + "\\s*" + ARGUMENT_LIST + "?" + ")";
      var OPEN_BRACKET = "(\\[\\[|{{)" + "\\s*";
      var CLOSE_BRACKET = "(?:]]|}})";
      var NEGATE = "(?:(!)\\s*)?";
      var EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;
      return new RegExp(EXPRESSION, "g")
    }(),
    _parseBindings: function(text) {
      var re = this._bindingRegex;
      var parts = [];
      var lastIndex = 0;
      var m;
      while ((m = re.exec(text)) !== null) {
        if (m.index > lastIndex) parts.push({
          literal: text.slice(lastIndex, m.index)
        });
        var mode = m[1][0];
        var negate = Boolean(m[2]);
        var value = m[3].trim();
        var customEvent,
          notifyEvent, colon;
        if (mode == "{" && (colon = value.indexOf("::")) > 0) {
          notifyEvent = value.substring(colon + 2);
          value = value.substring(0, colon);
          customEvent = true
        }
        parts.push({
          compoundIndex: parts.length,
          value: value,
          mode: mode,
          negate: negate,
          event: notifyEvent,
          customEvent: customEvent
        });
        lastIndex = re.lastIndex
      }
      if (lastIndex && lastIndex < text.length) {
        var literal = text.substring(lastIndex);
        if (literal) parts.push({
          literal: literal
        })
      }
      if (parts.length) return parts
    },
    _literalFromParts: function(parts) {
      var s = "";
      for (var i = 0; i < parts.length; i++) {
        var literal =
          parts[i].literal;
        s += literal || ""
      }
      return s
    },
    _parseTextNodeAnnotation: function(node, list) {
      var parts = this._parseBindings(node.textContent);
      if (parts) {
        node.textContent = this._literalFromParts(parts) || " ";
        var annote = {
          bindings: [{
            kind: "text",
            name: "textContent",
            parts: parts,
            isCompound: parts.length !== 1
          }]
        };
        list.push(annote);
        return annote
      }
    },
    _parseElementAnnotations: function(element, list, stripWhiteSpace) {
      var annote = {
        bindings: [],
        events: []
      };
      if (element.localName === "content") list._hasContent = true;
      this._parseChildNodesAnnotations(element,
        annote, list, stripWhiteSpace);
      if (element.attributes) {
        this._parseNodeAttributeAnnotations(element, annote, list);
        if (this.prepElement) this.prepElement(element)
      }
      if (annote.bindings.length || annote.events.length || annote.id) list.push(annote);
      return annote
    },
    _parseChildNodesAnnotations: function(root, annote, list, stripWhiteSpace) {
      if (root.firstChild) {
        var node = root.firstChild;
        var i = 0;
        while (node) {
          var next = node.nextSibling;
          if (node.localName === "template" && !node.hasAttribute("preserve-content")) this._parseTemplate(node,
            i, list, annote, stripWhiteSpace);
          if (node.localName == "slot") node = this._replaceSlotWithContent(node);
          if (node.nodeType === Node.TEXT_NODE) {
            var n = next;
            while (n && n.nodeType === Node.TEXT_NODE) {
              node.textContent += n.textContent;
              next = n.nextSibling;
              root.removeChild(n);
              n = next
            }
            if (stripWhiteSpace && !node.textContent.trim()) {
              root.removeChild(node);
              i--
            }
          }
          if (node.parentNode) {
            var childAnnotation = this._parseNodeAnnotations(node, list, stripWhiteSpace);
            if (childAnnotation) {
              childAnnotation.parent = annote;
              childAnnotation.index = i
            }
          }
          node =
            next;
          i++
        }
      }
    },
    _replaceSlotWithContent: function(slot) {
      var content = slot.ownerDocument.createElement("content");
      while (slot.firstChild) content.appendChild(slot.firstChild);
      var attrs = slot.attributes;
      for (var i = 0; i < attrs.length; i++) {
        var attr = attrs[i];
        content.setAttribute(attr.name, attr.value)
      }
      var name = slot.getAttribute("name");
      if (name) content.setAttribute("select", "[slot='" + name + "']");
      slot.parentNode.replaceChild(content, slot);
      return content
    },
    _parseTemplate: function(node, index, list, parent, stripWhiteSpace) {
      var content =
        document.createDocumentFragment();
      content._notes = this.parseAnnotations(node, stripWhiteSpace);
      content.appendChild(node.content);
      list.push({
        bindings: Polymer.nar,
        events: Polymer.nar,
        templateContent: content,
        parent: parent,
        index: index
      })
    },
    _parseNodeAttributeAnnotations: function(node, annotation) {
      var attrs = Array.prototype.slice.call(node.attributes);
      for (var i = attrs.length - 1, a; a = attrs[i]; i--) {
        var n = a.name;
        var v = a.value;
        var b;
        if (n.slice(0, 3) === "on-") {
          node.removeAttribute(n);
          annotation.events.push({
            name: n.slice(3),
            value: v
          })
        } else if (b = this._parseNodeAttributeAnnotation(node, n, v)) annotation.bindings.push(b);
        else if (n === "id") annotation.id = v
      }
    },
    _parseNodeAttributeAnnotation: function(node, name, value) {
      var parts = this._parseBindings(value);
      if (parts) {
        var origName = name;
        var kind = "property";
        if (name[name.length - 1] == "$") {
          name = name.slice(0, -1);
          kind = "attribute"
        }
        var literal = this._literalFromParts(parts);
        if (literal && kind == "attribute") node.setAttribute(name, literal);
        if (node.localName === "input" && origName === "value") node.setAttribute(origName,
          "");
        if (disableUpgradeEnabled && origName === "disable-upgrade$") node.setAttribute(name, "");
        node.removeAttribute(origName);
        var propertyName = Polymer.CaseMap.dashToCamelCase(name);
        if (kind === "property") name = propertyName;
        return {
          kind: kind,
          name: name,
          propertyName: propertyName,
          parts: parts,
          literal: literal,
          isCompound: parts.length !== 1
        }
      }
    },
    findAnnotatedNode: function(root, annote) {
      var parent = annote.parent && Polymer.Annotations.findAnnotatedNode(root, annote.parent);
      if (parent)
        for (var n = parent.firstChild, i = 0; n; n = n.nextSibling) {
          if (annote.index ===
            i++) return n
        } else return root
    }
  }
})();
Polymer.Path = {
  root: function(path) {
    var dotIndex = path.indexOf(".");
    if (dotIndex === -1) return path;
    return path.slice(0, dotIndex)
  },
  isDeep: function(path) {
    return path.indexOf(".") !== -1
  },
  isAncestor: function(base, path) {
    return base.indexOf(path + ".") === 0
  },
  isDescendant: function(base, path) {
    return path.indexOf(base + ".") === 0
  },
  translate: function(base, newBase, path) {
    return newBase + path.slice(base.length)
  },
  matches: function(base, wildcard, path) {
    return base === path || this.isAncestor(base, path) || Boolean(wildcard) && this.isDescendant(base,
      path)
  }
};
Polymer.Base._addFeature({
  _prepAnnotations: function() {
    if (!this._template) this._notes = [];
    else {
      var self = this;
      Polymer.Annotations.prepElement = function(element) {
        self._prepElement(element)
      };
      if (this._template._content && this._template._content._notes) this._notes = this._template._content._notes;
      else {
        this._notes = Polymer.Annotations.parseAnnotations(this._template);
        this._processAnnotations(this._notes)
      }
      Polymer.Annotations.prepElement = null
    }
  },
  _processAnnotations: function(notes) {
    for (var i = 0; i < notes.length; i++) {
      var note = notes[i];
      for (var j = 0; j < note.bindings.length; j++) {
        var b = note.bindings[j];
        for (var k = 0; k < b.parts.length; k++) {
          var p = b.parts[k];
          if (!p.literal) {
            var signature = this._parseMethod(p.value);
            if (signature) p.signature = signature;
            else p.model = Polymer.Path.root(p.value)
          }
        }
      }
      if (note.templateContent) {
        this._processAnnotations(note.templateContent._notes);
        var pp = note.templateContent._parentProps = this._discoverTemplateParentProps(note.templateContent._notes);
        var bindings = [];
        for (var prop in pp) {
          var name = "_parent_" + prop;
          bindings.push({
            index: note.index,
            kind: "property",
            name: name,
            propertyName: name,
            parts: [{
              mode: "{",
              model: prop,
              value: prop
            }]
          })
        }
        note.bindings = note.bindings.concat(bindings)
      }
    }
  },
  _discoverTemplateParentProps: function(notes) {
    var pp = {};
    for (var i = 0, n; i < notes.length && (n = notes[i]); i++) {
      for (var j = 0, b$ = n.bindings, b; j < b$.length && (b = b$[j]); j++)
        for (var k = 0, p$ = b.parts, p; k < p$.length && (p = p$[k]); k++)
          if (p.signature) {
            var args = p.signature.args;
            for (var kk = 0; kk < args.length; kk++) {
              var model = args[kk].model;
              if (model) pp[model] = true
            }
            if (p.signature.dynamicFn) pp[p.signature.method] =
              true
          } else if (p.model) pp[p.model] = true;
      if (n.templateContent) {
        var tpp = n.templateContent._parentProps;
        Polymer.Base.mixin(pp, tpp)
      }
    }
    return pp
  },
  _prepElement: function(element) {
    Polymer.ResolveUrl.resolveAttrs(element, this._template.ownerDocument)
  },
  _findAnnotatedNode: Polymer.Annotations.findAnnotatedNode,
  _marshalAnnotationReferences: function() {
    if (this._template) {
      this._marshalIdNodes();
      this._marshalAnnotatedNodes();
      this._marshalAnnotatedListeners()
    }
  },
  _configureAnnotationReferences: function() {
    var notes = this._notes;
    var nodes = this._nodes;
    for (var i = 0; i < notes.length; i++) {
      var note = notes[i];
      var node = nodes[i];
      this._configureTemplateContent(note, node);
      this._configureCompoundBindings(note, node)
    }
  },
  _configureTemplateContent: function(note, node) {
    if (note.templateContent) node._content = note.templateContent
  },
  _configureCompoundBindings: function(note, node) {
    var bindings = note.bindings;
    for (var i = 0; i < bindings.length; i++) {
      var binding = bindings[i];
      if (binding.isCompound) {
        var storage = node.__compoundStorage__ || (node.__compoundStorage__ = {});
        var parts = binding.parts;
        var literals = new Array(parts.length);
        for (var j = 0; j < parts.length; j++) literals[j] = parts[j].literal;
        var name = binding.name;
        storage[name] = literals;
        if (binding.literal && binding.kind == "property")
          if (node._configValue) node._configValue(name, binding.literal);
          else node[name] = binding.literal
      }
    }
  },
  _marshalIdNodes: function() {
    this.$ = {};
    for (var i = 0, l = this._notes.length, a; i < l && (a = this._notes[i]); i++)
      if (a.id) this.$[a.id] = this._findAnnotatedNode(this.root, a)
  },
  _marshalAnnotatedNodes: function() {
    if (this._notes &&
      this._notes.length) {
      var r = new Array(this._notes.length);
      for (var i = 0; i < this._notes.length; i++) r[i] = this._findAnnotatedNode(this.root, this._notes[i]);
      this._nodes = r
    }
  },
  _marshalAnnotatedListeners: function() {
    for (var i = 0, l = this._notes.length, a; i < l && (a = this._notes[i]); i++)
      if (a.events && a.events.length) {
        var node = this._findAnnotatedNode(this.root, a);
        for (var j = 0, e$ = a.events, e; j < e$.length && (e = e$[j]); j++) this.listen(node, e.name, e.value)
      }
  }
});
Polymer.Base._addFeature({
  listeners: {},
  _listenListeners: function(listeners) {
    var node, name, eventName;
    for (eventName in listeners) {
      if (eventName.indexOf(".") < 0) {
        node = this;
        name = eventName
      } else {
        name = eventName.split(".");
        node = this.$[name[0]];
        name = name[1]
      }
      this.listen(node, name, listeners[eventName])
    }
  },
  listen: function(node, eventName, methodName) {
    var handler = this._recallEventHandler(this, eventName, node, methodName);
    if (!handler) handler = this._createEventHandler(node, eventName, methodName);
    if (handler._listening) return;
    this._listen(node, eventName, handler);
    handler._listening = true
  },
  _boundListenerKey: function(eventName, methodName) {
    return eventName + ":" + methodName
  },
  _recordEventHandler: function(host, eventName, target, methodName, handler) {
    var hbl = host.__boundListeners;
    if (!hbl) hbl = host.__boundListeners = new WeakMap;
    var bl = hbl.get(target);
    if (!bl) {
      bl = {};
      if (!Polymer.Settings.isIE || target != window) hbl.set(target, bl)
    }
    var key = this._boundListenerKey(eventName, methodName);
    bl[key] = handler
  },
  _recallEventHandler: function(host, eventName,
    target, methodName) {
    var hbl = host.__boundListeners;
    if (!hbl) return;
    var bl = hbl.get(target);
    if (!bl) return;
    var key = this._boundListenerKey(eventName, methodName);
    return bl[key]
  },
  _createEventHandler: function(node, eventName, methodName) {
    var host = this;
    var handler = function(e) {
      if (host[methodName]) host[methodName](e, e.detail);
      else host._warn(host._logf("_createEventHandler", "listener method `" + methodName + "` not defined"))
    };
    handler._listening = false;
    this._recordEventHandler(host, eventName, node, methodName, handler);
    return handler
  },
  unlisten: function(node, eventName, methodName) {
    var handler = this._recallEventHandler(this, eventName, node, methodName);
    if (handler) {
      this._unlisten(node, eventName, handler);
      handler._listening = false
    }
  },
  _listen: function(node, eventName, handler) {
    node.addEventListener(eventName, handler)
  },
  _unlisten: function(node, eventName, handler) {
    node.removeEventListener(eventName, handler)
  }
});
(function() {
  var wrap = Polymer.DomApi.wrap;
  var HAS_NATIVE_TA = typeof document.head.style.touchAction === "string";
  var GESTURE_KEY = "__polymerGestures";
  var HANDLED_OBJ = "__polymerGesturesHandled";
  var TOUCH_ACTION = "__polymerGesturesTouchAction";
  var TAP_DISTANCE = 25;
  var TRACK_DISTANCE = 5;
  var TRACK_LENGTH = 2;
  var MOUSE_TIMEOUT = 2500;
  var MOUSE_EVENTS = ["mousedown", "mousemove", "mouseup", "click"];
  var MOUSE_WHICH_TO_BUTTONS = [0, 1, 4, 2];
  var MOUSE_HAS_BUTTONS = function() {
    try {
      return (new MouseEvent("test", {
          buttons: 1
        })).buttons ===
        1
    } catch (e) {
      return false
    }
  }();

  function isMouseEvent(name) {
    return MOUSE_EVENTS.indexOf(name) > -1
  }
  var SUPPORTS_PASSIVE = false;
  (function() {
    try {
      var opts = Object.defineProperty({}, "passive", {
        get: function() {
          SUPPORTS_PASSIVE = true
        }
      });
      window.addEventListener("test", null, opts);
      window.removeEventListener("test", null, opts)
    } catch (e) {}
  })();

  function PASSIVE_TOUCH(eventName) {
    if (isMouseEvent(eventName) || eventName === "touchend") return;
    if (HAS_NATIVE_TA && SUPPORTS_PASSIVE && Polymer.Settings.passiveTouchGestures) return {
      passive: true
    }
  }
  var IS_TOUCH_ONLY = navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);
  var mouseCanceller = function(mouseEvent) {
    var sc = mouseEvent.sourceCapabilities;
    if (sc && !sc.firesTouchEvents) return;
    mouseEvent[HANDLED_OBJ] = {
      skip: true
    };
    if (mouseEvent.type === "click") {
      var path = Polymer.dom(mouseEvent).path;
      if (path)
        for (var i = 0; i < path.length; i++)
          if (path[i] === POINTERSTATE.mouse.target) return;
      mouseEvent.preventDefault();
      mouseEvent.stopPropagation()
    }
  };

  function setupTeardownMouseCanceller(setup) {
    var events = IS_TOUCH_ONLY ? ["click"] :
      MOUSE_EVENTS;
    for (var i = 0, en; i < events.length; i++) {
      en = events[i];
      if (setup) document.addEventListener(en, mouseCanceller, true);
      else document.removeEventListener(en, mouseCanceller, true)
    }
  }

  function ignoreMouse(ev) {
    if (!POINTERSTATE.mouse.mouseIgnoreJob) setupTeardownMouseCanceller(true);
    var unset = function() {
      setupTeardownMouseCanceller();
      POINTERSTATE.mouse.target = null;
      POINTERSTATE.mouse.mouseIgnoreJob = null
    };
    POINTERSTATE.mouse.target = Polymer.dom(ev).rootTarget;
    POINTERSTATE.mouse.mouseIgnoreJob = Polymer.Debounce(POINTERSTATE.mouse.mouseIgnoreJob,
      unset, MOUSE_TIMEOUT)
  }

  function hasLeftMouseButton(ev) {
    var type = ev.type;
    if (!isMouseEvent(type)) return false;
    if (type === "mousemove") {
      var buttons = ev.buttons === undefined ? 1 : ev.buttons;
      if (ev instanceof window.MouseEvent && !MOUSE_HAS_BUTTONS) buttons = MOUSE_WHICH_TO_BUTTONS[ev.which] || 0;
      return Boolean(buttons & 1)
    } else {
      var button = ev.button === undefined ? 0 : ev.button;
      return button === 0
    }
  }

  function isSyntheticClick(ev) {
    if (ev.type === "click") {
      if (ev.detail === 0) return true;
      var t = Gestures.findOriginalTarget(ev);
      var bcr = t.getBoundingClientRect();
      var x = ev.pageX,
        y = ev.pageY;
      return !(x >= bcr.left && x <= bcr.right && (y >= bcr.top && y <= bcr.bottom))
    }
    return false
  }
  var POINTERSTATE = {
    mouse: {
      target: null,
      mouseIgnoreJob: null
    },
    touch: {
      x: 0,
      y: 0,
      id: -1,
      scrollDecided: false
    }
  };

  function firstTouchAction(ev) {
    var path = Polymer.dom(ev).path;
    var ta = "auto";
    for (var i = 0, n; i < path.length; i++) {
      n = path[i];
      if (n[TOUCH_ACTION]) {
        ta = n[TOUCH_ACTION];
        break
      }
    }
    return ta
  }

  function trackDocument(stateObj, movefn, upfn) {
    stateObj.movefn = movefn;
    stateObj.upfn = upfn;
    document.addEventListener("mousemove",
      movefn);
    document.addEventListener("mouseup", upfn)
  }

  function untrackDocument(stateObj) {
    document.removeEventListener("mousemove", stateObj.movefn);
    document.removeEventListener("mouseup", stateObj.upfn);
    stateObj.movefn = null;
    stateObj.upfn = null
  }
  document.addEventListener("touchend", ignoreMouse, SUPPORTS_PASSIVE ? {
    passive: true
  } : false);
  var Gestures = {
    gestures: {},
    recognizers: [],
    deepTargetFind: function(x, y) {
      var node = document.elementFromPoint(x, y);
      var next = node;
      while (next && next.shadowRoot) {
        next = next.shadowRoot.elementFromPoint(x,
          y);
        if (next) node = next
      }
      return node
    },
    findOriginalTarget: function(ev) {
      if (ev.path) return ev.path[0];
      return ev.target
    },
    handleNative: function(ev) {
      var handled;
      var type = ev.type;
      var node = wrap(ev.currentTarget);
      var gobj = node[GESTURE_KEY];
      if (!gobj) return;
      var gs = gobj[type];
      if (!gs) return;
      if (!ev[HANDLED_OBJ]) {
        ev[HANDLED_OBJ] = {};
        if (type.slice(0, 5) === "touch") {
          var t = ev.changedTouches[0];
          if (type === "touchstart")
            if (ev.touches.length === 1) POINTERSTATE.touch.id = t.identifier;
          if (POINTERSTATE.touch.id !== t.identifier) return;
          if (!HAS_NATIVE_TA)
            if (type === "touchstart" || type === "touchmove") Gestures.handleTouchAction(ev)
        }
      }
      handled = ev[HANDLED_OBJ];
      if (handled.skip) return;
      var recognizers = Gestures.recognizers;
      for (var i = 0, r; i < recognizers.length; i++) {
        r = recognizers[i];
        if (gs[r.name] && !handled[r.name])
          if (r.flow && r.flow.start.indexOf(ev.type) > -1 && r.reset) r.reset()
      }
      for (i = 0, r; i < recognizers.length; i++) {
        r = recognizers[i];
        if (gs[r.name] && !handled[r.name]) {
          handled[r.name] = true;
          r[type](ev)
        }
      }
    },
    handleTouchAction: function(ev) {
      var t = ev.changedTouches[0];
      var type = ev.type;
      if (type === "touchstart") {
        POINTERSTATE.touch.x = t.clientX;
        POINTERSTATE.touch.y = t.clientY;
        POINTERSTATE.touch.scrollDecided = false
      } else if (type === "touchmove") {
        if (POINTERSTATE.touch.scrollDecided) return;
        POINTERSTATE.touch.scrollDecided = true;
        var ta = firstTouchAction(ev);
        var prevent = false;
        var dx = Math.abs(POINTERSTATE.touch.x - t.clientX);
        var dy = Math.abs(POINTERSTATE.touch.y - t.clientY);
        if (!ev.cancelable);
        else if (ta === "none") prevent = true;
        else if (ta === "pan-x") prevent = dy > dx;
        else if (ta === "pan-y") prevent =
          dx > dy;
        if (prevent) ev.preventDefault();
        else Gestures.prevent("track")
      }
    },
    add: function(node, evType, handler) {
      node = wrap(node);
      var recognizer = this.gestures[evType];
      var deps = recognizer.deps;
      var name = recognizer.name;
      var gobj = node[GESTURE_KEY];
      if (!gobj) node[GESTURE_KEY] = gobj = {};
      for (var i = 0, dep, gd; i < deps.length; i++) {
        dep = deps[i];
        if (IS_TOUCH_ONLY && isMouseEvent(dep) && dep !== "click") continue;
        gd = gobj[dep];
        if (!gd) gobj[dep] = gd = {
          _count: 0
        };
        if (gd._count === 0) node.addEventListener(dep, this.handleNative, PASSIVE_TOUCH(dep));
        gd[name] = (gd[name] || 0) + 1;
        gd._count = (gd._count || 0) + 1
      }
      node.addEventListener(evType, handler);
      if (recognizer.touchAction) this.setTouchAction(node, recognizer.touchAction)
    },
    remove: function(node, evType, handler) {
      node = wrap(node);
      var recognizer = this.gestures[evType];
      var deps = recognizer.deps;
      var name = recognizer.name;
      var gobj = node[GESTURE_KEY];
      if (gobj)
        for (var i = 0, dep, gd; i < deps.length; i++) {
          dep = deps[i];
          gd = gobj[dep];
          if (gd && gd[name]) {
            gd[name] = (gd[name] || 1) - 1;
            gd._count = (gd._count || 1) - 1;
            if (gd._count === 0) node.removeEventListener(dep,
              this.handleNative, PASSIVE_TOUCH(dep))
          }
        }
      node.removeEventListener(evType, handler)
    },
    register: function(recog) {
      this.recognizers.push(recog);
      for (var i = 0; i < recog.emits.length; i++) this.gestures[recog.emits[i]] = recog
    },
    findRecognizerByEvent: function(evName) {
      for (var i = 0, r; i < this.recognizers.length; i++) {
        r = this.recognizers[i];
        for (var j = 0, n; j < r.emits.length; j++) {
          n = r.emits[j];
          if (n === evName) return r
        }
      }
      return null
    },
    setTouchAction: function(node, value) {
      if (HAS_NATIVE_TA) node.style.touchAction = value;
      node[TOUCH_ACTION] =
        value
    },
    fire: function(target, type, detail) {
      var ev = Polymer.Base.fire(type, detail, {
        node: target,
        bubbles: true,
        cancelable: true
      });
      if (ev.defaultPrevented) {
        var preventer = detail.preventer || detail.sourceEvent;
        if (preventer && preventer.preventDefault) preventer.preventDefault()
      }
    },
    prevent: function(evName) {
      var recognizer = this.findRecognizerByEvent(evName);
      if (recognizer.info) recognizer.info.prevent = true
    },
    resetMouseCanceller: function() {
      if (POINTERSTATE.mouse.mouseIgnoreJob) POINTERSTATE.mouse.mouseIgnoreJob.complete()
    }
  };
  Gestures.register({
    name: "downup",
    deps: ["mousedown", "touchstart", "touchend"],
    flow: {
      start: ["mousedown", "touchstart"],
      end: ["mouseup", "touchend"]
    },
    emits: ["down", "up"],
    info: {
      movefn: null,
      upfn: null
    },
    reset: function() {
      untrackDocument(this.info)
    },
    mousedown: function(e) {
      if (!hasLeftMouseButton(e)) return;
      var t = Gestures.findOriginalTarget(e);
      var self = this;
      var movefn = function movefn(e) {
        if (!hasLeftMouseButton(e)) {
          self.fire("up", t, e);
          untrackDocument(self.info)
        }
      };
      var upfn = function upfn(e) {
        if (hasLeftMouseButton(e)) self.fire("up",
          t, e);
        untrackDocument(self.info)
      };
      trackDocument(this.info, movefn, upfn);
      this.fire("down", t, e)
    },
    touchstart: function(e) {
      this.fire("down", Gestures.findOriginalTarget(e), e.changedTouches[0], e)
    },
    touchend: function(e) {
      this.fire("up", Gestures.findOriginalTarget(e), e.changedTouches[0], e)
    },
    fire: function(type, target, event, preventer) {
      Gestures.fire(target, type, {
        x: event.clientX,
        y: event.clientY,
        sourceEvent: event,
        preventer: preventer,
        prevent: function(e) {
          return Gestures.prevent(e)
        }
      })
    }
  });
  Gestures.register({
    name: "track",
    touchAction: "none",
    deps: ["mousedown", "touchstart", "touchmove", "touchend"],
    flow: {
      start: ["mousedown", "touchstart"],
      end: ["mouseup", "touchend"]
    },
    emits: ["track"],
    info: {
      x: 0,
      y: 0,
      state: "start",
      started: false,
      moves: [],
      addMove: function(move) {
        if (this.moves.length > TRACK_LENGTH) this.moves.shift();
        this.moves.push(move)
      },
      movefn: null,
      upfn: null,
      prevent: false
    },
    reset: function() {
      this.info.state = "start";
      this.info.started = false;
      this.info.moves = [];
      this.info.x = 0;
      this.info.y = 0;
      this.info.prevent = false;
      untrackDocument(this.info)
    },
    hasMovedEnough: function(x, y) {
      if (this.info.prevent) return false;
      if (this.info.started) return true;
      var dx = Math.abs(this.info.x - x);
      var dy = Math.abs(this.info.y - y);
      return dx >= TRACK_DISTANCE || dy >= TRACK_DISTANCE
    },
    mousedown: function(e) {
      if (!hasLeftMouseButton(e)) return;
      var t = Gestures.findOriginalTarget(e);
      var self = this;
      var movefn = function movefn(e) {
        var x = e.clientX,
          y = e.clientY;
        if (self.hasMovedEnough(x, y)) {
          self.info.state = self.info.started ? e.type === "mouseup" ? "end" : "track" : "start";
          if (self.info.state === "start") Gestures.prevent("tap");
          self.info.addMove({
            x: x,
            y: y
          });
          if (!hasLeftMouseButton(e)) {
            self.info.state = "end";
            untrackDocument(self.info)
          }
          self.fire(t, e);
          self.info.started = true
        }
      };
      var upfn = function upfn(e) {
        if (self.info.started) movefn(e);
        untrackDocument(self.info)
      };
      trackDocument(this.info, movefn, upfn);
      this.info.x = e.clientX;
      this.info.y = e.clientY
    },
    touchstart: function(e) {
      var ct = e.changedTouches[0];
      this.info.x = ct.clientX;
      this.info.y = ct.clientY
    },
    touchmove: function(e) {
      var t = Gestures.findOriginalTarget(e);
      var ct = e.changedTouches[0];
      var x =
        ct.clientX,
        y = ct.clientY;
      if (this.hasMovedEnough(x, y)) {
        if (this.info.state === "start") Gestures.prevent("tap");
        this.info.addMove({
          x: x,
          y: y
        });
        this.fire(t, ct);
        this.info.state = "track";
        this.info.started = true
      }
    },
    touchend: function(e) {
      var t = Gestures.findOriginalTarget(e);
      var ct = e.changedTouches[0];
      if (this.info.started) {
        this.info.state = "end";
        this.info.addMove({
          x: ct.clientX,
          y: ct.clientY
        });
        this.fire(t, ct, e)
      }
    },
    fire: function(target, touch, preventer) {
      var secondlast = this.info.moves[this.info.moves.length - 2];
      var lastmove =
        this.info.moves[this.info.moves.length - 1];
      var dx = lastmove.x - this.info.x;
      var dy = lastmove.y - this.info.y;
      var ddx, ddy = 0;
      if (secondlast) {
        ddx = lastmove.x - secondlast.x;
        ddy = lastmove.y - secondlast.y
      }
      return Gestures.fire(target, "track", {
        state: this.info.state,
        x: touch.clientX,
        y: touch.clientY,
        dx: dx,
        dy: dy,
        ddx: ddx,
        ddy: ddy,
        sourceEvent: touch,
        preventer: preventer,
        hover: function() {
          return Gestures.deepTargetFind(touch.clientX, touch.clientY)
        }
      })
    }
  });
  Gestures.register({
    name: "tap",
    deps: ["mousedown", "click", "touchstart", "touchend"],
    flow: {
      start: ["mousedown", "touchstart"],
      end: ["click", "touchend"]
    },
    emits: ["tap"],
    info: {
      x: NaN,
      y: NaN,
      prevent: false
    },
    reset: function() {
      this.info.x = NaN;
      this.info.y = NaN;
      this.info.prevent = false
    },
    save: function(e) {
      this.info.x = e.clientX;
      this.info.y = e.clientY
    },
    mousedown: function(e) {
      if (hasLeftMouseButton(e)) this.save(e)
    },
    click: function(e) {
      if (hasLeftMouseButton(e)) this.forward(e)
    },
    touchstart: function(e) {
      this.save(e.changedTouches[0], e)
    },
    touchend: function(e) {
      this.forward(e.changedTouches[0], e)
    },
    forward: function(e,
      preventer) {
      var dx = Math.abs(e.clientX - this.info.x);
      var dy = Math.abs(e.clientY - this.info.y);
      var t = Gestures.findOriginalTarget(e);
      if (isNaN(dx) || isNaN(dy) || dx <= TAP_DISTANCE && dy <= TAP_DISTANCE || isSyntheticClick(e))
        if (!this.info.prevent) Gestures.fire(t, "tap", {
          x: e.clientX,
          y: e.clientY,
          sourceEvent: e,
          preventer: preventer
        })
    }
  });
  var DIRECTION_MAP = {
    x: "pan-x",
    y: "pan-y",
    none: "none",
    all: "auto"
  };
  Polymer.Base._addFeature({
    _setupGestures: function() {
      this.__polymerGestures = null
    },
    _listen: function(node, eventName, handler) {
      if (Gestures.gestures[eventName]) Gestures.add(node,
        eventName, handler);
      else node.addEventListener(eventName, handler)
    },
    _unlisten: function(node, eventName, handler) {
      if (Gestures.gestures[eventName]) Gestures.remove(node, eventName, handler);
      else node.removeEventListener(eventName, handler)
    },
    setScrollDirection: function(direction, node) {
      node = node || this;
      Gestures.setTouchAction(node, DIRECTION_MAP[direction] || "auto")
    }
  });
  Polymer.Gestures = Gestures
})();
(function() {
  Polymer.Base._addFeature({
    $$: function(slctr) {
      return Polymer.dom(this.root).querySelector(slctr)
    },
    toggleClass: function(name, bool, node) {
      node = node || this;
      if (arguments.length == 1) bool = !node.classList.contains(name);
      if (bool) Polymer.dom(node).classList.add(name);
      else Polymer.dom(node).classList.remove(name)
    },
    toggleAttribute: function(name, bool, node) {
      node = node || this;
      if (arguments.length == 1) bool = !node.hasAttribute(name);
      if (bool) Polymer.dom(node).setAttribute(name, "");
      else Polymer.dom(node).removeAttribute(name)
    },
    classFollows: function(name, toElement, fromElement) {
      if (fromElement) Polymer.dom(fromElement).classList.remove(name);
      if (toElement) Polymer.dom(toElement).classList.add(name)
    },
    attributeFollows: function(name, toElement, fromElement) {
      if (fromElement) Polymer.dom(fromElement).removeAttribute(name);
      if (toElement) Polymer.dom(toElement).setAttribute(name, "")
    },
    getEffectiveChildNodes: function() {
      return Polymer.dom(this).getEffectiveChildNodes()
    },
    getEffectiveChildren: function() {
      var list = Polymer.dom(this).getEffectiveChildNodes();
      return list.filter(function(n) {
        return n.nodeType === Node.ELEMENT_NODE
      })
    },
    getEffectiveTextContent: function() {
      var cn = this.getEffectiveChildNodes();
      var tc = [];
      for (var i = 0, c; c = cn[i]; i++)
        if (c.nodeType !== Node.COMMENT_NODE) tc.push(Polymer.dom(c).textContent);
      return tc.join("")
    },
    queryEffectiveChildren: function(slctr) {
      var e$ = Polymer.dom(this).queryDistributedElements(slctr);
      return e$ && e$[0]
    },
    queryAllEffectiveChildren: function(slctr) {
      return Polymer.dom(this).queryDistributedElements(slctr)
    },
    getContentChildNodes: function(slctr) {
      var content =
        Polymer.dom(this.root).querySelector(slctr || "content");
      return content ? Polymer.dom(content).getDistributedNodes() : []
    },
    getContentChildren: function(slctr) {
      return this.getContentChildNodes(slctr).filter(function(n) {
        return n.nodeType === Node.ELEMENT_NODE
      })
    },
    fire: function(type, detail, options) {
      options = options || Polymer.nob;
      var node = options.node || this;
      detail = detail === null || detail === undefined ? {} : detail;
      var bubbles = options.bubbles === undefined ? true : options.bubbles;
      var cancelable = Boolean(options.cancelable);
      var useCache =
        options._useCache;
      var event = this._getEvent(type, bubbles, cancelable, useCache);
      event.detail = detail;
      if (useCache) this.__eventCache[type] = null;
      node.dispatchEvent(event);
      if (useCache) this.__eventCache[type] = event;
      return event
    },
    __eventCache: {},
    _getEvent: function(type, bubbles, cancelable, useCache) {
      var event = useCache && this.__eventCache[type];
      if (!event || (event.bubbles != bubbles || event.cancelable != cancelable)) event = new Event(type, {
        bubbles: Boolean(bubbles),
        cancelable: cancelable
      });
      return event
    },
    async: function(callback,
      waitTime) {
      var self = this;
      return Polymer.Async.run(function() {
        callback.call(self)
      }, waitTime)
    },
    cancelAsync: function(handle) {
      Polymer.Async.cancel(handle)
    },
    arrayDelete: function(path, item) {
      var index;
      if (Array.isArray(path)) {
        index = path.indexOf(item);
        if (index >= 0) return path.splice(index, 1)
      } else {
        var arr = this._get(path);
        index = arr.indexOf(item);
        if (index >= 0) return this.splice(path, index, 1)
      }
    },
    transform: function(transform, node) {
      node = node || this;
      node.style.webkitTransform = transform;
      node.style.transform = transform
    },
    translate3d: function(x, y, z, node) {
      node = node || this;
      this.transform("translate3d(" + x + "," + y + "," + z + ")", node)
    },
    importHref: function(href, onload, onerror, optAsync) {
      var link = document.createElement("link");
      link.rel = "import";
      link.href = href;
      var list = Polymer.Base.importHref.imported = Polymer.Base.importHref.imported || {};
      var cached = list[link.href];
      var imprt = cached || link;
      var self = this;
      var loadListener = function(e) {
        e.target.__firedLoad = true;
        e.target.removeEventListener("load", loadListener);
        e.target.removeEventListener("error",
          errorListener);
        return onload.call(self, e)
      };
      var errorListener = function(e) {
        e.target.__firedError = true;
        e.target.removeEventListener("load", loadListener);
        e.target.removeEventListener("error", errorListener);
        return onerror.call(self, e)
      };
      if (onload) imprt.addEventListener("load", loadListener);
      if (onerror) imprt.addEventListener("error", errorListener);
      if (cached) {
        if (cached.__firedLoad) cached.dispatchEvent(new Event("load"));
        if (cached.__firedError) cached.dispatchEvent(new Event("error"))
      } else {
        list[link.href] = link;
        optAsync = Boolean(optAsync);
        if (optAsync) link.setAttribute("async", "");
        document.head.appendChild(link)
      }
      return imprt
    },
    create: function(tag, props) {
      var elt = document.createElement(tag);
      if (props)
        for (var n in props) elt[n] = props[n];
      return elt
    },
    isLightDescendant: function(node) {
      return this !== node && this.contains(node) && Polymer.dom(this).getOwnerRoot() === Polymer.dom(node).getOwnerRoot()
    },
    isLocalDescendant: function(node) {
      return this.root === Polymer.dom(node).getOwnerRoot()
    }
  });
  if (!Polymer.Settings.useNativeCustomElements) {
    var importHref =
      Polymer.Base.importHref;
    Polymer.Base.importHref = function(href, onload, onerror, optAsync) {
      CustomElements.ready = false;
      var loadFn = function(e) {
        CustomElements.upgradeDocumentTree(document);
        CustomElements.ready = true;
        if (onload) return onload.call(this, e)
      };
      return importHref.call(this, href, loadFn, onerror, optAsync)
    }
  }
})();
Polymer.Bind = {
  prepareModel: function(model) {
    Polymer.Base.mixin(model, this._modelApi)
  },
  _modelApi: {
    _notifyChange: function(source, event, value) {
      value = value === undefined ? this[source] : value;
      event = event || Polymer.CaseMap.camelToDashCase(source) + "-changed";
      this.fire(event, {
        value: value
      }, {
        bubbles: false,
        cancelable: false,
        _useCache: Polymer.Settings.eventDataCache || !Polymer.Settings.isIE
      })
    },
    _propertySetter: function(property, value, effects, fromAbove) {
      var old = this.__data__[property];
      if (old !== value && (old === old || value ===
          value)) {
        this.__data__[property] = value;
        if (typeof value == "object") this._clearPath(property);
        if (this._propertyChanged) this._propertyChanged(property, value, old);
        if (effects) this._effectEffects(property, value, effects, old, fromAbove)
      }
      return old
    },
    __setProperty: function(property, value, quiet, node) {
      node = node || this;
      var effects = node._propertyEffects && node._propertyEffects[property];
      if (effects) node._propertySetter(property, value, effects, quiet);
      else if (node[property] !== value) node[property] = value
    },
    _effectEffects: function(property,
      value, effects, old, fromAbove) {
      for (var i = 0, l = effects.length, fx; i < l && (fx = effects[i]); i++) fx.fn.call(this, property, this[property], fx.effect, old, fromAbove)
    },
    _clearPath: function(path) {
      for (var prop in this.__data__)
        if (Polymer.Path.isDescendant(path, prop)) this.__data__[prop] = undefined
    }
  },
  ensurePropertyEffects: function(model, property) {
    if (!model._propertyEffects) model._propertyEffects = {};
    var fx = model._propertyEffects[property];
    if (!fx) fx = model._propertyEffects[property] = [];
    return fx
  },
  addPropertyEffect: function(model,
    property, kind, effect) {
    var fx = this.ensurePropertyEffects(model, property);
    var propEffect = {
      kind: kind,
      effect: effect,
      fn: Polymer.Bind["_" + kind + "Effect"]
    };
    fx.push(propEffect);
    return propEffect
  },
  createBindings: function(model) {
    var fx$ = model._propertyEffects;
    if (fx$)
      for (var n in fx$) {
        var fx = fx$[n];
        fx.sort(this._sortPropertyEffects);
        this._createAccessors(model, n, fx)
      }
  },
  _sortPropertyEffects: function() {
    var EFFECT_ORDER = {
      "compute": 0,
      "annotation": 1,
      "annotatedComputation": 2,
      "reflect": 3,
      "notify": 4,
      "observer": 5,
      "complexObserver": 6,
      "function": 7
    };
    return function(a, b) {
      return EFFECT_ORDER[a.kind] - EFFECT_ORDER[b.kind]
    }
  }(),
  _createAccessors: function(model, property, effects) {
    var defun = {
      get: function() {
        return this.__data__[property]
      }
    };
    var setter = function(value) {
      this._propertySetter(property, value, effects)
    };
    var info = model.getPropertyInfo && model.getPropertyInfo(property);
    if (info && info.readOnly) {
      if (!info.computed) model["_set" + this.upper(property)] = setter
    } else defun.set = setter;
    Object.defineProperty(model, property, defun)
  },
  upper: function(name) {
    return name[0].toUpperCase() +
      name.substring(1)
  },
  _addAnnotatedListener: function(model, index, property, path, event, negated) {
    if (!model._bindListeners) model._bindListeners = [];
    var fn = this._notedListenerFactory(property, path, Polymer.Path.isDeep(path), negated);
    var eventName = event || Polymer.CaseMap.camelToDashCase(property) + "-changed";
    model._bindListeners.push({
      index: index,
      property: property,
      path: path,
      changedFn: fn,
      event: eventName
    })
  },
  _isEventBogus: function(e, target) {
    return e.path && e.path[0] !== target
  },
  _notedListenerFactory: function(property,
    path, isStructured, negated) {
    return function(target, value, targetPath) {
      if (targetPath) {
        var newPath = Polymer.Path.translate(property, path, targetPath);
        this._notifyPath(newPath, value)
      } else {
        value = target[property];
        if (negated) value = !value;
        if (!isStructured) this[path] = value;
        else if (this.__data__[path] != value) this.set(path, value)
      }
    }
  },
  prepareInstance: function(inst) {
    inst.__data__ = Object.create(null)
  },
  setupBindListeners: function(inst) {
    var b$ = inst._bindListeners;
    for (var i = 0, l = b$.length, info; i < l && (info = b$[i]); i++) {
      var node =
        inst._nodes[info.index];
      this._addNotifyListener(node, inst, info.event, info.changedFn)
    }
  },
  _addNotifyListener: function(element, context, event, changedFn) {
    element.addEventListener(event, function(e) {
      return context._notifyListener(changedFn, e)
    })
  }
};
Polymer.Base.mixin(Polymer.Bind, {
  _shouldAddListener: function(effect) {
    return effect.name && effect.kind != "attribute" && effect.kind != "text" && !effect.isCompound && effect.parts[0].mode === "{"
  },
  _annotationEffect: function(source, value, effect) {
    if (source != effect.value) {
      value = this._get(effect.value);
      this.__data__[effect.value] = value
    }
    this._applyEffectValue(effect, value)
  },
  _reflectEffect: function(source, value, effect) {
    this.reflectPropertyToAttribute(source, effect.attribute, value)
  },
  _notifyEffect: function(source, value,
    effect, old, fromAbove) {
    if (!fromAbove) this._notifyChange(source, effect.event, value)
  },
  _functionEffect: function(source, value, fn, old, fromAbove) {
    fn.call(this, source, value, old, fromAbove)
  },
  _observerEffect: function(source, value, effect, old) {
    var fn = this[effect.method];
    if (fn) fn.call(this, value, old);
    else this._warn(this._logf("_observerEffect", "observer method `" + effect.method + "` not defined"))
  },
  _complexObserverEffect: function(source, value, effect) {
    var fn = this[effect.method];
    if (fn) {
      var args = Polymer.Bind._marshalArgs(this.__data__,
        effect, source, value);
      if (args) fn.apply(this, args)
    } else if (effect.dynamicFn);
    else this._warn(this._logf("_complexObserverEffect", "observer method `" + effect.method + "` not defined"))
  },
  _computeEffect: function(source, value, effect) {
    var fn = this[effect.method];
    if (fn) {
      var args = Polymer.Bind._marshalArgs(this.__data__, effect, source, value);
      if (args) {
        var computedvalue = fn.apply(this, args);
        this.__setProperty(effect.name, computedvalue)
      }
    } else if (effect.dynamicFn);
    else this._warn(this._logf("_computeEffect", "compute method `" +
      effect.method + "` not defined"))
  },
  _annotatedComputationEffect: function(source, value, effect) {
    var computedHost = this._rootDataHost || this;
    var fn = computedHost[effect.method];
    if (fn) {
      var args = Polymer.Bind._marshalArgs(this.__data__, effect, source, value);
      if (args) {
        var computedvalue = fn.apply(computedHost, args);
        this._applyEffectValue(effect, computedvalue)
      }
    } else if (effect.dynamicFn);
    else computedHost._warn(computedHost._logf("_annotatedComputationEffect", "compute method `" + effect.method + "` not defined"))
  },
  _marshalArgs: function(model,
    effect, path, value) {
    var values = [];
    var args = effect.args;
    var bailoutEarly = args.length > 1 || effect.dynamicFn;
    for (var i = 0, l = args.length; i < l; i++) {
      var arg = args[i];
      var name = arg.name;
      var v;
      if (arg.literal) v = arg.value;
      else if (path === name) v = value;
      else {
        v = model[name];
        if (v === undefined && arg.structured) v = Polymer.Base._get(name, model)
      }
      if (bailoutEarly && v === undefined) return;
      if (arg.wildcard) {
        var matches = Polymer.Path.isAncestor(path, name);
        values[i] = {
          path: matches ? path : name,
          value: matches ? value : v,
          base: v
        }
      } else values[i] = v
    }
    return values
  }
});
Polymer.Base._addFeature({
  _addPropertyEffect: function(property, kind, effect) {
    var prop = Polymer.Bind.addPropertyEffect(this, property, kind, effect);
    prop.pathFn = this["_" + prop.kind + "PathEffect"]
  },
  _prepEffects: function() {
    Polymer.Bind.prepareModel(this);
    this._addAnnotationEffects(this._notes)
  },
  _prepBindings: function() {
    Polymer.Bind.createBindings(this)
  },
  _addPropertyEffects: function(properties) {
    if (properties)
      for (var p in properties) {
        var prop = properties[p];
        if (prop.observer) this._addObserverEffect(p, prop.observer);
        if (prop.computed) {
          prop.readOnly = true;
          this._addComputedEffect(p, prop.computed)
        }
        if (prop.notify) this._addPropertyEffect(p, "notify", {
          event: Polymer.CaseMap.camelToDashCase(p) + "-changed"
        });
        if (prop.reflectToAttribute) {
          var attr = Polymer.CaseMap.camelToDashCase(p);
          if (attr[0] === "-") this._warn(this._logf("_addPropertyEffects", "Property " + p + " cannot be reflected to attribute " + attr + ' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'));
          else this._addPropertyEffect(p,
            "reflect", {
              attribute: attr
            })
        }
        if (prop.readOnly) Polymer.Bind.ensurePropertyEffects(this, p)
      }
  },
  _addComputedEffect: function(name, expression) {
    var sig = this._parseMethod(expression);
    var dynamicFn = sig.dynamicFn;
    for (var i = 0, arg; i < sig.args.length && (arg = sig.args[i]); i++) this._addPropertyEffect(arg.model, "compute", {
      method: sig.method,
      args: sig.args,
      trigger: arg,
      name: name,
      dynamicFn: dynamicFn
    });
    if (dynamicFn) this._addPropertyEffect(sig.method, "compute", {
      method: sig.method,
      args: sig.args,
      trigger: null,
      name: name,
      dynamicFn: dynamicFn
    })
  },
  _addObserverEffect: function(property, observer) {
    this._addPropertyEffect(property, "observer", {
      method: observer,
      property: property
    })
  },
  _addComplexObserverEffects: function(observers) {
    if (observers)
      for (var i = 0, o; i < observers.length && (o = observers[i]); i++) this._addComplexObserverEffect(o)
  },
  _addComplexObserverEffect: function(observer) {
    var sig = this._parseMethod(observer);
    if (!sig) throw new Error("Malformed observer expression '" + observer + "'");
    var dynamicFn = sig.dynamicFn;
    for (var i = 0, arg; i < sig.args.length && (arg = sig.args[i]); i++) this._addPropertyEffect(arg.model,
      "complexObserver", {
        method: sig.method,
        args: sig.args,
        trigger: arg,
        dynamicFn: dynamicFn
      });
    if (dynamicFn) this._addPropertyEffect(sig.method, "complexObserver", {
      method: sig.method,
      args: sig.args,
      trigger: null,
      dynamicFn: dynamicFn
    })
  },
  _addAnnotationEffects: function(notes) {
    for (var i = 0, note; i < notes.length && (note = notes[i]); i++) {
      var b$ = note.bindings;
      for (var j = 0, binding; j < b$.length && (binding = b$[j]); j++) this._addAnnotationEffect(binding, i)
    }
  },
  _addAnnotationEffect: function(note, index) {
    if (Polymer.Bind._shouldAddListener(note)) Polymer.Bind._addAnnotatedListener(this,
      index, note.name, note.parts[0].value, note.parts[0].event, note.parts[0].negate);
    for (var i = 0; i < note.parts.length; i++) {
      var part = note.parts[i];
      if (part.signature) this._addAnnotatedComputationEffect(note, part, index);
      else if (!part.literal)
        if (note.kind === "attribute" && note.name[0] === "-") this._warn(this._logf("_addAnnotationEffect", "Cannot set attribute " + note.name + ' because "-" is not a valid attribute starting character'));
        else this._addPropertyEffect(part.model, "annotation", {
          kind: note.kind,
          index: index,
          name: note.name,
          propertyName: note.propertyName,
          value: part.value,
          isCompound: note.isCompound,
          compoundIndex: part.compoundIndex,
          event: part.event,
          customEvent: part.customEvent,
          negate: part.negate
        })
    }
  },
  _addAnnotatedComputationEffect: function(note, part, index) {
    var sig = part.signature;
    if (sig["static"]) this.__addAnnotatedComputationEffect("__static__", index, note, part, null);
    else {
      for (var i = 0, arg; i < sig.args.length && (arg = sig.args[i]); i++)
        if (!arg.literal) this.__addAnnotatedComputationEffect(arg.model, index, note, part, arg);
      if (sig.dynamicFn) this.__addAnnotatedComputationEffect(sig.method,
        index, note, part, null)
    }
  },
  __addAnnotatedComputationEffect: function(property, index, note, part, trigger) {
    this._addPropertyEffect(property, "annotatedComputation", {
      index: index,
      isCompound: note.isCompound,
      compoundIndex: part.compoundIndex,
      kind: note.kind,
      name: note.name,
      negate: part.negate,
      method: part.signature.method,
      args: part.signature.args,
      trigger: trigger,
      dynamicFn: part.signature.dynamicFn
    })
  },
  _parseMethod: function(expression) {
    var m = expression.match(/([^\s]+?)\(([\s\S]*)\)/);
    if (m) {
      var sig = {
        method: m[1],
        "static": true
      };
      if (this.getPropertyInfo(sig.method) !== Polymer.nob) {
        sig["static"] = false;
        sig.dynamicFn = true
      }
      if (m[2].trim()) {
        var args = m[2].replace(/\\,/g, "&comma;").split(",");
        return this._parseArgs(args, sig)
      } else {
        sig.args = Polymer.nar;
        return sig
      }
    }
  },
  _parseArgs: function(argList, sig) {
    sig.args = argList.map(function(rawArg) {
      var arg = this._parseArg(rawArg);
      if (!arg.literal) sig["static"] = false;
      return arg
    }, this);
    return sig
  },
  _parseArg: function(rawArg) {
    var arg = rawArg.trim().replace(/&comma;/g, ",").replace(/\\(.)/g, "$1");
    var a = {
      name: arg
    };
    var fc = arg[0];
    if (fc === "-") fc = arg[1];
    if (fc >= "0" && fc <= "9") fc = "#";
    switch (fc) {
      case "'":
      case '"':
        a.value = arg.slice(1, -1);
        a.literal = true;
        break;
      case "#":
        a.value = Number(arg);
        a.literal = true;
        break
    }
    if (!a.literal) {
      a.model = Polymer.Path.root(arg);
      a.structured = Polymer.Path.isDeep(arg);
      if (a.structured) {
        a.wildcard = arg.slice(-2) == ".*";
        if (a.wildcard) a.name = arg.slice(0, -2)
      }
    }
    return a
  },
  _marshalInstanceEffects: function() {
    Polymer.Bind.prepareInstance(this);
    if (this._bindListeners) Polymer.Bind.setupBindListeners(this)
  },
  _applyEffectValue: function(info,
    value) {
    var node = this._nodes[info.index];
    var property = info.name;
    value = this._computeFinalAnnotationValue(node, property, value, info);
    if (info.kind == "attribute") this.serializeValueToAttribute(value, property, node);
    else {
      var pinfo = node._propertyInfo && node._propertyInfo[property];
      if (pinfo && pinfo.readOnly) return;
      this.__setProperty(property, value, Polymer.Settings.suppressBindingNotifications, node)
    }
  },
  _computeFinalAnnotationValue: function(node, property, value, info) {
    if (info.negate) value = !value;
    if (info.isCompound) {
      var storage =
        node.__compoundStorage__[property];
      storage[info.compoundIndex] = value;
      value = storage.join("")
    }
    if (info.kind !== "attribute") {
      if (property === "className") value = this._scopeElementClass(node, value);
      if (property === "textContent" || node.localName == "input" && property == "value") value = value == undefined ? "" : value
    }
    return value
  },
  _executeStaticEffects: function() {
    if (this._propertyEffects && this._propertyEffects.__static__) this._effectEffects("__static__", null, this._propertyEffects.__static__)
  }
});
(function() {
  var usePolyfillProto = Polymer.Settings.usePolyfillProto;
  var avoidInstanceProperties = Boolean(Object.getOwnPropertyDescriptor(document.documentElement, "properties"));
  Polymer.Base._addFeature({
    _setupConfigure: function(initialConfig) {
      this._config = {};
      this._handlers = [];
      this._aboveConfig = null;
      if (initialConfig)
        for (var i in initialConfig)
          if (initialConfig[i] !== undefined) this._config[i] = initialConfig[i]
    },
    _marshalAttributes: function() {
      this._takeAttributesToModel(this._config)
    },
    _attributeChangedImpl: function(name) {
      var model =
        this._clientsReadied ? this : this._config;
      this._setAttributeToProperty(model, name)
    },
    _configValue: function(name, value) {
      var info = this._propertyInfo[name];
      if (!info || !info.readOnly) this._config[name] = value
    },
    _beforeClientsReady: function() {
      this._configure()
    },
    _configure: function() {
      this._configureAnnotationReferences();
      this._configureInstanceProperties();
      this._aboveConfig = this.mixin({}, this._config);
      var config = {};
      for (var i = 0; i < this.behaviors.length; i++) this._configureProperties(this.behaviors[i].properties,
        config);
      this._configureProperties(avoidInstanceProperties ? this.__proto__.properties : this.properties, config);
      this.mixin(config, this._aboveConfig);
      this._config = config;
      if (this._clients && this._clients.length) this._distributeConfig(this._config)
    },
    _configureInstanceProperties: function() {
      for (var i in this._propertyEffects)
        if (!usePolyfillProto && this.hasOwnProperty(i)) {
          this._configValue(i, this[i]);
          delete this[i]
        }
    },
    _configureProperties: function(properties, config) {
      for (var i in properties) {
        var c = properties[i];
        if (c.value !== undefined) {
          var value = c.value;
          if (typeof value == "function") value = value.call(this, this._config);
          config[i] = value
        }
      }
    },
    _distributeConfig: function(config) {
      var fx$ = this._propertyEffects;
      if (fx$)
        for (var p in config) {
          var fx = fx$[p];
          if (fx)
            for (var i = 0, l = fx.length, x; i < l && (x = fx[i]); i++)
              if (x.kind === "annotation") {
                var node = this._nodes[x.effect.index];
                var name = x.effect.propertyName;
                var isAttr = x.effect.kind == "attribute";
                var hasEffect = node._propertyEffects && node._propertyEffects[name];
                if (node._configValue &&
                  (hasEffect || !isAttr)) {
                  var value = p === x.effect.value ? config[p] : this._get(x.effect.value, config);
                  value = this._computeFinalAnnotationValue(node, name, value, x.effect);
                  if (isAttr) value = node.deserialize(this.serialize(value), node._propertyInfo[name].type);
                  node._configValue(name, value)
                }
              }
        }
    },
    _afterClientsReady: function() {
      this.importPath = this._importPath;
      this.rootPath = Polymer.rootPath;
      this._executeStaticEffects();
      this._applyConfig(this._config, this._aboveConfig);
      this._flushHandlers()
    },
    _applyConfig: function(config,
      aboveConfig) {
      for (var n in config)
        if (this[n] === undefined) this.__setProperty(n, config[n], n in aboveConfig)
    },
    _notifyListener: function(fn, e) {
      if (!Polymer.Bind._isEventBogus(e, e.target)) {
        var value, path;
        if (e.detail) {
          value = e.detail.value;
          path = e.detail.path
        }
        if (!this._clientsReadied) this._queueHandler([fn, e.target, value, path]);
        else return fn.call(this, e.target, value, path)
      }
    },
    _queueHandler: function(args) {
      this._handlers.push(args)
    },
    _flushHandlers: function() {
      var h$ = this._handlers;
      for (var i = 0, l = h$.length, h; i < l &&
        (h = h$[i]); i++) h[0].call(this, h[1], h[2], h[3]);
      this._handlers = []
    }
  })
})();
(function() {
  var Path = Polymer.Path;
  Polymer.Base._addFeature({
    notifyPath: function(path, value, fromAbove) {
      var info = {};
      var v = this._get(path, this, info);
      if (arguments.length === 1) value = v;
      if (info.path) this._notifyPath(info.path, value, fromAbove)
    },
    _notifyPath: function(path, value, fromAbove) {
      var old = this._propertySetter(path, value);
      if (old !== value && (old === old || value === value)) {
        this._pathEffector(path, value);
        if (!fromAbove) this._notifyPathUp(path, value);
        return true
      }
    },
    _getPathParts: function(path) {
      if (Array.isArray(path)) {
        var parts = [];
        for (var i = 0; i < path.length; i++) {
          var args = path[i].toString().split(".");
          for (var j = 0; j < args.length; j++) parts.push(args[j])
        }
        return parts
      } else return path.toString().split(".")
    },
    set: function(path, value, root) {
      var prop = root || this;
      var parts = this._getPathParts(path);
      var array;
      var last = parts[parts.length - 1];
      if (parts.length > 1) {
        for (var i = 0; i < parts.length - 1; i++) {
          var part = parts[i];
          if (array && part[0] == "#") prop = Polymer.Collection.get(array).getItem(part);
          else {
            prop = prop[part];
            if (array && parseInt(part, 10) == part) parts[i] =
              Polymer.Collection.get(array).getKey(prop)
          }
          if (!prop) return;
          array = Array.isArray(prop) ? prop : null
        }
        if (array) {
          var coll = Polymer.Collection.get(array);
          var old, key;
          if (last[0] == "#") {
            key = last;
            old = coll.getItem(key);
            last = array.indexOf(old);
            coll.setItem(key, value)
          } else if (parseInt(last, 10) == last) {
            old = prop[last];
            key = coll.getKey(old);
            parts[i] = key;
            coll.setItem(key, value)
          }
        }
        prop[last] = value;
        if (!root) this._notifyPath(parts.join("."), value)
      } else prop[path] = value
    },
    get: function(path, root) {
      return this._get(path, root)
    },
    _get: function(path, root, info) {
      var prop = root || this;
      var parts = this._getPathParts(path);
      var array;
      for (var i = 0; i < parts.length; i++) {
        if (!prop) return;
        var part = parts[i];
        if (array && part[0] == "#") prop = Polymer.Collection.get(array).getItem(part);
        else {
          prop = prop[part];
          if (info && array && parseInt(part, 10) == part) parts[i] = Polymer.Collection.get(array).getKey(prop)
        }
        array = Array.isArray(prop) ? prop : null
      }
      if (info) info.path = parts.join(".");
      return prop
    },
    _pathEffector: function(path, value) {
      var model = Path.root(path);
      var fx$ = this._propertyEffects &&
        this._propertyEffects[model];
      if (fx$)
        for (var i = 0, fx; i < fx$.length && (fx = fx$[i]); i++) {
          var fxFn = fx.pathFn;
          if (fxFn) fxFn.call(this, path, value, fx.effect)
        }
      if (this._boundPaths) this._notifyBoundPaths(path, value)
    },
    _annotationPathEffect: function(path, value, effect) {
      if (Path.matches(effect.value, false, path)) Polymer.Bind._annotationEffect.call(this, path, value, effect);
      else if (!effect.negate && Path.isDescendant(effect.value, path)) {
        var node = this._nodes[effect.index];
        if (node && node._notifyPath) {
          var newPath = Path.translate(effect.value,
            effect.name, path);
          node._notifyPath(newPath, value, true)
        }
      }
    },
    _complexObserverPathEffect: function(path, value, effect) {
      if (Path.matches(effect.trigger.name, effect.trigger.wildcard, path)) Polymer.Bind._complexObserverEffect.call(this, path, value, effect)
    },
    _computePathEffect: function(path, value, effect) {
      if (Path.matches(effect.trigger.name, effect.trigger.wildcard, path)) Polymer.Bind._computeEffect.call(this, path, value, effect)
    },
    _annotatedComputationPathEffect: function(path, value, effect) {
      if (Path.matches(effect.trigger.name,
          effect.trigger.wildcard, path)) Polymer.Bind._annotatedComputationEffect.call(this, path, value, effect)
    },
    linkPaths: function(to, from) {
      this._boundPaths = this._boundPaths || {};
      if (from) this._boundPaths[to] = from;
      else this.unlinkPaths(to)
    },
    unlinkPaths: function(path) {
      if (this._boundPaths) delete this._boundPaths[path]
    },
    _notifyBoundPaths: function(path, value) {
      for (var a in this._boundPaths) {
        var b = this._boundPaths[a];
        if (Path.isDescendant(a, path)) this._notifyPath(Path.translate(a, b, path), value);
        else if (Path.isDescendant(b,
            path)) this._notifyPath(Path.translate(b, a, path), value)
      }
    },
    _notifyPathUp: function(path, value) {
      var rootName = Path.root(path);
      var dashCaseName = Polymer.CaseMap.camelToDashCase(rootName);
      var eventName = dashCaseName + this._EVENT_CHANGED;
      this.fire(eventName, {
        path: path,
        value: value
      }, {
        bubbles: false,
        _useCache: Polymer.Settings.eventDataCache || !Polymer.Settings.isIE
      })
    },
    _EVENT_CHANGED: "-changed",
    notifySplices: function(path, splices) {
      var info = {};
      var array = this._get(path, this, info);
      this._notifySplices(array, info.path,
        splices)
    },
    _notifySplices: function(array, path, splices) {
      var change = {
        keySplices: Polymer.Collection.applySplices(array, splices),
        indexSplices: splices
      };
      var splicesPath = path + ".splices";
      this._notifyPath(splicesPath, change);
      this._notifyPath(path + ".length", array.length);
      this.__data__[splicesPath] = {
        keySplices: null,
        indexSplices: null
      }
    },
    _notifySplice: function(array, path, index, added, removed) {
      this._notifySplices(array, path, [{
        index: index,
        addedCount: added,
        removed: removed,
        object: array,
        type: "splice"
      }])
    },
    push: function(path) {
      var info = {};
      var array = this._get(path, this, info);
      var args = Array.prototype.slice.call(arguments, 1);
      var len = array.length;
      var ret = array.push.apply(array, args);
      if (args.length) this._notifySplice(array, info.path, len, args.length, []);
      return ret
    },
    pop: function(path) {
      var info = {};
      var array = this._get(path, this, info);
      var hadLength = Boolean(array.length);
      var args = Array.prototype.slice.call(arguments, 1);
      var ret = array.pop.apply(array, args);
      if (hadLength) this._notifySplice(array, info.path, array.length, 0, [ret]);
      return ret
    },
    splice: function(path,
      start) {
      var info = {};
      var array = this._get(path, this, info);
      if (start < 0) start = array.length - Math.floor(-start);
      else start = Math.floor(start);
      if (!start) start = 0;
      var args = Array.prototype.slice.call(arguments, 1);
      var ret = array.splice.apply(array, args);
      var addedCount = Math.max(args.length - 2, 0);
      if (addedCount || ret.length) this._notifySplice(array, info.path, start, addedCount, ret);
      return ret
    },
    shift: function(path) {
      var info = {};
      var array = this._get(path, this, info);
      var hadLength = Boolean(array.length);
      var args = Array.prototype.slice.call(arguments,
        1);
      var ret = array.shift.apply(array, args);
      if (hadLength) this._notifySplice(array, info.path, 0, 0, [ret]);
      return ret
    },
    unshift: function(path) {
      var info = {};
      var array = this._get(path, this, info);
      var args = Array.prototype.slice.call(arguments, 1);
      var ret = array.unshift.apply(array, args);
      if (args.length) this._notifySplice(array, info.path, 0, args.length, []);
      return ret
    },
    prepareModelNotifyPath: function(model) {
      this.mixin(model, {
        fire: Polymer.Base.fire,
        _getEvent: Polymer.Base._getEvent,
        __eventCache: Polymer.Base.__eventCache,
        notifyPath: Polymer.Base.notifyPath,
        _get: Polymer.Base._get,
        _EVENT_CHANGED: Polymer.Base._EVENT_CHANGED,
        _notifyPath: Polymer.Base._notifyPath,
        _notifyPathUp: Polymer.Base._notifyPathUp,
        _pathEffector: Polymer.Base._pathEffector,
        _annotationPathEffect: Polymer.Base._annotationPathEffect,
        _complexObserverPathEffect: Polymer.Base._complexObserverPathEffect,
        _annotatedComputationPathEffect: Polymer.Base._annotatedComputationPathEffect,
        _computePathEffect: Polymer.Base._computePathEffect,
        _notifyBoundPaths: Polymer.Base._notifyBoundPaths,
        _getPathParts: Polymer.Base._getPathParts
      })
    }
  })
})();
Polymer.Base._addFeature({
  resolveUrl: function(url) {
    return Polymer.ResolveUrl.resolveUrl(url, this._importPath)
  }
});
Polymer.CssParse = function() {
  return {
    parse: function(text) {
      text = this._clean(text);
      return this._parseCss(this._lex(text), text)
    },
    _clean: function(cssText) {
      return cssText.replace(this._rx.comments, "").replace(this._rx.port, "")
    },
    _lex: function(text) {
      var root = {
        start: 0,
        end: text.length
      };
      var n = root;
      for (var i = 0, l = text.length; i < l; i++) switch (text[i]) {
        case this.OPEN_BRACE:
          if (!n.rules) n.rules = [];
          var p = n;
          var previous = p.rules[p.rules.length - 1];
          n = {
            start: i + 1,
            parent: p,
            previous: previous
          };
          p.rules.push(n);
          break;
        case this.CLOSE_BRACE:
          n.end =
            i + 1;
          n = n.parent || root;
          break
      }
      return root
    },
    _parseCss: function(node, text) {
      var t = text.substring(node.start, node.end - 1);
      node.parsedCssText = node.cssText = t.trim();
      if (node.parent) {
        var ss = node.previous ? node.previous.end : node.parent.start;
        t = text.substring(ss, node.start - 1);
        t = this._expandUnicodeEscapes(t);
        t = t.replace(this._rx.multipleSpaces, " ");
        t = t.substring(t.lastIndexOf(";") + 1);
        var s = node.parsedSelector = node.selector = t.trim();
        node.atRule = s.indexOf(this.AT_START) === 0;
        if (node.atRule)
          if (s.indexOf(this.MEDIA_START) ===
            0) node.type = this.types.MEDIA_RULE;
          else {
            if (s.match(this._rx.keyframesRule)) {
              node.type = this.types.KEYFRAMES_RULE;
              node.keyframesName = node.selector.split(this._rx.multipleSpaces).pop()
            }
          }
        else if (s.indexOf(this.VAR_START) === 0) node.type = this.types.MIXIN_RULE;
        else node.type = this.types.STYLE_RULE
      }
      var r$ = node.rules;
      if (r$)
        for (var i = 0, l = r$.length, r; i < l && (r = r$[i]); i++) this._parseCss(r, text);
      return node
    },
    _expandUnicodeEscapes: function(s) {
      return s.replace(/\\([0-9a-f]{1,6})\s/gi, function() {
        var code = arguments[1],
          repeat = 6 - code.length;
        while (repeat--) code = "0" + code;
        return "\\" + code
      })
    },
    stringify: function(node, preserveProperties, text) {
      text = text || "";
      var cssText = "";
      if (node.cssText || node.rules) {
        var r$ = node.rules;
        if (r$ && !this._hasMixinRules(r$))
          for (var i = 0, l = r$.length, r; i < l && (r = r$[i]); i++) cssText = this.stringify(r, preserveProperties, cssText);
        else {
          cssText = preserveProperties ? node.cssText : this.removeCustomProps(node.cssText);
          cssText = cssText.trim();
          if (cssText) cssText = "  " + cssText + "\n"
        }
      }
      if (cssText) {
        if (node.selector) text +=
          node.selector + " " + this.OPEN_BRACE + "\n";
        text += cssText;
        if (node.selector) text += this.CLOSE_BRACE + "\n\n"
      }
      return text
    },
    _hasMixinRules: function(rules) {
      return rules[0].selector.indexOf(this.VAR_START) === 0
    },
    removeCustomProps: function(cssText) {
      cssText = this.removeCustomPropAssignment(cssText);
      return this.removeCustomPropApply(cssText)
    },
    removeCustomPropAssignment: function(cssText) {
      return cssText.replace(this._rx.customProp, "").replace(this._rx.mixinProp, "")
    },
    removeCustomPropApply: function(cssText) {
      return cssText.replace(this._rx.mixinApply,
        "").replace(this._rx.varApply, "")
    },
    types: {
      STYLE_RULE: 1,
      KEYFRAMES_RULE: 7,
      MEDIA_RULE: 4,
      MIXIN_RULE: 1E3
    },
    OPEN_BRACE: "{",
    CLOSE_BRACE: "}",
    _rx: {
      comments: /\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,
      port: /@import[^;]*;/gim,
      customProp: /(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,
      mixinProp: /(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,
      mixinApply: /@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,
      varApply: /[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,
      keyframesRule: /^@[^\s]*keyframes/,
      multipleSpaces: /\s+/g
    },
    VAR_START: "--",
    MEDIA_START: "@media",
    AT_START: "@"
  }
}();
Polymer.StyleUtil = function() {
  var settings = Polymer.Settings;
  return {
    unscopedStyleImports: new WeakMap,
    SHADY_UNSCOPED_ATTR: "shady-unscoped",
    NATIVE_VARIABLES: Polymer.Settings.useNativeCSSProperties,
    MODULE_STYLES_SELECTOR: "style, link[rel=import][type~=css], template",
    INCLUDE_ATTR: "include",
    toCssText: function(rules, callback) {
      if (typeof rules === "string") rules = this.parser.parse(rules);
      if (callback) this.forEachRule(rules, callback);
      return this.parser.stringify(rules, this.NATIVE_VARIABLES)
    },
    forRulesInStyles: function(styles,
      styleRuleCallback, keyframesRuleCallback) {
      if (styles)
        for (var i = 0, l = styles.length, s; i < l && (s = styles[i]); i++) this.forEachRuleInStyle(s, styleRuleCallback, keyframesRuleCallback)
    },
    forActiveRulesInStyles: function(styles, styleRuleCallback, keyframesRuleCallback) {
      if (styles)
        for (var i = 0, l = styles.length, s; i < l && (s = styles[i]); i++) this.forEachRuleInStyle(s, styleRuleCallback, keyframesRuleCallback, true)
    },
    rulesForStyle: function(style) {
      if (!style.__cssRules && style.textContent) style.__cssRules = this.parser.parse(style.textContent);
      return style.__cssRules
    },
    isKeyframesSelector: function(rule) {
      return rule.parent && rule.parent.type === this.ruleTypes.KEYFRAMES_RULE
    },
    forEachRuleInStyle: function(style, styleRuleCallback, keyframesRuleCallback, onlyActiveRules) {
      var rules = this.rulesForStyle(style);
      var styleCallback, keyframeCallback;
      if (styleRuleCallback) styleCallback = function(rule) {
        styleRuleCallback(rule, style)
      };
      if (keyframesRuleCallback) keyframeCallback = function(rule) {
        keyframesRuleCallback(rule, style)
      };
      this.forEachRule(rules, styleCallback,
        keyframeCallback, onlyActiveRules)
    },
    forEachRule: function(node, styleRuleCallback, keyframesRuleCallback, onlyActiveRules) {
      if (!node) return;
      var skipRules = false;
      if (onlyActiveRules)
        if (node.type === this.ruleTypes.MEDIA_RULE) {
          var matchMedia = node.selector.match(this.rx.MEDIA_MATCH);
          if (matchMedia)
            if (!window.matchMedia(matchMedia[1]).matches) skipRules = true
        } if (node.type === this.ruleTypes.STYLE_RULE) styleRuleCallback(node);
      else if (keyframesRuleCallback && node.type === this.ruleTypes.KEYFRAMES_RULE) keyframesRuleCallback(node);
      else if (node.type === this.ruleTypes.MIXIN_RULE) skipRules = true;
      var r$ = node.rules;
      if (r$ && !skipRules)
        for (var i = 0, l = r$.length, r; i < l && (r = r$[i]); i++) this.forEachRule(r, styleRuleCallback, keyframesRuleCallback, onlyActiveRules)
    },
    applyCss: function(cssText, moniker, target, contextNode) {
      var style = this.createScopeStyle(cssText, moniker);
      return this.applyStyle(style, target, contextNode)
    },
    applyStyle: function(style, target, contextNode) {
      target = target || document.head;
      var after = contextNode && contextNode.nextSibling || target.firstChild;
      this.__lastHeadApplyNode = style;
      return target.insertBefore(style, after)
    },
    createScopeStyle: function(cssText, moniker) {
      var style = document.createElement("style");
      if (moniker) style.setAttribute("scope", moniker);
      style.textContent = cssText;
      return style
    },
    __lastHeadApplyNode: null,
    applyStylePlaceHolder: function(moniker) {
      var placeHolder = document.createComment(" Shady DOM styles for " + moniker + " ");
      var after = this.__lastHeadApplyNode ? this.__lastHeadApplyNode.nextSibling : null;
      var scope = document.head;
      scope.insertBefore(placeHolder,
        after || scope.firstChild);
      this.__lastHeadApplyNode = placeHolder;
      return placeHolder
    },
    cssFromModules: function(moduleIds, warnIfNotFound) {
      var modules = moduleIds.trim().split(/\s+/);
      var cssText = "";
      for (var i = 0; i < modules.length; i++) cssText += this.cssFromModule(modules[i], warnIfNotFound);
      return cssText
    },
    cssFromModule: function(moduleId, warnIfNotFound) {
      var m = Polymer.DomModule["import"](moduleId);
      if (m && !m._cssText) m._cssText = this.cssFromElement(m);
      if (!m && warnIfNotFound) console.warn("Could not find style data in module named",
        moduleId);
      return m && m._cssText || ""
    },
    cssFromElement: function(element) {
      var cssText = "";
      var content = element.content || element;
      var e$ = Polymer.TreeApi.arrayCopy(content.querySelectorAll(this.MODULE_STYLES_SELECTOR));
      for (var i = 0, e; i < e$.length; i++) {
        e = e$[i];
        if (e.localName === "template") {
          if (!e.hasAttribute("preserve-content")) cssText += this.cssFromElement(e)
        } else if (e.localName === "style") {
          var include = e.getAttribute(this.INCLUDE_ATTR);
          if (include) cssText += this.cssFromModules(include, true);
          e = e.__appliedElement ||
            e;
          e.parentNode.removeChild(e);
          var css = this.resolveCss(e.textContent, element.ownerDocument);
          if (!settings.useNativeShadow && e.hasAttribute(this.SHADY_UNSCOPED_ATTR)) {
            e.textContent = css;
            document.head.insertBefore(e, document.head.firstChild)
          } else cssText += css
        } else if (e["import"] && e["import"].body) {
          var importCss = this.resolveCss(e["import"].body.textContent, e["import"]);
          if (!settings.useNativeShadow && e.hasAttribute(this.SHADY_UNSCOPED_ATTR)) {
            if (!this.unscopedStyleImports.has(e["import"])) {
              this.unscopedStyleImports.set(e["import"],
                true);
              var importStyle = document.createElement("style");
              importStyle.setAttribute(this.SHADY_UNSCOPED_ATTR, "");
              importStyle.textContent = importCss;
              document.head.insertBefore(importStyle, document.head.firstChild)
            }
          } else cssText += importCss
        }
      }
      return cssText
    },
    styleIncludesToTemplate: function(targetTemplate) {
      var styles = targetTemplate.content.querySelectorAll("style[include]");
      for (var i = 0, s; i < styles.length; i++) {
        s = styles[i];
        s.parentNode.insertBefore(this._includesToFragment(s.getAttribute("include")), s)
      }
    },
    _includesToFragment: function(styleIncludes) {
      var includeArray =
        styleIncludes.trim().split(" ");
      var frag = document.createDocumentFragment();
      for (var i = 0; i < includeArray.length; i++) {
        var t = Polymer.DomModule["import"](includeArray[i], "template");
        if (t) this._addStylesToFragment(frag, t.content)
      }
      return frag
    },
    _addStylesToFragment: function(frag, source) {
      var s$ = source.querySelectorAll("style");
      for (var i = 0, s; i < s$.length; i++) {
        s = s$[i];
        var include = s.getAttribute("include");
        if (include) frag.appendChild(this._includesToFragment(include));
        if (s.textContent) frag.appendChild(s.cloneNode(true))
      }
    },
    isTargetedBuild: function(buildType) {
      return settings.useNativeShadow ? buildType === "shadow" : buildType === "shady"
    },
    cssBuildTypeForModule: function(module) {
      var dm = Polymer.DomModule["import"](module);
      if (dm) return this.getCssBuildType(dm)
    },
    getCssBuildType: function(element) {
      return element.getAttribute("css-build")
    },
    _findMatchingParen: function(text, start) {
      var level = 0;
      for (var i = start, l = text.length; i < l; i++) switch (text[i]) {
        case "(":
          level++;
          break;
        case ")":
          if (--level === 0) return i;
          break
      }
      return -1
    },
    processVariableAndFallback: function(str,
      callback) {
      var start = str.indexOf("var(");
      if (start === -1) return callback(str, "", "", "");
      var end = this._findMatchingParen(str, start + 3);
      var inner = str.substring(start + 4, end);
      var prefix = str.substring(0, start);
      var suffix = this.processVariableAndFallback(str.substring(end + 1), callback);
      var comma = inner.indexOf(",");
      if (comma === -1) return callback(prefix, inner.trim(), "", suffix);
      var value = inner.substring(0, comma).trim();
      var fallback = inner.substring(comma + 1).trim();
      return callback(prefix, value, fallback, suffix)
    },
    rx: {
      VAR_ASSIGN: /(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,
      MIXIN_MATCH: /(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,
      VAR_CONSUMED: /(--[\w-]+)\s*([:,;)]|$)/gi,
      ANIMATION_MATCH: /(animation\s*:)|(animation-name\s*:)/,
      MEDIA_MATCH: /@media[^(]*(\([^)]*\))/,
      IS_VAR: /^--/,
      BRACKETED: /\{[^}]*\}/g,
      HOST_PREFIX: "(?:^|[^.#[:])",
      HOST_SUFFIX: "($|[.:[\\s>+~])"
    },
    resolveCss: Polymer.ResolveUrl.resolveCss,
    parser: Polymer.CssParse,
    ruleTypes: Polymer.CssParse.types
  }
}();
Polymer.StyleTransformer = function() {
  var styleUtil = Polymer.StyleUtil;
  var settings = Polymer.Settings;
  var api = {
    dom: function(node, scope, useAttr, shouldRemoveScope) {
      this._transformDom(node, scope || "", useAttr, shouldRemoveScope)
    },
    _transformDom: function(node, selector, useAttr, shouldRemoveScope) {
      if (node.setAttribute) this.element(node, selector, useAttr, shouldRemoveScope);
      var c$ = Polymer.dom(node).childNodes;
      for (var i = 0; i < c$.length; i++) this._transformDom(c$[i], selector, useAttr, shouldRemoveScope)
    },
    element: function(element,
      scope, useAttr, shouldRemoveScope) {
      if (useAttr)
        if (shouldRemoveScope) element.removeAttribute(SCOPE_NAME);
        else element.setAttribute(SCOPE_NAME, scope);
      else if (scope)
        if (element.classList)
          if (shouldRemoveScope) {
            element.classList.remove(SCOPE_NAME);
            element.classList.remove(scope)
          } else {
            element.classList.add(SCOPE_NAME);
            element.classList.add(scope)
          }
      else if (element.getAttribute) {
        var c = element.getAttribute(CLASS);
        if (shouldRemoveScope) {
          if (c) element.setAttribute(CLASS, c.replace(SCOPE_NAME, "").replace(scope, ""))
        } else element.setAttribute(CLASS,
          (c ? c + " " : "") + SCOPE_NAME + " " + scope)
      }
    },
    elementStyles: function(element, callback) {
      var styles = element._styles;
      var cssText = "";
      var cssBuildType = element.__cssBuild;
      var passthrough = settings.useNativeShadow || cssBuildType === "shady";
      var cb;
      if (passthrough) {
        var self = this;
        cb = function(rule) {
          rule.selector = self._slottedToContent(rule.selector);
          rule.selector = rule.selector.replace(ROOT, ":host > *");
          rule.selector = self._dirShadowTransform(rule.selector);
          if (callback) callback(rule)
        }
      }
      for (var i = 0, l = styles.length, s; i < l && (s =
          styles[i]); i++) {
        var rules = styleUtil.rulesForStyle(s);
        cssText += passthrough ? styleUtil.toCssText(rules, cb) : this.css(rules, element.is, element["extends"], callback, element._scopeCssViaAttr) + "\n\n"
      }
      return cssText.trim()
    },
    css: function(rules, scope, ext, callback, useAttr) {
      var hostScope = this._calcHostScope(scope, ext);
      scope = this._calcElementScope(scope, useAttr);
      var self = this;
      return styleUtil.toCssText(rules, function(rule) {
        if (!rule.isScoped) {
          self.rule(rule, scope, hostScope);
          rule.isScoped = true
        }
        if (callback) callback(rule,
          scope, hostScope)
      })
    },
    _calcElementScope: function(scope, useAttr) {
      if (scope) return useAttr ? CSS_ATTR_PREFIX + scope + CSS_ATTR_SUFFIX : CSS_CLASS_PREFIX + scope;
      else return ""
    },
    _calcHostScope: function(scope, ext) {
      return ext ? "[is=" + scope + "]" : scope
    },
    rule: function(rule, scope, hostScope) {
      this._transformRule(rule, this._transformComplexSelector, scope, hostScope)
    },
    _transformRule: function(rule, transformer, scope, hostScope) {
      rule.selector = rule.transformedSelector = this._transformRuleCss(rule, transformer, scope, hostScope)
    },
    _splitSelectorList: function(selector) {
      var parts = [];
      var part = "";
      for (var i = 0; i >= 0 && i < selector.length; i++)
        if (selector[i] === "(") {
          var end = styleUtil._findMatchingParen(selector, i);
          part += selector.slice(i, end + 1);
          i = end
        } else if (selector[i] === COMPLEX_SELECTOR_SEP) {
        parts.push(part);
        part = ""
      } else part += selector[i];
      if (part) parts.push(part);
      if (parts.length === 0) parts.push(selector);
      return parts
    },
    _transformRuleCss: function(rule, transformer, scope, hostScope) {
      var p$ = this._splitSelectorList(rule.selector);
      if (!styleUtil.isKeyframesSelector(rule))
        for (var i = 0, l = p$.length,
            p; i < l && (p = p$[i]); i++) p$[i] = transformer.call(this, p, scope, hostScope);
      return p$.join(COMPLEX_SELECTOR_SEP)
    },
    _ensureScopedDir: function(s) {
      var m = s.match(DIR_PAREN);
      if (m && m[1] === "" && m[0].length === s.length) s = "*" + s;
      return s
    },
    _additionalDirSelectors: function(dir, after, prefix) {
      if (!dir || !after) return "";
      prefix = prefix || "";
      return COMPLEX_SELECTOR_SEP + prefix + " " + dir + " " + after
    },
    _transformComplexSelector: function(selector, scope, hostScope) {
      var stop = false;
      var hostContext = false;
      var dir = false;
      var self = this;
      selector =
        selector.trim();
      selector = this._slottedToContent(selector);
      selector = selector.replace(ROOT, ":host > *");
      selector = selector.replace(CONTENT_START, HOST + " $1");
      selector = this._ensureScopedDir(selector);
      selector = selector.replace(SIMPLE_SELECTOR_SEP, function(m, c, s) {
        if (!stop) {
          var info = self._transformCompoundSelector(s, c, scope, hostScope);
          stop = stop || info.stop;
          hostContext = hostContext || info.hostContext;
          dir = dir || info.dir;
          c = info.combinator;
          s = info.value
        } else s = s.replace(SCOPE_JUMP, " ");
        return c + s
      });
      if (hostContext) selector =
        selector.replace(HOST_CONTEXT_PAREN, function(m, pre, paren, post) {
          var replacement = pre + paren + " " + hostScope + post + COMPLEX_SELECTOR_SEP + " " + pre + hostScope + paren + post;
          if (dir) replacement += self._additionalDirSelectors(paren, post, hostScope);
          return replacement
        });
      return selector
    },
    _transformDir: function(s) {
      s = s.replace(HOST_DIR, HOST_DIR_REPLACE);
      s = s.replace(DIR_PAREN, DIR_REPLACE);
      return s
    },
    _transformCompoundSelector: function(selector, combinator, scope, hostScope) {
      var jumpIndex = selector.search(SCOPE_JUMP);
      var hostContext =
        false;
      var dir = false;
      if (selector.match(DIR_PAREN)) {
        selector = this._transformDir(selector);
        dir = true
      }
      if (selector.indexOf(HOST_CONTEXT) >= 0) hostContext = true;
      else if (selector.indexOf(HOST) >= 0) selector = this._transformHostSelector(selector, hostScope);
      else if (jumpIndex !== 0) selector = scope ? this._transformSimpleSelector(selector, scope) : selector;
      if (selector.indexOf(CONTENT) >= 0) combinator = "";
      var stop;
      if (jumpIndex >= 0) {
        selector = selector.replace(SCOPE_JUMP, " ");
        stop = true
      }
      return {
        value: selector,
        combinator: combinator,
        stop: stop,
        hostContext: hostContext,
        dir: dir
      }
    },
    _transformSimpleSelector: function(selector, scope) {
      var p$ = selector.split(PSEUDO_PREFIX);
      p$[0] += scope;
      return p$.join(PSEUDO_PREFIX)
    },
    _transformHostSelector: function(selector, hostScope) {
      var m = selector.match(HOST_PAREN);
      var paren = m && m[2].trim() || "";
      if (paren)
        if (!paren[0].match(SIMPLE_SELECTOR_PREFIX)) {
          var typeSelector = paren.split(SIMPLE_SELECTOR_PREFIX)[0];
          if (typeSelector === hostScope) return paren;
          else return SELECTOR_NO_MATCH
        } else return selector.replace(HOST_PAREN,
          function(m, host, paren) {
            return hostScope + paren
          });
      else return selector.replace(HOST, hostScope)
    },
    documentRule: function(rule) {
      rule.selector = rule.parsedSelector;
      this.normalizeRootSelector(rule);
      if (!settings.useNativeShadow) this._transformRule(rule, this._transformDocumentSelector)
    },
    normalizeRootSelector: function(rule) {
      rule.selector = rule.selector.replace(ROOT, "html");
      var parts = this._splitSelectorList(rule.selector);
      parts = parts.filter(function(part) {
        return !part.match(HOST_OR_HOST_GT_STAR)
      });
      rule.selector =
        parts.join(COMPLEX_SELECTOR_SEP)
    },
    _transformDocumentSelector: function(selector) {
      return this._transformComplexSelector(selector, SCOPE_DOC_SELECTOR)
    },
    _slottedToContent: function(cssText) {
      return cssText.replace(SLOTTED_PAREN, CONTENT + "> $1")
    },
    _dirShadowTransform: function(selector) {
      if (!selector.match(/:dir\(/)) return selector;
      return this._splitSelectorList(selector).map(function(s) {
        s = this._ensureScopedDir(s);
        s = this._transformDir(s);
        var m = HOST_CONTEXT_PAREN.exec(s);
        if (m) s += this._additionalDirSelectors(m[2],
          m[3], "");
        return s
      }, this).join(COMPLEX_SELECTOR_SEP)
    },
    SCOPE_NAME: "style-scope"
  };
  var SCOPE_NAME = api.SCOPE_NAME;
  var SCOPE_DOC_SELECTOR = ":not([" + SCOPE_NAME + "])" + ":not(." + SCOPE_NAME + ")";
  var COMPLEX_SELECTOR_SEP = ",";
  var SIMPLE_SELECTOR_SEP = /(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g;
  var SIMPLE_SELECTOR_PREFIX = /[[.:#*]/;
  var HOST = ":host";
  var ROOT = ":root";
  var HOST_PAREN = /(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/;
  var HOST_CONTEXT = ":host-context";
  var HOST_CONTEXT_PAREN = /(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/;
  var CONTENT = "::content";
  var SCOPE_JUMP = /::content|::shadow|\/deep\//;
  var CSS_CLASS_PREFIX = ".";
  var CSS_ATTR_PREFIX = "[" + SCOPE_NAME + "~=";
  var CSS_ATTR_SUFFIX = "]";
  var PSEUDO_PREFIX = ":";
  var CLASS = "class";
  var CONTENT_START = new RegExp("^(" + CONTENT + ")");
  var SELECTOR_NO_MATCH = "should_not_match";
  var SLOTTED_PAREN = /(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g;
  var HOST_OR_HOST_GT_STAR = /:host(?:\s*>\s*\*)?/;
  var DIR_PAREN = /(.*):dir\((ltr|rtl)\)/;
  var DIR_REPLACE = ':host-context([dir="$2"]) $1';
  var HOST_DIR = /:host\(:dir\((rtl|ltr)\)\)/g;
  var HOST_DIR_REPLACE = ':host-context([dir="$1"])';
  return api
}();
Polymer.StyleExtends = function() {
  var styleUtil = Polymer.StyleUtil;
  return {
    hasExtends: function(cssText) {
      return Boolean(cssText.match(this.rx.EXTEND))
    },
    transform: function(style) {
      var rules = styleUtil.rulesForStyle(style);
      var self = this;
      styleUtil.forEachRule(rules, function(rule) {
        self._mapRuleOntoParent(rule);
        if (rule.parent) {
          var m;
          while (m = self.rx.EXTEND.exec(rule.cssText)) {
            var extend = m[1];
            var extendor = self._findExtendor(extend, rule);
            if (extendor) self._extendRule(rule, extendor)
          }
        }
        rule.cssText = rule.cssText.replace(self.rx.EXTEND,
          "")
      });
      return styleUtil.toCssText(rules, function(rule) {
        if (rule.selector.match(self.rx.STRIP)) rule.cssText = ""
      }, true)
    },
    _mapRuleOntoParent: function(rule) {
      if (rule.parent) {
        var map = rule.parent.map || (rule.parent.map = {});
        var parts = rule.selector.split(",");
        for (var i = 0, p; i < parts.length; i++) {
          p = parts[i];
          map[p.trim()] = rule
        }
        return map
      }
    },
    _findExtendor: function(extend, rule) {
      return rule.parent && rule.parent.map && rule.parent.map[extend] || this._findExtendor(extend, rule.parent)
    },
    _extendRule: function(target, source) {
      if (target.parent !==
        source.parent) this._cloneAndAddRuleToParent(source, target.parent);
      target["extends"] = target["extends"] || [];
      target["extends"].push(source);
      source.selector = source.selector.replace(this.rx.STRIP, "");
      source.selector = (source.selector && source.selector + ",\n") + target.selector;
      if (source["extends"]) source["extends"].forEach(function(e) {
        this._extendRule(target, e)
      }, this)
    },
    _cloneAndAddRuleToParent: function(rule, parent) {
      rule = Object.create(rule);
      rule.parent = parent;
      if (rule["extends"]) rule["extends"] = rule["extends"].slice();
      parent.rules.push(rule)
    },
    rx: {
      EXTEND: /@extends\(([^)]*)\)\s*?;/gim,
      STRIP: /%[^,]*$/
    }
  }
}();
Polymer.ApplyShim = function() {
  var styleUtil = Polymer.StyleUtil;
  var MIXIN_MATCH = styleUtil.rx.MIXIN_MATCH;
  var VAR_ASSIGN = styleUtil.rx.VAR_ASSIGN;
  var BAD_VAR = /var\(\s*(--[^,]*),\s*(--[^)]*)\)/g;
  var APPLY_NAME_CLEAN = /;\s*/m;
  var INITIAL_INHERIT = /^\s*(initial)|(inherit)\s*$/;
  var MIXIN_VAR_SEP = "_-_";
  var mixinMap = {};

  function mapSet(name, props) {
    name = name.trim();
    mixinMap[name] = {
      properties: props,
      dependants: {}
    }
  }

  function mapGet(name) {
    name = name.trim();
    return mixinMap[name]
  }

  function replaceInitialOrInherit(property,
    value) {
    var match = INITIAL_INHERIT.exec(value);
    if (match)
      if (match[1]) value = ApplyShim._getInitialValueForProperty(property);
      else value = "apply-shim-inherit";
    return value
  }

  function cssTextToMap(text) {
    var props = text.split(";");
    var property, value;
    var out = {};
    for (var i = 0, p, sp; i < props.length; i++) {
      p = props[i];
      if (p) {
        sp = p.split(":");
        if (sp.length > 1) {
          property = sp[0].trim();
          value = replaceInitialOrInherit(property, sp.slice(1).join(":"));
          out[property] = value
        }
      }
    }
    return out
  }

  function invalidateMixinEntry(mixinEntry) {
    var currentProto =
      ApplyShim.__currentElementProto;
    var currentElementName = currentProto && currentProto.is;
    for (var elementName in mixinEntry.dependants)
      if (elementName !== currentElementName) mixinEntry.dependants[elementName].__applyShimInvalid = true
  }

  function produceCssProperties(matchText, propertyName, valueProperty, valueMixin) {
    if (valueProperty) styleUtil.processVariableAndFallback(valueProperty, function(prefix, value) {
      if (value && mapGet(value)) valueMixin = "@apply " + value + ";"
    });
    if (!valueMixin) return matchText;
    var mixinAsProperties =
      consumeCssProperties(valueMixin);
    var prefix = matchText.slice(0, matchText.indexOf("--"));
    var mixinValues = cssTextToMap(mixinAsProperties);
    var combinedProps = mixinValues;
    var mixinEntry = mapGet(propertyName);
    var oldProps = mixinEntry && mixinEntry.properties;
    if (oldProps) {
      combinedProps = Object.create(oldProps);
      combinedProps = Polymer.Base.mixin(combinedProps, mixinValues)
    } else mapSet(propertyName, combinedProps);
    var out = [];
    var p, v;
    var needToInvalidate = false;
    for (p in combinedProps) {
      v = mixinValues[p];
      if (v === undefined) v =
        "initial";
      if (oldProps && !(p in oldProps)) needToInvalidate = true;
      out.push(propertyName + MIXIN_VAR_SEP + p + ": " + v)
    }
    if (needToInvalidate) invalidateMixinEntry(mixinEntry);
    if (mixinEntry) mixinEntry.properties = combinedProps;
    if (valueProperty) prefix = matchText + ";" + prefix;
    return prefix + out.join("; ") + ";"
  }

  function fixVars(matchText, varA, varB) {
    return "var(" + varA + "," + "var(" + varB + "))"
  }

  function atApplyToCssProperties(mixinName, fallbacks) {
    mixinName = mixinName.replace(APPLY_NAME_CLEAN, "");
    var vars = [];
    var mixinEntry = mapGet(mixinName);
    if (!mixinEntry) {
      mapSet(mixinName, {});
      mixinEntry = mapGet(mixinName)
    }
    if (mixinEntry) {
      var currentProto = ApplyShim.__currentElementProto;
      if (currentProto) mixinEntry.dependants[currentProto.is] = currentProto;
      var p, parts, f;
      for (p in mixinEntry.properties) {
        f = fallbacks && fallbacks[p];
        parts = [p, ": var(", mixinName, MIXIN_VAR_SEP, p];
        if (f) parts.push(",", f);
        parts.push(")");
        vars.push(parts.join(""))
      }
    }
    return vars.join("; ")
  }

  function consumeCssProperties(text) {
    var m;
    while (m = MIXIN_MATCH.exec(text)) {
      var matchText = m[0];
      var mixinName =
        m[1];
      var idx = m.index;
      var applyPos = idx + matchText.indexOf("@apply");
      var afterApplyPos = idx + matchText.length;
      var textBeforeApply = text.slice(0, applyPos);
      var textAfterApply = text.slice(afterApplyPos);
      var defaults = cssTextToMap(textBeforeApply);
      var replacement = atApplyToCssProperties(mixinName, defaults);
      text = [textBeforeApply, replacement, textAfterApply].join("");
      MIXIN_MATCH.lastIndex = idx + replacement.length
    }
    return text
  }
  var ApplyShim = {
    _measureElement: null,
    _map: mixinMap,
    _separator: MIXIN_VAR_SEP,
    transform: function(styles,
      elementProto) {
      this.__currentElementProto = elementProto;
      styleUtil.forRulesInStyles(styles, this._boundFindDefinitions);
      styleUtil.forRulesInStyles(styles, this._boundFindApplications);
      if (elementProto) elementProto.__applyShimInvalid = false;
      this.__currentElementProto = null
    },
    _findDefinitions: function(rule) {
      var cssText = rule.parsedCssText;
      cssText = cssText.replace(BAD_VAR, fixVars);
      cssText = cssText.replace(VAR_ASSIGN, produceCssProperties);
      rule.cssText = cssText;
      if (rule.selector === ":root") rule.selector = ":host > *"
    },
    _findApplications: function(rule) {
      rule.cssText = consumeCssProperties(rule.cssText)
    },
    transformRule: function(rule) {
      this._findDefinitions(rule);
      this._findApplications(rule)
    },
    _getInitialValueForProperty: function(property) {
      if (!this._measureElement) {
        this._measureElement = document.createElement("meta");
        this._measureElement.style.all = "initial";
        document.head.appendChild(this._measureElement)
      }
      return window.getComputedStyle(this._measureElement).getPropertyValue(property)
    }
  };
  ApplyShim._boundTransformRule = ApplyShim.transformRule.bind(ApplyShim);
  ApplyShim._boundFindDefinitions = ApplyShim._findDefinitions.bind(ApplyShim);
  ApplyShim._boundFindApplications = ApplyShim._findApplications.bind(ApplyShim);
  return ApplyShim
}();
(function() {
  var prepElement = Polymer.Base._prepElement;
  var nativeShadow = Polymer.Settings.useNativeShadow;
  var styleUtil = Polymer.StyleUtil;
  var styleTransformer = Polymer.StyleTransformer;
  var styleExtends = Polymer.StyleExtends;
  var applyShim = Polymer.ApplyShim;
  var settings = Polymer.Settings;
  Polymer.Base._addFeature({
    _prepElement: function(element) {
      if (this._encapsulateStyle && this.__cssBuild !== "shady") styleTransformer.element(element, this.is, this._scopeCssViaAttr);
      prepElement.call(this, element)
    },
    _prepStyles: function() {
      if (this._encapsulateStyle ===
        undefined) this._encapsulateStyle = !nativeShadow;
      if (!nativeShadow) this._scopeStyle = styleUtil.applyStylePlaceHolder(this.is);
      this.__cssBuild = styleUtil.cssBuildTypeForModule(this.is)
    },
    _prepShimStyles: function() {
      if (this._template) {
        var hasTargetedCssBuild = styleUtil.isTargetedBuild(this.__cssBuild);
        if (settings.useNativeCSSProperties && this.__cssBuild === "shadow" && hasTargetedCssBuild) {
          if (settings.preserveStyleIncludes) styleUtil.styleIncludesToTemplate(this._template);
          return
        }
        this._styles = this._styles || this._collectStyles();
        if (settings.useNativeCSSProperties && !this.__cssBuild) applyShim.transform(this._styles, this);
        var cssText = settings.useNativeCSSProperties && hasTargetedCssBuild ? this._styles.length && this._styles[0].textContent.trim() : styleTransformer.elementStyles(this);
        this._prepStyleProperties();
        if (!this._needsStyleProperties() && cssText) styleUtil.applyCss(cssText, this.is, nativeShadow ? this._template.content : null, this._scopeStyle)
      } else this._styles = []
    },
    _collectStyles: function() {
      var styles = [];
      var cssText = "",
        m$ = this.styleModules;
      if (m$)
        for (var i = 0, l = m$.length, m; i < l && (m = m$[i]); i++) cssText += styleUtil.cssFromModule(m);
      cssText += styleUtil.cssFromModule(this.is);
      var p = this._template && this._template.parentNode;
      if (this._template && (!p || p.id.toLowerCase() !== this.is)) cssText += styleUtil.cssFromElement(this._template);
      if (cssText) {
        var style = document.createElement("style");
        style.textContent = cssText;
        if (styleExtends.hasExtends(style.textContent)) cssText = styleExtends.transform(style);
        styles.push(style)
      }
      return styles
    },
    _elementAdd: function(node) {
      if (this._encapsulateStyle)
        if (node.__styleScoped) node.__styleScoped =
          false;
        else styleTransformer.dom(node, this.is, this._scopeCssViaAttr)
    },
    _elementRemove: function(node) {
      if (this._encapsulateStyle) styleTransformer.dom(node, this.is, this._scopeCssViaAttr, true)
    },
    scopeSubtree: function(container, shouldObserve) {
      if (nativeShadow) return;
      var self = this;
      var scopify = function(node) {
        if (node.nodeType === Node.ELEMENT_NODE) {
          var className = node.getAttribute("class");
          node.setAttribute("class", self._scopeElementClass(node, className));
          var n$ = node.querySelectorAll("*");
          for (var i = 0, n; i < n$.length &&
            (n = n$[i]); i++) {
            className = n.getAttribute("class");
            n.setAttribute("class", self._scopeElementClass(n, className))
          }
        }
      };
      scopify(container);
      if (shouldObserve) {
        var mo = new MutationObserver(function(mxns) {
          for (var i = 0, m; i < mxns.length && (m = mxns[i]); i++)
            if (m.addedNodes)
              for (var j = 0; j < m.addedNodes.length; j++) scopify(m.addedNodes[j])
        });
        mo.observe(container, {
          childList: true,
          subtree: true
        });
        return mo
      }
    }
  })
})();
Polymer.StyleProperties = function() {
  var matchesSelector = Polymer.DomApi.matchesSelector;
  var styleUtil = Polymer.StyleUtil;
  var styleTransformer = Polymer.StyleTransformer;
  var IS_IE = navigator.userAgent.match("Trident");
  var settings = Polymer.Settings;
  return {
    decorateStyles: function(styles, scope) {
      var self = this,
        props = {},
        keyframes = [],
        ruleIndex = 0;
      var scopeSelector = styleTransformer._calcHostScope(scope.is, scope["extends"]);
      styleUtil.forRulesInStyles(styles, function(rule, style) {
        self.decorateRule(rule);
        rule.index =
          ruleIndex++;
        self.whenHostOrRootRule(scope, rule, style, function(info) {
          if (rule.parent.type === styleUtil.ruleTypes.MEDIA_RULE) scope.__notStyleScopeCacheable = true;
          if (info.isHost) {
            var hostContextOrFunction = info.selector.split(" ").some(function(s) {
              return s.indexOf(scopeSelector) === 0 && s.length !== scopeSelector.length
            });
            scope.__notStyleScopeCacheable = scope.__notStyleScopeCacheable || hostContextOrFunction
          }
        });
        self.collectPropertiesInCssText(rule.propertyInfo.cssText, props)
      }, function onKeyframesRule(rule) {
        keyframes.push(rule)
      });
      styles._keyframes = keyframes;
      var names = [];
      for (var i in props) names.push(i);
      return names
    },
    decorateRule: function(rule) {
      if (rule.propertyInfo) return rule.propertyInfo;
      var info = {},
        properties = {};
      var hasProperties = this.collectProperties(rule, properties);
      if (hasProperties) {
        info.properties = properties;
        rule.rules = null
      }
      info.cssText = this.collectCssText(rule);
      rule.propertyInfo = info;
      return info
    },
    collectProperties: function(rule, properties) {
      var info = rule.propertyInfo;
      if (info) {
        if (info.properties) {
          Polymer.Base.mixin(properties,
            info.properties);
          return true
        }
      } else {
        var m, rx = this.rx.VAR_ASSIGN;
        var cssText = rule.parsedCssText;
        var value;
        var any;
        while (m = rx.exec(cssText)) {
          value = (m[2] || m[3]).trim();
          if (value !== "inherit") properties[m[1].trim()] = value;
          any = true
        }
        return any
      }
    },
    collectCssText: function(rule) {
      return this.collectConsumingCssText(rule.parsedCssText)
    },
    collectConsumingCssText: function(cssText) {
      return cssText.replace(this.rx.BRACKETED, "").replace(this.rx.VAR_ASSIGN, "")
    },
    collectPropertiesInCssText: function(cssText, props) {
      var m;
      while (m =
        this.rx.VAR_CONSUMED.exec(cssText)) {
        var name = m[1];
        if (m[2] !== ":") props[name] = true
      }
    },
    reify: function(props) {
      var names = Object.getOwnPropertyNames(props);
      for (var i = 0, n; i < names.length; i++) {
        n = names[i];
        props[n] = this.valueForProperty(props[n], props)
      }
    },
    valueForProperty: function(property, props) {
      if (property)
        if (property.indexOf(";") >= 0) property = this.valueForProperties(property, props);
        else {
          var self = this;
          var fn = function(prefix, value, fallback, suffix) {
            var propertyValue = self.valueForProperty(props[value], props);
            if (!propertyValue ||
              propertyValue === "initial") propertyValue = self.valueForProperty(props[fallback] || fallback, props) || fallback;
            else if (propertyValue === "apply-shim-inherit") propertyValue = "inherit";
            return prefix + (propertyValue || "") + suffix
          };
          property = styleUtil.processVariableAndFallback(property, fn)
        } return property && property.trim() || ""
    },
    valueForProperties: function(property, props) {
      var parts = property.split(";");
      for (var i = 0, p, m; i < parts.length; i++)
        if (p = parts[i]) {
          this.rx.MIXIN_MATCH.lastIndex = 0;
          m = this.rx.MIXIN_MATCH.exec(p);
          if (m) p =
            this.valueForProperty(props[m[1]], props);
          else {
            var colon = p.indexOf(":");
            if (colon !== -1) {
              var pp = p.substring(colon);
              pp = pp.trim();
              pp = this.valueForProperty(pp, props) || pp;
              p = p.substring(0, colon) + pp
            }
          }
          parts[i] = p && p.lastIndexOf(";") === p.length - 1 ? p.slice(0, -1) : p || ""
        } return parts.join(";")
    },
    applyProperties: function(rule, props) {
      var output = "";
      if (!rule.propertyInfo) this.decorateRule(rule);
      if (rule.propertyInfo.cssText) output = this.valueForProperties(rule.propertyInfo.cssText, props);
      rule.cssText = output
    },
    applyKeyframeTransforms: function(rule,
      keyframeTransforms) {
      var input = rule.cssText;
      var output = rule.cssText;
      if (rule.hasAnimations == null) rule.hasAnimations = this.rx.ANIMATION_MATCH.test(input);
      if (rule.hasAnimations) {
        var transform;
        if (rule.keyframeNamesToTransform == null) {
          rule.keyframeNamesToTransform = [];
          for (var keyframe in keyframeTransforms) {
            transform = keyframeTransforms[keyframe];
            output = transform(input);
            if (input !== output) {
              input = output;
              rule.keyframeNamesToTransform.push(keyframe)
            }
          }
        } else {
          for (var i = 0; i < rule.keyframeNamesToTransform.length; ++i) {
            transform =
              keyframeTransforms[rule.keyframeNamesToTransform[i]];
            input = transform(input)
          }
          output = input
        }
      }
      rule.cssText = output
    },
    propertyDataFromStyles: function(styles, element) {
      var props = {},
        self = this;
      var o = [];
      styleUtil.forActiveRulesInStyles(styles, function(rule) {
        if (!rule.propertyInfo) self.decorateRule(rule);
        var selectorToMatch = rule.transformedSelector || rule.parsedSelector;
        if (element && rule.propertyInfo.properties && selectorToMatch)
          if (matchesSelector.call(element, selectorToMatch)) {
            self.collectProperties(rule, props);
            addToBitMask(rule.index, o)
          }
      });
      return {
        properties: props,
        key: o
      }
    },
    _rootSelector: /:root|:host\s*>\s*\*/,
    _checkRoot: function(hostScope, selector) {
      return Boolean(selector.match(this._rootSelector)) || hostScope === "html" && selector.indexOf("html") > -1
    },
    whenHostOrRootRule: function(scope, rule, style, callback) {
      if (!rule.propertyInfo) self.decorateRule(rule);
      if (!rule.propertyInfo.properties) return;
      var hostScope = scope.is ? styleTransformer._calcHostScope(scope.is, scope["extends"]) : "html";
      var parsedSelector = rule.parsedSelector;
      var isRoot = this._checkRoot(hostScope, parsedSelector);
      var isHost = !isRoot && parsedSelector.indexOf(":host") === 0;
      var cssBuild = scope.__cssBuild || style.__cssBuild;
      if (cssBuild === "shady") {
        isRoot = parsedSelector === hostScope + " > *." + hostScope || parsedSelector.indexOf("html") > -1;
        isHost = !isRoot && parsedSelector.indexOf(hostScope) === 0
      }
      if (!isRoot && !isHost) return;
      var selectorToMatch = hostScope;
      if (isHost) {
        if (settings.useNativeShadow && !rule.transformedSelector) rule.transformedSelector = styleTransformer._transformRuleCss(rule,
          styleTransformer._transformComplexSelector, scope.is, hostScope);
        selectorToMatch = rule.transformedSelector || rule.parsedSelector
      }
      if (isRoot && hostScope === "html") selectorToMatch = rule.transformedSelector || rule.parsedSelector;
      callback({
        selector: selectorToMatch,
        isHost: isHost,
        isRoot: isRoot
      })
    },
    hostAndRootPropertiesForScope: function(scope) {
      var hostProps = {},
        rootProps = {},
        self = this;
      styleUtil.forActiveRulesInStyles(scope._styles, function(rule, style) {
        self.whenHostOrRootRule(scope, rule, style, function(info) {
          var element =
            scope._element || scope;
          if (matchesSelector.call(element, info.selector))
            if (info.isHost) self.collectProperties(rule, hostProps);
            else self.collectProperties(rule, rootProps)
        })
      });
      return {
        rootProps: rootProps,
        hostProps: hostProps
      }
    },
    transformStyles: function(element, properties, scopeSelector) {
      var self = this;
      var hostSelector = styleTransformer._calcHostScope(element.is, element["extends"]);
      var rxHostSelector = element["extends"] ? "\\" + hostSelector.slice(0, -1) + "\\]" : hostSelector;
      var hostRx = new RegExp(this.rx.HOST_PREFIX +
        rxHostSelector + this.rx.HOST_SUFFIX);
      var keyframeTransforms = this._elementKeyframeTransforms(element, scopeSelector);
      return styleTransformer.elementStyles(element, function(rule) {
        self.applyProperties(rule, properties);
        if (!settings.useNativeShadow && !Polymer.StyleUtil.isKeyframesSelector(rule) && rule.cssText) {
          self.applyKeyframeTransforms(rule, keyframeTransforms);
          self._scopeSelector(rule, hostRx, hostSelector, element._scopeCssViaAttr, scopeSelector)
        }
      })
    },
    _elementKeyframeTransforms: function(element, scopeSelector) {
      var keyframesRules =
        element._styles._keyframes;
      var keyframeTransforms = {};
      if (!settings.useNativeShadow && keyframesRules)
        for (var i = 0, keyframesRule = keyframesRules[i]; i < keyframesRules.length; keyframesRule = keyframesRules[++i]) {
          this._scopeKeyframes(keyframesRule, scopeSelector);
          keyframeTransforms[keyframesRule.keyframesName] = this._keyframesRuleTransformer(keyframesRule)
        }
      return keyframeTransforms
    },
    _keyframesRuleTransformer: function(keyframesRule) {
      return function(cssText) {
        return cssText.replace(keyframesRule.keyframesNameRx, keyframesRule.transformedKeyframesName)
      }
    },
    _scopeKeyframes: function(rule, scopeId) {
      rule.keyframesNameRx = new RegExp("\\b" + rule.keyframesName + "(?!\\B|-)", "g");
      rule.transformedKeyframesName = rule.keyframesName + "-" + scopeId;
      rule.transformedSelector = rule.transformedSelector || rule.selector;
      rule.selector = rule.transformedSelector.replace(rule.keyframesName, rule.transformedKeyframesName)
    },
    _hasDirOrHostContext: function(parsedSelector) {
      return /:host-context|:dir/.test(parsedSelector)
    },
    _scopeSelector: function(rule, hostRx, hostSelector, viaAttr, scopeId) {
      rule.transformedSelector =
        rule.transformedSelector || rule.selector;
      var selector = rule.transformedSelector;
      var scope = styleTransformer._calcElementScope(scopeId, viaAttr);
      var hostScope = styleTransformer._calcElementScope(hostSelector, viaAttr);
      var parts = selector.split(",");
      var isDirOrHostContextSelector = this._hasDirOrHostContext(rule.parsedSelector);
      for (var i = 0, l = parts.length, p; i < l && (p = parts[i]); i++) parts[i] = p.match(hostRx) ? p.replace(hostSelector, scope) : isDirOrHostContextSelector ? p.replace(hostScope, scope + " " + hostScope) : scope + " " +
        p;
      rule.selector = parts.join(",")
    },
    applyElementScopeSelector: function(element, selector, old, viaAttr) {
      var c = viaAttr ? element.getAttribute(styleTransformer.SCOPE_NAME) : element.getAttribute("class") || "";
      var v = old ? c.replace(old, selector) : (c ? c + " " : "") + this.XSCOPE_NAME + " " + selector;
      if (c !== v)
        if (viaAttr) element.setAttribute(styleTransformer.SCOPE_NAME, v);
        else element.setAttribute("class", v)
    },
    applyElementStyle: function(element, properties, selector, style) {
      var cssText = style ? style.textContent || "" : this.transformStyles(element,
        properties, selector);
      var s = element._customStyle;
      if (s && !settings.useNativeShadow && s !== style) {
        s._useCount--;
        if (s._useCount <= 0 && s.parentNode) s.parentNode.removeChild(s)
      }
      if (settings.useNativeShadow)
        if (element._customStyle) {
          element._customStyle.textContent = cssText;
          style = element._customStyle
        } else {
          if (cssText) style = styleUtil.applyCss(cssText, selector, element.root, element._scopeStyle)
        }
      else if (!style) {
        if (cssText) style = styleUtil.applyCss(cssText, selector, null, element._scopeStyle)
      } else if (!style.parentNode) {
        if (IS_IE &&
          cssText.indexOf("@media") > -1) style.textContent = cssText;
        styleUtil.applyStyle(style, null, element._scopeStyle)
      }
      if (style) {
        style._useCount = style._useCount || 0;
        if (element._customStyle != style) style._useCount++;
        element._customStyle = style
      }
      return style
    },
    mixinCustomStyle: function(props, customStyle) {
      var v;
      for (var i in customStyle) {
        v = customStyle[i];
        if (v || v === 0) props[i] = v
      }
    },
    updateNativeStyleProperties: function(element, properties) {
      var oldPropertyNames = element.__customStyleProperties;
      if (oldPropertyNames)
        for (var i =
            0; i < oldPropertyNames.length; i++) element.style.removeProperty(oldPropertyNames[i]);
      var propertyNames = [];
      for (var p in properties)
        if (properties[p] !== null) {
          element.style.setProperty(p, properties[p]);
          propertyNames.push(p)
        } element.__customStyleProperties = propertyNames
    },
    rx: styleUtil.rx,
    XSCOPE_NAME: "x-scope"
  };

  function addToBitMask(n, bits) {
    var o = parseInt(n / 32);
    var v = 1 << n % 32;
    bits[o] = (bits[o] || 0) | v
  }
}();
(function() {
  Polymer.StyleCache = function() {
    this.cache = {}
  };
  Polymer.StyleCache.prototype = {
    MAX: 100,
    store: function(is, data, keyValues, keyStyles) {
      data.keyValues = keyValues;
      data.styles = keyStyles;
      var s$ = this.cache[is] = this.cache[is] || [];
      s$.push(data);
      if (s$.length > this.MAX) s$.shift()
    },
    retrieve: function(is, keyValues, keyStyles) {
      var cache = this.cache[is];
      if (cache)
        for (var i = cache.length - 1, data; i >= 0; i--) {
          data = cache[i];
          if (keyStyles === data.styles && this._objectsEqual(keyValues, data.keyValues)) return data
        }
    },
    clear: function() {
      this.cache = {}
    },
    _objectsEqual: function(target, source) {
      var t, s;
      for (var i in target) {
        t = target[i], s = source[i];
        if (!(typeof t === "object" && t ? this._objectsStrictlyEqual(t, s) : t === s)) return false
      }
      if (Array.isArray(target)) return target.length === source.length;
      return true
    },
    _objectsStrictlyEqual: function(target, source) {
      return this._objectsEqual(target, source) && this._objectsEqual(source, target)
    }
  }
})();
Polymer.StyleDefaults = function() {
  var styleProperties = Polymer.StyleProperties;
  var StyleCache = Polymer.StyleCache;
  var nativeVariables = Polymer.Settings.useNativeCSSProperties;
  var api = {
    _styles: [],
    _properties: null,
    customStyle: {},
    _styleCache: new StyleCache,
    _element: Polymer.DomApi.wrap(document.documentElement),
    addStyle: function(style) {
      this._styles.push(style);
      this._properties = null
    },
    get _styleProperties() {
      if (!this._properties) {
        styleProperties.decorateStyles(this._styles, this);
        this._styles._scopeStyleProperties =
          null;
        this._properties = styleProperties.hostAndRootPropertiesForScope(this).rootProps;
        styleProperties.mixinCustomStyle(this._properties, this.customStyle);
        styleProperties.reify(this._properties)
      }
      return this._properties
    },
    hasStyleProperties: function() {
      return Boolean(this._properties)
    },
    _needsStyleProperties: function() {},
    _computeStyleProperties: function() {
      return this._styleProperties
    },
    updateStyles: function(properties) {
      this._properties = null;
      if (properties) Polymer.Base.mixin(this.customStyle, properties);
      this._styleCache.clear();
      for (var i = 0, s; i < this._styles.length; i++) {
        s = this._styles[i];
        s = s.__importElement || s;
        s._apply()
      }
      if (nativeVariables) styleProperties.updateNativeStyleProperties(document.documentElement, this.customStyle)
    }
  };
  return api
}();
(function() {
  var serializeValueToAttribute = Polymer.Base.serializeValueToAttribute;
  var propertyUtils = Polymer.StyleProperties;
  var styleTransformer = Polymer.StyleTransformer;
  var styleDefaults = Polymer.StyleDefaults;
  var nativeShadow = Polymer.Settings.useNativeShadow;
  var nativeVariables = Polymer.Settings.useNativeCSSProperties;
  Polymer.Base._addFeature({
    _prepStyleProperties: function() {
      if (!nativeVariables) this._ownStylePropertyNames = this._styles && this._styles.length ? propertyUtils.decorateStyles(this._styles,
        this) : null
    },
    customStyle: null,
    getComputedStyleValue: function(property) {
      if (!nativeVariables && !this._styleProperties) this._computeStyleProperties();
      return !nativeVariables && this._styleProperties && this._styleProperties[property] || getComputedStyle(this).getPropertyValue(property)
    },
    _setupStyleProperties: function() {
      this.customStyle = {};
      this._styleCache = null;
      this._styleProperties = null;
      this._scopeSelector = null;
      this._ownStyleProperties = null;
      this._customStyle = null
    },
    _needsStyleProperties: function() {
      return Boolean(!nativeVariables &&
        this._ownStylePropertyNames && this._ownStylePropertyNames.length)
    },
    _validateApplyShim: function() {
      if (this.__applyShimInvalid) {
        Polymer.ApplyShim.transform(this._styles, this.__proto__);
        var cssText = styleTransformer.elementStyles(this);
        if (nativeShadow) {
          var templateStyle = this._template.content.querySelector("style");
          if (templateStyle) templateStyle.textContent = cssText
        } else {
          var shadyStyle = this._scopeStyle && this._scopeStyle.nextSibling;
          if (shadyStyle) shadyStyle.textContent = cssText
        }
      }
    },
    _beforeAttached: function() {
      if ((!this._scopeSelector ||
          this.__stylePropertiesInvalid) && this._needsStyleProperties()) {
        this.__stylePropertiesInvalid = false;
        this._updateStyleProperties()
      }
    },
    _findStyleHost: function() {
      var e = this,
        root;
      while (root = Polymer.dom(e).getOwnerRoot()) {
        if (Polymer.isInstance(root.host)) return root.host;
        e = root.host
      }
      return styleDefaults
    },
    _updateStyleProperties: function() {
      var info, scope = this._findStyleHost();
      if (!scope._styleProperties) scope._computeStyleProperties();
      if (!scope._styleCache) scope._styleCache = new Polymer.StyleCache;
      var scopeData =
        propertyUtils.propertyDataFromStyles(scope._styles, this);
      var scopeCacheable = !this.__notStyleScopeCacheable;
      if (scopeCacheable) {
        scopeData.key.customStyle = this.customStyle;
        info = scope._styleCache.retrieve(this.is, scopeData.key, this._styles)
      }
      var scopeCached = Boolean(info);
      if (scopeCached) this._styleProperties = info._styleProperties;
      else this._computeStyleProperties(scopeData.properties);
      this._computeOwnStyleProperties();
      if (!scopeCached) info = styleCache.retrieve(this.is, this._ownStyleProperties, this._styles);
      var globalCached = Boolean(info) && !scopeCached;
      var style = this._applyStyleProperties(info);
      if (!scopeCached) {
        style = style && nativeShadow ? style.cloneNode(true) : style;
        info = {
          style: style,
          _scopeSelector: this._scopeSelector,
          _styleProperties: this._styleProperties
        };
        if (scopeCacheable) {
          scopeData.key.customStyle = {};
          this.mixin(scopeData.key.customStyle, this.customStyle);
          scope._styleCache.store(this.is, info, scopeData.key, this._styles)
        }
        if (!globalCached) styleCache.store(this.is, Object.create(info), this._ownStyleProperties,
          this._styles)
      }
    },
    _computeStyleProperties: function(scopeProps) {
      var scope = this._findStyleHost();
      if (!scope._styleProperties) scope._computeStyleProperties();
      var props = Object.create(scope._styleProperties);
      var hostAndRootProps = propertyUtils.hostAndRootPropertiesForScope(this);
      this.mixin(props, hostAndRootProps.hostProps);
      scopeProps = scopeProps || propertyUtils.propertyDataFromStyles(scope._styles, this).properties;
      this.mixin(props, scopeProps);
      this.mixin(props, hostAndRootProps.rootProps);
      propertyUtils.mixinCustomStyle(props,
        this.customStyle);
      propertyUtils.reify(props);
      this._styleProperties = props
    },
    _computeOwnStyleProperties: function() {
      var props = {};
      for (var i = 0, n; i < this._ownStylePropertyNames.length; i++) {
        n = this._ownStylePropertyNames[i];
        props[n] = this._styleProperties[n]
      }
      this._ownStyleProperties = props
    },
    _scopeCount: 0,
    _applyStyleProperties: function(info) {
      var oldScopeSelector = this._scopeSelector;
      this._scopeSelector = info ? info._scopeSelector : this.is + "-" + this.__proto__._scopeCount++;
      var style = propertyUtils.applyElementStyle(this,
        this._styleProperties, this._scopeSelector, info && info.style);
      if (!nativeShadow) propertyUtils.applyElementScopeSelector(this, this._scopeSelector, oldScopeSelector, this._scopeCssViaAttr);
      return style
    },
    serializeValueToAttribute: function(value, attribute, node) {
      node = node || this;
      if (attribute === "class" && !nativeShadow) {
        var host = node === this ? this.domHost || this.dataHost : this;
        if (host) value = host._scopeElementClass(node, value)
      }
      node = this.shadyRoot && this.shadyRoot._hasDistributed ? Polymer.dom(node) : node;
      serializeValueToAttribute.call(this,
        value, attribute, node)
    },
    _scopeElementClass: function(element, selector) {
      if (!nativeShadow && !this._scopeCssViaAttr) selector = (selector ? selector + " " : "") + SCOPE_NAME + " " + this.is + (element._scopeSelector ? " " + XSCOPE_NAME + " " + element._scopeSelector : "");
      return selector
    },
    updateStyles: function(properties) {
      if (properties) this.mixin(this.customStyle, properties);
      if (nativeVariables) propertyUtils.updateNativeStyleProperties(this, this.customStyle);
      else {
        if (this.isAttached)
          if (this._needsStyleProperties()) this._updateStyleProperties();
          else this._styleProperties = null;
        else this.__stylePropertiesInvalid = true;
        if (this._styleCache) this._styleCache.clear();
        this._updateRootStyles()
      }
    },
    _updateRootStyles: function(root) {
      root = root || this.root;
      var c$ = Polymer.dom(root)._query(function(e) {
        return e.shadyRoot || e.shadowRoot
      });
      for (var i = 0, l = c$.length, c; i < l && (c = c$[i]); i++)
        if (c.updateStyles) c.updateStyles()
    }
  });
  Polymer.updateStyles = function(properties) {
    styleDefaults.updateStyles(properties);
    Polymer.Base._updateRootStyles(document)
  };
  var styleCache = new Polymer.StyleCache;
  Polymer.customStyleCache = styleCache;
  var SCOPE_NAME = styleTransformer.SCOPE_NAME;
  var XSCOPE_NAME = propertyUtils.XSCOPE_NAME
})();
Polymer.Base._addFeature({
  _registerFeatures: function() {
    this._prepIs();
    if (this.factoryImpl) this._prepConstructor();
    this._prepStyles()
  },
  _finishRegisterFeatures: function() {
    this._prepTemplate();
    this._prepShimStyles();
    this._prepAnnotations();
    this._prepEffects();
    this._prepBehaviors();
    this._prepPropertyInfo();
    this._prepBindings();
    this._prepShady()
  },
  _prepBehavior: function(b) {
    this._addPropertyEffects(b.properties);
    this._addComplexObserverEffects(b.observers);
    this._addHostAttributes(b.hostAttributes)
  },
  _initFeatures: function() {
    this._setupGestures();
    this._setupConfigure(this.__data__);
    this._setupStyleProperties();
    this._setupDebouncers();
    this._setupShady();
    this._registerHost();
    if (this._template) {
      this._validateApplyShim();
      this._poolContent();
      this._beginHosting();
      this._stampTemplate();
      this._endHosting();
      this._marshalAnnotationReferences()
    }
    this._marshalInstanceEffects();
    this._marshalBehaviors();
    this._marshalHostAttributes();
    this._marshalAttributes();
    this._tryReady()
  },
  _marshalBehavior: function(b) {
    if (b.listeners) this._listenListeners(b.listeners)
  }
});
(function() {
  var propertyUtils = Polymer.StyleProperties;
  var styleUtil = Polymer.StyleUtil;
  var cssParse = Polymer.CssParse;
  var styleDefaults = Polymer.StyleDefaults;
  var styleTransformer = Polymer.StyleTransformer;
  var applyShim = Polymer.ApplyShim;
  var debounce = Polymer.Debounce;
  var settings = Polymer.Settings;
  var updateDebouncer;
  Polymer({
    is: "custom-style",
    "extends": "style",
    _template: null,
    properties: {
      include: String
    },
    ready: function() {
      this.__appliedElement = this.__appliedElement || this;
      this.__cssBuild = styleUtil.getCssBuildType(this);
      if (this.__appliedElement !== this) this.__appliedElement.__cssBuild = this.__cssBuild;
      if (this.ownerDocument !== window.document && this.__appliedElement === this) document.head.appendChild(this);
      this._tryApply()
    },
    attached: function() {
      this._tryApply()
    },
    _tryApply: function() {
      if (!this._appliesToDocument)
        if (this.parentNode && this.parentNode.localName !== "dom-module") {
          this._appliesToDocument = true;
          var e = this.__appliedElement;
          if (!settings.useNativeCSSProperties) {
            this.__needsUpdateStyles = styleDefaults.hasStyleProperties();
            styleDefaults.addStyle(e)
          }
          if (e.textContent || this.include) this._apply(true);
          else {
            var self = this;
            var observer = new MutationObserver(function() {
              observer.disconnect();
              self._apply(true)
            });
            observer.observe(e, {
              childList: true
            })
          }
        }
    },
    _updateStyles: function() {
      Polymer.updateStyles()
    },
    _apply: function(initialApply) {
      var e = this.__appliedElement;
      if (this.include) e.textContent = styleUtil.cssFromModules(this.include, true) + e.textContent;
      if (!e.textContent) return;
      var buildType = this.__cssBuild;
      var targetedBuild = styleUtil.isTargetedBuild(buildType);
      if (settings.useNativeCSSProperties && targetedBuild) return;
      var styleRules = styleUtil.rulesForStyle(e);
      if (!targetedBuild) {
        styleUtil.forEachRule(styleRules, function(rule) {
          styleTransformer.documentRule(rule)
        });
        if (settings.useNativeCSSProperties && !buildType) applyShim.transform([e])
      }
      if (settings.useNativeCSSProperties) e.textContent = styleUtil.toCssText(styleRules);
      else {
        var self = this;
        var fn = function fn() {
          self._flushCustomProperties()
        };
        if (initialApply) Polymer.RenderStatus.whenReady(fn);
        else fn()
      }
    },
    _flushCustomProperties: function() {
      if (this.__needsUpdateStyles) {
        this.__needsUpdateStyles =
          false;
        updateDebouncer = debounce(updateDebouncer, this._updateStyles)
      } else this._applyCustomProperties()
    },
    _applyCustomProperties: function() {
      var element = this.__appliedElement;
      this._computeStyleProperties();
      var props = this._styleProperties;
      var rules = styleUtil.rulesForStyle(element);
      if (!rules) return;
      element.textContent = styleUtil.toCssText(rules, function(rule) {
        var css = rule.cssText = rule.parsedCssText;
        if (rule.propertyInfo && rule.propertyInfo.cssText) {
          css = cssParse.removeCustomPropAssignment(css);
          rule.cssText =
            propertyUtils.valueForProperties(css, props)
        }
      })
    }
  })
})();
Polymer.Templatizer = {
  properties: {
    __hideTemplateChildren__: {
      observer: "_showHideChildren"
    }
  },
  _instanceProps: Polymer.nob,
  _parentPropPrefix: "_parent_",
  templatize: function(template) {
    this._templatized = template;
    if (!template._content) template._content = template.content;
    if (template._content._ctor) {
      this.ctor = template._content._ctor;
      this._prepParentProperties(this.ctor.prototype, template);
      return
    }
    var archetype = Object.create(Polymer.Base);
    this._customPrepAnnotations(archetype, template);
    this._prepParentProperties(archetype,
      template);
    archetype._prepEffects();
    this._customPrepEffects(archetype);
    archetype._prepBehaviors();
    archetype._prepPropertyInfo();
    archetype._prepBindings();
    archetype._notifyPathUp = this._notifyPathUpImpl;
    archetype._scopeElementClass = this._scopeElementClassImpl;
    archetype.listen = this._listenImpl;
    archetype._showHideChildren = this._showHideChildrenImpl;
    archetype.__setPropertyOrig = this.__setProperty;
    archetype.__setProperty = this.__setPropertyImpl;
    var _constructor = this._constructorImpl;
    var ctor = function TemplateInstance(model,
      host) {
      _constructor.call(this, model, host)
    };
    ctor.prototype = archetype;
    archetype.constructor = ctor;
    template._content._ctor = ctor;
    this.ctor = ctor
  },
  _getRootDataHost: function() {
    return this.dataHost && this.dataHost._rootDataHost || this.dataHost
  },
  _showHideChildrenImpl: function(hide) {
    var c = this._children;
    for (var i = 0; i < c.length; i++) {
      var n = c[i];
      if (Boolean(hide) != Boolean(n.__hideTemplateChildren__))
        if (n.nodeType === Node.TEXT_NODE)
          if (hide) {
            n.__polymerTextContent__ = n.textContent;
            n.textContent = ""
          } else n.textContent = n.__polymerTextContent__;
      else if (n.style)
        if (hide) {
          n.__polymerDisplay__ = n.style.display;
          n.style.display = "none"
        } else n.style.display = n.__polymerDisplay__;
      n.__hideTemplateChildren__ = hide
    }
  },
  __setPropertyImpl: function(property, value, fromAbove, node) {
    if (node && node.__hideTemplateChildren__ && property == "textContent") property = "__polymerTextContent__";
    this.__setPropertyOrig(property, value, fromAbove, node)
  },
  _debounceTemplate: function(fn) {
    Polymer.dom.addDebouncer(this.debounce("_debounceTemplate", fn))
  },
  _flushTemplates: function() {
    Polymer.dom.flush()
  },
  _customPrepEffects: function(archetype) {
    var parentProps = archetype._parentProps;
    for (var prop in parentProps) archetype._addPropertyEffect(prop, "function", this._createHostPropEffector(prop));
    for (prop in this._instanceProps) archetype._addPropertyEffect(prop, "function", this._createInstancePropEffector(prop))
  },
  _customPrepAnnotations: function(archetype, template) {
    var t = archetype._template = document.createElement("template");
    var c = t._content = template._content;
    if (!c._notes) {
      var rootDataHost = archetype._rootDataHost;
      if (rootDataHost) Polymer.Annotations.prepElement = function() {
        rootDataHost._prepElement()
      };
      c._notes = Polymer.Annotations.parseAnnotations(template);
      Polymer.Annotations.prepElement = null;
      this._processAnnotations(c._notes)
    }
    archetype._notes = c._notes;
    archetype._parentProps = c._parentProps
  },
  _prepParentProperties: function(archetype, template) {
    var parentProps = this._parentProps = archetype._parentProps;
    if (this._forwardParentProp && parentProps) {
      var proto = archetype._parentPropProto;
      var prop;
      if (!proto) {
        for (prop in this._instanceProps) delete parentProps[prop];
        proto = archetype._parentPropProto = Object.create(null);
        if (template != this) {
          Polymer.Bind.prepareModel(proto);
          Polymer.Base.prepareModelNotifyPath(proto)
        }
        for (prop in parentProps) {
          var parentProp = this._parentPropPrefix + prop;
          var effects = [{
            kind: "function",
            effect: this._createForwardPropEffector(prop),
            fn: Polymer.Bind._functionEffect
          }, {
            kind: "notify",
            fn: Polymer.Bind._notifyEffect,
            effect: {
              event: Polymer.CaseMap.camelToDashCase(parentProp) + "-changed"
            }
          }];
          proto._propertyEffects = proto._propertyEffects || {};
          proto._propertyEffects[parentProp] =
            effects;
          Polymer.Bind._createAccessors(proto, parentProp, effects)
        }
      }
      var self = this;
      if (template != this) {
        Polymer.Bind.prepareInstance(template);
        template._forwardParentProp = function(source, value) {
          self._forwardParentProp(source, value)
        }
      }
      this._extendTemplate(template, proto);
      template._pathEffector = function(path, value, fromAbove) {
        return self._pathEffectorImpl(path, value, fromAbove)
      }
    }
  },
  _createForwardPropEffector: function(prop) {
    return function(source, value) {
      this._forwardParentProp(prop, value)
    }
  },
  _createHostPropEffector: function(prop) {
    var prefix =
      this._parentPropPrefix;
    return function(source, value) {
      this.dataHost._templatized[prefix + prop] = value
    }
  },
  _createInstancePropEffector: function(prop) {
    return function(source, value, old, fromAbove) {
      if (!fromAbove) this.dataHost._forwardInstanceProp(this, prop, value)
    }
  },
  _extendTemplate: function(template, proto) {
    var n$ = Object.getOwnPropertyNames(proto);
    if (proto._propertySetter) template._propertySetter = proto._propertySetter;
    for (var i = 0, n; i < n$.length && (n = n$[i]); i++) {
      var val = template[n];
      if (val && n == "_propertyEffects") {
        var pe =
          Polymer.Base.mixin({}, val);
        template._propertyEffects = Polymer.Base.mixin(pe, proto._propertyEffects)
      } else {
        var pd = Object.getOwnPropertyDescriptor(proto, n);
        Object.defineProperty(template, n, pd);
        if (val !== undefined) template._propertySetter(n, val)
      }
    }
  },
  _showHideChildren: function(hidden) {},
  _forwardInstancePath: function(inst, path, value) {},
  _forwardInstanceProp: function(inst, prop, value) {},
  _notifyPathUpImpl: function(path, value) {
    var dataHost = this.dataHost;
    var root = Polymer.Path.root(path);
    dataHost._forwardInstancePath.call(dataHost,
      this, path, value);
    if (root in dataHost._parentProps) dataHost._templatized._notifyPath(dataHost._parentPropPrefix + path, value)
  },
  _pathEffectorImpl: function(path, value, fromAbove) {
    if (this._forwardParentPath)
      if (path.indexOf(this._parentPropPrefix) === 0) {
        var subPath = path.substring(this._parentPropPrefix.length);
        var model = Polymer.Path.root(subPath);
        if (model in this._parentProps) this._forwardParentPath(subPath, value)
      } Polymer.Base._pathEffector.call(this._templatized, path, value, fromAbove)
  },
  _constructorImpl: function(model,
    host) {
    this._rootDataHost = host._getRootDataHost();
    this._setupConfigure(model);
    this._registerHost(host);
    this._beginHosting();
    this.root = this.instanceTemplate(this._template);
    this.root.__noContent = !this._notes._hasContent;
    this.root.__styleScoped = true;
    this._endHosting();
    this._marshalAnnotatedNodes();
    this._marshalInstanceEffects();
    this._marshalAnnotatedListeners();
    var children = [];
    for (var n = this.root.firstChild; n; n = n.nextSibling) {
      children.push(n);
      n._templateInstance = this
    }
    this._children = children;
    if (host.__hideTemplateChildren__) this._showHideChildren(true);
    this._tryReady()
  },
  _listenImpl: function(node, eventName, methodName) {
    var model = this;
    var host = this._rootDataHost;
    var handler = host._createEventHandler(node, eventName, methodName);
    var decorated = function(e) {
      e.model = model;
      handler(e)
    };
    host._listen(node, eventName, decorated)
  },
  _scopeElementClassImpl: function(node, value) {
    var host = this._rootDataHost;
    if (host) return host._scopeElementClass(node, value);
    return value
  },
  stamp: function(model) {
    model = model || {};
    if (this._parentProps) {
      var templatized = this._templatized;
      for (var prop in this._parentProps)
        if (model[prop] ===
          undefined) model[prop] = templatized[this._parentPropPrefix + prop]
    }
    return new this.ctor(model, this)
  },
  modelForElement: function(el) {
    var model;
    while (el)
      if (model = el._templateInstance)
        if (model.dataHost != this) el = model.dataHost;
        else return model;
    else el = el.parentNode
  }
};
Polymer({
  is: "dom-template",
  "extends": "template",
  _template: null,
  behaviors: [Polymer.Templatizer],
  ready: function() {
    this.templatize(this)
  }
});
Polymer._collections = new WeakMap;
Polymer.Collection = function(userArray) {
  Polymer._collections.set(userArray, this);
  this.userArray = userArray;
  this.store = userArray.slice();
  this.initMap()
};
Polymer.Collection.prototype = {
  constructor: Polymer.Collection,
  initMap: function() {
    var omap = this.omap = new WeakMap;
    var pmap = this.pmap = {};
    var s = this.store;
    for (var i = 0; i < s.length; i++) {
      var item = s[i];
      if (item && typeof item == "object") omap.set(item, i);
      else pmap[item] = i
    }
  },
  add: function(item) {
    var key = this.store.push(item) - 1;
    if (item && typeof item == "object") this.omap.set(item, key);
    else this.pmap[item] = key;
    return "#" + key
  },
  removeKey: function(key) {
    if (key = this._parseKey(key)) {
      this._removeFromMap(this.store[key]);
      delete this.store[key]
    }
  },
  _removeFromMap: function(item) {
    if (item && typeof item == "object") this.omap["delete"](item);
    else delete this.pmap[item]
  },
  remove: function(item) {
    var key = this.getKey(item);
    this.removeKey(key);
    return key
  },
  getKey: function(item) {
    var key;
    if (item && typeof item == "object") key = this.omap.get(item);
    else key = this.pmap[item];
    if (key != undefined) return "#" + key
  },
  getKeys: function() {
    return Object.keys(this.store).map(function(key) {
      return "#" + key
    })
  },
  _parseKey: function(key) {
    if (key && key[0] == "#") return key.slice(1)
  },
  setItem: function(key,
    item) {
    if (key = this._parseKey(key)) {
      var old = this.store[key];
      if (old) this._removeFromMap(old);
      if (item && typeof item == "object") this.omap.set(item, key);
      else this.pmap[item] = key;
      this.store[key] = item
    }
  },
  getItem: function(key) {
    if (key = this._parseKey(key)) return this.store[key]
  },
  getItems: function() {
    var items = [],
      store = this.store;
    for (var key in store) items.push(store[key]);
    return items
  },
  _applySplices: function(splices) {
    var keyMap = {},
      key;
    for (var i = 0, s; i < splices.length && (s = splices[i]); i++) {
      s.addedKeys = [];
      for (var j =
          0; j < s.removed.length; j++) {
        key = this.getKey(s.removed[j]);
        keyMap[key] = keyMap[key] ? null : -1
      }
      for (j = 0; j < s.addedCount; j++) {
        var item = this.userArray[s.index + j];
        key = this.getKey(item);
        key = key === undefined ? this.add(item) : key;
        keyMap[key] = keyMap[key] ? null : 1;
        s.addedKeys.push(key)
      }
    }
    var removed = [];
    var added = [];
    for (key in keyMap) {
      if (keyMap[key] < 0) {
        this.removeKey(key);
        removed.push(key)
      }
      if (keyMap[key] > 0) added.push(key)
    }
    return [{
      removed: removed,
      added: added
    }]
  }
};
Polymer.Collection.get = function(userArray) {
  return Polymer._collections.get(userArray) || new Polymer.Collection(userArray)
};
Polymer.Collection.applySplices = function(userArray, splices) {
  var coll = Polymer._collections.get(userArray);
  return coll ? coll._applySplices(splices) : null
};
Polymer({
  is: "dom-repeat",
  "extends": "template",
  _template: null,
  properties: {
    items: {
      type: Array
    },
    as: {
      type: String,
      value: "item"
    },
    indexAs: {
      type: String,
      value: "index"
    },
    sort: {
      type: Function,
      observer: "_sortChanged"
    },
    filter: {
      type: Function,
      observer: "_filterChanged"
    },
    observe: {
      type: String,
      observer: "_observeChanged"
    },
    delay: Number,
    renderedItemCount: {
      type: Number,
      notify: !Polymer.Settings.suppressTemplateNotifications,
      readOnly: true
    },
    initialCount: {
      type: Number,
      observer: "_initializeChunking"
    },
    targetFramerate: {
      type: Number,
      value: 20
    },
    notifyDomChange: {
      type: Boolean
    },
    _targetFrameTime: {
      type: Number,
      computed: "_computeFrameTime(targetFramerate)"
    }
  },
  behaviors: [Polymer.Templatizer],
  observers: ["_itemsChanged(items.*)"],
  created: function() {
    this._instances = [];
    this._pool = [];
    this._limit = Infinity;
    var self = this;
    this._boundRenderChunk = function() {
      self._renderChunk()
    }
  },
  detached: function() {
    this.__isDetached = true;
    for (var i = 0; i < this._instances.length; i++) this._detachInstance(i)
  },
  attached: function() {
    if (this.__isDetached) {
      this.__isDetached = false;
      var refNode;
      var parentNode = Polymer.dom(this).parentNode;
      if (parentNode.localName == this.is) {
        refNode = parentNode;
        parentNode = Polymer.dom(parentNode).parentNode
      } else refNode = this;
      var parent = Polymer.dom(parentNode);
      for (var i = 0; i < this._instances.length; i++) this._attachInstance(i, parent, refNode)
    }
  },
  ready: function() {
    this._instanceProps = {
      __key__: true
    };
    this._instanceProps[this.as] = true;
    this._instanceProps[this.indexAs] = true;
    if (!this.ctor) this.templatize(this)
  },
  _sortChanged: function(sort) {
    var dataHost = this._getRootDataHost();
    this._sortFn = sort && (typeof sort == "function" ? sort : function() {
      return dataHost[sort].apply(dataHost, arguments)
    });
    this._needFullRefresh = true;
    if (this.items) this._debounceTemplate(this._render)
  },
  _filterChanged: function(filter) {
    var dataHost = this._getRootDataHost();
    this._filterFn = filter && (typeof filter == "function" ? filter : function() {
      return dataHost[filter].apply(dataHost, arguments)
    });
    this._needFullRefresh = true;
    if (this.items) this._debounceTemplate(this._render)
  },
  _computeFrameTime: function(rate) {
    return Math.ceil(1E3 /
      rate)
  },
  _initializeChunking: function() {
    if (this.initialCount) {
      this._limit = this.initialCount;
      this._chunkCount = this.initialCount;
      this._lastChunkTime = performance.now()
    }
  },
  _tryRenderChunk: function() {
    if (this.items && this._limit < this.items.length) this.debounce("renderChunk", this._requestRenderChunk)
  },
  _requestRenderChunk: function() {
    requestAnimationFrame(this._boundRenderChunk)
  },
  _renderChunk: function() {
    var currChunkTime = performance.now();
    var ratio = this._targetFrameTime / (currChunkTime - this._lastChunkTime);
    this._chunkCount =
      Math.round(this._chunkCount * ratio) || 1;
    this._limit += this._chunkCount;
    this._lastChunkTime = currChunkTime;
    this._debounceTemplate(this._render)
  },
  _observeChanged: function() {
    this._observePaths = this.observe && this.observe.replace(".*", ".").split(" ")
  },
  _itemsChanged: function(change) {
    if (change.path == "items") {
      if (Array.isArray(this.items)) this.collection = Polymer.Collection.get(this.items);
      else if (!this.items) this.collection = null;
      else this._error(this._logf("dom-repeat", "expected array for `items`," + " found", this.items));
      this._keySplices = [];
      this._indexSplices = [];
      this._needFullRefresh = true;
      this._initializeChunking();
      this._debounceTemplate(this._render)
    } else if (change.path == "items.splices") {
      this._keySplices = this._keySplices.concat(change.value.keySplices);
      this._indexSplices = this._indexSplices.concat(change.value.indexSplices);
      this._debounceTemplate(this._render)
    } else {
      var subpath = change.path.slice(6);
      this._forwardItemPath(subpath, change.value);
      this._checkObservedPaths(subpath)
    }
  },
  _checkObservedPaths: function(path) {
    if (this._observePaths) {
      path =
        path.substring(path.indexOf(".") + 1);
      var paths = this._observePaths;
      for (var i = 0; i < paths.length; i++)
        if (path.indexOf(paths[i]) === 0) {
          this._needFullRefresh = true;
          if (this.delay) this.debounce("render", this._render, this.delay);
          else this._debounceTemplate(this._render);
          return
        }
    }
  },
  render: function() {
    this._needFullRefresh = true;
    this._debounceTemplate(this._render);
    this._flushTemplates()
  },
  _render: function() {
    if (this._needFullRefresh) {
      this._applyFullRefresh();
      this._needFullRefresh = false
    } else if (this._keySplices.length)
      if (this._sortFn) this._applySplicesUserSort(this._keySplices);
      else if (this._filterFn) this._applyFullRefresh();
    else this._applySplicesArrayOrder(this._indexSplices);
    else;
    this._keySplices = [];
    this._indexSplices = [];
    var keyToIdx = this._keyToInstIdx = {};
    for (var i = this._instances.length - 1; i >= 0; i--) {
      var inst = this._instances[i];
      if (inst.isPlaceholder && i < this._limit) inst = this._insertInstance(i, inst.__key__);
      else if (!inst.isPlaceholder && i >= this._limit) inst = this._downgradeInstance(i, inst.__key__);
      keyToIdx[inst.__key__] = i;
      if (!inst.isPlaceholder) inst.__setProperty(this.indexAs,
        i, true)
    }
    this._pool.length = 0;
    this._setRenderedItemCount(this._instances.length);
    if (!Polymer.Settings.suppressTemplateNotifications || this.notifyDomChange) this.fire("dom-change");
    this._tryRenderChunk()
  },
  _applyFullRefresh: function() {
    var c = this.collection;
    var keys;
    if (this._sortFn) keys = c ? c.getKeys() : [];
    else {
      keys = [];
      var items = this.items;
      if (items)
        for (var i = 0; i < items.length; i++) keys.push(c.getKey(items[i]))
    }
    var self = this;
    if (this._filterFn) keys = keys.filter(function(a) {
      return self._filterFn(c.getItem(a))
    });
    if (this._sortFn) keys.sort(function(a, b) {
      return self._sortFn(c.getItem(a), c.getItem(b))
    });
    for (i = 0; i < keys.length; i++) {
      var key = keys[i];
      var inst = this._instances[i];
      if (inst) {
        inst.__key__ = key;
        if (!inst.isPlaceholder && i < this._limit) inst.__setProperty(this.as, c.getItem(key), true)
      } else if (i < this._limit) this._insertInstance(i, key);
      else this._insertPlaceholder(i, key)
    }
    for (var j = this._instances.length - 1; j >= i; j--) this._detachAndRemoveInstance(j)
  },
  _numericSort: function(a, b) {
    return a - b
  },
  _applySplicesUserSort: function(splices) {
    var c =
      this.collection;
    var keyMap = {};
    var key;
    for (var i = 0, s; i < splices.length && (s = splices[i]); i++) {
      for (var j = 0; j < s.removed.length; j++) {
        key = s.removed[j];
        keyMap[key] = keyMap[key] ? null : -1
      }
      for (j = 0; j < s.added.length; j++) {
        key = s.added[j];
        keyMap[key] = keyMap[key] ? null : 1
      }
    }
    var removedIdxs = [];
    var addedKeys = [];
    for (key in keyMap) {
      if (keyMap[key] === -1) removedIdxs.push(this._keyToInstIdx[key]);
      if (keyMap[key] === 1) addedKeys.push(key)
    }
    if (removedIdxs.length) {
      removedIdxs.sort(this._numericSort);
      for (i = removedIdxs.length - 1; i >= 0; i--) {
        var idx =
          removedIdxs[i];
        if (idx !== undefined) this._detachAndRemoveInstance(idx)
      }
    }
    var self = this;
    if (addedKeys.length) {
      if (this._filterFn) addedKeys = addedKeys.filter(function(a) {
        return self._filterFn(c.getItem(a))
      });
      addedKeys.sort(function(a, b) {
        return self._sortFn(c.getItem(a), c.getItem(b))
      });
      var start = 0;
      for (i = 0; i < addedKeys.length; i++) start = this._insertRowUserSort(start, addedKeys[i])
    }
  },
  _insertRowUserSort: function(start, key) {
    var c = this.collection;
    var item = c.getItem(key);
    var end = this._instances.length - 1;
    var idx = -1;
    while (start <= end) {
      var mid = start + end >> 1;
      var midKey = this._instances[mid].__key__;
      var cmp = this._sortFn(c.getItem(midKey), item);
      if (cmp < 0) start = mid + 1;
      else if (cmp > 0) end = mid - 1;
      else {
        idx = mid;
        break
      }
    }
    if (idx < 0) idx = end + 1;
    this._insertPlaceholder(idx, key);
    return idx
  },
  _applySplicesArrayOrder: function(splices) {
    for (var i = 0, s; i < splices.length && (s = splices[i]); i++) {
      for (var j = 0; j < s.removed.length; j++) this._detachAndRemoveInstance(s.index);
      for (j = 0; j < s.addedKeys.length; j++) this._insertPlaceholder(s.index + j, s.addedKeys[j])
    }
  },
  _detachInstance: function(idx) {
    var inst = this._instances[idx];
    if (!inst.isPlaceholder) {
      for (var i = 0; i < inst._children.length; i++) {
        var el = inst._children[i];
        Polymer.dom(inst.root).appendChild(el)
      }
      return inst
    }
  },
  _attachInstance: function(idx, parent, refNode) {
    var inst = this._instances[idx];
    if (!inst.isPlaceholder) parent.insertBefore(inst.root, refNode)
  },
  _detachAndRemoveInstance: function(idx) {
    var inst = this._detachInstance(idx);
    if (inst) this._pool.push(inst);
    this._instances.splice(idx, 1)
  },
  _insertPlaceholder: function(idx,
    key) {
    this._instances.splice(idx, 0, {
      isPlaceholder: true,
      __key__: key
    })
  },
  _stampInstance: function(idx, key) {
    var model = {
      __key__: key
    };
    model[this.as] = this.collection.getItem(key);
    model[this.indexAs] = idx;
    return this.stamp(model)
  },
  _insertInstance: function(idx, key) {
    var inst = this._pool.pop();
    if (inst) {
      inst.__setProperty(this.as, this.collection.getItem(key), true);
      inst.__setProperty("__key__", key, true)
    } else inst = this._stampInstance(idx, key);
    var beforeRow = this._instances[idx + 1];
    var beforeNode = beforeRow && !beforeRow.isPlaceholder ?
      beforeRow._children[0] : this;
    var parentNode = Polymer.dom(this).parentNode;
    if (parentNode.localName == this.is) {
      if (beforeNode == this) beforeNode = parentNode;
      parentNode = Polymer.dom(parentNode).parentNode
    }
    Polymer.dom(parentNode).insertBefore(inst.root, beforeNode);
    this._instances[idx] = inst;
    return inst
  },
  _downgradeInstance: function(idx, key) {
    var inst = this._detachInstance(idx);
    if (inst) this._pool.push(inst);
    inst = {
      isPlaceholder: true,
      __key__: key
    };
    this._instances[idx] = inst;
    return inst
  },
  _showHideChildren: function(hidden) {
    for (var i =
        0; i < this._instances.length; i++)
      if (!this._instances[i].isPlaceholder) this._instances[i]._showHideChildren(hidden)
  },
  _forwardInstanceProp: function(inst, prop, value) {
    if (prop == this.as) {
      var idx;
      if (this._sortFn || this._filterFn) idx = this.items.indexOf(this.collection.getItem(inst.__key__));
      else idx = inst[this.indexAs];
      this.set("items." + idx, value)
    }
  },
  _forwardInstancePath: function(inst, path, value) {
    if (path.indexOf(this.as + ".") === 0) this._notifyPath("items." + inst.__key__ + "." + path.slice(this.as.length + 1), value)
  },
  _forwardParentProp: function(prop,
    value) {
    var i$ = this._instances;
    for (var i = 0, inst; i < i$.length && (inst = i$[i]); i++)
      if (!inst.isPlaceholder) inst.__setProperty(prop, value, true)
  },
  _forwardParentPath: function(path, value) {
    var i$ = this._instances;
    for (var i = 0, inst; i < i$.length && (inst = i$[i]); i++)
      if (!inst.isPlaceholder) inst._notifyPath(path, value, true)
  },
  _forwardItemPath: function(path, value) {
    if (this._keyToInstIdx) {
      var dot = path.indexOf(".");
      var key = path.substring(0, dot < 0 ? path.length : dot);
      var idx = this._keyToInstIdx[key];
      var inst = this._instances[idx];
      if (inst && !inst.isPlaceholder)
        if (dot >= 0) {
          path = this.as + "." + path.substring(dot + 1);
          inst._notifyPath(path, value, true)
        } else inst.__setProperty(this.as, value, true)
    }
  },
  itemForElement: function(el) {
    var instance = this.modelForElement(el);
    return instance && instance[this.as]
  },
  keyForElement: function(el) {
    var instance = this.modelForElement(el);
    return instance && instance.__key__
  },
  indexForElement: function(el) {
    var instance = this.modelForElement(el);
    return instance && instance[this.indexAs]
  }
});
Polymer({
  is: "array-selector",
  _template: null,
  properties: {
    items: {
      type: Array,
      observer: "clearSelection"
    },
    multi: {
      type: Boolean,
      value: false,
      observer: "clearSelection"
    },
    selected: {
      type: Object,
      notify: true
    },
    selectedItem: {
      type: Object,
      notify: true
    },
    toggle: {
      type: Boolean,
      value: false
    }
  },
  clearSelection: function() {
    if (Array.isArray(this.selected))
      for (var i = 0; i < this.selected.length; i++) this.unlinkPaths("selected." + i);
    else {
      this.unlinkPaths("selected");
      this.unlinkPaths("selectedItem")
    }
    if (this.multi) {
      if (!this.selected || this.selected.length) {
        this.selected = [];
        this._selectedColl = Polymer.Collection.get(this.selected)
      }
    } else {
      this.selected = null;
      this._selectedColl = null
    }
    this.selectedItem = null
  },
  isSelected: function(item) {
    if (this.multi) return this._selectedColl.getKey(item) !== undefined;
    else return this.selected == item
  },
  deselect: function(item) {
    if (this.multi) {
      if (this.isSelected(item)) {
        var skey = this._selectedColl.getKey(item);
        this.arrayDelete("selected", item);
        this.unlinkPaths("selected." + skey)
      }
    } else {
      this.selected = null;
      this.selectedItem = null;
      this.unlinkPaths("selected");
      this.unlinkPaths("selectedItem")
    }
  },
  select: function(item) {
    var icol = Polymer.Collection.get(this.items);
    var key = icol.getKey(item);
    if (this.multi)
      if (this.isSelected(item)) {
        if (this.toggle) this.deselect(item)
      } else {
        this.push("selected", item);
        var skey = this._selectedColl.getKey(item);
        this.linkPaths("selected." + skey, "items." + key)
      }
    else if (this.toggle && item == this.selected) this.deselect();
    else {
      this.selected = item;
      this.selectedItem = item;
      this.linkPaths("selected", "items." + key);
      this.linkPaths("selectedItem", "items." +
        key)
    }
  }
});
Polymer({
  is: "dom-if",
  "extends": "template",
  _template: null,
  properties: {
    "if": {
      type: Boolean,
      value: false,
      observer: "_queueRender"
    },
    restamp: {
      type: Boolean,
      value: false,
      observer: "_queueRender"
    },
    notifyDomChange: {
      type: Boolean
    }
  },
  behaviors: [Polymer.Templatizer],
  _queueRender: function() {
    this._debounceTemplate(this._render)
  },
  detached: function() {
    var parentNode = this.parentNode;
    if (parentNode && parentNode.localName == this.is) parentNode = Polymer.dom(parentNode).parentNode;
    if (!parentNode || parentNode.nodeType == Node.DOCUMENT_FRAGMENT_NODE && (!Polymer.Settings.hasShadow ||
        !(parentNode instanceof ShadowRoot))) this._teardownInstance()
  },
  attached: function() {
    if (this["if"] && this.ctor) this.async(this._ensureInstance)
  },
  render: function() {
    this._flushTemplates()
  },
  _render: function() {
    if (this["if"]) {
      if (!this.ctor) this.templatize(this);
      this._ensureInstance();
      this._showHideChildren()
    } else if (this.restamp) this._teardownInstance();
    if (!this.restamp && this._instance) this._showHideChildren();
    if (this["if"] != this._lastIf) {
      if (!Polymer.Settings.suppressTemplateNotifications || this.notifyDomChange) this.fire("dom-change");
      this._lastIf = this["if"]
    }
  },
  _ensureInstance: function() {
    var refNode;
    var parentNode = Polymer.dom(this).parentNode;
    if (parentNode && parentNode.localName == this.is) {
      refNode = parentNode;
      parentNode = Polymer.dom(parentNode).parentNode
    } else refNode = this;
    if (parentNode)
      if (!this._instance) {
        this._instance = this.stamp();
        var root = this._instance.root;
        Polymer.dom(parentNode).insertBefore(root, refNode)
      } else {
        var c$ = this._instance._children;
        if (c$ && c$.length) {
          var lastChild = Polymer.dom(refNode).previousSibling;
          if (lastChild !==
            c$[c$.length - 1])
            for (var i = 0, n; i < c$.length && (n = c$[i]); i++) Polymer.dom(parentNode).insertBefore(n, refNode)
        }
      }
  },
  _teardownInstance: function() {
    if (this._instance) {
      var c$ = this._instance._children;
      if (c$ && c$.length) {
        var parent = Polymer.dom(Polymer.dom(c$[0]).parentNode);
        for (var i = 0, n; i < c$.length && (n = c$[i]); i++) parent.removeChild(n)
      }
      this._instance = null
    }
  },
  _showHideChildren: function() {
    var hidden = this.__hideTemplateChildren__ || !this["if"];
    if (this._instance) this._instance._showHideChildren(hidden)
  },
  _forwardParentProp: function(prop,
    value) {
    if (this._instance) this._instance.__setProperty(prop, value, true)
  },
  _forwardParentPath: function(path, value) {
    if (this._instance) this._instance._notifyPath(path, value, true)
  }
});
Polymer({
  is: "dom-bind",
  properties: {
    notifyDomChange: {
      type: Boolean
    }
  },
  "extends": "template",
  _template: null,
  created: function() {
    var self = this;
    Polymer.RenderStatus.whenReady(function() {
      if (document.readyState == "loading") document.addEventListener("DOMContentLoaded", function() {
        self._markImportsReady()
      });
      else self._markImportsReady()
    })
  },
  _ensureReady: function() {
    if (!this._readied) this._readySelf()
  },
  _markImportsReady: function() {
    this._importsReady = true;
    this._ensureReady()
  },
  _registerFeatures: function() {
    this._prepConstructor()
  },
  _insertChildren: function() {
    var refNode;
    var parentNode = Polymer.dom(this).parentNode;
    if (parentNode.localName == this.is) {
      refNode = parentNode;
      parentNode = Polymer.dom(parentNode).parentNode
    } else refNode = this;
    Polymer.dom(parentNode).insertBefore(this.root, refNode)
  },
  _removeChildren: function() {
    if (this._children)
      for (var i = 0; i < this._children.length; i++) this.root.appendChild(this._children[i])
  },
  _initFeatures: function() {},
  _scopeElementClass: function(element, selector) {
    if (this.dataHost) return this.dataHost._scopeElementClass(element,
      selector);
    else return selector
  },
  _configureInstanceProperties: function() {},
  _prepConfigure: function() {
    var config = {};
    for (var prop in this._propertyEffects) config[prop] = this[prop];
    var setupConfigure = this._setupConfigure;
    this._setupConfigure = function() {
      setupConfigure.call(this, config)
    }
  },
  attached: function() {
    if (this._importsReady) this.render()
  },
  detached: function() {
    this._removeChildren()
  },
  render: function() {
    this._ensureReady();
    if (!this._children) {
      this._template = this;
      this._prepAnnotations();
      this._prepEffects();
      this._prepBehaviors();
      this._prepConfigure();
      this._prepBindings();
      this._prepPropertyInfo();
      Polymer.Base._initFeatures.call(this);
      this._children = Polymer.TreeApi.arrayCopyChildNodes(this.root)
    }
    this._insertChildren();
    if (!Polymer.Settings.suppressTemplateNotifications || this.notifyDomChange) this.fire("dom-change")
  }
});
(function() {
  var f, aa = function(a) {
      var b = 0;
      return function() {
        return b < a.length ? {
          done: !1,
          value: a[b++]
        } : {
          done: !0
        }
      }
    },
    ba = "function" == typeof Object.defineProperties ? Object.defineProperty : function(a, b, c) {
      a != Array.prototype && a != Object.prototype && (a[b] = c.value)
    },
    ca = "undefined" != typeof window && window === this ? this : "undefined" != typeof global && null != global ? global : this,
    da = function() {
      da = function() {};
      ca.Symbol || (ca.Symbol = ea)
    },
    ha = function(a, b) {
      this.$jscomp$symbol$id_ = a;
      ba(this, "description", {
        configurable: !0,
        writable: !0,
        value: b
      })
    };
  ha.prototype.toString = function() {
    return this.$jscomp$symbol$id_
  };
  var ea = function() {
      function a(c) {
        if (this instanceof a) throw new TypeError("Symbol is not a constructor");
        return new ha("jscomp_symbol_" + (c || "") + "_" + b++, c)
      }
      var b = 0;
      return a
    }(),
    ka = function() {
      da();
      var a = ca.Symbol.iterator;
      a || (a = ca.Symbol.iterator = ca.Symbol("Symbol.iterator"));
      "function" != typeof Array.prototype[a] && ba(Array.prototype, a, {
        configurable: !0,
        writable: !0,
        value: function() {
          return ia(aa(this))
        }
      });
      ka = function() {}
    },
    ia = function(a) {
      ka();
      a = {
        next: a
      };
      a[ca.Symbol.iterator] = function() {
        return this
      };
      return a
    },
    y = function(a) {
      var b = "undefined" != typeof Symbol && Symbol.iterator && a[Symbol.iterator];
      return b ? b.call(a) : {
        next: aa(a)
      }
    },
    la = function(a) {
      if (!(a instanceof Array)) {
        a = y(a);
        for (var b, c = []; !(b = a.next()).done;) c.push(b.value);
        a = c
      }
      return a
    },
    ma = "function" == typeof Object.create ? Object.create : function(a) {
      var b = function() {};
      b.prototype = a;
      return new b
    },
    na;
  if ("function" == typeof Object.setPrototypeOf) na = Object.setPrototypeOf;
  else {
    var oa;
    a: {
      var pa = {
          a: !0
        },
        qa = {};
      try {
        qa.__proto__ = pa;
        oa = qa.a;
        break a
      } catch (a) {}
      oa = !1
    }
    na = oa ? function(a, b) {
      a.__proto__ = b;
      if (a.__proto__ !== b) throw new TypeError(a + " is not extensible");
      return a
    } : null
  }
  var ra = na,
    z = function(a, b) {
      a.prototype = ma(b.prototype);
      a.prototype.constructor = a;
      if (ra) ra(a, b);
      else
        for (var c in b)
          if ("prototype" != c)
            if (Object.defineProperties) {
              var d = Object.getOwnPropertyDescriptor(b, c);
              d && Object.defineProperty(a, c, d)
            } else a[c] = b[c];
      a.superClass_ = b.prototype
    },
    sa = function(a) {
      if (!(a instanceof Object)) throw new TypeError("Iterator result " + a + " is not an object");
    },
    ta = function() {
      this.isRunning_ = !1;
      this.yieldAllIterator_ = null;
      this.yieldResult = void 0;
      this.nextAddress = 1;
      this.finallyAddress_ = this.catchAddress_ = 0;
      this.finallyContexts_ = this.abruptCompletion_ = null
    };
  f = ta.prototype;
  f.start_ = function() {
    if (this.isRunning_) throw new TypeError("Generator is already running");
    this.isRunning_ = !0
  };
  f.stop_ = function() {
    this.isRunning_ = !1
  };
  f.jumpToErrorHandler_ = function() {
    this.nextAddress = this.catchAddress_ || this.finallyAddress_
  };
  f.next_ = function(a) {
    this.yieldResult = a
  };
  f.throw_ = function(a) {
    this.abruptCompletion_ = {
      exception: a,
      isException: !0
    };
    this.jumpToErrorHandler_()
  };
  f.return = function(a) {
    this.abruptCompletion_ = {
      return: a
    };
    this.nextAddress = this.finallyAddress_
  };
  f.jumpThroughFinallyBlocks = function(a) {
    this.abruptCompletion_ = {
      jumpTo: a
    };
    this.nextAddress = this.finallyAddress_
  };
  f.yield = function(a, b) {
    this.nextAddress = b;
    return {
      value: a
    }
  };
  f.yieldAll = function(a, b) {
    a = y(a);
    var c = a.next();
    sa(c);
    if (c.done) this.yieldResult = c.value, this.nextAddress = b;
    else return this.yieldAllIterator_ = a, this.yield(c.value, b)
  };
  f.jumpTo = function(a) {
    this.nextAddress = a
  };
  f.jumpToEnd = function() {
    this.nextAddress = 0
  };
  f.setCatchFinallyBlocks = function(a, b) {
    this.catchAddress_ = a;
    void 0 != b && (this.finallyAddress_ = b)
  };
  f.setFinallyBlock = function(a) {
    this.catchAddress_ = 0;
    this.finallyAddress_ = a || 0
  };
  f.leaveTryBlock = function(a, b) {
    this.nextAddress = a;
    this.catchAddress_ = b || 0
  };
  f.enterCatchBlock = function(a) {
    this.catchAddress_ = a || 0;
    a = this.abruptCompletion_.exception;
    this.abruptCompletion_ = null;
    return a
  };
  f.enterFinallyBlock = function(a, b, c) {
    c ? this.finallyContexts_[c] = this.abruptCompletion_ : this.finallyContexts_ = [this.abruptCompletion_];
    this.catchAddress_ = a || 0;
    this.finallyAddress_ = b || 0
  };
  f.leaveFinallyBlock = function(a, b) {
    b = this.finallyContexts_.splice(b || 0)[0];
    if (b = this.abruptCompletion_ = this.abruptCompletion_ || b) {
      if (b.isException) return this.jumpToErrorHandler_();
      void 0 != b.jumpTo && this.finallyAddress_ < b.jumpTo ? (this.nextAddress = b.jumpTo, this.abruptCompletion_ = null) : this.nextAddress = this.finallyAddress_
    } else this.nextAddress = a
  };
  f.forIn = function(a) {
    return new ua(a)
  };
  var ua = function(a) {
    this.object_ = a;
    this.properties_ = [];
    for (var b in a) this.properties_.push(b);
    this.properties_.reverse()
  };
  ua.prototype.getNext = function() {
    for (; 0 < this.properties_.length;) {
      var a = this.properties_.pop();
      if (a in this.object_) return a
    }
    return null
  };
  var va = function(a) {
    this.context_ = new ta;
    this.program_ = a
  };
  f = va.prototype;
  f.next_ = function(a) {
    this.context_.start_();
    if (this.context_.yieldAllIterator_) return this.yieldAllStep_(this.context_.yieldAllIterator_.next, a, this.context_.next_);
    this.context_.next_(a);
    return this.nextStep_()
  };
  f.return_ = function(a) {
    this.context_.start_();
    var b = this.context_.yieldAllIterator_;
    if (b) return this.yieldAllStep_("return" in b ? b["return"] : function(c) {
      return {
        value: c,
        done: !0
      }
    }, a, this.context_.return);
    this.context_.return(a);
    return this.nextStep_()
  };
  f.throw_ = function(a) {
    this.context_.start_();
    if (this.context_.yieldAllIterator_) return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"], a, this.context_.next_);
    this.context_.throw_(a);
    return this.nextStep_()
  };
  f.yieldAllStep_ = function(a, b, c) {
    try {
      var d = a.call(this.context_.yieldAllIterator_, b);
      sa(d);
      if (!d.done) return this.context_.stop_(), d;
      var e = d.value
    } catch (g) {
      return this.context_.yieldAllIterator_ = null, this.context_.throw_(g), this.nextStep_()
    }
    this.context_.yieldAllIterator_ = null;
    c.call(this.context_, e);
    return this.nextStep_()
  };
  f.nextStep_ = function() {
    for (; this.context_.nextAddress;) try {
      var a = this.program_(this.context_);
      if (a) return this.context_.stop_(), {
        value: a.value,
        done: !1
      }
    } catch (b) {
      this.context_.yieldResult = void 0, this.context_.throw_(b)
    }
    this.context_.stop_();
    if (this.context_.abruptCompletion_) {
      a = this.context_.abruptCompletion_;
      this.context_.abruptCompletion_ = null;
      if (a.isException) throw a.exception;
      return {
        value: a.return,
        done: !0
      }
    }
    return {
      value: void 0,
      done: !0
    }
  };
  var wa = function(a) {
      this.next = function(b) {
        return a.next_(b)
      };
      this.throw = function(b) {
        return a.throw_(b)
      };
      this.return = function(b) {
        return a.return_(b)
      };
      ka();
      this[Symbol.iterator] = function() {
        return this
      }
    },
    xa = function(a, b) {
      b = new wa(new va(b));
      ra && ra(b, a.prototype);
      return b
    },
    ya = function(a, b, c) {
      a instanceof String && (a = String(a));
      for (var d = a.length, e = 0; e < d; e++) {
        var g = a[e];
        if (b.call(c, g, e, a)) return {
          i: e,
          v: g
        }
      }
      return {
        i: -1,
        v: void 0
      }
    },
    za = function(a, b) {
      if (b) {
        var c = ca;
        a = a.split(".");
        for (var d = 0; d < a.length - 1; d++) {
          var e = a[d];
          e in c || (c[e] = {});
          c = c[e]
        }
        a = a[a.length - 1];
        d = c[a];
        b = b(d);
        b != d && null != b && ba(c, a, {
          configurable: !0,
          writable: !0,
          value: b
        })
      }
    };
  za("Array.prototype.findIndex", function(a) {
    return a ? a : function(b, c) {
      return ya(this, b, c).i
    }
  }, "es6", "es3");
  var Aa = function(a, b, c) {
    if (null == a) throw new TypeError("The 'this' value for String.prototype." + c + " must not be null or undefined");
    if (b instanceof RegExp) throw new TypeError("First argument to String.prototype." + c + " must not be a regular expression");
    return a + ""
  };
  za("String.prototype.endsWith", function(a) {
    return a ? a : function(b, c) {
      var d = Aa(this, b, "endsWith");
      b += "";
      void 0 === c && (c = d.length);
      c = Math.max(0, Math.min(c | 0, d.length));
      for (var e = b.length; 0 < e && 0 < c;)
        if (d[--c] != b[--e]) return !1;
      return 0 >= e
    }
  }, "es6", "es3");
  za("Array.prototype.find", function(a) {
    return a ? a : function(b, c) {
      return ya(this, b, c).v
    }
  }, "es6", "es3");
  za("String.prototype.startsWith", function(a) {
    return a ? a : function(b, c) {
      var d = Aa(this, b, "startsWith");
      b += "";
      var e = d.length,
        g = b.length;
      c = Math.max(0, Math.min(c | 0, d.length));
      for (var h = 0; h < g && c < e;)
        if (d[c++] != b[h++]) return !1;
      return h >= g
    }
  }, "es6", "es3");
  za("String.prototype.repeat", function(a) {
    return a ? a : function(b) {
      var c = Aa(this, null, "repeat");
      if (0 > b || 1342177279 < b) throw new RangeError("Invalid count value");
      b |= 0;
      for (var d = ""; b;)
        if (b & 1 && (d += c), b >>>= 1) c += c;
      return d
    }
  }, "es6", "es3");
  var Ba = function(a, b) {
    ka();
    a instanceof String && (a += "");
    var c = 0,
      d = {
        next: function() {
          if (c < a.length) {
            var e = c++;
            return {
              value: b(e, a[e]),
              done: !1
            }
          }
          d.next = function() {
            return {
              done: !0,
              value: void 0
            }
          };
          return d.next()
        }
      };
    d[Symbol.iterator] = function() {
      return d
    };
    return d
  };
  za("Array.prototype.keys", function(a) {
    return a ? a : function() {
      return Ba(this, function(b) {
        return b
      })
    }
  }, "es6", "es3");
  za("Array.prototype.values", function(a) {
    return a ? a : function() {
      return Ba(this, function(b, c) {
        return c
      })
    }
  }, "es8", "es3");
  var Ca = function(a, b) {
      return Object.prototype.hasOwnProperty.call(a, b)
    },
    Da = "function" == typeof Object.assign ? Object.assign : function(a, b) {
      for (var c = 1; c < arguments.length; c++) {
        var d = arguments[c];
        if (d)
          for (var e in d) Ca(d, e) && (a[e] = d[e])
      }
      return a
    };
  za("Object.assign", function(a) {
    return a || Da
  }, "es6", "es3");
  za("WeakMap", function(a) {
    function b() {}

    function c(k) {
      if (!Ca(k, e)) {
        var m = new b;
        ba(k, e, {
          value: m
        })
      }
    }

    function d(k) {
      var m = Object[k];
      m && (Object[k] = function(l) {
        if (l instanceof b) return l;
        c(l);
        return m(l)
      })
    }
    if (function() {
        if (!a || !Object.seal) return !1;
        try {
          var k = Object.seal({}),
            m = Object.seal({}),
            l = new a([
              [k, 2],
              [m, 3]
            ]);
          if (2 != l.get(k) || 3 != l.get(m)) return !1;
          l.delete(k);
          l.set(m, 4);
          return !l.has(k) && 4 == l.get(m)
        } catch (q) {
          return !1
        }
      }()) return a;
    var e = "$jscomp_hidden_" + Math.random();
    d("freeze");
    d("preventExtensions");
    d("seal");
    var g = 0,
      h = function(k) {
        this.id_ = (g += Math.random() + 1).toString();
        if (k) {
          k = y(k);
          for (var m; !(m = k.next()).done;) m = m.value, this.set(m[0], m[1])
        }
      };
    h.prototype.set = function(k, m) {
      c(k);
      if (!Ca(k, e)) throw Error("WeakMap key fail: " + k);
      k[e][this.id_] = m;
      return this
    };
    h.prototype.get = function(k) {
      return Ca(k, e) ? k[e][this.id_] : void 0
    };
    h.prototype.has = function(k) {
      return Ca(k, e) && Ca(k[e], this.id_)
    };
    h.prototype.delete = function(k) {
      return Ca(k, e) && Ca(k[e], this.id_) ? delete k[e][this.id_] : !1
    };
    return h
  }, "es6", "es3");
  za("Map", function(a) {
    if (function() {
        if (!a || "function" != typeof a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
        try {
          var k = Object.seal({
              x: 4
            }),
            m = new a(y([
              [k, "s"]
            ]));
          if ("s" != m.get(k) || 1 != m.size || m.get({
              x: 4
            }) || m.set({
              x: 4
            }, "t") != m || 2 != m.size) return !1;
          var l = m.entries(),
            q = l.next();
          if (q.done || q.value[0] != k || "s" != q.value[1]) return !1;
          q = l.next();
          return q.done || 4 != q.value[0].x || "t" != q.value[1] || !l.next().done ? !1 : !0
        } catch (p) {
          return !1
        }
      }()) return a;
    ka();
    var b = new WeakMap,
      c = function(k) {
        this.data_ = {};
        this.head_ = g();
        this.size = 0;
        if (k) {
          k = y(k);
          for (var m; !(m = k.next()).done;) m = m.value, this.set(m[0], m[1])
        }
      };
    c.prototype.set = function(k, m) {
      k = 0 === k ? 0 : k;
      var l = d(this, k);
      l.list || (l.list = this.data_[l.id] = []);
      l.entry ? l.entry.value = m : (l.entry = {
        next: this.head_,
        previous: this.head_.previous,
        head: this.head_,
        key: k,
        value: m
      }, l.list.push(l.entry), this.head_.previous.next = l.entry, this.head_.previous = l.entry, this.size++);
      return this
    };
    c.prototype.delete = function(k) {
      k = d(this, k);
      return k.entry && k.list ? (k.list.splice(k.index, 1), k.list.length || delete this.data_[k.id], k.entry.previous.next = k.entry.next, k.entry.next.previous = k.entry.previous, k.entry.head = null, this.size--, !0) : !1
    };
    c.prototype.clear = function() {
      this.data_ = {};
      this.head_ = this.head_.previous = g();
      this.size = 0
    };
    c.prototype.has = function(k) {
      return !!d(this, k).entry
    };
    c.prototype.get = function(k) {
      return (k = d(this, k).entry) && k.value
    };
    c.prototype.entries = function() {
      return e(this, function(k) {
        return [k.key, k.value]
      })
    };
    c.prototype.keys = function() {
      return e(this, function(k) {
        return k.key
      })
    };
    c.prototype.values = function() {
      return e(this, function(k) {
        return k.value
      })
    };
    c.prototype.forEach = function(k, m) {
      for (var l = this.entries(), q; !(q = l.next()).done;) q = q.value, k.call(m, q[1], q[0], this)
    };
    c.prototype[Symbol.iterator] = c.prototype.entries;
    var d = function(k, m) {
        var l = m && typeof m;
        "object" == l || "function" == l ? b.has(m) ? l = b.get(m) : (l = "" + ++h, b.set(m, l)) : l = "p_" + m;
        var q = k.data_[l];
        if (q && Ca(k.data_, l))
          for (k = 0; k < q.length; k++) {
            var p = q[k];
            if (m !== m && p.key !== p.key || m === p.key) return {
              id: l,
              list: q,
              index: k,
              entry: p
            }
          }
        return {
          id: l,
          list: q,
          index: -1,
          entry: void 0
        }
      },
      e = function(k, m) {
        var l = k.head_;
        return ia(function() {
          if (l) {
            for (; l.head != k.head_;) l = l.previous;
            for (; l.next != l.head;) return l = l.next, {
              done: !1,
              value: m(l)
            };
            l = null
          }
          return {
            done: !0,
            value: void 0
          }
        })
      },
      g = function() {
        var k = {};
        return k.previous = k.next = k.head = k
      },
      h = 0;
    return c
  }, "es6", "es3");
  za("Set", function(a) {
    if (function() {
        if (!a || "function" != typeof a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
        try {
          var c = Object.seal({
              x: 4
            }),
            d = new a(y([c]));
          if (!d.has(c) || 1 != d.size || d.add(c) != d || 1 != d.size || d.add({
              x: 4
            }) != d || 2 != d.size) return !1;
          var e = d.entries(),
            g = e.next();
          if (g.done || g.value[0] != c || g.value[1] != c) return !1;
          g = e.next();
          return g.done || g.value[0] == c || 4 != g.value[0].x || g.value[1] != g.value[0] ? !1 : e.next().done
        } catch (h) {
          return !1
        }
      }()) return a;
    ka();
    var b = function(c) {
      this.map_ = new Map;
      if (c) {
        c = y(c);
        for (var d; !(d = c.next()).done;) this.add(d.value)
      }
      this.size = this.map_.size
    };
    b.prototype.add = function(c) {
      c = 0 === c ? 0 : c;
      this.map_.set(c, c);
      this.size = this.map_.size;
      return this
    };
    b.prototype.delete = function(c) {
      c = this.map_.delete(c);
      this.size = this.map_.size;
      return c
    };
    b.prototype.clear = function() {
      this.map_.clear();
      this.size = 0
    };
    b.prototype.has = function(c) {
      return this.map_.has(c)
    };
    b.prototype.entries = function() {
      return this.map_.entries()
    };
    b.prototype.values = function() {
      return this.map_.values()
    };
    b.prototype.keys = b.prototype.values;
    b.prototype[Symbol.iterator] = b.prototype.values;
    b.prototype.forEach = function(c, d) {
      var e = this;
      this.map_.forEach(function(g) {
        return c.call(d, g, g, e)
      })
    };
    return b
  }, "es6", "es3");
  za("Object.setPrototypeOf", function(a) {
    return a || ra
  }, "es6", "es5");
  za("Promise", function(a) {
    function b() {
      this.batch_ = null
    }

    function c(h) {
      return h instanceof e ? h : new e(function(k) {
        k(h)
      })
    }
    if (a) return a;
    b.prototype.asyncExecute = function(h) {
      if (null == this.batch_) {
        this.batch_ = [];
        var k = this;
        this.asyncExecuteFunction(function() {
          k.executeBatch_()
        })
      }
      this.batch_.push(h)
    };
    var d = ca.setTimeout;
    b.prototype.asyncExecuteFunction = function(h) {
      d(h, 0)
    };
    b.prototype.executeBatch_ = function() {
      for (; this.batch_ && this.batch_.length;) {
        var h = this.batch_;
        this.batch_ = [];
        for (var k = 0; k < h.length; ++k) {
          var m = h[k];
          h[k] = null;
          try {
            m()
          } catch (l) {
            this.asyncThrow_(l)
          }
        }
      }
      this.batch_ = null
    };
    b.prototype.asyncThrow_ = function(h) {
      this.asyncExecuteFunction(function() {
        throw h;
      })
    };
    var e = function(h) {
      this.state_ = 0;
      this.result_ = void 0;
      this.onSettledCallbacks_ = [];
      var k = this.createResolveAndReject_();
      try {
        h(k.resolve, k.reject)
      } catch (m) {
        k.reject(m)
      }
    };
    e.prototype.createResolveAndReject_ = function() {
      function h(l) {
        return function(q) {
          m || (m = !0, l.call(k, q))
        }
      }
      var k = this,
        m = !1;
      return {
        resolve: h(this.resolveTo_),
        reject: h(this.reject_)
      }
    };
    e.prototype.resolveTo_ = function(h) {
      if (h === this) this.reject_(new TypeError("A Promise cannot resolve to itself"));
      else if (h instanceof e) this.settleSameAsPromise_(h);
      else {
        a: switch (typeof h) {
          case "object":
            var k = null != h;
            break a;
          case "function":
            k = !0;
            break a;
          default:
            k = !1
        }
        k ? this.resolveToNonPromiseObj_(h) : this.fulfill_(h)
      }
    };
    e.prototype.resolveToNonPromiseObj_ = function(h) {
      var k = void 0;
      try {
        k = h.then
      } catch (m) {
        this.reject_(m);
        return
      }
      "function" == typeof k ? this.settleSameAsThenable_(k, h) : this.fulfill_(h)
    };
    e.prototype.reject_ = function(h) {
      this.settle_(2, h)
    };
    e.prototype.fulfill_ = function(h) {
      this.settle_(1, h)
    };
    e.prototype.settle_ = function(h, k) {
      if (0 != this.state_) throw Error("Cannot settle(" + h + ", " + k + "): Promise already settled in state" + this.state_);
      this.state_ = h;
      this.result_ = k;
      this.executeOnSettledCallbacks_()
    };
    e.prototype.executeOnSettledCallbacks_ = function() {
      if (null != this.onSettledCallbacks_) {
        for (var h = 0; h < this.onSettledCallbacks_.length; ++h) g.asyncExecute(this.onSettledCallbacks_[h]);
        this.onSettledCallbacks_ = null
      }
    };
    var g = new b;
    e.prototype.settleSameAsPromise_ = function(h) {
      var k = this.createResolveAndReject_();
      h.callWhenSettled_(k.resolve, k.reject)
    };
    e.prototype.settleSameAsThenable_ = function(h, k) {
      var m = this.createResolveAndReject_();
      try {
        h.call(k, m.resolve, m.reject)
      } catch (l) {
        m.reject(l)
      }
    };
    e.prototype.then = function(h, k) {
      function m(n, r) {
        return "function" == typeof n ? function(t) {
          try {
            l(n(t))
          } catch (u) {
            q(u)
          }
        } : r
      }
      var l, q, p = new e(function(n, r) {
        l = n;
        q = r
      });
      this.callWhenSettled_(m(h, l), m(k, q));
      return p
    };
    e.prototype.catch = function(h) {
      return this.then(void 0, h)
    };
    e.prototype.callWhenSettled_ = function(h, k) {
      function m() {
        switch (l.state_) {
          case 1:
            h(l.result_);
            break;
          case 2:
            k(l.result_);
            break;
          default:
            throw Error("Unexpected state: " + l.state_);
        }
      }
      var l = this;
      null == this.onSettledCallbacks_ ? g.asyncExecute(m) : this.onSettledCallbacks_.push(m)
    };
    e.resolve = c;
    e.reject = function(h) {
      return new e(function(k, m) {
        m(h)
      })
    };
    e.race = function(h) {
      return new e(function(k, m) {
        for (var l = y(h), q = l.next(); !q.done; q = l.next()) c(q.value).callWhenSettled_(k, m)
      })
    };
    e.all = function(h) {
      var k = y(h),
        m = k.next();
      return m.done ? c([]) : new e(function(l, q) {
        function p(t) {
          return function(u) {
            n[t] = u;
            r--;
            0 == r && l(n)
          }
        }
        var n = [],
          r = 0;
        do n.push(void 0), r++, c(m.value).callWhenSettled_(p(n.length - 1), q), m = k.next(); while (!m.done)
      })
    };
    return e
  }, "es6", "es3");
  za("Object.getOwnPropertySymbols", function(a) {
    return a ? a : function() {
      return []
    }
  }, "es6", "es5");
  za("Reflect.ownKeys", function(a) {
    return a ? a : function(b) {
      var c = [],
        d = Object.getOwnPropertyNames(b);
      b = Object.getOwnPropertySymbols(b);
      for (var e = 0; e < d.length; e++)("jscomp_symbol_" == d[e].substring(0, 14) ? b : c).push(d[e]);
      return c.concat(b)
    }
  }, "es6", "es5");
  za("Object.getOwnPropertyDescriptors", function(a) {
    return a ? a : function(b) {
      for (var c = {}, d = Reflect.ownKeys(b), e = 0; e < d.length; e++) c[d[e]] = Object.getOwnPropertyDescriptor(b, d[e]);
      return c
    }
  }, "es8", "es5");
  za("Array.from", function(a) {
    return a ? a : function(b, c, d) {
      c = null != c ? c : function(k) {
        return k
      };
      var e = [],
        g = "undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];
      if ("function" == typeof g) {
        b = g.call(b);
        for (var h = 0; !(g = b.next()).done;) e.push(c.call(d, g.value, h++))
      } else
        for (g = b.length, h = 0; h < g; h++) e.push(c.call(d, b[h], h));
      return e
    }
  }, "es6", "es3");
  za("Array.prototype.fill", function(a) {
    return a ? a : function(b, c, d) {
      var e = this.length || 0;
      0 > c && (c = Math.max(0, e + c));
      if (null == d || d > e) d = e;
      d = Number(d);
      0 > d && (d = Math.max(0, e + d));
      for (c = Number(c || 0); c < d; c++) this[c] = b;
      return this
    }
  }, "es6", "es3");
  za("Array.prototype.entries", function(a) {
    return a ? a : function() {
      return Ba(this, function(b, c) {
        return [b, c]
      })
    }
  }, "es6", "es3");
  za("Object.is", function(a) {
    return a ? a : function(b, c) {
      return b === c ? 0 !== b || 1 / b === 1 / c : b !== b && c !== c
    }
  }, "es6", "es3");
  za("Array.prototype.includes", function(a) {
    return a ? a : function(b, c) {
      var d = this;
      d instanceof String && (d = String(d));
      var e = d.length;
      c = c || 0;
      for (0 > c && (c = Math.max(c + e, 0)); c < e; c++) {
        var g = d[c];
        if (g === b || Object.is(g, b)) return !0
      }
      return !1
    }
  }, "es7", "es3");
  za("String.prototype.includes", function(a) {
    return a ? a : function(b, c) {
      return -1 !== Aa(this, b, "includes").indexOf(b, c || 0)
    }
  }, "es6", "es3");
  var Ea = function() {
    function a() {
      function c() {}
      new c;
      Reflect.construct(c, [], function() {});
      return new c instanceof c
    }
    if ("undefined" != typeof Reflect && Reflect.construct) {
      if (a()) return Reflect.construct;
      var b = Reflect.construct;
      return function(c, d, e) {
        c = b(c, d);
        e && Reflect.setPrototypeOf(c, e.prototype);
        return c
      }
    }
    return function(c, d, e) {
      void 0 === e && (e = c);
      e = ma(e.prototype || Object.prototype);
      return Function.prototype.apply.call(c, e, d) || e
    }
  }();
  za("Reflect.construct", function() {
    return Ea
  }, "es6", "es3");
  za("Object.entries", function(a) {
    return a ? a : function(b) {
      var c = [],
        d;
      for (d in b) Ca(b, d) && c.push([d, b[d]]);
      return c
    }
  }, "es8", "es3");
  za("Number.isNaN", function(a) {
    return a ? a : function(b) {
      return "number" === typeof b && isNaN(b)
    }
  }, "es6", "es3");
  za("Object.values", function(a) {
    return a ? a : function(b) {
      var c = [],
        d;
      for (d in b) Ca(b, d) && c.push(b[d]);
      return c
    }
  }, "es8", "es3");
  za("WeakSet", function(a) {
    if (function() {
        if (!a || !Object.seal) return !1;
        try {
          var c = Object.seal({}),
            d = Object.seal({}),
            e = new a([c]);
          if (!e.has(c) || e.has(d)) return !1;
          e.delete(c);
          e.add(d);
          return !e.has(c) && e.has(d)
        } catch (g) {
          return !1
        }
      }()) return a;
    var b = function(c) {
      this.map_ = new WeakMap;
      if (c) {
        c = y(c);
        for (var d; !(d = c.next()).done;) this.add(d.value)
      }
    };
    b.prototype.add = function(c) {
      this.map_.set(c, !0);
      return this
    };
    b.prototype.has = function(c) {
      return this.map_.has(c)
    };
    b.prototype.delete = function(c) {
      return this.map_.delete(c)
    };
    return b
  }, "es6", "es3");
  za("Number.MAX_SAFE_INTEGER", function() {
    return 9007199254740991
  }, "es6", "es3");
  var Fa = Fa || {},
    D = this || self,
    E = function(a) {
      return void 0 !== a
    },
    Ga = function(a) {
      return "string" == typeof a
    },
    Ha = function(a) {
      return "number" == typeof a
    },
    F = function(a, b, c) {
      a = a.split(".");
      c = c || D;
      a[0] in c || "undefined" == typeof c.execScript || c.execScript("var " + a[0]);
      for (var d; a.length && (d = a.shift());) !a.length && E(b) ? c[d] = b : c = c[d] && c[d] !== Object.prototype[d] ? c[d] : c[d] = {}
    },
    Ka = function(a) {
      if (a && a != D) return Ia(a.document);
      null === Ja && (Ja = Ia(D.document));
      return Ja
    },
    La = /^[\w+/_-]+[=]{0,2}$/,
    Ja = null,
    Ia = function(a) {
      return (a = a.querySelector && a.querySelector("script[nonce]")) && (a = a.nonce || a.getAttribute("nonce")) && La.test(a) ? a : ""
    },
    G = function(a, b) {
      a = a.split(".");
      b = b || D;
      for (var c = 0; c < a.length; c++)
        if (b = b[a[c]], null == b) return null;
      return b
    },
    Ma = function() {},
    Na = function(a) {
      a.instance_ = void 0;
      a.getInstance = function() {
        return a.instance_ ? a.instance_ : a.instance_ = new a
      }
    },
    Oa = function(a) {
      var b = typeof a;
      if ("object" == b)
        if (a) {
          if (a instanceof Array) return "array";
          if (a instanceof Object) return b;
          var c = Object.prototype.toString.call(a);
          if ("[object Window]" == c) return "object";
          if ("[object Array]" == c || "number" == typeof a.length && "undefined" != typeof a.splice && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("splice")) return "array";
          if ("[object Function]" == c || "undefined" != typeof a.call && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("call")) return "function"
        } else return "null";
      else if ("function" == b && "undefined" == typeof a.call) return "object";
      return b
    },
    Pa = function(a) {
      return "array" == Oa(a)
    },
    Ra = function(a) {
      var b = Oa(a);
      return "array" == b || "object" == b && "number" == typeof a.length
    },
    Sa = function(a) {
      return "function" == Oa(a)
    },
    Ta = function(a) {
      var b = typeof a;
      return "object" == b && null != a || "function" == b
    },
    Wa = function(a) {
      return a[Ua] || (a[Ua] = ++Va)
    },
    Ua = "closure_uid_" + (1E9 * Math.random() >>> 0),
    Va = 0,
    Xa = function(a) {
      var b = Oa(a);
      if ("object" == b || "array" == b) {
        if ("function" === typeof a.clone) return a.clone();
        b = "array" == b ? [] : {};
        for (var c in a) b[c] = Xa(a[c]);
        return b
      }
      return a
    },
    Ya = function(a, b, c) {
      return a.call.apply(a.bind, arguments)
    },
    Za = function(a, b, c) {
      if (!a) throw Error();
      if (2 < arguments.length) {
        var d = Array.prototype.slice.call(arguments, 2);
        return function() {
          var e = Array.prototype.slice.call(arguments);
          Array.prototype.unshift.apply(e, d);
          return a.apply(b, e)
        }
      }
      return function() {
        return a.apply(b, arguments)
      }
    },
    $a = function(a, b, c) {
      $a = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? Ya : Za;
      return $a.apply(null, arguments)
    },
    ab = function(a, b) {
      var c = Array.prototype.slice.call(arguments, 1);
      return function() {
        var d = c.slice();
        d.push.apply(d, arguments);
        return a.apply(this, d)
      }
    },
    bb = function(a, b) {
      for (var c in b) a[c] = b[c]
    },
    cb = Date.now || function() {
      return +new Date
    },
    K = function(a, b) {
      function c() {}
      c.prototype = b.prototype;
      a.superClass_ = b.prototype;
      a.prototype = new c;
      a.prototype.constructor = a;
      a.base = function(d, e, g) {
        for (var h = Array(arguments.length - 2), k = 2; k < arguments.length; k++) h[k - 2] = arguments[k];
        return b.prototype[e].apply(d, h)
      }
    };
  var db = function(a) {
    if (Error.captureStackTrace) Error.captureStackTrace(this, db);
    else {
      var b = Error().stack;
      b && (this.stack = b)
    }
    a && (this.message = String(a));
    this.reportErrorToServer = !0
  };
  K(db, Error);
  db.prototype.name = "CustomError";
  var eb;
  var fb = function(a) {
    return a
  };
  var gb = Array.prototype.indexOf ? function(a, b, c) {
      return Array.prototype.indexOf.call(a, b, c)
    } : function(a, b, c) {
      c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;
      if (Ga(a)) return Ga(b) && 1 == b.length ? a.indexOf(b, c) : -1;
      for (; c < a.length; c++)
        if (c in a && a[c] === b) return c;
      return -1
    },
    hb = Array.prototype.forEach ? function(a, b, c) {
      Array.prototype.forEach.call(a, b, c)
    } : function(a, b, c) {
      for (var d = a.length, e = Ga(a) ? a.split("") : a, g = 0; g < d; g++) g in e && b.call(c, e[g], g, a)
    },
    ib = Array.prototype.filter ? function(a, b, c) {
      return Array.prototype.filter.call(a, b, c)
    } : function(a, b, c) {
      for (var d = a.length, e = [], g = 0, h = Ga(a) ? a.split("") : a, k = 0; k < d; k++)
        if (k in h) {
          var m = h[k];
          b.call(c, m, k, a) && (e[g++] = m)
        } return e
    },
    jb = Array.prototype.map ? function(a, b, c) {
      return Array.prototype.map.call(a, b, c)
    } : function(a, b, c) {
      for (var d = a.length, e = Array(d), g = Ga(a) ? a.split("") : a, h = 0; h < d; h++) h in g && (e[h] = b.call(c, g[h], h, a));
      return e
    },
    kb = Array.prototype.reduce ? function(a, b, c, d) {
      d && (b = $a(b, d));
      return Array.prototype.reduce.call(a, b, c)
    } : function(a, b, c, d) {
      var e = c;
      hb(a, function(g, h) {
        e = b.call(d, e, g, h, a)
      });
      return e
    },
    lb = Array.prototype.some ? function(a, b, c) {
      return Array.prototype.some.call(a, b, c)
    } : function(a, b, c) {
      for (var d = a.length, e = Ga(a) ? a.split("") : a, g = 0; g < d; g++)
        if (g in e && b.call(c, e[g], g, a)) return !0;
      return !1
    },
    mb = Array.prototype.every ? function(a, b, c) {
      return Array.prototype.every.call(a, b, c)
    } : function(a, b, c) {
      for (var d = a.length, e = Ga(a) ? a.split("") : a, g = 0; g < d; g++)
        if (g in e && !b.call(c, e[g], g, a)) return !1;
      return !0
    },
    ob = function(a, b, c) {
      b = nb(a, b, c);
      return 0 > b ? null : Ga(a) ? a.charAt(b) : a[b]
    },
    nb = function(a, b, c) {
      for (var d = a.length, e = Ga(a) ? a.split("") : a, g = 0; g < d; g++)
        if (g in e && b.call(c, e[g], g, a)) return g;
      return -1
    },
    pb = function(a, b) {
      return 0 <= gb(a, b)
    },
    qb = function(a, b) {
      b = gb(a, b);
      var c;
      (c = 0 <= b) && Array.prototype.splice.call(a, b, 1);
      return c
    },
    rb = function(a) {
      return Array.prototype.concat.apply([], arguments)
    },
    sb = function(a) {
      var b = a.length;
      if (0 < b) {
        for (var c = Array(b), d = 0; d < b; d++) c[d] = a[d];
        return c
      }
      return []
    },
    tb = function(a, b) {
      for (var c = 1; c < arguments.length; c++) {
        var d = arguments[c];
        if (Ra(d)) {
          var e = a.length || 0,
            g = d.length || 0;
          a.length = e + g;
          for (var h = 0; h < g; h++) a[e + h] = d[h]
        } else a.push(d)
      }
    },
    ub = function(a, b, c) {
      return 2 >= arguments.length ? Array.prototype.slice.call(a, b) : Array.prototype.slice.call(a, b, c)
    };
  var vb = function(a) {
      var b = !1,
        c;
      return function() {
        b || (c = a(), b = !0);
        return c
      }
    },
    wb = function(a, b, c) {
      var d = 0;
      return function(e) {
        D.clearTimeout(d);
        var g = arguments;
        d = D.setTimeout(function() {
          a.apply(c, g)
        }, b)
      }
    };
  var xb = function(a, b, c) {
      for (var d in a) b.call(c, a[d], d, a)
    },
    yb = function(a, b, c) {
      var d = {},
        e;
      for (e in a) d[e] = b.call(c, a[e], e, a);
      return d
    },
    zb = function(a, b, c) {
      for (var d in a)
        if (b.call(c, a[d], d, a)) return !0;
      return !1
    },
    Ab = function(a) {
      var b = [],
        c = 0,
        d;
      for (d in a) b[c++] = a[d];
      return b
    },
    Bb = function(a) {
      var b = [],
        c = 0,
        d;
      for (d in a) b[c++] = d;
      return b
    },
    Cb = function(a, b) {
      var c = Ra(b),
        d = c ? b : arguments;
      for (c = c ? 0 : 1; c < d.length; c++) {
        if (null == a) return;
        a = a[d[c]]
      }
      return a
    },
    Db = function(a, b, c) {
      for (var d in a)
        if (b.call(c, a[d], d, a)) return d
    },
    Eb = function(a) {
      for (var b in a) return !1;
      return !0
    },
    Fb = function(a, b, c) {
      if (null !== a && b in a) throw Error('The object already contains the key "' + b + '"');
      a[b] = c
    },
    Gb = function(a, b) {
      for (var c in a)
        if (!(c in b) || a[c] !== b[c]) return !1;
      for (c in b)
        if (!(c in a)) return !1;
      return !0
    },
    Hb = function(a) {
      var b = {},
        c;
      for (c in a) b[c] = a[c];
      return b
    },
    Ib = function(a) {
      var b = Oa(a);
      if ("object" == b || "array" == b) {
        if (Sa(a.clone)) return a.clone();
        b = "array" == b ? [] : {};
        for (var c in a) b[c] = Ib(a[c]);
        return b
      }
      return a
    },
    Jb = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),
    Kb = function(a, b) {
      for (var c, d, e = 1; e < arguments.length; e++) {
        d = arguments[e];
        for (c in d) a[c] = d[c];
        for (var g = 0; g < Jb.length; g++) c = Jb[g], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c])
      }
    };
  var Nb = function(a, b) {
    this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ = a === Lb && b || "";
    this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ = Mb
  };
  Nb.prototype.implementsGoogStringTypedString = !0;
  Nb.prototype.getTypedStringValue = function() {
    return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_
  };
  Nb.prototype.toString = function() {
    return "Const{" + this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ + "}"
  };
  var Ob = function(a) {
      return a instanceof Nb && a.constructor === Nb && a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ === Mb ? a.stringConstValueWithSecurityContract__googStringSecurityPrivate_ : "type_error:Const"
    },
    Mb = {},
    Lb = {},
    Pb = new Nb(Lb, "");
  var Rb = function() {
    this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = "";
    this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = Qb
  };
  Rb.prototype.implementsGoogStringTypedString = !0;
  var Qb = {};
  Rb.prototype.getTypedStringValue = function() {
    return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()
  };
  Rb.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(a) {
    this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = a;
    return this
  };
  (new Rb).initSecurityPrivateDoNotAccessOrElse_("");
  var Tb = function() {
    this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = "";
    this.trustedURL_ = null;
    this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = Sb
  };
  f = Tb.prototype;
  f.implementsGoogStringTypedString = !0;
  f.getTypedStringValue = function() {
    return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()
  };
  f.implementsGoogI18nBidiDirectionalString = !0;
  f.getDirection = function() {
    return 1
  };
  f.cloneWithParams = function(a, b) {
    var c = Ub(this);
    c = Vb.exec(c);
    var d = c[3] || "";
    return Wb(c[1] + Xb("?", c[2] || "", a) + Xb("#", d, b))
  };
  var Ub = function(a) {
      return Yb(a).toString()
    },
    Yb = function(a) {
      if (a instanceof Tb && a.constructor === Tb && a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === Sb) return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;
      Oa(a);
      return "type_error:TrustedResourceUrl"
    },
    ac = function(a, b) {
      var c = Ob(a);
      if (!Zb.test(c)) throw Error("Invalid TrustedResourceUrl format: " + c);
      a = c.replace($b, function(d, e) {
        if (!Object.prototype.hasOwnProperty.call(b, e)) throw Error('Found marker, "' + e + '", in format string, "' + c + '", but no valid label mapping found in args: ' + JSON.stringify(b));
        d = b[e];
        return d instanceof Nb ? Ob(d) : encodeURIComponent(String(d))
      });
      return Wb(a)
    },
    $b = /%{(\w+)}/g,
    Zb = /^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,
    Vb = /^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,
    Sb = {},
    Wb = function(a) {
      var b = new Tb;
      b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = a;
      return b
    },
    Xb = function(a, b, c) {
      if (null == c) return b;
      if (Ga(c)) return c ? a + encodeURIComponent(c) : "";
      for (var d in c) {
        var e = c[d];
        e = Pa(e) ? e : [e];
        for (var g = 0; g < e.length; g++) {
          var h = e[g];
          null != h && (b || (b = a), b += (b.length > a.length ? "&" : "") + encodeURIComponent(d) + "=" + encodeURIComponent(String(h)))
        }
      }
      return b
    };
  var bc = function(a, b) {
      return 0 == a.lastIndexOf(b, 0)
    },
    cc = String.prototype.trim ? function(a) {
      return a.trim()
    } : function(a) {
      return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]
    },
    kc = function(a, b) {
      if (b) a = a.replace(dc, "&amp;").replace(ec, "&lt;").replace(fc, "&gt;").replace(gc, "&quot;").replace(hc, "&#39;").replace(ic, "&#0;");
      else {
        if (!jc.test(a)) return a; - 1 != a.indexOf("&") && (a = a.replace(dc, "&amp;")); - 1 != a.indexOf("<") && (a = a.replace(ec, "&lt;")); - 1 != a.indexOf(">") && (a = a.replace(fc, "&gt;")); - 1 != a.indexOf('"') && (a = a.replace(gc, "&quot;")); - 1 != a.indexOf("'") && (a = a.replace(hc, "&#39;")); - 1 != a.indexOf("\x00") && (a = a.replace(ic, "&#0;"))
      }
      return a
    },
    dc = /&/g,
    ec = /</g,
    fc = />/g,
    gc = /"/g,
    hc = /'/g,
    ic = /\x00/g,
    jc = /[\x00&<>"']/,
    pc = function(a, b) {
      var c = 0;
      a = cc(String(a)).split(".");
      b = cc(String(b)).split(".");
      for (var d = Math.max(a.length, b.length), e = 0; 0 == c && e < d; e++) {
        var g = a[e] || "",
          h = b[e] || "";
        do {
          g = /(\d*)(\D*)(.*)/.exec(g) || ["", "", "", ""];
          h = /(\d*)(\D*)(.*)/.exec(h) || ["", "", "", ""];
          if (0 == g[0].length && 0 == h[0].length) break;
          c = lc(0 == g[1].length ? 0 : parseInt(g[1], 10), 0 == h[1].length ? 0 : parseInt(h[1], 10)) || lc(0 == g[2].length, 0 == h[2].length) || lc(g[2], h[2]);
          g = g[3];
          h = h[3]
        } while (0 == c)
      }
      return c
    },
    lc = function(a, b) {
      return a < b ? -1 : a > b ? 1 : 0
    };
  var rc = function() {
    this.privateDoNotAccessOrElseSafeUrlWrappedValue_ = "";
    this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = qc
  };
  rc.prototype.implementsGoogStringTypedString = !0;
  rc.prototype.getTypedStringValue = function() {
    return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()
  };
  rc.prototype.implementsGoogI18nBidiDirectionalString = !0;
  rc.prototype.getDirection = function() {
    return 1
  };
  var tc = function(a) {
      return sc(a).toString()
    },
    sc = function(a) {
      if (a instanceof rc && a.constructor === rc && a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === qc) return a.privateDoNotAccessOrElseSafeUrlWrappedValue_;
      Oa(a);
      return "type_error:SafeUrl"
    },
    uc = /^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,
    vc = /^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,
    wc = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,
    yc = function(a) {
      if (a instanceof rc) return a;
      a = "object" == typeof a && a.implementsGoogStringTypedString ? a.getTypedStringValue() : String(a);
      wc.test(a) || (a = "about:invalid#zClosurez");
      return xc(a)
    },
    zc = function(a, b) {
      if (a instanceof rc) return a;
      a = "object" == typeof a && a.implementsGoogStringTypedString ? a.getTypedStringValue() : String(a);
      if (b && /^data:/i.test(a)) {
        b = a.replace(/(%0A|%0D)/g, "");
        var c = b.match(vc);
        c = c && uc.test(c[1]);
        b = xc(c ? b : "about:invalid#zClosurez");
        if (b.getTypedStringValue() == a) return b
      }
      wc.test(a) || (a = "about:invalid#zClosurez");
      return xc(a)
    },
    qc = {},
    xc = function(a) {
      var b = new rc;
      b.privateDoNotAccessOrElseSafeUrlWrappedValue_ = a;
      return b
    };
  xc("about:blank");
  var Bc = function() {
    this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = "";
    this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = Ac
  };
  Bc.prototype.implementsGoogStringTypedString = !0;
  var Ac = {};
  Bc.prototype.getTypedStringValue = function() {
    return this.privateDoNotAccessOrElseSafeStyleWrappedValue_
  };
  Bc.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(a) {
    this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = a;
    return this
  };
  (new Bc).initSecurityPrivateDoNotAccessOrElse_("");
  var Dc = function() {
    this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = "";
    this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = Cc
  };
  Dc.prototype.implementsGoogStringTypedString = !0;
  var Cc = {};
  Dc.prototype.getTypedStringValue = function() {
    return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_
  };
  Dc.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(a) {
    this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = a;
    return this
  };
  (new Dc).initSecurityPrivateDoNotAccessOrElse_("");
  var Ec;
  a: {
    var Fc = D.navigator;
    if (Fc) {
      var Gc = Fc.userAgent;
      if (Gc) {
        Ec = Gc;
        break a
      }
    }
    Ec = ""
  }
  var L = function(a) {
    return -1 != Ec.indexOf(a)
  };
  var Hc = function() {
      return L("Firefox") || L("FxiOS")
    },
    Ic = function() {
      return (L("Chrome") || L("CriOS")) && !L("Edge")
    };
  var Kc = function() {
    this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = "";
    this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ = Jc;
    this.dir_ = null
  };
  Kc.prototype.implementsGoogI18nBidiDirectionalString = !0;
  Kc.prototype.getDirection = function() {
    return this.dir_
  };
  Kc.prototype.implementsGoogStringTypedString = !0;
  Kc.prototype.getTypedStringValue = function() {
    return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()
  };
  var Mc = function(a) {
      return Lc(a).toString()
    },
    Lc = function(a) {
      if (a instanceof Kc && a.constructor === Kc && a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === Jc) return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;
      Oa(a);
      return "type_error:SafeHtml"
    },
    Oc = function(a) {
      if (a instanceof Kc) return a;
      var b = "object" == typeof a,
        c = null;
      b && a.implementsGoogI18nBidiDirectionalString && (c = a.getDirection());
      return Nc(kc(b && a.implementsGoogStringTypedString ? a.getTypedStringValue() : String(a)), c)
    },
    Pc = function(a, b) {
      a = Oc(a);
      var c = a.getDirection(),
        d = [],
        e = function(g) {
          Pa(g) ? hb(g, e) : (g = Oc(g), d.push(Mc(g)), g = g.getDirection(), 0 == c ? c = g : 0 != g && c != g && (c = null))
        };
      hb(b, e);
      return Nc(d.join(Mc(a)), c)
    },
    Rc = function(a) {
      return Pc(Qc, Array.prototype.slice.call(arguments))
    },
    Jc = {},
    Nc = function(a, b) {
      return (new Kc).initSecurityPrivateDoNotAccessOrElse_(a, b)
    };
  Kc.prototype.initSecurityPrivateDoNotAccessOrElse_ = function(a, b) {
    this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = a;
    this.dir_ = b;
    return this
  };
  Nc("<!DOCTYPE html>", 0);
  var Qc = Nc("", 0),
    Sc = Nc("<br>", 0);
  var Tc = vb(function() {
      var a = document.createElement("div"),
        b = document.createElement("div");
      b.appendChild(document.createElement("div"));
      a.appendChild(b);
      b = a.firstChild.firstChild;
      a.innerHTML = Lc(Qc);
      return !b.parentElement
    }),
    Uc = function(a, b) {
      if (Tc())
        for (; a.lastChild;) a.removeChild(a.lastChild);
      a.innerHTML = Lc(b)
    },
    Vc = function(a, b) {
      b = b instanceof rc ? b : zc(b);
      a.href = sc(b)
    },
    Wc = function(a, b) {
      a.src = b.trustedURL_ ? b.trustedURL_ : Ub(b)
    },
    Xc = function(a, b, c) {
      a.rel = c;
      a.href = -1 != c.toLowerCase().indexOf("stylesheet") ? b.trustedURL_ ? b.trustedURL_ : Ub(b) : b instanceof Tb ? b.trustedURL_ ? b.trustedURL_ : Ub(b) : b instanceof rc ? sc(b) : sc(zc(b))
    },
    Yc = function(a, b) {
      a.src = Yb(b);
      (b = Ka()) && a.setAttribute("nonce", b)
    },
    Zc = function(a, b) {
      b = b instanceof rc ? b : zc(b);
      a.href = sc(b)
    };
  var $c = function(a) {
      return decodeURIComponent(a.replace(/\+/g, " "))
    },
    ad = function(a, b) {
      return a = kc(a, b)
    },
    bd = String.prototype.repeat ? function(a, b) {
      return a.repeat(b)
    } : function(a, b) {
      return Array(b + 1).join(a)
    },
    cd = function(a, b, c) {
      a = E(c) ? a.toFixed(c) : String(a);
      c = a.indexOf("."); - 1 == c && (c = a.length);
      return bd("0", Math.max(0, b - c)) + a
    },
    dd = function() {
      return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ cb()).toString(36)
    },
    ed = function(a) {
      for (var b = 0, c = 0; c < a.length; ++c) b = 31 * b + a.charCodeAt(c) >>> 0;
      return b
    },
    fd = function(a) {
      return String(a).replace(/\-([a-z])/g, function(b, c) {
        return c.toUpperCase()
      })
    },
    gd = function(a, b, c) {
      a = a.split(b);
      for (var d = []; 0 < c && a.length;) d.push(a.shift()), c--;
      a.length && d.push(a.join(b));
      return d
    };
  /*

   Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   This code may only be used under the BSD style license found at
   http://polymer.github.io/LICENSE.txt
   The complete set of authors may be found at
   http://polymer.github.io/AUTHORS.txt
   The complete set of contributors may be found at
   http://polymer.github.io/CONTRIBUTORS.txt
   Code distributed by Google as part of the polymer project is also
   subject to an additional IP rights grant found at
   http://polymer.github.io/PATENTS.txt
  */
  var hd = {
      align: 1,
      alt: 1,
      "aria-activedescendant": 10,
      "aria-atomic": 1,
      "aria-autocomplete": 1,
      "aria-busy": 1,
      "aria-checked": 1,
      "aria-disabled": 1,
      "aria-dropeffect": 1,
      "aria-expanded": 1,
      "aria-haspopup": 1,
      "aria-hidden": 1,
      "aria-invalid": 1,
      "aria-label": 1,
      "aria-level": 1,
      "aria-live": 1,
      "aria-multiline": 1,
      "aria-multiselectable": 1,
      "aria-orientation": 1,
      "aria-posinset": 1,
      "aria-pressed": 1,
      "aria-readonly": 1,
      "aria-relevant": 1,
      "aria-required": 1,
      "aria-selected": 1,
      "aria-setsize": 1,
      "aria-sort": 1,
      "aria-valuemax": 1,
      "aria-valuemin": 1,
      "aria-valuenow": 1,
      "aria-valuetext": 1,
      autocapitalize: 1,
      autocomplete: 1,
      autocorrect: 1,
      autofocus: 1,
      bgcolor: 1,
      border: 1,
      checked: 1,
      "class": 1,
      color: 1,
      cols: 1,
      colspan: 1,
      contenteditable: 1,
      dir: 8,
      disabled: 1,
      draggable: 1,
      enctype: 1,
      face: 1,
      "for": 10,
      formenctype: 1,
      frameborder: 1,
      height: 1,
      hidden: 1,
      href: 4,
      hreflang: 1,
      id: 10,
      ismap: 1,
      itemid: 1,
      itemprop: 1,
      itemref: 1,
      itemscope: 1,
      itemtype: 1,
      label: 1,
      lang: 1,
      list: 10,
      loop: 1,
      max: 1,
      maxlength: 1,
      min: 1,
      multiple: 1,
      muted: 1,
      name: 10,
      placeholder: 1,
      preload: 1,
      rel: 1,
      required: 1,
      reversed: 1,
      role: 1,
      rows: 1,
      rowspan: 1,
      selected: 1,
      shape: 1,
      size: 1,
      sizes: 1,
      span: 1,
      spellcheck: 1,
      src: 4,
      start: 1,
      step: 1,
      style: 5,
      summary: 1,
      tabindex: 1,
      target: 8,
      title: 1,
      translate: 1,
      valign: 1,
      value: 1,
      width: 1,
      wrap: 1
    },
    id = {
      a: {
        href: [{
          contract: 3
        }]
      },
      area: {
        href: [{
          contract: 3
        }]
      },
      audio: {
        src: [{
          contract: 3
        }]
      },
      blockquote: {
        cite: [{
          contract: 3
        }]
      },
      button: {
        formaction: [{
          contract: 3
        }],
        formmethod: [{
          contract: 1
        }],
        type: [{
          contract: 1
        }]
      },
      command: {
        type: [{
          contract: 1
        }]
      },
      content: {
        select: [{
          contract: 1
        }]
      },
      del: {
        cite: [{
          contract: 3
        }]
      },
      details: {
        open: [{
          contract: 1
        }]
      },
      form: {
        action: [{
          contract: 3
        }],
        method: [{
          contract: 1
        }]
      },
      iframe: {
        srcdoc: [{
          contract: 2
        }]
      },
      img: {
        src: [{
          contract: 3
        }],
        srcset: [{
          contract: 11
        }]
      },
      input: {
        formaction: [{
          contract: 3
        }],
        formmethod: [{
          contract: 1
        }],
        pattern: [{
          contract: 1
        }],
        readonly: [{
          contract: 1
        }],
        src: [{
          contract: 3
        }],
        type: [{
          contract: 1
        }]
      },
      ins: {
        cite: [{
          contract: 3
        }]
      },
      li: {
        type: [{
          contract: 1
        }]
      },
      link: {
        href: [{
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "alternate"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "author"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "bookmark"
          },
          {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "canonical"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "cite"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "help"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "icon"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "license"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "next"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "prefetch"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "dns-prefetch"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "prerender"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "preconnect"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "preload"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "prev"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "search"
          }, {
            contract: 3,
            contingentAttribute: "rel",
            requiredValue: "subresource"
          }
        ],
        media: [{
          contract: 1
        }],
        nonce: [{
          contract: 1
        }],
        type: [{
          contract: 1
        }]
      },
      menuitem: {
        icon: [{
          contract: 3
        }]
      },
      ol: {
        type: [{
          contract: 1
        }]
      },
      q: {
        cite: [{
          contract: 3
        }]
      },
      script: {
        nonce: [{
          contract: 1
        }],
        type: [{
          contract: 1
        }]
      },
      source: {
        media: [{
          contract: 1
        }],
        src: [{
          contract: 3
        }]
      },
      style: {
        media: [{
          contract: 1
        }],
        nonce: [{
          contract: 1
        }]
      },
      table: {
        cellpadding: [{
          contract: 1
        }],
        cellspacing: [{
          contract: 1
        }]
      },
      textarea: {
        readonly: [{
          contract: 1
        }]
      },
      time: {
        datetime: [{
          contract: 1
        }]
      },
      video: {
        autoplay: [{
          contract: 1
        }],
        controls: [{
          contract: 1
        }],
        poster: [{
          contract: 3
        }],
        src: [{
          contract: 3
        }]
      }
    },
    jd = {
      a: 1,
      abbr: 1,
      address: 1,
      applet: 4,
      area: 5,
      article: 1,
      aside: 1,
      audio: 1,
      b: 1,
      base: 4,
      bdi: 1,
      bdo: 1,
      blockquote: 1,
      body: 1,
      br: 5,
      button: 1,
      canvas: 1,
      caption: 1,
      cite: 1,
      code: 1,
      col: 5,
      colgroup: 1,
      command: 1,
      content: 1,
      data: 1,
      datalist: 1,
      dd: 1,
      del: 1,
      details: 1,
      dfn: 1,
      dialog: 1,
      div: 1,
      dl: 1,
      dt: 1,
      em: 1,
      embed: 4,
      fieldset: 1,
      figcaption: 1,
      figure: 1,
      font: 1,
      footer: 1,
      form: 1,
      frame: 1,
      frameset: 1,
      h1: 1,
      h2: 1,
      h3: 1,
      h4: 1,
      h5: 1,
      h6: 1,
      head: 1,
      header: 1,
      hr: 5,
      html: 1,
      i: 1,
      iframe: 1,
      img: 5,
      input: 5,
      ins: 1,
      kbd: 1,
      keygen: 5,
      label: 1,
      legend: 1,
      li: 1,
      link: 5,
      main: 1,
      map: 1,
      mark: 1,
      math: 4,
      menu: 1,
      menuitem: 1,
      meta: 4,
      meter: 1,
      nav: 1,
      noscript: 1,
      object: 4,
      ol: 1,
      optgroup: 1,
      option: 1,
      output: 1,
      p: 1,
      param: 5,
      picture: 1,
      pre: 1,
      progress: 1,
      q: 1,
      rb: 1,
      rp: 1,
      rt: 1,
      rtc: 1,
      ruby: 1,
      s: 1,
      samp: 1,
      script: 3,
      section: 1,
      select: 1,
      slot: 1,
      small: 1,
      source: 5,
      span: 1,
      strong: 1,
      style: 2,
      sub: 1,
      summary: 1,
      sup: 1,
      svg: 4,
      table: 1,
      tbody: 1,
      td: 1,
      template: 4,
      textarea: 6,
      tfoot: 1,
      th: 1,
      thead: 1,
      time: 1,
      title: 6,
      tr: 1,
      track: 5,
      u: 1,
      ul: 1,
      "var": 1,
      video: 1,
      wbr: 5
    },
    kd = [{
      auto: !0,
      ltr: !0,
      rtl: !0
    }, {
      _self: !0,
      _blank: !0
    }],
    ld = {
      "*": {
        dir: 0,
        target: 1
      }
    };
  var pd = function() {
      if (!md) {
        md = Hb(nd);
        for (var a = 0, b = od.length; a < b; ++a) {
          var c = od[a];
          md[c.toLowerCase()] = c
        }
      }
      return md
    },
    od = "aLink accessKey allowFullscreen bgColor cellPadding cellSpacing codeBase codeType contentEditable crossOrigin dateTime dirName formAction formEnctype formMethod formNoValidate formTarget frameBorder innerHTML innerText inputMode isMap longDesc marginHeight marginWidth maxLength mediaGroup minLength noHref noResize noShade noValidate noWrap nodeValue outerHTML outerText readOnly tabIndex textContent trueSpeed useMap vAlign vLink valueAsDate valueAsNumber valueType".split(" "),
    nd = {
      accept_charset: "acceptCharset",
      "char": "ch",
      charoff: "chOff",
      checked: "defaultChecked",
      "class": "className",
      "for": "htmlFor",
      http_equiv: "httpEquiv",
      muted: "defaultMuted",
      selected: "defaultSelected",
      value: "defaultValue"
    },
    md = null,
    qd = null;
  var rd = {},
    sd = !1,
    td = 0,
    ud = /^(?!(?:annotation-xml|color-profile|font-face|font-face(?:-(?:src|uri|format|name))?|missing-glyph)$)[a-z][a-z.0-9_\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u200c\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\udfff\uf900-\ufdcf\ufdf0-\ufffd]*-[\-a-z.0-9_\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u200c\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\udfff\uf900-\ufdcf\ufdf0-\ufffd]*$/,
    vd = function(a, b) {
      var c = window.customElements;
      if (sd) {
        for (var d = window.Polymer.telemetry.registrations,
            e = d.length, g = td; g < e; ++g) rd[d[g].is] = rd;
        td = e
      }
      return c && c.get(a) || rd[a] === rd ? 2 : "HTMLUnknownElement" === b.name ? 1 : "HTMLElement" === b.name && ud.test(a) ? 3 : 0
    };
  /*

   Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
   This code may only be used under the BSD style license found at
   http://polymer.github.io/LICENSE.txt
   The complete set of authors may be found at
   http://polymer.github.io/AUTHORS.txt
   The complete set of contributors may be found at
   http://polymer.github.io/CONTRIBUTORS.txt
   Code distributed by Google as part of the polymer project is also
   subject to an additional IP rights grant found at
   http://polymer.github.io/PATENTS.txt
  */
  var wd = function(a) {
      return a && a.implementsGoogStringTypedString ? a.getTypedStringValue() : a
    },
    xd = {
      CONSTANT: {
        typeToUnwrap: Nb,
        unwrap: Ob
      },
      JAVASCRIPT: {
        typeToUnwrap: Rb,
        unwrap: function(a) {
          a instanceof Rb && a.constructor === Rb && a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === Qb ? a = a.privateDoNotAccessOrElseSafeScriptWrappedValue_ : (Oa(a), a = "type_error:SafeScript");
          return a.toString()
        }
      },
      HTML: {
        typeToUnwrap: Kc,
        unwrap: Mc
      },
      RESOURCE_URL: {
        typeToUnwrap: Tb,
        unwrap: Ub
      },
      STRING: {
        typeToUnwrap: Object,
        unwrap: wd
      },
      STYLE: {
        typeToUnwrap: Bc,
        unwrap: function(a) {
          if (a instanceof Bc && a.constructor === Bc && a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_ === Ac) return a.privateDoNotAccessOrElseSafeStyleWrappedValue_;
          Oa(a);
          return "type_error:SafeStyle"
        }
      },
      URL: {
        typeToUnwrap: rc,
        unwrap: tc
      }
    },
    yd = function(a, b) {
      return b
    },
    zd = {
      CONSTANT: yd,
      JAVASCRIPT: yd,
      HTML: ad,
      RESOURCE_URL: yd,
      STRING: String,
      STYLE: yd,
      URL: function(a, b) {
        a = yc(a).getTypedStringValue();
        return "about:invalid#zClosurez" === a ? b : a
      }
    },
    Ad = function(a, b, c) {
      var d = xd[b];
      return a instanceof d.typeToUnwrap && (d = d.unwrap(a, c), d !== c) ? d : (0, zd[b])("" + wd(a), c)
    };
  var Bd = /(?!,)([^\t\n\f\r ]+)(?:[\t\n\f\r ]+([.0-9+\-]+[a-z]?))?/gi,
    Cd = /[\t\n\f\r ]+/,
    Dd = /[\t\n\f\r ,]+/g,
    Ed = function(a) {
      return (a = a.split(Cd, 2)) ? {
        url: a[0],
        metadata: a[1]
      } : null
    },
    Fd = function(a) {
      var b = String(a.url).replace(Dd, encodeURIComponent);
      if (a = a.metadata) {
        Dd.lastIndex = 0;
        if (Dd.test(a)) return null;
        b += " " + a
      }
      return b
    },
    Gd = function(a, b, c) {
      return c
    },
    Hd = function(a) {
      function b(p) {
        var n = this.getAttribute(p);
        return !n || /[\[\{]/.test(p) ? null : n
      }
      var c = a.reportHandler || void 0,
        d = a.safeTypesBridge || Gd,
        e = /^$/;
      if (a = a.allowedIdentifierPrefixes)
        for (var g = 0, h = a.length; g < h; ++g) e = new RegExp(e.source + "|^" + String(a[g]).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08"));
      c && c(!1, "initResin");
      var k = {},
        m = [, {
          filterRaw: null,
          filterString: function(p, n, r) {
            return r
          },
          safeReplacement: null,
          safeType: null
        }, {
          filterRaw: null,
          filterString: null,
          safeReplacement: null,
          safeType: "HTML"
        }, {
          filterRaw: null,
          filterString: null,
          safeReplacement: "about:invalid#zClosurez",
          safeType: "URL"
        }, {
          filterRaw: null,
          filterString: null,
          safeReplacement: "about:invalid#zClosurez",
          safeType: "RESOURCE_URL"
        }, {
          filterRaw: null,
          filterString: null,
          safeReplacement: "zClosurez",
          safeType: "STYLE"
        }, , {
          filterRaw: null,
          filterString: null,
          safeReplacement: " /*zClosurez*/ ",
          safeType: "JAVASCRIPT"
        }, {
          filterRaw: null,
          filterString: function(p,
            n, r) {
            r = String(r).toLowerCase();
            a: {
              var t = null;
              (p = ld[p]) && (t = p[n]);
              if ("number" !== typeof t && ((p = ld["*"]) && (t = p[n]), "number" !== typeof t)) {
                n = !1;
                break a
              }
              n = !0 === kd[t][String(r).toLowerCase()]
            }
            return n ? r : "zClosurez"
          },
          safeReplacement: "zClosurez",
          safeType: null
        }, {
          filterRaw: null,
          filterString: null,
          safeReplacement: "zClosurez",
          safeType: "CONSTANT"
        }, {
          filterRaw: null,
          filterString: function(p, n, r) {
            return e.test(r) ? r : "zClosurez"
          },
          safeReplacement: "zClosurez",
          safeType: "CONSTANT"
        }, {
          filterRaw: function(p, n, r) {
            var t = r;
            "string" === typeof t && (t = (t = t.match(Bd)) ? t.map(Ed).filter(Boolean) : []);
            if (!Array.isArray(t)) return "about:invalid#zClosurez";
            var u = t;
            t = [];
            var v = [],
              x = {};
            if (Array.isArray(u))
              for (var A = 0, H = u.length; A < H; ++A) {
                var I = u[A],
                  w = I && I.url;
                if (w) {
                  var C = d(w, "URL", x);
                  if (C) {
                    var B = C !== x;
                    (B ? t : v).push({
                      url: B ? C : w,
                      metadata: I.metadata
                    })
                  }
                }
              } else v.push(u);
            u = v.length ? JSON.stringify(v) : null;
            v = k;
            if (t.length) {
              if (!Array.isArray(t)) throw Error();
              v =
                t.map(Fd).filter(Boolean).join(" , ") || k
            }
            u && c && c(!0, 'Failed to sanitize attribute value of <%s>: <%s %s="%O">: %s', p, p, n, r, u);
            return v === k ? "about:invalid#zClosurez" : v
          },
          filterString: null,
          safeReplacement: null,
          safeType: null
        }],
        l = {},
        q = document.createElement("polyresinuncustomized");
      return function(p, n, r, t) {
        if (!t && t !== document.all) return t;
        var u = p.nodeType;
        if (u !== Node.ELEMENT_NODE) {
          if (u === Node.TEXT_NODE) {
            u = p.parentElement;
            n = !u;
            if (u && u.nodeType === Node.ELEMENT_NODE) {
              var v = u.localName;
              switch (vd(v, u.constructor)) {
                case 0:
                case 1:
                  u = Object.hasOwnProperty.call(jd, v) ? jd[v] : null;
                  n = 1 === u || 6 === u;
                  break;
                case 3:
                case 2:
                  n = !0
              }
            }
            if (n) return "" + d(t, "STRING", t)
          }
          c && c(!0, "Failed to sanitize %s %s%s node to value %O",
            p.parentElement && p.parentElement.nodeName, "#text", "", t);
          return "zClosurez"
        }
        u = p.localName;
        var x = p.localName;
        if (p.getAttribute("is") || 2 !== vd(x, p.constructor)) {
          var A = l[x];
          A || (A = l[x] = document.createElement(x));
          x = A
        } else x = q;
        switch (r) {
          case "attribute":
            A = String(n).toLowerCase();
            var H = pd()[A];
            if ((Ga(H) ? H : fd(A)) in x) break;
            return t;
          case "property":
            if (n in x) break;
            A = n.toLowerCase();
            A = pd()[A];
            if ((A = Ga(A) ? A : null) && A in x) break;
            return t;
          default:
            throw Error(r + ": " + typeof r);
        }
        if ("attribute" == r) n = n.toLowerCase();
        else {
          r =
            qd;
          if (!r) {
            r = pd();
            x = {};
            for (v in r) x[r[v]] = v;
            r = qd = x
          }
          v = r[n];
          n = Ga(v) ? v : String(n).replace(/([A-Z])/g, "-$1").toLowerCase()
        }
        a: {
          p = $a(b, p);
          if (Object.hasOwnProperty.call(id, u) && (v = id[u], Object.hasOwnProperty.call(v, n) && (v = v[n], v instanceof Array))) {
            r = null;
            x = !1;
            A = 0;
            for (H = v.length; A < H; ++A) {
              var I = v[A],
                w = I.contingentAttribute;
              if (!w) {
                r = I.contract;
                break a
              }
              null === r && (r = {});
              w = Object.hasOwnProperty.call(r, w) ? r[w] : r[w] = p(w);
              if (w === I.requiredValue) {
                r = I.contract;
                break a
              }
              null == w && (x = !0)
            }
            if (x) {
              r = null;
              break a
            }
          }
          p = hd[n];r =
          "number" === typeof p ? p : null
        }
        v = k;
        p = null;
        null != r && (r = m[r], x = r.safeType, p = r.safeReplacement, x && (v = d(t, x, k)), v === k && (r.filterString ? (v = "" + d(t, "STRING", t), v = r.filterString(u, n, v)) : r.filterRaw && (v = r.filterRaw(u, n, t)), v === p && (v = k)));
        v === k && (v = p || "zClosurez", c && c(!0, 'Failed to sanitize attribute of <%s>: <%s %s="%O">', u, u, n, t));
        return v
      }
    };
  var Id = function(a) {
    var b = Hd(a || {});
    if (/^1\./.test(Polymer.version)) {
      sd = !0;
      var c = Polymer.Base._computeFinalAnnotationValue;
      a = function(e, g, h, k) {
        h = c.call(this, e, g, h, k);
        var m = "property";
        k && k.propertyName ? g = k.propertyName : m = k && k.kind || "property";
        return b(e, g, m, h)
      };
      Polymer.Base._computeFinalAnnotationValue = a;
      if (Polymer.Base._computeFinalAnnotationValue !== a) throw Error("Cannot replace _computeFinalAnnotationValue.  Is Polymer frozen?");
    } else {
      var d = Polymer.sanitizeDOMValue || Polymer.Settings && Polymer.Settings.sanitizeDOMValue;
      a = function(e, g, h, k) {
        e = d ? d.call(Polymer, e, g, h, k) : e;
        return k ? b(k, g, h, e) : "zClosurez"
      };
      if (Polymer.Settings && Polymer.Settings.setSanitizeDOMValue) Polymer.Settings.setSanitizeDOMValue(a);
      else if (Polymer.sanitizeDOMValue = a, Polymer.sanitizeDOMValue !== a) throw Error("Cannot install sanitizeDOMValue.  Is Polymer frozen?");
    }
  };
  var Jd = window.performance && window.performance.timing && window.performance.now ? function() {
    return window.performance.timing.navigationStart + window.performance.now()
  } : function() {
    return (new Date).getTime()
  };
  var Kd = window.yt && window.yt.config_ || window.ytcfg && window.ytcfg.data_ || {};
  F("yt.config_", Kd, void 0);

  function Ld(a) {
    var b = arguments;
    if (1 < b.length) Kd[b[0]] = b[1];
    else {
      b = b[0];
      for (var c in b) Kd[c] = b[c]
    }
  }

  function M(a, b) {
    return a in Kd ? Kd[a] : b
  }

  function N(a, b) {
    return !!M(a, b)
  }

  function Md(a, b) {
    return M(a, b)
  }

  function Nd(a) {
    var b = Kd.EXPERIMENT_FLAGS;
    return b ? b[a] : void 0
  };
  var Od = {};

  function Pd(a) {
    return a && window.yterr ? function() {
      try {
        return a.apply(this, arguments)
      } catch (b) {
        O(b)
      }
    } : a
  }

  function O(a, b, c, d, e) {
    var g = G("yt.logging.errors.log");
    g ? g(a, b, c, d, e) : (g = M("ERRORS", []), g.push([a, b, c, d, e]), Ld("ERRORS", g))
  }

  function Qd(a, b, c, d) {
    O(a, "WARNING", b, c, d)
  }

  function Rd(a) {
    a instanceof Error ? O(a) : (a = Ta(a) ? JSON.stringify(a) : String(a), Qd(Sd(a, "RejectedPromiseError")))
  }

  function Sd(a, b) {
    a = Error(a);
    a.name = b;
    return a
  };

  function P(a) {
    return !!Td(a)
  }

  function Ud(a, b) {
    a = Td(a);
    return void 0 === a && void 0 !== b ? b : Number(a || 0)
  }

  function Vd(a) {
    return String(Td(a) || "")
  }

  function Wd(a) {
    a = Td(a);
    return Pa(a) ? jb(a, function(b) {
      return String(b || "")
    }) : [String(a || "")]
  }

  function Td(a) {
    return M("EXPERIMENT_FLAGS", {})[a]
  };
  P("enable_polymer_resin") && Id({
    allowedIdentifierPrefixes: [""],
    reportHandler: function(a, b) {
      if (a) {
        var c = 2;
        a = b.replace(/%\w/g, function() {
          return arguments[c++]
        });
        try {
          throw Error(a);
        } catch (d) {
          O(d)
        }
      }
    },
    safeTypesBridge: Ad
  });
  var Xd = window;
  var Yd = function(a) {
    if (8192 >= a.length) return String.fromCharCode.apply(null, a);
    for (var b = "", c = 0; c < a.length; c += 8192) b += String.fromCharCode.apply(null, ub(a, c, c + 8192));
    return b
  };
  var Zd = function() {
      return L("iPhone") && !L("iPod") && !L("iPad")
    },
    $d = function() {
      return Zd() || L("iPad") || L("iPod")
    };
  var ae = function(a) {
    ae[" "](a);
    return a
  };
  ae[" "] = Ma;
  var be = function(a, b, c, d) {
    d = d ? d(b) : b;
    return Object.prototype.hasOwnProperty.call(a, d) ? a[d] : a[d] = c(b)
  };
  var ce = L("Opera"),
    de = L("Trident") || L("MSIE"),
    ee = L("Edge"),
    fe = ee || de,
    ge = L("Gecko") && !(-1 != Ec.toLowerCase().indexOf("webkit") && !L("Edge")) && !(L("Trident") || L("MSIE")) && !L("Edge"),
    he = -1 != Ec.toLowerCase().indexOf("webkit") && !L("Edge"),
    ie = L("Macintosh"),
    je = L("Windows"),
    ke = L("Linux") || L("CrOS"),
    le = L("Android"),
    me = Zd(),
    ne = L("iPad"),
    oe = L("iPod"),
    pe = $d(),
    qe = function() {
      var a = D.document;
      return a ? a.documentMode : void 0
    },
    re;
  a: {
    var se = "",
      te = function() {
        var a = Ec;
        if (ge) return /rv:([^\);]+)(\)|;)/.exec(a);
        if (ee) return /Edge\/([\d\.]+)/.exec(a);
        if (de) return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);
        if (he) return /WebKit\/(\S+)/.exec(a);
        if (ce) return /(?:Version)[ \/]?(\S+)/.exec(a)
      }();
    te && (se = te ? te[1] : "");
    if (de) {
      var ue = qe();
      if (null != ue && ue > parseFloat(se)) {
        re = String(ue);
        break a
      }
    }
    re = se
  }
  var ve = re,
    we = {},
    xe = function(a) {
      return be(we, a, function() {
        return 0 <= pc(ve, a)
      })
    },
    ze = function(a) {
      return Number(ye) >= a
    },
    Ae;
  var Be = D.document;
  Ae = Be && de ? qe() || ("CSS1Compat" == Be.compatMode ? parseInt(ve, 10) : 5) : void 0;
  var ye = Ae;
  var Ce = Hc(),
    De = Zd() || L("iPod"),
    Ee = L("iPad"),
    Fe = L("Android") && !(Ic() || Hc() || L("Opera") || L("Silk")),
    Ge = Ic(),
    He = L("Safari") && !(Ic() || L("Coast") || L("Opera") || L("Edge") || Hc() || L("Silk") || L("Android")) && !$d();
  var Ie = null,
    Je = null,
    Ke = null,
    Me = function(a, b) {
      Le();
      b = b ? Ke : Ie;
      for (var c = [], d = 0; d < a.length; d += 3) {
        var e = a[d],
          g = d + 1 < a.length,
          h = g ? a[d + 1] : 0,
          k = d + 2 < a.length,
          m = k ? a[d + 2] : 0,
          l = e >> 2;
        e = (e & 3) << 4 | h >> 4;
        h = (h & 15) << 2 | m >> 6;
        m &= 63;
        k || (m = 64, g || (h = 64));
        c.push(b[l], b[e], b[h], b[m])
      }
      return c.join("")
    },
    Oe = function(a) {
      var b = a.length,
        c = 0;
      "=" === a[b - 2] ? c = 2 : "=" === a[b - 1] && (c = 1);
      var d = new Uint8Array(Math.ceil(3 * b / 4) - c),
        e = 0;
      Ne(a, function(g) {
        d[e++] = g
      });
      return d.subarray(0, e)
    },
    Ne = function(a, b) {
      function c(m) {
        for (; d < a.length;) {
          var l = a.charAt(d++),
            q = Je[l];
          if (null != q) return q;
          if (!/^[\s\xa0]*$/.test(l)) throw Error("Unknown base64 encoding at char: " + l);
        }
        return m
      }
      Le();
      for (var d = 0;;) {
        var e = c(-1),
          g = c(0),
          h = c(64),
          k = c(64);
        if (64 === k && -1 === e) break;
        b(e << 2 | g >> 4);
        64 != h && (b(g << 4 & 240 | h >> 2), 64 != k && b(h << 6 & 192 | k))
      }
    },
    Le = function() {
      if (!Ie) {
        Ie = {};
        Je = {};
        Ke = {};
        for (var a = 0; 65 > a; a++) Ie[a] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a), Je[Ie[a]] = a, Ke[a] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a), 62 <= a && (Je["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)] = a)
      }
    };
  var Pe = 0,
    Qe = 0,
    Re = function(a) {
      var b = a >>> 0;
      a = Math.floor((a - b) / 4294967296) >>> 0;
      Pe = b;
      Qe = a
    },
    Se = function(a) {
      var b = 0 > a;
      a = Math.abs(a);
      var c = a >>> 0;
      a = Math.floor((a - c) / 4294967296);
      a >>>= 0;
      b && (a = ~a >>> 0, c = (~c >>> 0) + 1, 4294967295 < c && (c = 0, a++, 4294967295 < a && (a = 0)));
      Pe = c;
      Qe = a
    },
    Te = function(a) {
      var b = a.charCodeAt(4),
        c = a.charCodeAt(5),
        d = a.charCodeAt(6),
        e = a.charCodeAt(7);
      Pe = a.charCodeAt(0) + (a.charCodeAt(1) << 8) + (a.charCodeAt(2) << 16) + (a.charCodeAt(3) << 24) >>> 0;
      Qe = b + (c << 8) + (d << 16) + (e << 24) >>> 0
    },
    Ue = "0123456789abcdef".split(""),
    Ve = function(a) {
      function b(h, k) {
        for (var m = 0; 8 > m && (1 !== h || 0 < k); m++) k = h * e[m] + k, e[m] = k & 255, k >>>= 8
      }

      function c() {
        for (var h = 0; 8 > h; h++) e[h] = ~e[h] & 255
      }
      var d = !1;
      "-" === a[0] && (d = !0, a = a.slice(1));
      for (var e = [0, 0, 0, 0, 0, 0, 0, 0], g = 0; g < a.length; g++) b(10, Ue.indexOf(a[g]));
      d && (c(), b(1, 1));
      return Yd(e)
    };
  var We = function(a, b) {
    this.lo = a;
    this.hi = b
  };
  f = We.prototype;
  f.cmp = function(a) {
    return this.hi < a.hi || this.hi == a.hi && this.lo < a.lo ? -1 : this.hi == a.hi && this.lo == a.lo ? 0 : 1
  };
  f.rightShift = function() {
    return new We((this.lo >>> 1 | (this.hi & 1) << 31) >>> 0, this.hi >>> 1 >>> 0)
  };
  f.leftShift = function() {
    return new We(this.lo << 1 >>> 0, (this.hi << 1 | this.lo >>> 31) >>> 0)
  };
  f.msb = function() {
    return !!(this.hi & 2147483648)
  };
  f.lsb = function() {
    return !!(this.lo & 1)
  };
  f.zero = function() {
    return 0 == this.lo && 0 == this.hi
  };
  f.add = function(a) {
    return new We((this.lo + a.lo & 4294967295) >>> 0 >>> 0, ((this.hi + a.hi & 4294967295) >>> 0) + (4294967296 <= this.lo + a.lo ? 1 : 0) >>> 0)
  };
  f.sub = function(a) {
    return new We((this.lo - a.lo & 4294967295) >>> 0 >>> 0, ((this.hi - a.hi & 4294967295) >>> 0) - (0 > this.lo - a.lo ? 1 : 0) >>> 0)
  };
  var Xe = function(a, b) {
    var c = a & 65535;
    a >>>= 16;
    var d = b & 65535,
      e = b >>> 16;
    b = c * d + 65536 * (c * e & 65535) + 65536 * (a * d & 65535);
    for (c = a * e + (c * e >>> 16) + (a * d >>> 16); 4294967296 <= b;) b -= 4294967296, c += 1;
    return new We(b >>> 0, c >>> 0)
  };
  We.prototype.mul = function(a) {
    var b = Xe(this.lo, a);
    a = Xe(this.hi, a);
    a.hi = a.lo;
    a.lo = 0;
    return b.add(a)
  };
  We.prototype.div = function(a) {
    if (0 == a) return [];
    for (var b = new We(0, 0), c = new We(this.lo, this.hi), d = new We(a, 0), e = new We(1, 0); !d.msb();) d = d.leftShift(), e = e.leftShift();
    for (; !e.zero();) 0 >= d.cmp(c) && (b = b.add(e), c = c.sub(d)), d = d.rightShift(), e = e.rightShift();
    return [b, c]
  };
  We.prototype.toString = function() {
    for (var a = "", b = this; !b.zero();) {
      b = b.div(10);
      var c = b[0];
      a = b[1].lo + a;
      b = c
    }
    "" == a && (a = "0");
    return a
  };
  var Ye = function(a) {
    for (var b = new We(0, 0), c = new We(0, 0), d = 0; d < a.length; d++) {
      if ("0" > a[d] || "9" < a[d]) return null;
      c.lo = parseInt(a[d], 10);
      b = b.mul(10).add(c)
    }
    return b
  };
  We.prototype.clone = function() {
    return new We(this.lo, this.hi)
  };
  var Ze = function(a, b) {
    this.lo = a;
    this.hi = b
  };
  Ze.prototype.add = function(a) {
    return new Ze((this.lo + a.lo & 4294967295) >>> 0 >>> 0, ((this.hi + a.hi & 4294967295) >>> 0) + (4294967296 <= this.lo + a.lo ? 1 : 0) >>> 0)
  };
  Ze.prototype.sub = function(a) {
    return new Ze((this.lo - a.lo & 4294967295) >>> 0 >>> 0, ((this.hi - a.hi & 4294967295) >>> 0) - (0 > this.lo - a.lo ? 1 : 0) >>> 0)
  };
  Ze.prototype.clone = function() {
    return new Ze(this.lo, this.hi)
  };
  Ze.prototype.toString = function() {
    var a = 0 != (this.hi & 2147483648),
      b = new We(this.lo, this.hi);
    a && (b = (new We(0, 0)).sub(b));
    return (a ? "-" : "") + b.toString()
  };
  var $e = function(a) {
    var b = 0 < a.length && "-" == a[0];
    b && (a = a.substring(1));
    a = Ye(a);
    if (null === a) return null;
    b && (a = (new We(0, 0)).sub(a));
    return new Ze(a.lo, a.hi)
  };
  var af = function() {
    this.buffer_ = []
  };
  f = af.prototype;
  f.length = function() {
    return this.buffer_.length
  };
  f.end = function() {
    var a = this.buffer_;
    this.buffer_ = [];
    return a
  };
  f.writeSplitVarint64 = function(a, b) {
    for (; 0 < b || 127 < a;) this.buffer_.push(a & 127 | 128), a = (a >>> 7 | b << 25) >>> 0, b >>>= 7;
    this.buffer_.push(a)
  };
  f.writeSplitFixed64 = function(a, b) {
    this.writeUint32(a);
    this.writeUint32(b)
  };
  f.writeUnsignedVarint32 = function(a) {
    for (; 127 < a;) this.buffer_.push(a & 127 | 128), a >>>= 7;
    this.buffer_.push(a)
  };
  f.writeSignedVarint32 = function(a) {
    if (0 <= a) this.writeUnsignedVarint32(a);
    else {
      for (var b = 0; 9 > b; b++) this.buffer_.push(a & 127 | 128), a >>= 7;
      this.buffer_.push(1)
    }
  };
  f.writeUnsignedVarint64 = function(a) {
    Se(a);
    this.writeSplitVarint64(Pe, Qe)
  };
  f.writeSignedVarint64 = function(a) {
    Se(a);
    this.writeSplitVarint64(Pe, Qe)
  };
  f.writeZigzagVarint32 = function(a) {
    this.writeUnsignedVarint32((a << 1 ^ a >> 31) >>> 0)
  };
  f.writeZigzagVarint64 = function(a) {
    var b = a;
    a = 0 > b;
    b = 2 * Math.abs(b);
    Re(b);
    b = Pe;
    var c = Qe;
    a && (0 == b ? 0 == c ? c = b = 4294967295 : (c--, b = 4294967295) : b--);
    Pe = b;
    Qe = c;
    this.writeSplitVarint64(Pe, Qe)
  };
  f.writeZigzagVarint64String = function(a) {
    this.writeZigzagVarint64(parseInt(a, 10))
  };
  f.writeUint8 = function(a) {
    this.buffer_.push(a >>> 0 & 255)
  };
  f.writeUint16 = function(a) {
    this.buffer_.push(a >>> 0 & 255);
    this.buffer_.push(a >>> 8 & 255)
  };
  f.writeUint32 = function(a) {
    this.buffer_.push(a >>> 0 & 255);
    this.buffer_.push(a >>> 8 & 255);
    this.buffer_.push(a >>> 16 & 255);
    this.buffer_.push(a >>> 24 & 255)
  };
  f.writeUint64 = function(a) {
    Re(a);
    this.writeUint32(Pe);
    this.writeUint32(Qe)
  };
  f.writeInt8 = function(a) {
    this.buffer_.push(a >>> 0 & 255)
  };
  f.writeInt16 = function(a) {
    this.buffer_.push(a >>> 0 & 255);
    this.buffer_.push(a >>> 8 & 255)
  };
  f.writeInt32 = function(a) {
    this.buffer_.push(a >>> 0 & 255);
    this.buffer_.push(a >>> 8 & 255);
    this.buffer_.push(a >>> 16 & 255);
    this.buffer_.push(a >>> 24 & 255)
  };
  f.writeInt64 = function(a) {
    Se(a);
    this.writeSplitFixed64(Pe, Qe)
  };
  f.writeInt64String = function(a) {
    Te(Ve(a));
    this.writeSplitFixed64(Pe, Qe)
  };
  f.writeFloat = function(a) {
    var b = a;
    b = (a = 0 > b ? 1 : 0) ? -b : b;
    if (0 === b) 0 < 1 / b ? Pe = Qe = 0 : (Qe = 0, Pe = 2147483648);
    else if (isNaN(b)) Qe = 0, Pe = 2147483647;
    else if (3.4028234663852886E38 < b) Qe = 0, Pe = (a << 31 | 2139095040) >>> 0;
    else if (1.1754943508222875E-38 > b) b = Math.round(b / Math.pow(2, -149)), Qe = 0, Pe = (a << 31 | b) >>> 0;
    else {
      var c = Math.floor(Math.log(b) / Math.LN2);
      b *= Math.pow(2, -c);
      b = Math.round(8388608 * b) & 8388607;
      Qe = 0;
      Pe = (a << 31 | c + 127 << 23 | b) >>> 0
    }
    this.writeUint32(Pe)
  };
  f.writeDouble = function(a) {
    var b = a;
    b = (a = 0 > b ? 1 : 0) ? -b : b;
    if (0 === b) Qe = 0 < 1 / b ? 0 : 2147483648, Pe = 0;
    else if (isNaN(b)) Qe = 2147483647, Pe = 4294967295;
    else if (1.7976931348623157E308 < b) Qe = (a << 31 | 2146435072) >>> 0, Pe = 0;
    else if (2.2250738585072014E-308 > b) b /= Math.pow(2, -1074), Qe = (a << 31 | b / 4294967296) >>> 0, Pe = b >>> 0;
    else {
      var c = Math.floor(Math.log(b) / Math.LN2);
      1024 == c && (c = 1023);
      b *= Math.pow(2, -c);
      Qe = (a << 31 | c + 1023 << 20 | 1048576 * b & 1048575) >>> 0;
      Pe = 4503599627370496 * b >>> 0
    }
    this.writeUint32(Pe);
    this.writeUint32(Qe)
  };
  f.writeBool = function(a) {
    this.buffer_.push(a ? 1 : 0)
  };
  f.writeEnum = function(a) {
    this.writeSignedVarint32(a)
  };
  f.writeBytes = function(a) {
    this.buffer_.push.apply(this.buffer_, a)
  };
  f.writeVarintHash64 = function(a) {
    Te(a);
    this.writeSplitVarint64(Pe, Qe)
  };
  f.writeFixedHash64 = function(a) {
    Te(a);
    this.writeUint32(Pe);
    this.writeUint32(Qe)
  };
  f.writeString = function(a) {
    for (var b = this.buffer_.length, c = 0; c < a.length; c++) {
      var d = a.charCodeAt(c);
      if (128 > d) this.buffer_.push(d);
      else if (2048 > d) this.buffer_.push(d >> 6 | 192), this.buffer_.push(d & 63 | 128);
      else if (65536 > d)
        if (55296 <= d && 56319 >= d && c + 1 < a.length) {
          var e = a.charCodeAt(c + 1);
          56320 <= e && 57343 >= e && (d = 1024 * (d - 55296) + e - 56320 + 65536, this.buffer_.push(d >> 18 | 240), this.buffer_.push(d >> 12 & 63 | 128), this.buffer_.push(d >> 6 & 63 | 128), this.buffer_.push(d & 63 | 128), c++)
        } else this.buffer_.push(d >> 12 | 224), this.buffer_.push(d >>
          6 & 63 | 128), this.buffer_.push(d & 63 | 128)
    }
    return this.buffer_.length - b
  };
  var bf = function() {
    this.blocks_ = [];
    this.totalLength_ = 0;
    this.encoder_ = new af;
    this.bookmarks_ = []
  };
  f = bf.prototype;
  f.appendUint8Array_ = function(a) {
    var b = this.encoder_.end();
    this.blocks_.push(b);
    this.blocks_.push(a);
    this.totalLength_ += b.length + a.length
  };
  f.beginDelimited_ = function(a) {
    this.writeFieldHeader_(a, 2);
    a = this.encoder_.end();
    this.blocks_.push(a);
    this.totalLength_ += a.length;
    a.push(this.totalLength_);
    return a
  };
  f.endDelimited_ = function(a) {
    var b = a.pop();
    for (b = this.totalLength_ + this.encoder_.length() - b; 127 < b;) a.push(b & 127 | 128), b >>>= 7, this.totalLength_++;
    a.push(b);
    this.totalLength_++
  };
  f.writeSerializedMessage = function(a, b, c) {
    this.appendUint8Array_(a.subarray(b, c))
  };
  f.maybeWriteSerializedMessage = function(a, b, c) {
    null != a && null != b && null != c && this.writeSerializedMessage(a, b, c)
  };
  f.reset = function() {
    this.blocks_ = [];
    this.encoder_.end();
    this.totalLength_ = 0;
    this.bookmarks_ = []
  };
  f.getResultBuffer = function() {
    for (var a = new Uint8Array(this.totalLength_ + this.encoder_.length()), b = this.blocks_, c = b.length, d = 0, e = 0; e < c; e++) {
      var g = b[e];
      a.set(g, d);
      d += g.length
    }
    b = this.encoder_.end();
    a.set(b, d);
    this.blocks_ = [a];
    return a
  };
  f.getResultBase64String = function(a) {
    return Me(this.getResultBuffer(), a)
  };
  f.beginSubMessage = function(a) {
    this.bookmarks_.push(this.beginDelimited_(a))
  };
  f.endSubMessage = function() {
    this.endDelimited_(this.bookmarks_.pop())
  };
  f.writeFieldHeader_ = function(a, b) {
    this.encoder_.writeUnsignedVarint32(8 * a + b)
  };
  f.writeAny = function(a, b, c) {
    switch (a) {
      case 1:
        this.writeDouble(b, c);
        break;
      case 2:
        this.writeFloat(b, c);
        break;
      case 3:
        this.writeInt64(b, c);
        break;
      case 4:
        this.writeUint64(b, c);
        break;
      case 5:
        this.writeInt32(b, c);
        break;
      case 6:
        this.writeFixed64(b, c);
        break;
      case 7:
        this.writeFixed32(b, c);
        break;
      case 8:
        this.writeBool(b, c);
        break;
      case 9:
        this.writeString(b, c);
        break;
      case 12:
        this.writeBytes(b, c);
        break;
      case 13:
        this.writeUint32(b, c);
        break;
      case 14:
        this.writeEnum(b, c);
        break;
      case 15:
        this.writeSfixed32(b, c);
        break;
      case 16:
        this.writeSfixed64(b,
          c);
        break;
      case 17:
        this.writeSint32(b, c);
        break;
      case 18:
        this.writeSint64(b, c);
        break;
      case 30:
        this.writeFixedHash64(b, c);
        break;
      case 31:
        this.writeVarintHash64(b, c)
    }
  };
  f.writeUnsignedVarint32_ = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 0), this.encoder_.writeUnsignedVarint32(b))
  };
  f.writeSignedVarint32_ = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 0), this.encoder_.writeSignedVarint32(b))
  };
  f.writeUnsignedVarint64_ = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 0), this.encoder_.writeUnsignedVarint64(b))
  };
  f.writeSignedVarint64_ = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 0), this.encoder_.writeSignedVarint64(b))
  };
  f.writeZigzagVarint32_ = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 0), this.encoder_.writeZigzagVarint32(b))
  };
  f.writeZigzagVarint64_ = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 0), this.encoder_.writeZigzagVarint64(b))
  };
  f.writeZigzagVarint64String_ = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 0), this.encoder_.writeZigzagVarint64String(b))
  };
  f.writeInt32 = function(a, b) {
    null != b && this.writeSignedVarint32_(a, b)
  };
  f.writeInt32String = function(a, b) {
    null != b && this.writeSignedVarint32_(a, parseInt(b, 10))
  };
  f.writeInt64 = function(a, b) {
    null != b && this.writeSignedVarint64_(a, b)
  };
  f.writeInt64String = function(a, b) {
    null != b && (b = $e(b), this.writeFieldHeader_(a, 0), this.encoder_.writeSplitVarint64(b.lo, b.hi))
  };
  f.writeUint32 = function(a, b) {
    null != b && this.writeUnsignedVarint32_(a, b)
  };
  f.writeUint32String = function(a, b) {
    null != b && this.writeUnsignedVarint32_(a, parseInt(b, 10))
  };
  f.writeUint64 = function(a, b) {
    null != b && this.writeUnsignedVarint64_(a, b)
  };
  f.writeUint64String = function(a, b) {
    null != b && (b = Ye(b), this.writeFieldHeader_(a, 0), this.encoder_.writeSplitVarint64(b.lo, b.hi))
  };
  f.writeSint32 = function(a, b) {
    null != b && this.writeZigzagVarint32_(a, b)
  };
  f.writeSint64 = function(a, b) {
    null != b && this.writeZigzagVarint64_(a, b)
  };
  f.writeSint64String = function(a, b) {
    null != b && this.writeZigzagVarint64String_(a, b)
  };
  f.writeFixed32 = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 5), this.encoder_.writeUint32(b))
  };
  f.writeFixed64 = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 1), this.encoder_.writeUint64(b))
  };
  f.writeFixed64String = function(a, b) {
    null != b && (b = Ye(b), this.writeFieldHeader_(a, 1), this.encoder_.writeSplitFixed64(b.lo, b.hi))
  };
  f.writeSfixed32 = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 5), this.encoder_.writeInt32(b))
  };
  f.writeSfixed64 = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 1), this.encoder_.writeInt64(b))
  };
  f.writeSfixed64String = function(a, b) {
    null != b && (b = $e(b), this.writeFieldHeader_(a, 1), this.encoder_.writeSplitFixed64(b.lo, b.hi))
  };
  f.writeFloat = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 5), this.encoder_.writeFloat(b))
  };
  f.writeDouble = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 1), this.encoder_.writeDouble(b))
  };
  f.writeBool = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 0), this.encoder_.writeBool(b))
  };
  f.writeEnum = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 0), this.encoder_.writeSignedVarint32(b))
  };
  f.writeString = function(a, b) {
    null != b && (a = this.beginDelimited_(a), this.encoder_.writeString(b), this.endDelimited_(a))
  };
  f.writeBytes = function(a, b) {
    null != b && (b = b.constructor === Uint8Array ? b : b.constructor === ArrayBuffer ? new Uint8Array(b) : b.constructor === Array ? new Uint8Array(b) : b.constructor === String ? Oe(b) : new Uint8Array(0), this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(b.length), this.appendUint8Array_(b))
  };
  f.writeMessage = function(a, b, c) {
    null != b && (a = this.beginDelimited_(a), c(b, this), this.endDelimited_(a))
  };
  f.writeMessageSet = function(a, b, c) {
    null != b && (this.writeFieldHeader_(1, 3), this.writeFieldHeader_(2, 0), this.encoder_.writeSignedVarint32(a), a = this.beginDelimited_(3), c(b, this), this.endDelimited_(a), this.writeFieldHeader_(1, 4))
  };
  f.writeGroup = function(a, b, c) {
    null != b && (this.writeFieldHeader_(a, 3), c(b, this), this.writeFieldHeader_(a, 4))
  };
  f.writeFixedHash64 = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 1), this.encoder_.writeFixedHash64(b))
  };
  f.writeVarintHash64 = function(a, b) {
    null != b && (this.writeFieldHeader_(a, 0), this.encoder_.writeVarintHash64(b))
  };
  f.writeRepeatedInt32 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeSignedVarint32_(a, b[c])
  };
  f.writeRepeatedInt32String = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeInt32String(a, b[c])
  };
  f.writeRepeatedInt64 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeSignedVarint64_(a, b[c])
  };
  f.writeRepeatedInt64String = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeInt64String(a, b[c])
  };
  f.writeRepeatedUint32 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeUnsignedVarint32_(a, b[c])
  };
  f.writeRepeatedUint32String = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeUint32String(a, b[c])
  };
  f.writeRepeatedUint64 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeUnsignedVarint64_(a, b[c])
  };
  f.writeRepeatedUint64String = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeUint64String(a, b[c])
  };
  f.writeRepeatedSint32 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeZigzagVarint32_(a, b[c])
  };
  f.writeRepeatedSint64 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeZigzagVarint64_(a, b[c])
  };
  f.writeRepeatedSint64String = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeZigzagVarint64String_(a, b[c])
  };
  f.writeRepeatedFixed32 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeFixed32(a, b[c])
  };
  f.writeRepeatedFixed64 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeFixed64(a, b[c])
  };
  f.writeRepeatedFixed64String = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeFixed64String(a, b[c])
  };
  f.writeRepeatedSfixed32 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeSfixed32(a, b[c])
  };
  f.writeRepeatedSfixed64 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeSfixed64(a, b[c])
  };
  f.writeRepeatedSfixed64String = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeSfixed64String(a, b[c])
  };
  f.writeRepeatedFloat = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeFloat(a, b[c])
  };
  f.writeRepeatedDouble = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeDouble(a, b[c])
  };
  f.writeRepeatedBool = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeBool(a, b[c])
  };
  f.writeRepeatedEnum = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeEnum(a, b[c])
  };
  f.writeRepeatedString = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeString(a, b[c])
  };
  f.writeRepeatedBytes = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeBytes(a, b[c])
  };
  f.writeRepeatedMessage = function(a, b, c) {
    if (null != b)
      for (var d = 0; d < b.length; d++) {
        var e = this.beginDelimited_(a);
        c(b[d], this);
        this.endDelimited_(e)
      }
  };
  f.writeRepeatedGroup = function(a, b, c) {
    if (null != b)
      for (var d = 0; d < b.length; d++) this.writeFieldHeader_(a, 3), c(b[d], this), this.writeFieldHeader_(a, 4)
  };
  f.writeRepeatedFixedHash64 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeFixedHash64(a, b[c])
  };
  f.writeRepeatedVarintHash64 = function(a, b) {
    if (null != b)
      for (var c = 0; c < b.length; c++) this.writeVarintHash64(a, b[c])
  };
  f.writePackedInt32 = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeSignedVarint32(b[c]);
      this.endDelimited_(a)
    }
  };
  f.writePackedInt32String = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeSignedVarint32(parseInt(b[c], 10));
      this.endDelimited_(a)
    }
  };
  f.writePackedInt64 = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeSignedVarint64(b[c]);
      this.endDelimited_(a)
    }
  };
  f.writePackedInt64String = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) {
        var d = $e(b[c]);
        this.encoder_.writeSplitVarint64(d.lo, d.hi)
      }
      this.endDelimited_(a)
    }
  };
  f.writePackedUint32 = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeUnsignedVarint32(b[c]);
      this.endDelimited_(a)
    }
  };
  f.writePackedUint32String = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeUnsignedVarint32(parseInt(b[c], 10));
      this.endDelimited_(a)
    }
  };
  f.writePackedUint64 = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeUnsignedVarint64(b[c]);
      this.endDelimited_(a)
    }
  };
  f.writePackedUint64String = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) {
        var d = Ye(b[c]);
        this.encoder_.writeSplitVarint64(d.lo, d.hi)
      }
      this.endDelimited_(a)
    }
  };
  f.writePackedSint32 = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeZigzagVarint32(b[c]);
      this.endDelimited_(a)
    }
  };
  f.writePackedSint64 = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeZigzagVarint64(b[c]);
      this.endDelimited_(a)
    }
  };
  f.writePackedSint64String = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeZigzagVarint64(parseInt(b[c], 10));
      this.endDelimited_(a)
    }
  };
  f.writePackedFixed32 = function(a, b) {
    if (null != b && b.length)
      for (this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(4 * b.length), a = 0; a < b.length; a++) this.encoder_.writeUint32(b[a])
  };
  f.writePackedFixed64 = function(a, b) {
    if (null != b && b.length)
      for (this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(8 * b.length), a = 0; a < b.length; a++) this.encoder_.writeUint64(b[a])
  };
  f.writePackedFixed64String = function(a, b) {
    if (null != b && b.length)
      for (this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(8 * b.length), a = 0; a < b.length; a++) {
        var c = Ye(b[a]);
        this.encoder_.writeSplitFixed64(c.lo, c.hi)
      }
  };
  f.writePackedSfixed32 = function(a, b) {
    if (null != b && b.length)
      for (this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(4 * b.length), a = 0; a < b.length; a++) this.encoder_.writeInt32(b[a])
  };
  f.writePackedSfixed64 = function(a, b) {
    if (null != b && b.length)
      for (this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(8 * b.length), a = 0; a < b.length; a++) this.encoder_.writeInt64(b[a])
  };
  f.writePackedSfixed64String = function(a, b) {
    if (null != b && b.length)
      for (this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(8 * b.length), a = 0; a < b.length; a++) this.encoder_.writeInt64String(b[a])
  };
  f.writePackedFloat = function(a, b) {
    if (null != b && b.length)
      for (this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(4 * b.length), a = 0; a < b.length; a++) this.encoder_.writeFloat(b[a])
  };
  f.writePackedDouble = function(a, b) {
    if (null != b && b.length)
      for (this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(8 * b.length), a = 0; a < b.length; a++) this.encoder_.writeDouble(b[a])
  };
  f.writePackedBool = function(a, b) {
    if (null != b && b.length)
      for (this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(b.length), a = 0; a < b.length; a++) this.encoder_.writeBool(b[a])
  };
  f.writePackedEnum = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeEnum(b[c]);
      this.endDelimited_(a)
    }
  };
  f.writePackedFixedHash64 = function(a, b) {
    if (null != b && b.length)
      for (this.writeFieldHeader_(a, 2), this.encoder_.writeUnsignedVarint32(8 * b.length), a = 0; a < b.length; a++) this.encoder_.writeFixedHash64(b[a])
  };
  f.writePackedVarintHash64 = function(a, b) {
    if (null != b && b.length) {
      a = this.beginDelimited_(a);
      for (var c = 0; c < b.length; c++) this.encoder_.writeVarintHash64(b[c]);
      this.endDelimited_(a)
    }
  };
  var cf = function() {},
    df = "function" == typeof Uint8Array;
  cf.prototype.getJsPbMessageId = function() {
    return this.messageId_
  };
  var hf = function(a, b, c, d, e, g) {
      a.wrappers_ = null;
      b || (b = c ? [c] : []);
      a.messageId_ = c ? String(c) : void 0;
      a.arrayIndexOffset_ = 0 === c ? -1 : 0;
      a.array = b;
      a: {
        c = a.array.length;b = -1;
        if (c && (b = c - 1, c = a.array[b], !(null === c || "object" != typeof c || Pa(c) || df && c instanceof Uint8Array))) {
          a.pivot_ = b - a.arrayIndexOffset_;
          a.extensionObject_ = c;
          break a
        } - 1 < d ? (a.pivot_ = Math.max(d, b + 1 - a.arrayIndexOffset_), a.extensionObject_ = null) : a.pivot_ = Number.MAX_VALUE
      }
      a.convertedPrimitiveFields_ = {};
      if (e)
        for (d = 0; d < e.length; d++) b = e[d], b < a.pivot_ ? (b += a.arrayIndexOffset_,
          a.array[b] = a.array[b] || ef) : (ff(a), a.extensionObject_[b] = a.extensionObject_[b] || ef);
      if (g && g.length)
        for (d = 0; d < g.length; d++) gf(a, g[d])
    },
    ef = [],
    ff = function(a) {
      var b = a.pivot_ + a.arrayIndexOffset_;
      a.array[b] || (a.extensionObject_ = a.array[b] = {})
    },
    jf = function(a, b, c) {
      for (var d = [], e = 0; e < a.length; e++) d[e] = b.call(a[e], c, a[e]);
      return d
    },
    Q = function(a, b) {
      if (b < a.pivot_) {
        b += a.arrayIndexOffset_;
        var c = a.array[b];
        return c === ef ? a.array[b] = [] : c
      }
      if (a.extensionObject_) return c = a.extensionObject_[b], c === ef ? a.extensionObject_[b] = [] : c
    },
    kf = function(a, b) {
      a = Q(a, b);
      return null == a ? a : +a
    },
    lf = function(a, b) {
      a = Q(a, b);
      return null == a ? a : !!a
    },
    mf = function(a, b, c) {
      b < a.pivot_ ? a.array[b + a.arrayIndexOffset_] = c : (ff(a), a.extensionObject_[b] = c)
    },
    nf = function(a, b, c, d) {
      (c = gf(a, c)) && c !== b && void 0 !== d && (a.wrappers_ && c in a.wrappers_ && (a.wrappers_[c] = void 0), mf(a, c, void 0));
      mf(a, b, d)
    },
    gf = function(a, b) {
      for (var c, d, e = 0; e < b.length; e++) {
        var g = b[e],
          h = Q(a, g);
        null != h && (c = g, d = h, mf(a, g, void 0))
      }
      return c ? (mf(a, c, d), c) : 0
    },
    of = function(a, b, c, d) {
      a.wrappers_ || (a.wrappers_ = {});
      if (!a.wrappers_[c]) {
        var e = Q(a, c);
        if (d || e) a.wrappers_[c] = new b(e)
      }
      return a.wrappers_[c]
    },
    qf = function(a, b, c) {
      pf(a, b, c);
      b = a.wrappers_[c];
      b == ef && (b = a.wrappers_[c] = []);
      return b
    },
    pf = function(a, b, c) {
      a.wrappers_ || (a.wrappers_ = {});
      if (!a.wrappers_[c]) {
        for (var d = Q(a, c), e = [], g = 0; g < d.length; g++) e[g] = new b(d[g]);
        a.wrappers_[c] = e
      }
    },
    rf = function(a, b, c) {
      a.wrappers_ || (a.wrappers_ = {});
      var d = c ? c.toArray() : c;
      a.wrappers_[b] = c;
      mf(a, b, d)
    },
    sf = function(a, b, c, d) {
      a.wrappers_ || (a.wrappers_ = {});
      var e = d ? d.toArray() : d;
      a.wrappers_[b] = d;
      nf(a, b, c, e)
    },
    tf = function(a, b, c) {
      a.wrappers_ || (a.wrappers_ = {});
      c = c || [];
      for (var d = [], e = 0; e < c.length; e++) d[e] = c[e].toArray();
      a.wrappers_[b] = c;
      mf(a, b, d)
    },
    uf = function(a, b, c, d, e) {
      pf(a, d, b);
      var g = a.wrappers_[b];
      g || (g = a.wrappers_[b] = []);
      c = c ? c : new d;
      a = Q(a, b);
      void 0 != e ? (g.splice(e, 0, c), a.splice(e, 0, c.toArray())) : (g.push(c), a.push(c.toArray()));
      return c
    };
  cf.prototype.syncMapFields_ = function() {
    if (this.wrappers_)
      for (var a in this.wrappers_) {
        var b = this.wrappers_[a];
        if (Pa(b))
          for (var c = 0; c < b.length; c++) b[c] && b[c].toArray();
        else b && b.toArray()
      }
  };
  cf.prototype.toArray = function() {
    this.syncMapFields_();
    return this.array
  };
  cf.prototype.serialize = df ? function() {
    var a = Uint8Array.prototype.toJSON;
    Uint8Array.prototype.toJSON = function() {
      return Me(this)
    };
    try {
      return JSON.stringify(this.array && vf(this.toArray(), this), wf)
    } finally {
      Uint8Array.prototype.toJSON = a
    }
  } : function() {
    return JSON.stringify(this.array && vf(this.toArray(), this), wf)
  };
  var vf = function(a) {
      return a
    },
    wf = function(a, b) {
      return Ha(b) && (isNaN(b) || Infinity === b || -Infinity === b) ? String(b) : b
    };
  f = cf.prototype;
  f.toString = function() {
    this.syncMapFields_();
    return this.array.toString()
  };
  f.getExtension = function(a) {
    if (this.extensionObject_) {
      this.wrappers_ || (this.wrappers_ = {});
      var b = a.fieldIndex;
      if (a.isRepeated) {
        if (a.isMessageType()) return this.wrappers_[b] || (this.wrappers_[b] = jb(this.extensionObject_[b] || [], function(c) {
          return new a.ctor(c)
        })), this.wrappers_[b]
      } else if (a.isMessageType()) return !this.wrappers_[b] && this.extensionObject_[b] && (this.wrappers_[b] = new a.ctor(this.extensionObject_[b])), this.wrappers_[b];
      return this.extensionObject_[b]
    }
  };
  f.setExtension = function(a, b) {
    this.wrappers_ || (this.wrappers_ = {});
    ff(this);
    var c = a.fieldIndex;
    a.isRepeated ? (b = b || [], a.isMessageType() ? (this.wrappers_[c] = b, this.extensionObject_[c] = jb(b, function(d) {
      return d.toArray()
    })) : this.extensionObject_[c] = b) : a.isMessageType() ? (this.wrappers_[c] = b, this.extensionObject_[c] = b ? b.toArray() : b) : this.extensionObject_[c] = b;
    return this
  };
  f.cloneMessage = function() {
    return new this.constructor(xf(this.toArray()))
  };
  f.clone = function() {
    return new this.constructor(xf(this.toArray()))
  };
  var xf = function(a) {
    if (Pa(a)) {
      for (var b = Array(a.length), c = 0; c < a.length; c++) {
        var d = a[c];
        null != d && (b[c] = "object" == typeof d ? xf(d) : d)
      }
      return b
    }
    if (df && a instanceof Uint8Array) return new Uint8Array(a);
    b = {};
    for (c in a) d = a[c], null != d && (b[c] = "object" == typeof d ? xf(d) : d);
    return b
  };
  var yf = function(a) {
    this.document_ = a || {
      cookie: ""
    }
  };
  f = yf.prototype;
  f.isEnabled = function() {
    return navigator.cookieEnabled
  };
  f.isValidName = function(a) {
    return !/[;=\s]/.test(a)
  };
  f.isValidValue = function(a) {
    return !/[;\r\n]/.test(a)
  };
  f.set = function(a, b, c, d, e, g) {
    if (!this.isValidName(a)) throw Error('Invalid cookie name "' + a + '"');
    if (!this.isValidValue(b)) throw Error('Invalid cookie value "' + b + '"');
    E(c) || (c = -1);
    e = e ? ";domain=" + e : "";
    d = d ? ";path=" + d : "";
    g = g ? ";secure" : "";
    c = 0 > c ? "" : 0 == c ? ";expires=" + (new Date(1970, 1, 1)).toUTCString() : ";expires=" + (new Date(cb() + 1E3 * c)).toUTCString();
    this.setCookie_(a + "=" + b + e + d + c + g)
  };
  f.get = function(a, b) {
    for (var c = a + "=", d = this.getParts_(), e = 0, g; e < d.length; e++) {
      g = cc(d[e]);
      if (0 == g.lastIndexOf(c, 0)) return g.substr(c.length);
      if (g == a) return ""
    }
    return b
  };
  f.remove = function(a, b, c) {
    var d = this.containsKey(a);
    this.set(a, "", 0, b, c);
    return d
  };
  f.getKeys = function() {
    return this.getKeyValues_().keys
  };
  f.getValues = function() {
    return this.getKeyValues_().values
  };
  f.isEmpty = function() {
    return !this.getCookie_()
  };
  f.getCount = function() {
    return this.getCookie_() ? this.getParts_().length : 0
  };
  f.containsKey = function(a) {
    return E(this.get(a))
  };
  f.containsValue = function(a) {
    for (var b = this.getKeyValues_().values, c = 0; c < b.length; c++)
      if (b[c] == a) return !0;
    return !1
  };
  f.clear = function() {
    for (var a = this.getKeyValues_().keys, b = a.length - 1; 0 <= b; b--) this.remove(a[b])
  };
  f.setCookie_ = function(a) {
    this.document_.cookie = a
  };
  f.getCookie_ = function() {
    return this.document_.cookie
  };
  f.getParts_ = function() {
    return (this.getCookie_() || "").split(";")
  };
  f.getKeyValues_ = function() {
    for (var a = this.getParts_(), b = [], c = [], d, e, g = 0; g < a.length; g++) e = cc(a[g]), d = e.indexOf("="), -1 == d ? (b.push(""), c.push(e)) : (b.push(e.substring(0, d)), c.push(e.substring(d + 1)));
    return {
      keys: b,
      values: c
    }
  };
  var zf = new yf("undefined" == typeof document ? null : document);
  var Bf = function(a) {
      var b = G("window.location.href");
      null == a && (a = 'Unknown Error of type "null/undefined"');
      if (Ga(a)) return {
        message: a,
        name: "Unknown error",
        lineNumber: "Not available",
        fileName: b,
        stack: "Not available"
      };
      var c = !1;
      try {
        var d = a.lineNumber || a.line || "Not available"
      } catch (g) {
        d = "Not available", c = !0
      }
      try {
        var e = a.fileName || a.filename || a.sourceURL || D.$googDebugFname || b
      } catch (g) {
        e = "Not available", c = !0
      }
      return !c && a.lineNumber && a.fileName && a.stack && a.message && a.name ? a : (b = a.message, null == b && (a.constructor &&
        a.constructor instanceof Function ? (a.constructor.name ? b = a.constructor.name : (b = a.constructor, Af[b] ? b = Af[b] : (b = String(b), Af[b] || (c = /function\s+([^\(]+)/m.exec(b), Af[b] = c ? c[1] : "[Anonymous]"), b = Af[b])), b = 'Unknown Error of type "' + b + '"') : b = "Unknown Error of unknown type"), {
        message: b,
        name: a.name || "UnknownError",
        lineNumber: d,
        fileName: e,
        stack: a.stack || "Not available"
      })
    },
    Af = {};
  var Cf = {
      ERAS: ["BC", "AD"],
      ERANAMES: ["Before Christ", "Anno Domini"],
      NARROWMONTHS: "JFMAMJJASOND".split(""),
      STANDALONENARROWMONTHS: "JFMAMJJASOND".split(""),
      MONTHS: "January February March April May June July August September October November December".split(" "),
      STANDALONEMONTHS: "January February March April May June July August September October November December".split(" "),
      SHORTMONTHS: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
      STANDALONESHORTMONTHS: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
      WEEKDAYS: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
      STANDALONEWEEKDAYS: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
      SHORTWEEKDAYS: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
      STANDALONESHORTWEEKDAYS: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
      NARROWWEEKDAYS: "SMTWTFS".split(""),
      STANDALONENARROWWEEKDAYS: "SMTWTFS".split(""),
      SHORTQUARTERS: ["Q1", "Q2", "Q3", "Q4"],
      QUARTERS: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"],
      AMPMS: ["AM", "PM"],
      DATEFORMATS: ["EEEE, MMMM d, y",
        "MMMM d, y", "MMM d, y", "M/d/yy"
      ],
      TIMEFORMATS: ["h:mm:ss a zzzz", "h:mm:ss a z", "h:mm:ss a", "h:mm a"],
      DATETIMEFORMATS: ["{1} 'at' {0}", "{1} 'at' {0}", "{1}, {0}", "{1}, {0}"],
      FIRSTDAYOFWEEK: 6,
      WEEKENDRANGE: [5, 6],
      FIRSTWEEKCUTOFFDAY: 5
    },
    Df = Cf;
  Df = Cf;
  var Ef = function(a, b) {
      switch (b) {
        case 1:
          return 0 != a % 4 || 0 == a % 100 && 0 != a % 400 ? 28 : 29;
        case 5:
        case 8:
        case 10:
        case 3:
          return 30
      }
      return 31
    },
    Ff = function(a, b, c, d, e) {
      a = new Date(a, b, c);
      e = e || 0;
      return a.valueOf() + 864E5 * (((E(d) ? d : 3) - e + 7) % 7 - ((a.getDay() + 6) % 7 - e + 7) % 7)
    },
    Gf = function(a, b, c) {
      Ha(a) ? (this.date = this.buildDate_(a, b || 0, c || 1), this.maybeFixDst_(c || 1)) : Ta(a) ? (this.date = this.buildDate_(a.getFullYear(), a.getMonth(), a.getDate()), this.maybeFixDst_(a.getDate())) : (this.date = new Date(cb()), a = this.date.getDate(), this.date.setHours(0), this.date.setMinutes(0), this.date.setSeconds(0), this.date.setMilliseconds(0), this.maybeFixDst_(a))
    };
  f = Gf.prototype;
  f.buildDate_ = function(a, b, c) {
    b = new Date(a, b, c);
    0 <= a && 100 > a && b.setFullYear(b.getFullYear() - 1900);
    return b
  };
  f.firstDayOfWeek_ = Df.FIRSTDAYOFWEEK;
  f.firstWeekCutOffDay_ = Df.FIRSTWEEKCUTOFFDAY;
  f.clone = function() {
    var a = new Gf(this.date);
    a.firstDayOfWeek_ = this.firstDayOfWeek_;
    a.firstWeekCutOffDay_ = this.firstWeekCutOffDay_;
    return a
  };
  f.getFullYear = function() {
    return this.date.getFullYear()
  };
  f.getYear = function() {
    return this.getFullYear()
  };
  f.getMonth = function() {
    return this.date.getMonth()
  };
  f.getDate = function() {
    return this.date.getDate()
  };
  f.getTime = function() {
    return this.date.getTime()
  };
  f.getDay = function() {
    return this.date.getDay()
  };
  f.getIsoWeekday = function() {
    return (this.getDay() + 6) % 7
  };
  f.getWeekday = function() {
    return (this.getIsoWeekday() - this.firstDayOfWeek_ + 7) % 7
  };
  f.getUTCFullYear = function() {
    return this.date.getUTCFullYear()
  };
  f.getUTCMonth = function() {
    return this.date.getUTCMonth()
  };
  f.getUTCDate = function() {
    return this.date.getUTCDate()
  };
  f.getUTCDay = function() {
    return this.date.getDay()
  };
  f.getUTCHours = function() {
    return this.date.getUTCHours()
  };
  f.getUTCMinutes = function() {
    return this.date.getUTCMinutes()
  };
  f.getUTCIsoWeekday = function() {
    return (this.date.getUTCDay() + 6) % 7
  };
  f.getUTCWeekday = function() {
    return (this.getUTCIsoWeekday() - this.firstDayOfWeek_ + 7) % 7
  };
  f.getFirstDayOfWeek = function() {
    return this.firstDayOfWeek_
  };
  f.getFirstWeekCutOffDay = function() {
    return this.firstWeekCutOffDay_
  };
  f.getNumberOfDaysInMonth = function() {
    return Ef(this.getFullYear(), this.getMonth())
  };
  f.getWeekNumber = function() {
    var a = Ff(this.getFullYear(), this.getMonth(), this.getDate(), this.firstWeekCutOffDay_, this.firstDayOfWeek_);
    return Math.floor(Math.round((a - (new Date((new Date(a)).getFullYear(), 0, 1)).valueOf()) / 864E5) / 7) + 1
  };
  f.getYearOfWeek = function() {
    return (new Date(Ff(this.getFullYear(), this.getMonth(), this.getDate(), this.firstWeekCutOffDay_, this.firstDayOfWeek_))).getFullYear()
  };
  f.getDayOfYear = function() {
    for (var a = this.getDate(), b = this.getFullYear(), c = this.getMonth() - 1; 0 <= c; c--) a += Ef(b, c);
    return a
  };
  f.getTimezoneOffset = function() {
    return this.date.getTimezoneOffset()
  };
  f.getTimezoneOffsetString = function() {
    var a = this.getTimezoneOffset();
    if (0 == a) a = "Z";
    else {
      var b = Math.abs(a) / 60,
        c = Math.floor(b);
      b = 60 * (b - c);
      a = (0 < a ? "-" : "+") + cd(c, 2) + ":" + cd(b, 2)
    }
    return a
  };
  f.set = function(a) {
    this.date = new Date(a.getFullYear(), a.getMonth(), a.getDate())
  };
  f.setFullYear = function(a) {
    this.date.setFullYear(a)
  };
  f.setYear = function(a) {
    this.setFullYear(a)
  };
  f.setMonth = function(a) {
    this.date.setMonth(a)
  };
  f.setDate = function(a) {
    this.date.setDate(a)
  };
  f.setTime = function(a) {
    this.date.setTime(a)
  };
  f.setUTCFullYear = function(a) {
    this.date.setUTCFullYear(a)
  };
  f.setUTCMonth = function(a) {
    this.date.setUTCMonth(a)
  };
  f.setUTCDate = function(a) {
    this.date.setUTCDate(a)
  };
  f.setFirstDayOfWeek = function(a) {
    this.firstDayOfWeek_ = a
  };
  f.setFirstWeekCutOffDay = function(a) {
    this.firstWeekCutOffDay_ = a
  };
  f.add = function(a) {
    if (a.years || a.months) {
      var b = this.getMonth() + a.months + 12 * a.years,
        c = this.getYear() + Math.floor(b / 12);
      b %= 12;
      0 > b && (b += 12);
      var d = Math.min(Ef(c, b), this.getDate());
      this.setDate(1);
      this.setFullYear(c);
      this.setMonth(b);
      this.setDate(d)
    }
    a.days && (a = new Date((new Date(this.getYear(), this.getMonth(), this.getDate(), 12)).getTime() + 864E5 * a.days), this.setDate(1), this.setFullYear(a.getFullYear()), this.setMonth(a.getMonth()), this.setDate(a.getDate()), this.maybeFixDst_(a.getDate()))
  };
  f.toIsoString = function(a, b) {
    return [this.getFullYear(), cd(this.getMonth() + 1, 2), cd(this.getDate(), 2)].join(a ? "-" : "") + (b ? this.getTimezoneOffsetString() : "")
  };
  f.toUTCIsoString = function(a, b) {
    return [this.getUTCFullYear(), cd(this.getUTCMonth() + 1, 2), cd(this.getUTCDate(), 2)].join(a ? "-" : "") + (b ? "Z" : "")
  };
  f.equals = function(a) {
    return !(!a || this.getYear() != a.getYear() || this.getMonth() != a.getMonth() || this.getDate() != a.getDate())
  };
  f.toString = function() {
    return this.toIsoString()
  };
  f.maybeFixDst_ = function(a) {
    this.getDate() != a && this.date.setUTCHours(this.date.getUTCHours() + (this.getDate() < a ? 1 : -1))
  };
  f.valueOf = function() {
    return this.date.valueOf()
  };
  var Hf = !de || ze(9),
    If = !ge && !de || de && ze(9) || ge && xe("1.9.1"),
    Jf = de && !xe("9"),
    Kf = de || ce || he;
  var Lf = function(a, b) {
    this.x = E(a) ? a : 0;
    this.y = E(b) ? b : 0
  };
  f = Lf.prototype;
  f.clone = function() {
    return new Lf(this.x, this.y)
  };
  f.equals = function(a) {
    return a instanceof Lf && (this == a ? !0 : this && a ? this.x == a.x && this.y == a.y : !1)
  };
  f.ceil = function() {
    this.x = Math.ceil(this.x);
    this.y = Math.ceil(this.y);
    return this
  };
  f.floor = function() {
    this.x = Math.floor(this.x);
    this.y = Math.floor(this.y);
    return this
  };
  f.round = function() {
    this.x = Math.round(this.x);
    this.y = Math.round(this.y);
    return this
  };
  f.translate = function(a, b) {
    a instanceof Lf ? (this.x += a.x, this.y += a.y) : (this.x += Number(a), Ha(b) && (this.y += b));
    return this
  };
  f.scale = function(a, b) {
    b = Ha(b) ? b : a;
    this.x *= a;
    this.y *= b;
    return this
  };
  f.rotateRadians = function(a, b) {
    b = b || new Lf(0, 0);
    var c = this.x,
      d = this.y,
      e = Math.cos(a);
    a = Math.sin(a);
    this.x = (c - b.x) * e - (d - b.y) * a + b.x;
    this.y = (c - b.x) * a + (d - b.y) * e + b.y
  };
  f.rotateDegrees = function(a, b) {
    this.rotateRadians(a * Math.PI / 180, b)
  };
  var Mf = function(a, b) {
    this.width = a;
    this.height = b
  };
  f = Mf.prototype;
  f.clone = function() {
    return new Mf(this.width, this.height)
  };
  f.getLongest = function() {
    return Math.max(this.width, this.height)
  };
  f.getShortest = function() {
    return Math.min(this.width, this.height)
  };
  f.area = function() {
    return this.width * this.height
  };
  f.perimeter = function() {
    return 2 * (this.width + this.height)
  };
  f.aspectRatio = function() {
    return this.width / this.height
  };
  f.isEmpty = function() {
    return !this.area()
  };
  f.ceil = function() {
    this.width = Math.ceil(this.width);
    this.height = Math.ceil(this.height);
    return this
  };
  f.fitsInside = function(a) {
    return this.width <= a.width && this.height <= a.height
  };
  f.floor = function() {
    this.width = Math.floor(this.width);
    this.height = Math.floor(this.height);
    return this
  };
  f.round = function() {
    this.width = Math.round(this.width);
    this.height = Math.round(this.height);
    return this
  };
  f.scale = function(a, b) {
    b = Ha(b) ? b : a;
    this.width *= a;
    this.height *= b;
    return this
  };
  f.scaleToCover = function(a) {
    a = this.aspectRatio() <= a.aspectRatio() ? a.width / this.width : a.height / this.height;
    return this.scale(a)
  };
  f.scaleToFit = function(a) {
    a = this.aspectRatio() > a.aspectRatio() ? a.width / this.width : a.height / this.height;
    return this.scale(a)
  };
  var Pf = function(a) {
      return a ? new Nf(Of(a)) : eb || (eb = new Nf)
    },
    Qf = function(a, b) {
      return Ga(b) ? a.getElementById(b) : b
    },
    Sf = function(a, b) {
      var c = b || document;
      return (c.getElementsByClassName ? c.getElementsByClassName(a)[0] : Rf(document, "*", a, b)) || null
    },
    Tf = function(a, b, c, d) {
      a = d || a;
      b = b && "*" != b ? String(b).toUpperCase() : "";
      if (a.querySelectorAll && a.querySelector && (b || c)) return a.querySelectorAll(b + (c ? "." + c : ""));
      if (c && a.getElementsByClassName) {
        a = a.getElementsByClassName(c);
        if (b) {
          d = {};
          for (var e = 0, g = 0, h; h = a[g]; g++) b == h.nodeName && (d[e++] = h);
          d.length = e;
          return d
        }
        return a
      }
      a = a.getElementsByTagName(b || "*");
      if (c) {
        d = {};
        for (g = e = 0; h = a[g]; g++) b = h.className, "function" == typeof b.split && pb(b.split(/\s+/), c) && (d[e++] = h);
        d.length = e;
        return d
      }
      return a
    },
    Rf = function(a, b, c, d) {
      var e = d || a,
        g = b && "*" != b ? String(b).toUpperCase() :
        "";
      return e.querySelectorAll && e.querySelector && (g || c) ? e.querySelector(g + (c ? "." + c : "")) : Tf(a, b, c, d)[0] || null
    },
    Vf = function(a, b) {
      xb(b, function(c, d) {
        c && "object" == typeof c && c.implementsGoogStringTypedString && (c = c.getTypedStringValue());
        "style" == d ? a.style.cssText = c : "class" == d ? a.className = c : "for" == d ? a.htmlFor = c : Uf.hasOwnProperty(d) ? a.setAttribute(Uf[d], c) : bc(d, "aria-") || bc(d, "data-") ? a.setAttribute(d, c) : a[d] = c
      })
    },
    Uf = {
      cellpadding: "cellPadding",
      cellspacing: "cellSpacing",
      colspan: "colSpan",
      frameborder: "frameBorder",
      height: "height",
      maxlength: "maxLength",
      nonce: "nonce",
      role: "role",
      rowspan: "rowSpan",
      type: "type",
      usemap: "useMap",
      valign: "vAlign",
      width: "width"
    },
    Yf = function(a) {
      a = a.document;
      a = Xf(a) ? a.documentElement : a.body;
      return new Mf(a.clientWidth, a.clientHeight)
    },
    Zf = function(a) {
      return a.scrollingElement ? a.scrollingElement : !he && Xf(a) ? a.documentElement : a.body || a.documentElement
    },
    $f = function(a) {
      return a.parentWindow || a.defaultView
    },
    bg = function(a, b,
      c) {
      return ag(document, arguments)
    },
    ag = function(a, b) {
      var c = String(b[0]),
        d = b[1];
      if (!Hf && d && (d.name || d.type)) {
        c = ["<", c];
        d.name && c.push(' name="', ad(d.name), '"');
        if (d.type) {
          c.push(' type="', ad(d.type), '"');
          var e = {};
          Kb(e, d);
          delete e.type;
          d = e
        }
        c.push(">");
        c = c.join("")
      }
      c = a.createElement(c);
      d && (Ga(d) ? c.className = d : Pa(d) ? c.className = d.join(" ") : Vf(c, d));
      2 < b.length && cg(a, c, b, 2);
      return c
    },
    cg = function(a, b, c, d) {
      function e(h) {
        h && b.appendChild(Ga(h) ? a.createTextNode(h) : h)
      }
      for (; d < c.length; d++) {
        var g = c[d];
        Ra(g) && !dg(g) ? hb(eg(g) ? sb(g) : g, e) : e(g)
      }
    },
    fg = function(a, b) {
      return a.createElement(String(b))
    },
    Xf = function(a) {
      return "CSS1Compat" == a.compatMode
    },
    gg = function(a) {
      for (var b; b = a.firstChild;) a.removeChild(b)
    },
    hg = function(a, b, c) {
      a.insertBefore(b, a.childNodes[c] || null)
    },
    ig = function(a) {
      return a && a.parentNode ? a.parentNode.removeChild(a) : null
    },
    jg = function(a) {
      return If && void 0 != a.children ? a.children : ib(a.childNodes, function(b) {
        return 1 == b.nodeType
      })
    },
    lg = function(a) {
      return E(a.nextElementSibling) ?
        a.nextElementSibling : kg(a.nextSibling, !0)
    },
    kg = function(a, b) {
      for (; a && 1 != a.nodeType;) a = b ? a.nextSibling : a.previousSibling;
      return a
    },
    dg = function(a) {
      return Ta(a) && 0 < a.nodeType
    },
    mg = function(a) {
      return Ta(a) && 1 == a.nodeType
    },
    ng = function(a, b) {
      if (!a || !b) return !1;
      if (a.contains && 1 == b.nodeType) return a == b || a.contains(b);
      if ("undefined" != typeof a.compareDocumentPosition) return a == b || !!(a.compareDocumentPosition(b) & 16);
      for (; b && a != b;) b = b.parentNode;
      return b == a
    },
    pg = function(a, b) {
      var c = a.parentNode;
      if (c == b) return -1;
      for (; b.parentNode != c;) b = b.parentNode;
      return og(b, a)
    },
    og = function(a, b) {
      for (; b = b.previousSibling;)
        if (b == a) return -1;
      return 1
    },
    Of = function(a) {
      return 9 == a.nodeType ? a : a.ownerDocument || a.document
    },
    qg = function(a, b) {
      if ("textContent" in a) a.textContent = b;
      else if (3 == a.nodeType) a.data = String(b);
      else if (a.firstChild && 3 == a.firstChild.nodeType) {
        for (; a.lastChild != a.firstChild;) a.removeChild(a.lastChild);
        a.firstChild.data = String(b)
      } else gg(a), a.appendChild(Of(a).createTextNode(String(b)))
    },
    rg = function(a, b, c, d) {
      if (null != a)
        for (a = a.firstChild; a;) {
          if (b(a) && (c.push(a), d) || rg(a, b, c, d)) return !0;
          a = a.nextSibling
        }
      return !1
    },
    sg = {
      SCRIPT: 1,
      STYLE: 1,
      HEAD: 1,
      IFRAME: 1,
      OBJECT: 1
    },
    tg = {
      IMG: " ",
      BR: "\n"
    },
    wg = function(a) {
      return ug(a) && vg(a)
    },
    ug = function(a) {
      return de && !xe("9") ? (a = a.getAttributeNode("tabindex"), null != a && a.specified) : a.hasAttribute("tabindex")
    },
    vg = function(a) {
      a = a.tabIndex;
      return Ha(a) && 0 <= a && 32768 > a
    },
    yg = function(a) {
      if (Jf && null !== a && "innerText" in a) a = a.innerText.replace(/(\r\n|\r|\n)/g, "\n");
      else {
        var b = [];
        xg(a, b, !0);
        a = b.join("")
      }
      a = a.replace(/ \xAD /g, " ").replace(/\xAD/g, "");
      a = a.replace(/\u200B/g, "");
      Jf || (a = a.replace(/ +/g, " "));
      " " != a && (a = a.replace(/^\s*/, ""));
      return a
    },
    xg = function(a, b, c) {
      if (!(a.nodeName in sg))
        if (3 == a.nodeType) c ? b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g, "")) : b.push(a.nodeValue);
        else if (a.nodeName in tg) b.push(tg[a.nodeName]);
      else
        for (a = a.firstChild; a;) xg(a, b, c), a = a.nextSibling
    },
    eg = function(a) {
      if (a && "number" == typeof a.length) {
        if (Ta(a)) return "function" == typeof a.item || "string" == typeof a.item;
        if (Sa(a)) return "function" == typeof a.item
      }
      return !1
    },
    Ag = function(a, b, c, d) {
      if (!b && !c) return null;
      var e = b ? String(b).toUpperCase() : null;
      return zg(a, function(g) {
        return (!e || g.nodeName == e) && (!c || Ga(g.className) && pb(g.className.split(/\s+/), c))
      }, !0, d)
    },
    zg = function(a, b, c, d) {
      a && !c && (a = a.parentNode);
      for (c = 0; a && (null == d || c <= d);) {
        if (b(a)) return a;
        a = a.parentNode;
        c++
      }
      return null
    },
    Nf = function(a) {
      this.document_ = a || D.document || document
    };
  f = Nf.prototype;
  f.getDomHelper = Pf;
  f.setDocument = function(a) {
    this.document_ = a
  };
  f.getDocument = function() {
    return this.document_
  };
  f.getElement = function(a) {
    return Qf(this.document_, a)
  };
  f.getRequiredElement = function(a) {
    return Qf(this.document_, a)
  };
  f.$ = Nf.prototype.getElement;
  f.getElementsByTagName = function(a, b) {
    return (b || this.document_).getElementsByTagName(String(a))
  };
  f.getElementsByTagNameAndClass = function(a, b, c) {
    return Tf(this.document_, a, b, c)
  };
  f.getElementByTagNameAndClass = function(a, b, c) {
    return Rf(this.document_, a, b, c)
  };
  f.getElementsByClass = function(a, b) {
    var c = (b = b || this.document_) || document;
    return c.querySelectorAll && c.querySelector ? c.querySelectorAll("." + a) : Tf(document, "*", a, b)
  };
  f.getElementByClass = function(a, b) {
    return Sf(a, b || this.document_)
  };
  f.getRequiredElementByClass = function(a, b) {
    return Sf(a, b || this.document_)
  };
  f.$$ = Nf.prototype.getElementsByTagNameAndClass;
  f.setProperties = Vf;
  f.getViewportSize = function(a) {
    return Yf(a || this.getWindow() || window)
  };
  f.getDocumentHeight = function() {
    var a = this.getWindow(),
      b = a.document;
    var c = 0;
    if (b) {
      c = b.body;
      var d = b.documentElement;
      if (d && c)
        if (a = Yf(a).height, Xf(b) && d.scrollHeight) c = d.scrollHeight != a ? d.scrollHeight : d.offsetHeight;
        else {
          b = d.scrollHeight;
          var e = d.offsetHeight;
          d.clientHeight != e && (b = c.scrollHeight, e = c.offsetHeight);
          c = b > a ? b > e ? b : e : b < e ? b : e
        }
      else c = 0
    }
    return c
  };
  f.createDom = function(a, b, c) {
    return ag(this.document_, arguments)
  };
  f.$dom = Nf.prototype.createDom;
  f.createElement = function(a) {
    return fg(this.document_, a)
  };
  f.createTextNode = function(a) {
    return this.document_.createTextNode(String(a))
  };
  f.createTable = function(a, b, c) {
    var d = this.document_;
    c = !!c;
    for (var e = fg(d, "TABLE"), g = e.appendChild(fg(d, "TBODY")), h = 0; h < a; h++) {
      for (var k = fg(d, "TR"), m = 0; m < b; m++) {
        var l = fg(d, "TD");
        c && qg(l, "\u00a0");
        k.appendChild(l)
      }
      g.appendChild(k)
    }
    return e
  };
  f.safeHtmlToNode = function(a) {
    var b = this.document_;
    var c = fg(b, "DIV");
    de ? (a = Rc(Sc, a), Uc(c, a), c.removeChild(c.firstChild)) : Uc(c, a);
    if (1 == c.childNodes.length) c = c.removeChild(c.firstChild);
    else {
      for (b = b.createDocumentFragment(); c.firstChild;) b.appendChild(c.firstChild);
      c = b
    }
    return c
  };
  f.isCss1CompatMode = function() {
    return Xf(this.document_)
  };
  f.getWindow = function() {
    return $f(this.document_)
  };
  f.getDocumentScrollElement = function() {
    return Zf(this.document_)
  };
  f.getDocumentScroll = function() {
    var a = this.document_,
      b = Zf(a);
    a = $f(a);
    return de && xe("10") && a.pageYOffset != b.scrollTop ? new Lf(b.scrollLeft, b.scrollTop) : new Lf(a.pageXOffset || b.scrollLeft, a.pageYOffset || b.scrollTop)
  };
  f.getActiveElement = function(a) {
    a = a || this.document_;
    try {
      var b = a && a.activeElement;
      var c = b && b.nodeName ? b : null
    } catch (d) {
      c = null
    }
    return c
  };
  f.appendChild = function(a, b) {
    a.appendChild(b)
  };
  f.append = function(a, b) {
    cg(Of(a), a, arguments, 1)
  };
  f.canHaveChildren = function(a) {
    if (1 != a.nodeType) return !1;
    switch (a.tagName) {
      case "APPLET":
      case "AREA":
      case "BASE":
      case "BR":
      case "COL":
      case "COMMAND":
      case "EMBED":
      case "FRAME":
      case "HR":
      case "IMG":
      case "INPUT":
      case "IFRAME":
      case "ISINDEX":
      case "KEYGEN":
      case "LINK":
      case "NOFRAMES":
      case "NOSCRIPT":
      case "META":
      case "OBJECT":
      case "PARAM":
      case "SCRIPT":
      case "SOURCE":
      case "STYLE":
      case "TRACK":
      case "WBR":
        return !1
    }
    return !0
  };
  f.removeChildren = gg;
  f.insertSiblingBefore = function(a, b) {
    b.parentNode && b.parentNode.insertBefore(a, b)
  };
  f.insertSiblingAfter = function(a, b) {
    b.parentNode && b.parentNode.insertBefore(a, b.nextSibling)
  };
  f.insertChildAt = hg;
  f.removeNode = ig;
  f.replaceNode = function(a, b) {
    var c = b.parentNode;
    c && c.replaceChild(a, b)
  };
  f.flattenElement = function(a) {
    var b, c = a.parentNode;
    if (c && 11 != c.nodeType) {
      if (a.removeNode) return a.removeNode(!1);
      for (; b = a.firstChild;) c.insertBefore(b, a);
      return ig(a)
    }
  };
  f.getChildren = jg;
  f.getFirstElementChild = function(a) {
    return E(a.firstElementChild) ? a.firstElementChild : kg(a.firstChild, !0)
  };
  f.getLastElementChild = function(a) {
    return E(a.lastElementChild) ? a.lastElementChild : kg(a.lastChild, !1)
  };
  f.getNextElementSibling = lg;
  f.getPreviousElementSibling = function(a) {
    return E(a.previousElementSibling) ? a.previousElementSibling : kg(a.previousSibling, !1)
  };
  f.getNextNode = function(a) {
    if (!a) return null;
    if (a.firstChild) return a.firstChild;
    for (; a && !a.nextSibling;) a = a.parentNode;
    return a ? a.nextSibling : null
  };
  f.getPreviousNode = function(a) {
    if (!a) return null;
    if (!a.previousSibling) return a.parentNode;
    for (a = a.previousSibling; a && a.lastChild;) a = a.lastChild;
    return a
  };
  f.isNodeLike = dg;
  f.isElement = mg;
  f.isWindow = function(a) {
    return Ta(a) && a.window == a
  };
  f.getParentElement = function(a) {
    var b;
    if (Kf && !(de && xe("9") && !xe("10") && D.SVGElement && a instanceof D.SVGElement) && (b = a.parentElement)) return b;
    b = a.parentNode;
    return mg(b) ? b : null
  };
  f.contains = ng;
  f.compareNodeOrder = function(a, b) {
    if (a == b) return 0;
    if (a.compareDocumentPosition) return a.compareDocumentPosition(b) & 2 ? 1 : -1;
    if (de && !ze(9)) {
      if (9 == a.nodeType) return -1;
      if (9 == b.nodeType) return 1
    }
    if ("sourceIndex" in a || a.parentNode && "sourceIndex" in a.parentNode) {
      var c = 1 == a.nodeType,
        d = 1 == b.nodeType;
      if (c && d) return a.sourceIndex - b.sourceIndex;
      var e = a.parentNode,
        g = b.parentNode;
      return e == g ? og(a, b) : !c && ng(e, b) ? -1 * pg(a, b) : !d && ng(g, a) ? pg(b, a) : (c ? a.sourceIndex : e.sourceIndex) - (d ? b.sourceIndex : g.sourceIndex)
    }
    d = Of(a);
    c = d.createRange();
    c.selectNode(a);
    c.collapse(!0);
    a = d.createRange();
    a.selectNode(b);
    a.collapse(!0);
    return c.compareBoundaryPoints(D.Range.START_TO_END, a)
  };
  f.findCommonAncestor = function(a) {
    var b, c = arguments.length;
    if (!c) return null;
    if (1 == c) return arguments[0];
    var d = [],
      e = Infinity;
    for (b = 0; b < c; b++) {
      for (var g = [], h = arguments[b]; h;) g.unshift(h), h = h.parentNode;
      d.push(g);
      e = Math.min(e, g.length)
    }
    g = null;
    for (b = 0; b < e; b++) {
      h = d[0][b];
      for (var k = 1; k < c; k++)
        if (h != d[k][b]) return g;
      g = h
    }
    return g
  };
  f.getOwnerDocument = Of;
  f.getFrameContentDocument = function(a) {
    return a.contentDocument || a.contentWindow.document
  };
  f.getFrameContentWindow = function(a) {
    try {
      var b;
      if (!(b = a.contentWindow)) {
        if (a.contentDocument) {
          var c = a.contentDocument;
          var d = c ? $f(c) : window
        } else d = null;
        b = d
      }
      return b
    } catch (e) {}
    return null
  };
  f.setTextContent = qg;
  f.getOuterHtml = function(a) {
    if ("outerHTML" in a) return a.outerHTML;
    var b = fg(Of(a), "DIV");
    b.appendChild(a.cloneNode(!0));
    return b.innerHTML
  };
  f.findNode = function(a, b) {
    var c = [];
    return rg(a, b, c, !0) ? c[0] : void 0
  };
  f.findNodes = function(a, b) {
    var c = [];
    rg(a, b, c, !1);
    return c
  };
  f.isFocusableTabIndex = wg;
  f.setFocusableTabIndex = function(a, b) {
    b ? a.tabIndex = 0 : (a.tabIndex = -1, a.removeAttribute("tabIndex"))
  };
  f.isFocusable = function(a) {
    var b;
    (b = "A" == a.tagName && a.hasAttribute("href") || "INPUT" == a.tagName || "TEXTAREA" == a.tagName || "SELECT" == a.tagName || "BUTTON" == a.tagName ? !a.disabled && (!ug(a) || vg(a)) : wg(a)) && de ? (a = !Sa(a.getBoundingClientRect) || de && null == a.parentElement ? {
      height: a.offsetHeight,
      width: a.offsetWidth
    } : a.getBoundingClientRect(), a = null != a && 0 < a.height && 0 < a.width) : a = b;
    return a
  };
  f.getTextContent = yg;
  f.getNodeTextLength = function(a) {
    return yg(a).length
  };
  f.getNodeTextOffset = function(a, b) {
    b = b || Of(a).body;
    for (var c = []; a && a != b;) {
      for (var d = a; d = d.previousSibling;) c.unshift(yg(d));
      a = a.parentNode
    }
    return c.join("").replace(/^[\s\xa0]+/, "").replace(/ +/g, " ").length
  };
  f.getNodeAtOffset = function(a, b, c) {
    a = [a];
    for (var d = 0, e = null; 0 < a.length && d < b;)
      if (e = a.pop(), !(e.nodeName in sg))
        if (3 == e.nodeType) {
          var g = e.nodeValue.replace(/(\r\n|\r|\n)/g, "").replace(/ +/g, " ");
          d += g.length
        } else if (e.nodeName in tg) d += tg[e.nodeName].length;
    else
      for (g = e.childNodes.length - 1; 0 <= g; g--) a.push(e.childNodes[g]);
    Ta(c) && (c.remainder = e ? e.nodeValue.length + b - d - 1 : 0, c.node = e);
    return e
  };
  f.isNodeList = eg;
  f.getAncestorByTagNameAndClass = Ag;
  f.getAncestorByClass = function(a, b, c) {
    return Ag(a, null, b, c)
  };
  f.getAncestor = zg;
  f.getCanvasContext2D = function(a) {
    return a.getContext("2d")
  };
  var Cg = function(a) {
      Bg();
      return Wb(a)
    },
    Bg = Ma;
  var Dg = function(a, b, c) {
      if (a)
        for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && b.call(c, a[d], d, a)
    },
    Eg = function(a) {
      var b = [];
      Dg(a, function(c) {
        b.push(c)
      });
      return b
    },
    Fg = {
      ALLOW_FORMS: "allow-forms",
      ALLOW_MODALS: "allow-modals",
      ALLOW_ORIENTATION_LOCK: "allow-orientation-lock",
      ALLOW_POINTER_LOCK: "allow-pointer-lock",
      ALLOW_POPUPS: "allow-popups",
      ALLOW_POPUPS_TO_ESCAPE_SANDBOX: "allow-popups-to-escape-sandbox",
      ALLOW_PRESENTATION: "allow-presentation",
      ALLOW_SAME_ORIGIN: "allow-same-origin",
      ALLOW_SCRIPTS: "allow-scripts",
      ALLOW_TOP_NAVIGATION: "allow-top-navigation",
      ALLOW_TOP_NAVIGATION_BY_USER_ACTIVATION: "allow-top-navigation-by-user-activation"
    },
    Gg = vb(function() {
      return Eg(Fg)
    }),
    Hg = function(a) {
      var b = (a ||
          fg(document, "IFRAME")).sandbox,
        c = b && b.supports;
      if (!c) return {};
      var d = {};
      hb(Gg(), function(e) {
        c.call(b, e) && (d[e] = !0)
      });
      return d
    };
  var Ig = function(a, b, c, d) {
    this.top = a;
    this.right = b;
    this.bottom = c;
    this.left = d
  };
  f = Ig.prototype;
  f.getWidth = function() {
    return this.right - this.left
  };
  f.getHeight = function() {
    return this.bottom - this.top
  };
  f.clone = function() {
    return new Ig(this.top, this.right, this.bottom, this.left)
  };
  f.contains = function(a) {
    return this && a ? a instanceof Ig ? a.left >= this.left && a.right <= this.right && a.top >= this.top && a.bottom <= this.bottom : a.x >= this.left && a.x <= this.right && a.y >= this.top && a.y <= this.bottom : !1
  };
  f.expand = function(a, b, c, d) {
    Ta(a) ? (this.top -= a.top, this.right += a.right, this.bottom += a.bottom, this.left -= a.left) : (this.top -= a, this.right += Number(b), this.bottom += Number(c), this.left -= Number(d));
    return this
  };
  f.expandToInclude = function(a) {
    this.left = Math.min(this.left, a.left);
    this.top = Math.min(this.top, a.top);
    this.right = Math.max(this.right, a.right);
    this.bottom = Math.max(this.bottom, a.bottom)
  };
  f.expandToIncludeCoordinate = function(a) {
    this.top = Math.min(this.top, a.y);
    this.right = Math.max(this.right, a.x);
    this.bottom = Math.max(this.bottom, a.y);
    this.left = Math.min(this.left, a.x)
  };
  f.ceil = function() {
    this.top = Math.ceil(this.top);
    this.right = Math.ceil(this.right);
    this.bottom = Math.ceil(this.bottom);
    this.left = Math.ceil(this.left);
    return this
  };
  f.floor = function() {
    this.top = Math.floor(this.top);
    this.right = Math.floor(this.right);
    this.bottom = Math.floor(this.bottom);
    this.left = Math.floor(this.left);
    return this
  };
  f.round = function() {
    this.top = Math.round(this.top);
    this.right = Math.round(this.right);
    this.bottom = Math.round(this.bottom);
    this.left = Math.round(this.left);
    return this
  };
  f.translate = function(a, b) {
    a instanceof Lf ? (this.left += a.x, this.right += a.x, this.top += a.y, this.bottom += a.y) : (this.left += a, this.right += a, Ha(b) && (this.top += b, this.bottom += b));
    return this
  };
  f.scale = function(a, b) {
    b = Ha(b) ? b : a;
    this.left *= a;
    this.right *= a;
    this.top *= b;
    this.bottom *= b;
    return this
  };
  var Jg = function(a, b, c, d) {
    this.left = a;
    this.top = b;
    this.width = c;
    this.height = d
  };
  f = Jg.prototype;
  f.clone = function() {
    return new Jg(this.left, this.top, this.width, this.height)
  };
  f.toBox = function() {
    return new Ig(this.top, this.left + this.width, this.top + this.height, this.left)
  };
  f.intersection = function(a) {
    var b = Math.max(this.left, a.left),
      c = Math.min(this.left + this.width, a.left + a.width);
    if (b <= c) {
      var d = Math.max(this.top, a.top);
      a = Math.min(this.top + this.height, a.top + a.height);
      if (d <= a) return this.left = b, this.top = d, this.width = c - b, this.height = a - d, !0
    }
    return !1
  };
  f.intersects = function(a) {
    return this.left <= a.left + a.width && a.left <= this.left + this.width && this.top <= a.top + a.height && a.top <= this.top + this.height
  };
  f.difference = function(a) {
    b: {
      var b = Math.max(this.left, a.left);
      var c = Math.min(this.left + this.width, a.left + a.width);
      if (b <= c) {
        var d = Math.max(this.top, a.top),
          e = Math.min(this.top + this.height, a.top + a.height);
        if (d <= e) {
          b = new Jg(b, d, c - b, e - d);
          break b
        }
      }
      b = null
    }
    if (b && b.height && b.width) {
      b = [];
      c = this.top;
      d = this.height;
      e = this.left + this.width;
      var g = this.top + this.height,
        h = a.left + a.width,
        k = a.top + a.height;
      a.top > this.top && (b.push(new Jg(this.left, this.top, this.width, a.top - this.top)), c = a.top, d -= a.top - this.top);
      k < g && (b.push(new Jg(this.left,
        k, this.width, g - k)), d = k - c);
      a.left > this.left && b.push(new Jg(this.left, c, a.left - this.left, d));
      h < e && b.push(new Jg(h, c, e - h, d));
      a = b
    } else a = [this.clone()];
    return a
  };
  f.boundingRect = function(a) {
    var b = Math.max(this.left + this.width, a.left + a.width),
      c = Math.max(this.top + this.height, a.top + a.height);
    this.left = Math.min(this.left, a.left);
    this.top = Math.min(this.top, a.top);
    this.width = b - this.left;
    this.height = c - this.top
  };
  f.contains = function(a) {
    return a instanceof Lf ? a.x >= this.left && a.x <= this.left + this.width && a.y >= this.top && a.y <= this.top + this.height : this.left <= a.left && this.left + this.width >= a.left + a.width && this.top <= a.top && this.top + this.height >= a.top + a.height
  };
  f.squaredDistance = function(a) {
    var b = a.x < this.left ? this.left - a.x : Math.max(a.x - (this.left + this.width), 0);
    a = a.y < this.top ? this.top - a.y : Math.max(a.y - (this.top + this.height), 0);
    return b * b + a * a
  };
  f.distance = function(a) {
    return Math.sqrt(this.squaredDistance(a))
  };
  f.getSize = function() {
    return new Mf(this.width, this.height)
  };
  f.getTopLeft = function() {
    return new Lf(this.left, this.top)
  };
  f.getCenter = function() {
    return new Lf(this.left + this.width / 2, this.top + this.height / 2)
  };
  f.getBottomRight = function() {
    return new Lf(this.left + this.width, this.top + this.height)
  };
  f.ceil = function() {
    this.left = Math.ceil(this.left);
    this.top = Math.ceil(this.top);
    this.width = Math.ceil(this.width);
    this.height = Math.ceil(this.height);
    return this
  };
  f.floor = function() {
    this.left = Math.floor(this.left);
    this.top = Math.floor(this.top);
    this.width = Math.floor(this.width);
    this.height = Math.floor(this.height);
    return this
  };
  f.round = function() {
    this.left = Math.round(this.left);
    this.top = Math.round(this.top);
    this.width = Math.round(this.width);
    this.height = Math.round(this.height);
    return this
  };
  f.translate = function(a, b) {
    a instanceof Lf ? (this.left += a.x, this.top += a.y) : (this.left += a, Ha(b) && (this.top += b));
    return this
  };
  f.scale = function(a, b) {
    b = Ha(b) ? b : a;
    this.left *= a;
    this.width *= a;
    this.top *= b;
    this.height *= b;
    return this
  };
  var Kg = function(a, b) {
      var c = Of(a);
      return c.defaultView && c.defaultView.getComputedStyle && (a = c.defaultView.getComputedStyle(a, null)) ? a[b] || a.getPropertyValue(b) || "" : ""
    },
    Lg = function(a, b) {
      return Kg(a, b) || (a.currentStyle ? a.currentStyle[b] : null) || a.style && a.style[b]
    },
    Mg = function(a) {
      try {
        var b = a.getBoundingClientRect()
      } catch (c) {
        return {
          left: 0,
          top: 0,
          right: 0,
          bottom: 0
        }
      }
      de && a.ownerDocument.body && (a = a.ownerDocument, b.left -= a.documentElement.clientLeft + a.body.clientLeft, b.top -= a.documentElement.clientTop + a.body.clientTop);
      return b
    },
    Ng = function(a) {
      var b = Of(a),
        c = new Lf(0, 0);
      var d = b ? Of(b) : document;
      d = !de || ze(9) || Pf(d).isCss1CompatMode() ? d.documentElement : d.body;
      if (a == d) return c;
      a = Mg(a);
      b = Pf(b).getDocumentScroll();
      c.x = a.left + b.x;
      c.y = a.top + b.y;
      return c
    },
    Og = function(a, b) {
      "number" == typeof a && (a = (b ? Math.round(a) : a) + "px");
      return a
    },
    Pg = function(a, b) {
      if ("none" != Lg(b, "display")) return a(b);
      var c = b.style,
        d = c.display,
        e = c.visibility,
        g = c.position;
      c.visibility = "hidden";
      c.position = "absolute";
      c.display = "inline";
      a = a(b);
      c.display = d;
      c.position = g;
      c.visibility = e;
      return a
    },
    Qg = function(a) {
      var b = a.offsetWidth,
        c = a.offsetHeight,
        d = he && !b && !c;
      return E(b) && !d || !a.getBoundingClientRect ? new Mf(b, c) : (a = Mg(a), new Mf(a.right - a.left, a.bottom - a.top))
    },
    Rg = function(a) {
      var b = Ng(a);
      a = Pg(Qg, a);
      return new Jg(b.x, b.y, a.width, a.height)
    },
    Sg = function(a) {
      return "rtl" == Lg(a, "direction")
    },
    Tg = {
      thin: 2,
      medium: 4,
      thick: 6
    },
    Ug = function(a, b) {
      if ("none" == (a.currentStyle ? a.currentStyle[b + "Style"] : null)) return 0;
      var c = a.currentStyle ? a.currentStyle[b + "Width"] : null;
      if (c in Tg) a = Tg[c];
      else if (/^\d+px?$/.test(c)) a = parseInt(c, 10);
      else {
        b = a.style.left;
        var d = a.runtimeStyle.left;
        a.runtimeStyle.left = a.currentStyle.left;
        a.style.left = c;
        c = a.style.pixelLeft;
        a.style.left = b;
        a.runtimeStyle.left = d;
        a = +c
      }
      return a
    },
    Vg = function(a) {
      if (de && !ze(9)) {
        var b = Ug(a, "borderLeft"),
          c = Ug(a, "borderRight"),
          d = Ug(a, "borderTop");
        a = Ug(a, "borderBottom");
        return new Ig(d, c, a, b)
      }
      b = Kg(a, "borderLeftWidth");
      c = Kg(a, "borderRightWidth");
      d = Kg(a, "borderTopWidth");
      a = Kg(a, "borderBottomWidth");
      return new Ig(parseFloat(d), parseFloat(c), parseFloat(a), parseFloat(b))
    };
  var Wg = (new Date).getTime();
  var Xg = function(a, b, c) {
    this.limit_ = c;
    this.create_ = a;
    this.reset_ = b;
    this.occupants_ = 0;
    this.head_ = null
  };
  Xg.prototype.get = function() {
    if (0 < this.occupants_) {
      this.occupants_--;
      var a = this.head_;
      this.head_ = a.next;
      a.next = null
    } else a = this.create_();
    return a
  };
  Xg.prototype.put = function(a) {
    this.reset_(a);
    this.occupants_ < this.limit_ && (this.occupants_++, a.next = this.head_, this.head_ = a)
  };
  Xg.prototype.occupants = function() {
    return this.occupants_
  };
  var Yg = function(a) {
      D.setTimeout(function() {
        throw a;
      }, 0)
    },
    Zg, $g = function() {
      var a = D.MessageChannel;
      "undefined" === typeof a && "undefined" !== typeof window && window.postMessage && window.addEventListener && !L("Presto") && (a = function() {
        var e = document.createElement("IFRAME");
        e.style.display = "none";
        Wc(e, Wb(Ob(Pb)));
        document.documentElement.appendChild(e);
        var g = e.contentWindow;
        e = g.document;
        e.open();
        e.write(Lc(Qc));
        e.close();
        var h = "callImmediate" + Math.random(),
          k = "file:" == g.location.protocol ? "*" : g.location.protocol + "//" + g.location.host;
        e = $a(function(m) {
            if (("*" == k || m.origin == k) && m.data == h) this.port1.onmessage()
          },
          this);
        g.addEventListener("message", e, !1);
        this.port1 = {};
        this.port2 = {
          postMessage: function() {
            g.postMessage(h, k)
          }
        }
      });
      if ("undefined" !== typeof a && !L("Trident") && !L("MSIE")) {
        var b = new a,
          c = {},
          d = c;
        b.port1.onmessage = function() {
          if (E(c.next)) {
            c = c.next;
            var e = c.cb;
            c.cb = null;
            e()
          }
        };
        return function(e) {
          d.next = {
            cb: e
          };
          d = d.next;
          b.port2.postMessage(0)
        }
      }
      return "undefined" !== typeof document && "onreadystatechange" in document.createElement("SCRIPT") ? function(e) {
        var g = document.createElement("SCRIPT");
        g.onreadystatechange = function() {
          g.onreadystatechange = null;
          g.parentNode.removeChild(g);
          g = null;
          e();
          e = null
        };
        document.documentElement.appendChild(g)
      } : function(e) {
        D.setTimeout(e, 0)
      }
    };
  var ah = function() {
      this.workTail_ = this.workHead_ = null
    },
    ch = new Xg(function() {
      return new bh
    }, function(a) {
      a.reset()
    }, 100);
  ah.prototype.add = function(a, b) {
    var c = this.getUnusedItem_();
    c.set(a, b);
    this.workTail_ ? this.workTail_.next = c : this.workHead_ = c;
    this.workTail_ = c
  };
  ah.prototype.remove = function() {
    var a = null;
    this.workHead_ && (a = this.workHead_, this.workHead_ = this.workHead_.next, this.workHead_ || (this.workTail_ = null), a.next = null);
    return a
  };
  ah.prototype.returnUnused = function(a) {
    ch.put(a)
  };
  ah.prototype.getUnusedItem_ = function() {
    return ch.get()
  };
  var bh = function() {
    this.next = this.scope = this.fn = null
  };
  bh.prototype.set = function(a, b) {
    this.fn = a;
    this.scope = b;
    this.next = null
  };
  bh.prototype.reset = function() {
    this.next = this.scope = this.fn = null
  };
  var hh = function(a, b) {
      dh || eh();
      fh || (dh(), fh = !0);
      gh.add(a, b)
    },
    dh, eh = function() {
      if (D.Promise && D.Promise.resolve) {
        var a = D.Promise.resolve(void 0);
        dh = function() {
          a.then(ih)
        }
      } else dh = function() {
        var b = ih;
        !Sa(D.setImmediate) || D.Window && D.Window.prototype && !L("Edge") && D.Window.prototype.setImmediate == D.setImmediate ? (Zg || (Zg = $g()), Zg(b)) : D.setImmediate(b)
      }
    },
    fh = !1,
    gh = new ah,
    ih = function() {
      for (var a; a = gh.remove();) {
        try {
          a.fn.call(a.scope)
        } catch (b) {
          Yg(b)
        }
        gh.returnUnused(a)
      }
      fh = !1
    };
  var jh = function(a) {
      a.prototype.$goog_Thenable = !0
    },
    kh = function(a) {
      if (!a) return !1;
      try {
        return !!a.$goog_Thenable
      } catch (b) {
        return !1
      }
    };
  var lh = function(a, b) {
      this.state_ = 0;
      this.result_ = void 0;
      this.callbackEntriesTail_ = this.callbackEntries_ = this.parent_ = null;
      this.hadUnhandledRejection_ = this.executing_ = !1;
      if (a != Ma) try {
        var c = this;
        a.call(b, function(d) {
          c.resolve_(2, d)
        }, function(d) {
          c.resolve_(3, d)
        })
      } catch (d) {
        this.resolve_(3, d)
      }
    },
    mh = function() {
      this.next = this.context = this.onRejected = this.onFulfilled = this.child = null;
      this.always = !1
    };
  mh.prototype.reset = function() {
    this.context = this.onRejected = this.onFulfilled = this.child = null;
    this.always = !1
  };
  var nh = new Xg(function() {
      return new mh
    }, function(a) {
      a.reset()
    }, 100),
    oh = function(a, b, c) {
      var d = nh.get();
      d.onFulfilled = a;
      d.onRejected = b;
      d.context = c;
      return d
    },
    ph = function(a) {
      if (a instanceof lh) return a;
      var b = new lh(Ma);
      b.resolve_(2, a);
      return b
    },
    qh = function(a) {
      return new lh(function(b, c) {
        c(a)
      })
    },
    sh = function(a, b, c) {
      rh(a, b, c, null) || hh(ab(b, a))
    },
    th = function(a) {
      return new lh(function(b, c) {
        var d = a.length,
          e = [];
        if (d)
          for (var g = function(l, q) {
              d--;
              e[l] = q;
              0 == d && b(e)
            }, h = function(l) {
              c(l)
            }, k = 0, m; k < a.length; k++) m = a[k], sh(m, ab(g, k), h);
        else b(e)
      })
    },
    vh = function() {
      var a, b, c = new lh(function(d, e) {
        a = d;
        b = e
      });
      return new uh(c, a, b)
    };
  lh.prototype.then = function(a, b, c) {
    return this.addChildPromise_(Sa(a) ? a : null, Sa(b) ? b : null, c)
  };
  jh(lh);
  f = lh.prototype;
  f.thenVoid = function(a, b, c) {
    this.addCallbackEntry_(oh(a || Ma, b || null, c))
  };
  f.thenAlways = function(a, b) {
    a = oh(a, a, b);
    a.always = !0;
    this.addCallbackEntry_(a);
    return this
  };
  f.thenCatch = function(a, b) {
    return this.addChildPromise_(null, a, b)
  };
  f.cancel = function(a) {
    0 == this.state_ && hh(function() {
      var b = new wh(a);
      this.cancelInternal_(b)
    }, this)
  };
  f.cancelInternal_ = function(a) {
    0 == this.state_ && (this.parent_ ? (this.parent_.cancelChild_(this, a), this.parent_ = null) : this.resolve_(3, a))
  };
  f.cancelChild_ = function(a, b) {
    if (this.callbackEntries_) {
      for (var c = 0, d = null, e = null, g = this.callbackEntries_; g && (g.always || (c++, g.child == a && (d = g), !(d && 1 < c))); g = g.next) d || (e = g);
      d && (0 == this.state_ && 1 == c ? this.cancelInternal_(b) : (e ? this.removeEntryAfter_(e) : this.popEntry_(), this.executeCallback_(d, 3, b)))
    }
  };
  f.addCallbackEntry_ = function(a) {
    this.hasEntry_() || 2 != this.state_ && 3 != this.state_ || this.scheduleCallbacks_();
    this.queueEntry_(a)
  };
  f.addChildPromise_ = function(a, b, c) {
    var d = oh(null, null, null);
    d.child = new lh(function(e, g) {
      d.onFulfilled = a ? function(h) {
        try {
          var k = a.call(c, h);
          e(k)
        } catch (m) {
          g(m)
        }
      } : e;
      d.onRejected = b ? function(h) {
        try {
          var k = b.call(c, h);
          !E(k) && h instanceof wh ? g(h) : e(k)
        } catch (m) {
          g(m)
        }
      } : g
    });
    d.child.parent_ = this;
    this.addCallbackEntry_(d);
    return d.child
  };
  f.unblockAndFulfill_ = function(a) {
    this.state_ = 0;
    this.resolve_(2, a)
  };
  f.unblockAndReject_ = function(a) {
    this.state_ = 0;
    this.resolve_(3, a)
  };
  f.resolve_ = function(a, b) {
    0 == this.state_ && (this === b && (a = 3, b = new TypeError("Promise cannot resolve to itself")), this.state_ = 1, rh(b, this.unblockAndFulfill_, this.unblockAndReject_, this) || (this.result_ = b, this.state_ = a, this.parent_ = null, this.scheduleCallbacks_(), 3 != a || b instanceof wh || xh(this, b)))
  };
  var rh = function(a, b, c, d) {
      if (a instanceof lh) return a.thenVoid(b, c, d), !0;
      if (kh(a)) return a.then(b, c, d), !0;
      if (Ta(a)) try {
        var e = a.then;
        if (Sa(e)) return yh(a, e, b, c, d), !0
      } catch (g) {
        return c.call(d, g), !0
      }
      return !1
    },
    yh = function(a, b, c, d, e) {
      var g = !1,
        h = function(m) {
          g || (g = !0, c.call(e, m))
        },
        k = function(m) {
          g || (g = !0, d.call(e, m))
        };
      try {
        b.call(a, h, k)
      } catch (m) {
        k(m)
      }
    };
  f = lh.prototype;
  f.scheduleCallbacks_ = function() {
    this.executing_ || (this.executing_ = !0, hh(this.executeCallbacks_, this))
  };
  f.hasEntry_ = function() {
    return !!this.callbackEntries_
  };
  f.queueEntry_ = function(a) {
    this.callbackEntriesTail_ ? this.callbackEntriesTail_.next = a : this.callbackEntries_ = a;
    this.callbackEntriesTail_ = a
  };
  f.popEntry_ = function() {
    var a = null;
    this.callbackEntries_ && (a = this.callbackEntries_, this.callbackEntries_ = a.next, a.next = null);
    this.callbackEntries_ || (this.callbackEntriesTail_ = null);
    return a
  };
  f.removeEntryAfter_ = function(a) {
    a.next == this.callbackEntriesTail_ && (this.callbackEntriesTail_ = a);
    a.next = a.next.next
  };
  f.executeCallbacks_ = function() {
    for (var a; a = this.popEntry_();) this.executeCallback_(a, this.state_, this.result_);
    this.executing_ = !1
  };
  f.executeCallback_ = function(a, b, c) {
    3 == b && a.onRejected && !a.always && this.removeUnhandledRejection_();
    if (a.child) a.child.parent_ = null, zh(a, b, c);
    else try {
      a.always ? a.onFulfilled.call(a.context) : zh(a, b, c)
    } catch (d) {
      Ah.call(null, d)
    }
    nh.put(a)
  };
  var zh = function(a, b, c) {
    2 == b ? a.onFulfilled.call(a.context, c) : a.onRejected && a.onRejected.call(a.context, c)
  };
  lh.prototype.addStackTrace_ = function() {};
  lh.prototype.appendLongStack_ = function() {};
  lh.prototype.removeUnhandledRejection_ = function() {
    var a;
    for (a = this; a && a.hadUnhandledRejection_; a = a.parent_) a.hadUnhandledRejection_ = !1
  };
  var xh = function(a, b) {
      a.hadUnhandledRejection_ = !0;
      hh(function() {
        a.hadUnhandledRejection_ && Ah.call(null, b)
      })
    },
    Ah = Yg,
    wh = function(a) {
      db.call(this, a)
    };
  K(wh, db);
  wh.prototype.name = "cancel";
  var uh = function(a, b, c) {
    this.promise = a;
    this.resolve = b;
    this.reject = c
  };
  var Bh = function(a) {
      this.servicePromise_ = a;
      this.resolvedService_ = null;
      a.then($a(function(b) {
        this.resolvedService_ = b
      }, this));
      this.logger_ = null
    },
    Dh = function(a, b, c) {
      for (var d = Array(arguments.length - 2), e = 2; e < arguments.length; e++) d[e - 2] = arguments[e];
      e = Ch(a, b).then(function(g) {
        return g.apply(null, d)
      });
      return new Bh(e)
    },
    Eh = {},
    Ch = function(a, b) {
      var c = Eh[b];
      if (c) return c;
      c = (c = G(b)) ? ph(c) : (new lh(function(d, e) {
        var g = (new Nf(document)).createElement("SCRIPT");
        g.async = !0;
        Yc(g, Wb(Ob(a)));
        g.onload = g.onreadystatechange = function() {
          g.readyState && "loaded" != g.readyState && "complete" != g.readyState || d()
        };
        g.onerror = e;
        (document.head || document.getElementsByTagName("head")[0]).appendChild(g)
      })).then(function() {
        var d = G(b);
        if (!d) throw Error("Failed to load " + b + " from " + a);
        return d
      });
      return Eh[b] = c
    };
  Bh.prototype.applyAsync_ = function(a, b) {
    return this.servicePromise_.then(function(c) {
      var d = c[a];
      if (!d) throw Error("Method not found: " + a);
      return d.apply(c, b)
    })
  };
  Bh.prototype.applySync_ = function(a, b) {
    var c = this.resolvedService_;
    if (c && (a = c[a])) return a.apply(c, b)
  };
  var Fh = function(a) {
      this.loader_ = a
    },
    Gh = new Nb(Lb, "https://www.gstatic.com/feedback/js/help/prod/service/lazy.min.js");
  f = Fh.prototype;
  f.startFeedback = function(a) {
    this.loader_.applyAsync_("startFeedback", arguments)
  };
  f.startGuide = function(a, b) {
    this.loader_.applyAsync_("startGuide", arguments)
  };
  f.stopGuide = function() {
    this.loader_.applyAsync_("stopGuide", arguments)
  };
  f.startHelp = function(a) {
    this.loader_.applyAsync_("startHelp", arguments)
  };
  f.loadChatSupport = function(a) {
    this.loader_.applyAsync_("loadChatSupport", arguments)
  };
  f.requestSurvey = function(a) {
    this.loader_.applyAsync_("requestSurvey", arguments)
  };
  f.presentSurvey = function(a) {
    this.loader_.applyAsync_("presentSurvey", arguments)
  };
  f.registerHelpAction = function(a, b, c) {
    this.loader_.applyAsync_("registerHelpAction", arguments)
  };
  f.executeHelpAction = function(a, b) {
    this.loader_.applySync_("executeHelpAction", arguments)
  };
  f.isHelpActionApplicable = function(a) {
    return !!this.loader_.applySync_("isHelpActionApplicable", arguments)
  };
  Ch(Gh, "help.service.Lazy.create");
  var Hh = function(a) {
    if (!a) return "";
    a = a.split("#")[0].split("?")[0];
    a = a.toLowerCase();
    0 == a.indexOf("//") && (a = window.location.protocol + a);
    /^[\w\-]*:\/\//.test(a) || (a = window.location.href);
    var b = a.substring(a.indexOf("://") + 3),
      c = b.indexOf("/"); - 1 != c && (b = b.substring(0, c));
    a = a.substring(0, a.indexOf("://"));
    if ("http" !== a && "https" !== a && "chrome-extension" !== a && "file" !== a && "android-app" !== a && "chrome-search" !== a && "app" !== a) throw Error("Invalid URI scheme in origin: " + a);
    c = "";
    var d = b.indexOf(":");
    if (-1 != d) {
      var e =
        b.substring(d + 1);
      b = b.substring(0, d);
      if ("http" === a && "80" !== e || "https" === a && "443" !== e) c = ":" + e
    }
    return a + "://" + b + c
  };
  /*
   gapi.loader.OBJECT_CREATE_TEST_OVERRIDE &&*/
  var Ih = window,
    Jh = document,
    Kh = Ih.location,
    Lh = function() {},
    Mh = /\[native code\]/,
    Nh = function(a, b, c) {
      return a[b] = a[b] || c
    },
    Oh = function(a) {
      a = a.sort();
      for (var b = [], c = void 0, d = 0; d < a.length; d++) {
        var e = a[d];
        e != c && b.push(e);
        c = e
      }
      return b
    },
    Ph = function() {
      var a;
      if ((a = Object.create) && Mh.test(a)) a = a(null);
      else {
        a = {};
        for (var b in a) a[b] = void 0
      }
      return a
    },
    Qh = Nh(Ih, "gapi", {});
  var Rh = function(a, b, c) {
    var d = new RegExp("([#].*&|[#])" + b + "=([^&#]*)", "g");
    b = new RegExp("([?#].*&|[?#])" + b + "=([^&#]*)", "g");
    if (a = a && (d.exec(a) || b.exec(a))) try {
      c = decodeURIComponent(a[2])
    } catch (e) {}
    return c
  };
  var Sh;
  Sh = Nh(Ih, "___jsl", Ph());
  Nh(Sh, "I", 0);
  Nh(Sh, "hel", 10);
  var Th = function(a) {
      var b = Nh(Sh, "PQ", []);
      Sh.PQ = [];
      var c = b.length;
      if (0 === c) a();
      else
        for (var d = 0, e = function() {
            ++d === c && a()
          }, g = 0; g < c; g++) b[g](e)
    },
    Uh = function(a) {
      return Nh(Nh(Sh, "H", Ph()), a, Ph())
    };
  var Vh = function() {
    function a() {
      e[0] = 1732584193;
      e[1] = 4023233417;
      e[2] = 2562383102;
      e[3] = 271733878;
      e[4] = 3285377520;
      q = l = 0
    }

    function b(p) {
      for (var n = h, r = 0; 64 > r; r += 4) n[r / 4] = p[r] << 24 | p[r + 1] << 16 | p[r + 2] << 8 | p[r + 3];
      for (r = 16; 80 > r; r++) p = n[r - 3] ^ n[r - 8] ^ n[r - 14] ^ n[r - 16], n[r] = (p << 1 | p >>> 31) & 4294967295;
      p = e[0];
      var t = e[1],
        u = e[2],
        v = e[3],
        x = e[4];
      for (r = 0; 80 > r; r++) {
        if (40 > r)
          if (20 > r) {
            var A = v ^ t & (u ^ v);
            var H = 1518500249
          } else A = t ^ u ^ v, H = 1859775393;
        else 60 > r ? (A = t & u | v & (t | u), H = 2400959708) : (A = t ^ u ^ v, H = 3395469782);
        A = ((p << 5 | p >>> 27) & 4294967295) + A + x + H + n[r] & 4294967295;
        x = v;
        v = u;
        u = (t << 30 | t >>> 2) & 4294967295;
        t = p;
        p = A
      }
      e[0] = e[0] + p & 4294967295;
      e[1] = e[1] + t & 4294967295;
      e[2] =
        e[2] + u & 4294967295;
      e[3] = e[3] + v & 4294967295;
      e[4] = e[4] + x & 4294967295
    }

    function c(p, n) {
      if ("string" === typeof p) {
        p = unescape(encodeURIComponent(p));
        for (var r = [], t = 0, u = p.length; t < u; ++t) r.push(p.charCodeAt(t));
        p = r
      }
      n || (n = p.length);
      r = 0;
      if (0 == l)
        for (; r + 64 < n;) b(p.slice(r, r + 64)), r += 64, q += 64;
      for (; r < n;)
        if (g[l++] = p[r++], q++, 64 == l)
          for (l = 0, b(g); r + 64 < n;) b(p.slice(r, r + 64)), r += 64, q += 64
    }

    function d() {
      var p = [],
        n = 8 * q;
      56 > l ? c(k, 56 - l) : c(k, 64 - (l - 56));
      for (var r = 63; 56 <= r; r--) g[r] = n & 255, n >>>= 8;
      b(g);
      for (r = n = 0; 5 > r; r++)
        for (var t = 24; 0 <= t; t -= 8) p[n++] = e[r] >> t & 255;
      return p
    }
    for (var e = [], g = [], h = [], k = [128], m = 1; 64 > m; ++m) k[m] = 0;
    var l, q;
    a();
    return {
      reset: a,
      update: c,
      digest: d,
      digestString: function() {
        for (var p = d(), n = "", r = 0; r < p.length; r++) n += "0123456789ABCDEF".charAt(Math.floor(p[r] / 16)) + "0123456789ABCDEF".charAt(p[r] % 16);
        return n
      }
    }
  };
  var Xh = function(a, b, c, d) {
      var e = [];
      if (1 == (Pa(c) ? 2 : 1)) return e = [b, a], hb(d, function(k) {
        e.push(k)
      }), Wh(e.join(" "));
      var g = [],
        h = [];
      hb(c, function(k) {
        h.push(k.key);
        g.push(k.value)
      });
      c = Math.floor((new Date).getTime() / 1E3);
      e = 0 == g.length ? [c, b, a] : [g.join(":"), c, b, a];
      hb(d, function(k) {
        e.push(k)
      });
      a = Wh(e.join(" "));
      a = [c, a];
      0 == h.length || a.push(h.join(""));
      return a.join("_")
    },
    Wh = function(a) {
      var b = Vh();
      b.update(a);
      return b.digestString().toLowerCase()
    };
  var Yh = function(a) {
    var b = Hh(String(D.location.href)),
      c = D.__OVERRIDE_SID;
    null == c && (c = (new yf(document)).get("SID"));
    if (c) {
      var d = (c = 0 == b.indexOf("https:") || 0 == b.indexOf("chrome-extension:")) ? D.__SAPISID : D.__APISID;
      null == d && (d = (new yf(document)).get(c ? "SAPISID" : "APISID"));
      if (d) return b = String(D.location.href), c = c ? "SAPISIDHASH" : "APISIDHASH", b && d && c ? [c, Xh(Hh(b), d, a || null, [])].join(" ") : null
    }
    return null
  };
  var Zh = Nh(Sh, "perf", Ph());
  Nh(Zh, "g", Ph());
  var $h = Nh(Zh, "i", Ph());
  Nh(Zh, "r", []);
  Ph();
  Ph();
  var bi = function(a, b, c) {
      b && 0 < b.length && (b = ai(b), c && 0 < c.length && (b += "___" + ai(c)), 28 < b.length && (b = b.substr(0, 28) + (b.length - 28)), c = b, b = Nh($h, "_p", Ph()), Nh(b, c, Ph())[a] = (new Date).getTime(), b = Zh.r, "function" === typeof b ? b(a, "_p", c) : b.push([a, "_p", c]))
    },
    ai = function(a) {
      return a.join("__").replace(/\./g, "_").replace(/\-/g, "_").replace(/,/g, "_")
    };
  var ci = Ph(),
    di = [],
    ei = function(a) {
      throw Error("Bad hint" + (a ? ": " + a : ""));
    };
  di.push(["jsl", function(a) {
    for (var b in a)
      if (Object.prototype.hasOwnProperty.call(a, b)) {
        var c = a[b];
        "object" == typeof c ? Sh[b] = Nh(Sh, b, []).concat(c) : Nh(Sh, b, c)
      } if (b = a.u) a = Nh(Sh, "us", []), a.push(b), (b = /^https:(.*)$/.exec(b)) && a.push("http:" + b[1])
  }]);
  var fi = /^(\/[a-zA-Z0-9_\-]+)+$/,
    gi = [/\/amp\//, /\/amp$/, /^\/amp$/],
    hi = /^[a-zA-Z0-9\-_\.,!]+$/,
    ii = /^gapi\.loaded_[0-9]+$/,
    ji = /^[a-zA-Z0-9,._-]+$/,
    ni = function(a, b, c, d) {
      var e = a.split(";"),
        g = e.shift(),
        h = ci[g],
        k = null;
      h ? k = h(e, b, c, d) : ei("no hint processor for: " + g);
      k || ei("failed to generate load url");
      b = k;
      c = b.match(ki);
      (d = b.match(li)) && 1 === d.length && mi.test(b) && c && 1 === c.length || ei("failed sanity: " + a);
      return k
    },
    qi = function(a, b, c, d) {
      a = oi(a);
      ii.test(c) || ei("invalid_callback");
      b = pi(b);
      d = d && d.length ? pi(d) : null;
      var e = function(g) {
        return encodeURIComponent(g).replace(/%2C/g, ",")
      };
      return [encodeURIComponent(a.pathPrefix).replace(/%2C/g, ",").replace(/%2F/g, "/"), "/k=", e(a.version), "/m=", e(b), d ? "/exm=" + e(d) : "", "/rt=j/sv=1/d=1/ed=1", a.activeMods ? "/am=" + e(a.activeMods) : "", a.resourceSig ? "/rs=" + e(a.resourceSig) : "", a.zcms ? "/t=" + e(a.zcms) : "", "/cb=", e(c)].join("")
    },
    oi = function(a) {
      "/" !== a.charAt(0) && ei("relative path");
      for (var b = a.substring(1).split("/"), c = []; b.length;) {
        a = b.shift();
        if (!a.length || 0 == a.indexOf(".")) ei("empty/relative directory");
        else if (0 < a.indexOf("=")) {
          b.unshift(a);
          break
        }
        c.push(a)
      }
      a = {};
      for (var d = 0, e = b.length; d < e; ++d) {
        var g = b[d].split("="),
          h = decodeURIComponent(g[0]),
          k = decodeURIComponent(g[1]);
        2 == g.length && h && k && (a[h] = a[h] || k)
      }
      b = "/" + c.join("/");
      fi.test(b) || ei("invalid_prefix");
      c = 0;
      for (d = gi.length; c < d; ++c) gi[c].test(b) && ei("invalid_prefix");
      c = ri(a, "k", !0);
      d = ri(a, "am");
      e = ri(a, "rs");
      a = ri(a, "t");
      return {
        pathPrefix: b,
        version: c,
        activeMods: d,
        resourceSig: e,
        zcms: a
      }
    },
    pi = function(a) {
      for (var b = [], c = 0, d = a.length; c < d; ++c) {
        var e = a[c].replace(/\./g, "_").replace(/-/g, "_");
        ji.test(e) && b.push(e)
      }
      return b.join(",")
    },
    ri = function(a, b, c) {
      a = a[b];
      !a && c && ei("missing: " + b);
      if (a) {
        if (hi.test(a)) return a;
        ei("invalid: " + b)
      }
      return null
    },
    mi = /^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,
    li = /\/cb=/g,
    ki = /\/\//g,
    si = function(a) {
      a = Sh.dpo ? Sh.h : Rh(a, "jsh", Sh.h);
      if (!a) throw Error("Bad hint");
      return a
    };
  ci.m = function(a, b, c, d) {
    (a = a[0]) || ei("missing_hint");
    return "https://apis.google.com" + qi(a, b, c, d)
  };
  var ti = decodeURI("%73cript"),
    ui = /^[-+_0-9\/A-Za-z]+={0,2}$/,
    vi = function(a, b) {
      for (var c = [], d = 0; d < a.length; ++d) {
        var e = a[d],
          g;
        if (g = e) {
          a: {
            for (g = 0; g < b.length; g++)
              if (b[g] === e) break a;g = -1
          }
          g = 0 > g
        }
        g && c.push(e)
      }
      return c
    },
    wi = function() {
      var a = Sh.nonce;
      return void 0 !== a ? a && a === String(a) && a.match(ui) ? a : Sh.nonce = null : Jh.querySelector ? (a = Jh.querySelector("script[nonce]")) ? (a = a.nonce || a.getAttribute("nonce") || "", a && a === String(a) && a.match(ui) ? Sh.nonce = a : Sh.nonce = null) : null : null
    },
    yi = function(a) {
      if ("loading" != Jh.readyState) xi(a);
      else {
        var b = wi(),
          c = "";
        null !== b && (c = ' nonce="' + b + '"');
        Jh.write("<" + ti + ' src="' + encodeURI(a) + '"' + c + "></" + ti + ">")
      }
    },
    xi = function(a) {
      var b = Jh.createElement(ti);
      b.setAttribute("src", a);
      a = wi();
      null !== a && b.setAttribute("nonce", a);
      b.async = "true";
      (a = Jh.getElementsByTagName(ti)[0]) ? a.parentNode.insertBefore(b, a): (Jh.head || Jh.body || Jh.documentElement).appendChild(b)
    },
    zi = function(a, b) {
      var c = b && b._c;
      if (c)
        for (var d = 0; d < di.length; d++) {
          var e = di[d][0],
            g = di[d][1];
          g && Object.prototype.hasOwnProperty.call(c, e) && g(c[e], a, b)
        }
    },
    Bi = function(a, b, c) {
      Ai(function() {
        var d = b === (Sh.dpo ? Sh.h : Rh(Kh.href, "jsh", Sh.h)) ? Nh(Qh, "_", Ph()) : Ph();
        d = Nh(Uh(b), "_", d);
        a(d)
      }, c)
    },
    Di = function(a, b) {
      var c = b || {};
      "function" == typeof b && (c = {}, c.callback = b);
      zi(a, c);
      b = a ? a.split(":") : [];
      var d = c.h || si(Kh.href),
        e = Nh(Sh, "ah", Ph());
      if (e["::"] && b.length) {
        a = [];
        for (var g = null; g = b.shift();) {
          var h = g.split(".");
          h = e[g] || e[h[1] && "ns:" + h[0] || ""] || d;
          var k = a.length && a[a.length - 1] || null,
            m = k;
          k && k.hint == h || (m = {
            hint: h,
            features: []
          }, a.push(m));
          m.features.push(g)
        }
        var l = a.length;
        if (1 < l) {
          var q = c.callback;
          q && (c.callback = function() {
            0 == --l && q()
          })
        }
        for (; b = a.shift();) Ci(b.features, c, b.hint)
      } else Ci(b || [], c, d)
    },
    Ci = function(a, b, c) {
      a = Oh(a) || [];
      var d = b.callback,
        e = b.config,
        g = b.timeout,
        h = b.ontimeout,
        k = b.onerror,
        m = void 0;
      "function" == typeof k && (m = k);
      var l = null,
        q = !1;
      if (g && !h || !g && h) throw "Timeout requires both the timeout parameter and ontimeout parameter to be set";
      k = Nh(Uh(c), "r", []).sort();
      var p = Nh(Uh(c), "L", []).sort(),
        n = [].concat(k),
        r = function(A, H) {
          if (q) return 0;
          Ih.clearTimeout(l);
          p.push.apply(p, t);
          var I = ((Qh || {}).config || {}).update;
          I ? I(e) : e && Nh(Sh, "cu", []).push(e);
          if (H) {
            bi("me0", A, n);
            try {
              Bi(H, c, m)
            } finally {
              bi("me1", A, n)
            }
          }
          return 1
        };
      0 < g && (l = Ih.setTimeout(function() {
        q = !0;
        h()
      }, g));
      var t = vi(a, p);
      if (t.length) {
        t = vi(a, k);
        var u = Nh(Sh, "CP", []),
          v = u.length;
        u[v] = function(A) {
          if (!A) return 0;
          bi("ml1", t, n);
          var H = function(w) {
              u[v] = null;
              r(t, A) && Th(function() {
                d && d();
                w()
              })
            },
            I = function() {
              var w = u[v + 1];
              w && w()
            };
          0 < v && u[v - 1] ? u[v] = function() {
            H(I)
          } : H(I)
        };
        if (!t.length) return u[v](Lh);
        var x = "loaded_" + Sh.I++;
        Qh[x] = function(A) {
          u[v](A);
          Qh[x] = null
        };
        a = ni(c, t, "gapi." + x, k);
        k.push.apply(k, t);
        bi("ml0", t, n);
        b.sync || Ih.___gapisync ? yi(a) : xi(a)
      } else r(t) && d && d()
    },
    Ai = function(a, b) {
      if (Sh.hee && 0 < Sh.hel) try {
        return a()
      } catch (c) {
        b && b(c), Sh.hel--, Di("debug_error", function() {
          try {
            window.___jsl.hefn(c)
          } catch (d) {
            throw c;
          }
        })
      } else try {
        return a()
      } catch (c) {
        throw b && b(c), c;
      }
    };
  Qh.load = function(a, b) {
    return Ai(function() {
      return Di(a, b)
    })
  };
  var Ei = function() {
    this.disposed_ = this.disposed_;
    this.onDisposeCallbacks_ = this.onDisposeCallbacks_
  };
  f = Ei.prototype;
  f.disposed_ = !1;
  f.isDisposed = function() {
    return this.disposed_
  };
  f.getDisposed = Ei.prototype.isDisposed;
  f.dispose = function() {
    this.disposed_ || (this.disposed_ = !0, this.disposeInternal())
  };
  f.registerDisposable = function(a) {
    this.addOnDisposeCallback(ab(Fi, a))
  };
  f.addOnDisposeCallback = function(a, b) {
    this.disposed_ ? E(b) ? a.call(b) : a() : (this.onDisposeCallbacks_ || (this.onDisposeCallbacks_ = []), this.onDisposeCallbacks_.push(E(b) ? $a(a, b) : a))
  };
  f.disposeInternal = function() {
    if (this.onDisposeCallbacks_)
      for (; this.onDisposeCallbacks_.length;) this.onDisposeCallbacks_.shift()()
  };
  var Fi = function(a) {
    a && "function" == typeof a.dispose && a.dispose()
  };
  var Gi = function(a) {
    this.id = a
  };
  Gi.prototype.toString = function() {
    return this.id
  };
  var Hi = function(a, b) {
    this.type = a instanceof Gi ? String(a) : a;
    this.currentTarget = this.target = b;
    this.defaultPrevented = this.propagationStopped_ = !1;
    this.returnValue_ = !0
  };
  Hi.prototype.stopPropagation = function() {
    this.propagationStopped_ = !0
  };
  Hi.prototype.preventDefault = function() {
    this.defaultPrevented = !0;
    this.returnValue_ = !1
  };
  var Ii = function(a) {
    a.preventDefault()
  };
  var Ji = !de || ze(9),
    Ki = !de || ze(9),
    Li = de && !xe("9"),
    Mi = function() {
      if (!D.addEventListener || !Object.defineProperty) return !1;
      var a = !1,
        b = Object.defineProperty({}, "passive", {
          get: function() {
            a = !0
          }
        });
      try {
        D.addEventListener("test", Ma, b), D.removeEventListener("test", Ma, b)
      } catch (c) {}
      return a
    }();
  var Ni = function(a, b) {
    Hi.call(this, a ? a.type : "");
    this.relatedTarget = this.currentTarget = this.target = null;
    this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;
    this.key = "";
    this.charCode = this.keyCode = 0;
    this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;
    this.state = null;
    this.platformModifierKey = !1;
    this.pointerId = 0;
    this.pointerType = "";
    this.event_ = null;
    a && this.init(a, b)
  };
  K(Ni, Hi);
  var Oi = [1, 4, 2],
    Pi = {
      2: "touch",
      3: "pen",
      4: "mouse"
    };
  f = Ni.prototype;
  f.init = function(a, b) {
    var c = this.type = a.type,
      d = a.changedTouches && a.changedTouches.length ? a.changedTouches[0] : null;
    this.target = a.target || a.srcElement;
    this.currentTarget = b;
    if (b = a.relatedTarget) {
      if (ge) {
        a: {
          try {
            ae(b.nodeName);
            var e = !0;
            break a
          } catch (g) {}
          e = !1
        }
        e || (b = null)
      }
    } else "mouseover" == c ? b = a.fromElement : "mouseout" == c && (b = a.toElement);
    this.relatedTarget = b;
    d ? (this.clientX = void 0 !== d.clientX ? d.clientX : d.pageX, this.clientY = void 0 !== d.clientY ? d.clientY : d.pageY, this.screenX = d.screenX || 0, this.screenY = d.screenY ||
      0) : (this.offsetX = he || void 0 !== a.offsetX ? a.offsetX : a.layerX, this.offsetY = he || void 0 !== a.offsetY ? a.offsetY : a.layerY, this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX, this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY, this.screenX = a.screenX || 0, this.screenY = a.screenY || 0);
    this.button = a.button;
    this.keyCode = a.keyCode || 0;
    this.key = a.key || "";
    this.charCode = a.charCode || ("keypress" == c ? a.keyCode : 0);
    this.ctrlKey = a.ctrlKey;
    this.altKey = a.altKey;
    this.shiftKey = a.shiftKey;
    this.metaKey = a.metaKey;
    this.platformModifierKey =
      ie ? a.metaKey : a.ctrlKey;
    this.pointerId = a.pointerId || 0;
    this.pointerType = Ga(a.pointerType) ? a.pointerType : Pi[a.pointerType] || "";
    this.state = a.state;
    this.event_ = a;
    a.defaultPrevented && this.preventDefault()
  };
  f.isButton = function(a) {
    return Ji ? this.event_.button == a : "click" == this.type ? 0 == a : !!(this.event_.button & Oi[a])
  };
  f.isMouseActionButton = function() {
    return this.isButton(0) && !(he && ie && this.ctrlKey)
  };
  f.stopPropagation = function() {
    Ni.superClass_.stopPropagation.call(this);
    this.event_.stopPropagation ? this.event_.stopPropagation() : this.event_.cancelBubble = !0
  };
  f.preventDefault = function() {
    Ni.superClass_.preventDefault.call(this);
    var a = this.event_;
    if (a.preventDefault) a.preventDefault();
    else if (a.returnValue = !1, Li) try {
      if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) a.keyCode = -1
    } catch (b) {}
  };
  f.getBrowserEvent = function() {
    return this.event_
  };
  var Qi = "closure_listenable_" + (1E6 * Math.random() | 0),
    Ri = function(a) {
      return !(!a || !a[Qi])
    },
    Si = 0;
  var Ti = function(a, b, c, d, e, g) {
    this.listener = a;
    this.proxy = b;
    this.src = c;
    this.type = d;
    this.capture = !!e;
    this.handler = g;
    this.key = ++Si;
    this.removed = this.callOnce = !1
  };
  Ti.prototype.markAsRemoved = function() {
    this.removed = !0;
    this.handler = this.src = this.proxy = this.listener = null
  };
  var Ui = function(a) {
    this.src = a;
    this.listeners = {};
    this.typeCount_ = 0
  };
  f = Ui.prototype;
  f.getTypeCount = function() {
    return this.typeCount_
  };
  f.getListenerCount = function() {
    var a = 0,
      b;
    for (b in this.listeners) a += this.listeners[b].length;
    return a
  };
  f.add = function(a, b, c, d, e) {
    var g = a.toString();
    a = this.listeners[g];
    a || (a = this.listeners[g] = [], this.typeCount_++);
    var h = Vi(a, b, d, e); - 1 < h ? (b = a[h], c || (b.callOnce = !1)) : (b = new Ti(b, null, this.src, g, !!d, e), b.callOnce = c, a.push(b));
    return b
  };
  f.remove = function(a, b, c, d) {
    a = a.toString();
    if (!(a in this.listeners)) return !1;
    var e = this.listeners[a];
    b = Vi(e, b, c, d);
    return -1 < b ? (e[b].markAsRemoved(), Array.prototype.splice.call(e, b, 1), 0 == e.length && (delete this.listeners[a], this.typeCount_--), !0) : !1
  };
  f.removeByKey = function(a) {
    var b = a.type;
    if (!(b in this.listeners)) return !1;
    var c = qb(this.listeners[b], a);
    c && (a.markAsRemoved(), 0 == this.listeners[b].length && (delete this.listeners[b], this.typeCount_--));
    return c
  };
  f.removeAll = function(a) {
    a = a && a.toString();
    var b = 0,
      c;
    for (c in this.listeners)
      if (!a || c == a) {
        for (var d = this.listeners[c], e = 0; e < d.length; e++) ++b, d[e].markAsRemoved();
        delete this.listeners[c];
        this.typeCount_--
      } return b
  };
  f.getListeners = function(a, b) {
    a = this.listeners[a.toString()];
    var c = [];
    if (a)
      for (var d = 0; d < a.length; ++d) {
        var e = a[d];
        e.capture == b && c.push(e)
      }
    return c
  };
  f.getListener = function(a, b, c, d) {
    a = this.listeners[a.toString()];
    var e = -1;
    a && (e = Vi(a, b, c, d));
    return -1 < e ? a[e] : null
  };
  f.hasListener = function(a, b) {
    var c = E(a),
      d = c ? a.toString() : "",
      e = E(b);
    return zb(this.listeners, function(g) {
      for (var h = 0; h < g.length; ++h)
        if (!(c && g[h].type != d || e && g[h].capture != b)) return !0;
      return !1
    })
  };
  var Vi = function(a, b, c, d) {
    for (var e = 0; e < a.length; ++e) {
      var g = a[e];
      if (!g.removed && g.listener == b && g.capture == !!c && g.handler == d) return e
    }
    return -1
  };
  var Wi = "closure_lm_" + (1E6 * Math.random() | 0),
    Xi = {},
    Yi = 0,
    $i = function(a, b, c, d, e) {
      if (d && d.once) return Zi(a, b, c, d, e);
      if (Pa(b)) {
        for (var g = 0; g < b.length; g++) $i(a, b[g], c, d, e);
        return null
      }
      c = aj(c);
      return Ri(a) ? a.listen(b, c, Ta(d) ? !!d.capture : !!d, e) : bj(a, b, c, !1, d, e)
    },
    bj = function(a, b, c, d, e, g) {
      if (!b) throw Error("Invalid event type");
      var h = Ta(e) ? !!e.capture : !!e,
        k = cj(a);
      k || (a[Wi] = k = new Ui(a));
      c = k.add(b, c, d, h, g);
      if (c.proxy) return c;
      d = dj();
      c.proxy = d;
      d.src = a;
      d.listener = c;
      if (a.addEventListener) Mi || (e = h), void 0 === e && (e = !1), a.addEventListener(b.toString(), d, e);
      else if (a.attachEvent) a.attachEvent(ej(b.toString()), d);
      else if (a.addListener && a.removeListener) a.addListener(d);
      else throw Error("addEventListener and attachEvent are unavailable.");
      Yi++;
      return c
    },
    dj = function() {
      var a = fj,
        b = Ki ? function(c) {
          return a.call(b.src, b.listener, c)
        } : function(c) {
          c =
            a.call(b.src, b.listener, c);
          if (!c) return c
        };
      return b
    },
    Zi = function(a, b, c, d, e) {
      if (Pa(b)) {
        for (var g = 0; g < b.length; g++) Zi(a, b[g], c, d, e);
        return null
      }
      c = aj(c);
      return Ri(a) ? a.listenOnce(b, c, Ta(d) ? !!d.capture : !!d, e) : bj(a, b, c, !0, d, e)
    },
    gj = function(a, b, c, d, e) {
      if (Pa(b)) {
        for (var g = 0; g < b.length; g++) gj(a, b[g], c, d, e);
        return null
      }
      d = Ta(d) ? !!d.capture : !!d;
      c = aj(c);
      if (Ri(a)) return a.unlisten(b, c, d, e);
      if (!a) return !1;
      if (a = cj(a))
        if (b = a.getListener(b, c, d, e)) return hj(b);
      return !1
    },
    hj = function(a) {
      if (Ha(a) || !a || a.removed) return !1;
      var b = a.src;
      if (Ri(b)) return b.unlistenByKey(a);
      var c = a.type,
        d = a.proxy;
      b.removeEventListener ? b.removeEventListener(c, d, a.capture) : b.detachEvent ? b.detachEvent(ej(c), d) : b.addListener && b.removeListener && b.removeListener(d);
      Yi--;
      (c = cj(b)) ? (c.removeByKey(a), 0 == c.getTypeCount() && (c.src = null, b[Wi] = null)) : a.markAsRemoved();
      return !0
    },
    ej = function(a) {
      return a in Xi ? Xi[a] : Xi[a] = "on" + a
    },
    jj = function(a, b, c, d) {
      var e = !0;
      if (a = cj(a))
        if (b = a.listeners[b.toString()])
          for (b = b.concat(), a = 0; a < b.length; a++) {
            var g = b[a];
            g && g.capture == c && !g.removed && (g = ij(g, d), e = e && !1 !== g)
          }
      return e
    },
    ij = function(a, b) {
      var c = a.listener,
        d = a.handler || a.src;
      a.callOnce && hj(a);
      return c.call(d, b)
    },
    fj = function(a, b) {
      if (a.removed) return !0;
      if (!Ki) {
        var c = b || G("window.event");
        b = new Ni(c, this);
        var d = !0;
        if (!(0 > c.keyCode || void 0 != c.returnValue)) {
          a: {
            var e = !1;
            if (0 == c.keyCode) try {
              c.keyCode = -1;
              break a
            } catch (h) {
              e = !0
            }
            if (e || void 0 == c.returnValue) c.returnValue = !0
          }
          c = [];
          for (e = b.currentTarget; e; e = e.parentNode) c.push(e);a = a.type;
          for (e = c.length - 1; !b.propagationStopped_ && 0 <= e; e--) {
            b.currentTarget = c[e];
            var g = jj(c[e], a, !0, b);
            d = d && g
          }
          for (e = 0; !b.propagationStopped_ && e < c.length; e++) b.currentTarget = c[e],
          g = jj(c[e], a, !1, b),
          d = d && g
        }
        return d
      }
      return ij(a, new Ni(b,
        this))
    },
    cj = function(a) {
      a = a[Wi];
      return a instanceof Ui ? a : null
    },
    kj = "__closure_events_fn_" + (1E9 * Math.random() >>> 0),
    aj = function(a) {
      if (Sa(a)) return a;
      a[kj] || (a[kj] = function(b) {
        return a.handleEvent(b)
      });
      return a[kj]
    };
  var lj = function() {
    Ei.call(this);
    this.eventTargetListeners_ = new Ui(this);
    this.actualEventTarget_ = this;
    this.parentEventTarget_ = null
  };
  K(lj, Ei);
  lj.prototype[Qi] = !0;
  f = lj.prototype;
  f.getParentEventTarget = function() {
    return this.parentEventTarget_
  };
  f.setParentEventTarget = function(a) {
    this.parentEventTarget_ = a
  };
  f.addEventListener = function(a, b, c, d) {
    $i(this, a, b, c, d)
  };
  f.removeEventListener = function(a, b, c, d) {
    gj(this, a, b, c, d)
  };
  f.dispatchEvent = function(a) {
    var b, c = this.getParentEventTarget();
    if (c)
      for (b = []; c; c = c.getParentEventTarget()) b.push(c);
    c = this.actualEventTarget_;
    var d = a.type || a;
    if (Ga(a)) a = new Hi(a, c);
    else if (a instanceof Hi) a.target = a.target || c;
    else {
      var e = a;
      a = new Hi(d, c);
      Kb(a, e)
    }
    e = !0;
    if (b)
      for (var g = b.length - 1; !a.propagationStopped_ && 0 <= g; g--) {
        var h = a.currentTarget = b[g];
        e = h.fireListeners(d, !0, a) && e
      }
    a.propagationStopped_ || (h = a.currentTarget = c, e = h.fireListeners(d, !0, a) && e, a.propagationStopped_ || (e = h.fireListeners(d, !1,
      a) && e));
    if (b)
      for (g = 0; !a.propagationStopped_ && g < b.length; g++) h = a.currentTarget = b[g], e = h.fireListeners(d, !1, a) && e;
    return e
  };
  f.disposeInternal = function() {
    lj.superClass_.disposeInternal.call(this);
    this.removeAllListeners();
    this.parentEventTarget_ = null
  };
  f.listen = function(a, b, c, d) {
    return this.eventTargetListeners_.add(String(a), b, !1, c, d)
  };
  f.listenOnce = function(a, b, c, d) {
    return this.eventTargetListeners_.add(String(a), b, !0, c, d)
  };
  f.unlisten = function(a, b, c, d) {
    return this.eventTargetListeners_.remove(String(a), b, c, d)
  };
  f.unlistenByKey = function(a) {
    return this.eventTargetListeners_.removeByKey(a)
  };
  f.removeAllListeners = function(a) {
    return this.eventTargetListeners_ ? this.eventTargetListeners_.removeAll(a) : 0
  };
  f.fireListeners = function(a, b, c) {
    a = this.eventTargetListeners_.listeners[String(a)];
    if (!a) return !0;
    a = a.concat();
    for (var d = !0, e = 0; e < a.length; ++e) {
      var g = a[e];
      if (g && !g.removed && g.capture == b) {
        var h = g.listener,
          k = g.handler || g.src;
        g.callOnce && this.unlistenByKey(g);
        d = !1 !== h.call(k, c) && d
      }
    }
    return d && 0 != c.returnValue_
  };
  f.getListeners = function(a, b) {
    return this.eventTargetListeners_.getListeners(String(a), b)
  };
  f.getListener = function(a, b, c, d) {
    return this.eventTargetListeners_.getListener(String(a), b, c, d)
  };
  f.hasListener = function(a, b) {
    return this.eventTargetListeners_.hasListener(E(a) ? String(a) : void 0, b)
  };
  f.setTargetForTesting = function(a) {
    this.actualEventTarget_ = a
  };
  f.assertInitialized_ = function() {};
  /*
   Portions of this code are from MochiKit, received by
   The Closure Authors under the MIT license. All other code is Copyright
   2005-2009 The Closure Authors. All Rights Reserved.
  */
  var mj = function(a, b) {
    this.sequence_ = [];
    this.onCancelFunction_ = a;
    this.defaultScope_ = b || null;
    this.hadError_ = this.fired_ = !1;
    this.result_ = void 0;
    this.silentlyCanceled_ = this.blocking_ = this.blocked_ = !1;
    this.unhandledErrorId_ = 0;
    this.parent_ = null;
    this.branches_ = 0
  };
  f = mj.prototype;
  f.cancel = function(a) {
    if (this.hasFired()) this.result_ instanceof mj && this.result_.cancel();
    else {
      if (this.parent_) {
        var b = this.parent_;
        delete this.parent_;
        a ? b.cancel(a) : b.branchCancel_()
      }
      this.onCancelFunction_ ? this.onCancelFunction_.call(this.defaultScope_, this) : this.silentlyCanceled_ = !0;
      this.hasFired() || this.errback(new nj(this))
    }
  };
  f.branchCancel_ = function() {
    this.branches_--;
    0 >= this.branches_ && this.cancel()
  };
  f.continue_ = function(a, b) {
    this.blocked_ = !1;
    this.updateResult_(a, b)
  };
  f.updateResult_ = function(a, b) {
    this.fired_ = !0;
    this.result_ = b;
    this.hadError_ = !a;
    this.fire_()
  };
  f.check_ = function() {
    if (this.hasFired()) {
      if (!this.silentlyCanceled_) throw new oj(this);
      this.silentlyCanceled_ = !1
    }
  };
  f.callback = function(a) {
    this.check_();
    this.updateResult_(!0, a)
  };
  f.errback = function(a) {
    this.check_();
    this.makeStackTraceLong_(a);
    this.updateResult_(!1, a)
  };
  f.makeStackTraceLong_ = function() {};
  f.assertNotDeferred_ = function() {};
  f.addCallback = function(a, b) {
    return this.addCallbacks(a, null, b)
  };
  f.addErrback = function(a, b) {
    return this.addCallbacks(null, a, b)
  };
  f.addBoth = function(a, b) {
    return this.addCallbacks(a, a, b)
  };
  f.addFinally = function(a, b) {
    return this.addCallbacks(a, function(c) {
      var d = a.call(this, c);
      if (!E(d)) throw c;
      return d
    }, b)
  };
  f.addCallbacks = function(a, b, c) {
    this.sequence_.push([a, b, c]);
    this.hasFired() && this.fire_();
    return this
  };
  f.then = function(a, b, c) {
    var d, e, g = new lh(function(h, k) {
      d = h;
      e = k
    });
    this.addCallbacks(d, function(h) {
      h instanceof nj ? g.cancel() : e(h)
    });
    return g.then(a, b, c)
  };
  jh(mj);
  f = mj.prototype;
  f.chainDeferred = function(a) {
    this.addCallbacks(a.callback, a.errback, a);
    return this
  };
  f.awaitDeferred = function(a) {
    return a instanceof mj ? this.addCallback($a(a.branch, a)) : this.addCallback(function() {
      return a
    })
  };
  f.branch = function(a) {
    var b = new mj;
    this.chainDeferred(b);
    a && (b.parent_ = this, this.branches_++);
    return b
  };
  f.hasFired = function() {
    return this.fired_
  };
  f.isError = function(a) {
    return a instanceof Error
  };
  f.hasErrback_ = function() {
    return lb(this.sequence_, function(a) {
      return Sa(a[1])
    })
  };
  f.fire_ = function() {
    if (this.unhandledErrorId_ && this.hasFired() && this.hasErrback_()) {
      var a = this.unhandledErrorId_,
        b = pj[a];
      b && (b.resetTimer(), delete pj[a]);
      this.unhandledErrorId_ = 0
    }
    this.parent_ && (this.parent_.branches_--, delete this.parent_);
    a = this.result_;
    for (var c = b = !1; this.sequence_.length && !this.blocked_;) {
      var d = this.sequence_.shift(),
        e = d[0],
        g = d[1];
      d = d[2];
      if (e = this.hadError_ ? g : e) try {
        var h = e.call(d || this.defaultScope_, a);
        E(h) && (this.hadError_ = this.hadError_ && (h == a || this.isError(h)), this.result_ = a =
          h);
        if (kh(a) || "function" === typeof D.Promise && a instanceof D.Promise) this.blocked_ = c = !0
      } catch (k) {
        a = k, this.hadError_ = !0, this.makeStackTraceLong_(a), this.hasErrback_() || (b = !0)
      }
    }
    this.result_ = a;
    c && (h = $a(this.continue_, this, !0), c = $a(this.continue_, this, !1), a instanceof mj ? (a.addCallbacks(h, c), a.blocking_ = !0) : a.then(h, c));
    b && (a = new qj(a), pj[a.id_] = a, this.unhandledErrorId_ = a.id_)
  };
  var oj = function(a) {
    db.call(this);
    this.deferred = a
  };
  K(oj, db);
  oj.prototype.message = "Deferred has already fired";
  oj.prototype.name = "AlreadyCalledError";
  var nj = function(a) {
    db.call(this);
    this.deferred = a
  };
  K(nj, db);
  nj.prototype.message = "Deferred was canceled";
  nj.prototype.name = "CanceledError";
  var qj = function(a) {
    this.id_ = D.setTimeout($a(this.throwError, this), 0);
    this.error_ = a
  };
  qj.prototype.throwError = function() {
    delete pj[this.id_];
    throw this.error_;
  };
  qj.prototype.resetTimer = function() {
    D.clearTimeout(this.id_)
  };
  var pj = {};
  var rj = function(a, b, c) {
    E(c) || (c = a.size);
    return a.webkitSlice ? a.webkitSlice(b, c) : a.mozSlice ? a.mozSlice(b, c) : a.slice ? ge && !xe("13.0") || he && !xe("537.1") ? (0 > b && (b += a.size), 0 > b && (b = 0), 0 > c && (c += a.size), c < b && (c = b), a.slice(b, c - b)) : a.slice(b, c) : null
  };
  var sj = function(a, b) {
    a = [a];
    for (var c = b.length - 1; 0 <= c; --c) a.push(typeof b[c], b[c]);
    return a.join("\x0B")
  };
  var tj = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,
    uj = function(a) {
      return a.match(tj)
    },
    vj = function(a, b) {
      return a ? b ? decodeURI(a) : decodeURIComponent(a) : a
    },
    wj = function(a) {
      return vj(uj(a)[3] || null, !0)
    },
    xj = function(a, b) {
      a = uj(a);
      b = uj(b);
      return a[3] == b[3] && a[1] == b[1] && a[4] == b[4]
    },
    yj = function(a, b) {
      if (a) {
        a = a.split("&");
        for (var c = 0; c < a.length; c++) {
          var d = a[c].indexOf("="),
            e = null;
          if (0 <= d) {
            var g = a[c].substring(0, d);
            e = a[c].substring(d + 1)
          } else g = a[c];
          b(g, e ? $c(e) : "")
        }
      }
    },
    zj = function(a, b) {
      if (!b) return a;
      var c = a.indexOf("#");
      0 > c && (c = a.length);
      var d = a.indexOf("?");
      if (0 > d || d > c) {
        d = c;
        var e = ""
      } else e = a.substring(d + 1, c);
      a = [a.substr(0, d), e, a.substr(c)];
      c = a[1];
      a[1] = b ? c ? c + "&" + b : b : c;
      return a[0] + (a[1] ? "?" + a[1] : "") + a[2]
    },
    Aj = function(a, b, c) {
      if (Pa(b))
        for (var d = 0; d < b.length; d++) Aj(a, String(b[d]), c);
      else null != b && c.push(a + ("" === b ? "" : "=" + encodeURIComponent(String(b))))
    },
    Bj = function(a) {
      var b = [],
        c;
      for (c in a) Aj(c, a[c], b);
      return b.join("&")
    },
    Cj = function(a, b) {
      b = Bj(b);
      return zj(a, b)
    },
    Dj = function(a, b, c, d) {
      for (var e = c.length; 0 <= (b = a.indexOf(c, b)) && b < d;) {
        var g = a.charCodeAt(b - 1);
        if (38 == g || 63 == g)
          if (g = a.charCodeAt(b + e), !g || 61 == g || 38 == g || 35 == g) return b;
        b += e + 1
      }
      return -1
    },
    Ej = /#|$/,
    Fj = function(a, b) {
      var c = a.search(Ej),
        d = Dj(a, 0, b, c);
      if (0 > d) return null;
      var e = a.indexOf("&", d);
      if (0 > e || e > c) e = c;
      d += b.length + 1;
      return $c(a.substr(d, e - d))
    },
    Gj = /[?&]($|#)/,
    Hj = function(a, b) {
      for (var c = a.search(Ej), d = 0, e, g = []; 0 <= (e = Dj(a, d, b, c));) g.push(a.substring(d, e)), d = Math.min(a.indexOf("&", e) + 1 || c, c);
      g.push(a.substr(d));
      return g.join("").replace(Gj, "$1")
    };
  var Ij = function(a) {
      var b = {};
      a = a.replace(/\r/g, "").split("\n");
      for (var c = 0; c < a.length; c++) {
        var d = a[c],
          e = d.indexOf(":");
        0 > e || (b[d.substring(0, e)] = d.substring(e + 2, d.length))
      }
      return b
    },
    Jj = function(a, b) {
      var c = b || sj;
      return function() {
        var d = this || D;
        d = d.closure_memoize_cache_ || (d.closure_memoize_cache_ = {});
        var e = c(Wa(a), arguments);
        return d.hasOwnProperty(e) ? d[e] : d[e] = a.apply(this, arguments)
      }
    }(function() {
      if (!D.Blob) return !1;
      var a = new Uint8Array(100);
      try {
        var b = new Blob([a])
      } catch (c) {
        return !1
      }
      return null === rj(b, 0, 1) ? !1 : !0
    });
  var Kj = function(a, b) {
    lj.call(this);
    this.interval_ = a || 1;
    this.timerObject_ = b || D;
    this.boundTick_ = $a(this.tick_, this);
    this.last_ = cb()
  };
  K(Kj, lj);
  f = Kj.prototype;
  f.enabled = !1;
  f.timer_ = null;
  f.getInterval = function() {
    return this.interval_
  };
  f.setInterval = function(a) {
    this.interval_ = a;
    this.timer_ && this.enabled ? (this.stop(), this.start()) : this.timer_ && this.stop()
  };
  f.tick_ = function() {
    if (this.enabled) {
      var a = cb() - this.last_;
      0 < a && a < .8 * this.interval_ ? this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_ - a) : (this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null), this.dispatchTick(), this.enabled && (this.stop(), this.start()))
    }
  };
  f.dispatchTick = function() {
    this.dispatchEvent("tick")
  };
  f.start = function() {
    this.enabled = !0;
    this.timer_ || (this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_), this.last_ = cb())
  };
  f.stop = function() {
    this.enabled = !1;
    this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null)
  };
  f.disposeInternal = function() {
    Kj.superClass_.disposeInternal.call(this);
    this.stop();
    delete this.timerObject_
  };
  var Lj = function(a, b, c) {
    if (Sa(a)) c && (a = $a(a, c));
    else if (a && "function" == typeof a.handleEvent) a = $a(a.handleEvent, a);
    else throw Error("Invalid listener argument");
    return 2147483647 < Number(b) ? -1 : D.setTimeout(a, b || 0)
  };
  var Mj = function(a, b, c) {
    Ei.call(this);
    this.listener_ = null != c ? $a(a, c) : a;
    this.interval_ = b;
    this.callback_ = $a(this.onTimer_, this);
    this.args_ = []
  };
  K(Mj, Ei);
  f = Mj.prototype;
  f.shouldFire_ = !1;
  f.pauseCount_ = 0;
  f.timer_ = null;
  f.fire = function(a) {
    this.args_ = arguments;
    this.timer_ || this.pauseCount_ ? this.shouldFire_ = !0 : this.doAction_()
  };
  f.stop = function() {
    this.timer_ && (D.clearTimeout(this.timer_), this.timer_ = null, this.shouldFire_ = !1, this.args_ = [])
  };
  f.pause = function() {
    this.pauseCount_++
  };
  f.resume = function() {
    this.pauseCount_--;
    this.pauseCount_ || !this.shouldFire_ || this.timer_ || (this.shouldFire_ = !1, this.doAction_())
  };
  f.disposeInternal = function() {
    Mj.superClass_.disposeInternal.call(this);
    this.stop()
  };
  f.onTimer_ = function() {
    this.timer_ = null;
    this.shouldFire_ && !this.pauseCount_ && (this.shouldFire_ = !1, this.doAction_())
  };
  f.doAction_ = function() {
    this.timer_ = Lj(this.callback_, this.interval_);
    this.listener_.apply(null, this.args_)
  };
  var Nj = function() {
    this.blockSize = -1
  };
  var Oj = function() {
    this.blockSize = -1;
    this.blockSize = 64;
    this.chain_ = [];
    this.buf_ = [];
    this.W_ = [];
    this.pad_ = [];
    this.pad_[0] = 128;
    for (var a = 1; a < this.blockSize; ++a) this.pad_[a] = 0;
    this.total_ = this.inbuf_ = 0;
    this.reset()
  };
  K(Oj, Nj);
  Oj.prototype.reset = function() {
    this.chain_[0] = 1732584193;
    this.chain_[1] = 4023233417;
    this.chain_[2] = 2562383102;
    this.chain_[3] = 271733878;
    this.chain_[4] = 3285377520;
    this.total_ = this.inbuf_ = 0
  };
  Oj.prototype.compress_ = function(a, b) {
    b || (b = 0);
    var c = this.W_;
    if (Ga(a))
      for (var d = 0; 16 > d; d++) c[d] = a.charCodeAt(b) << 24 | a.charCodeAt(b + 1) << 16 | a.charCodeAt(b + 2) << 8 | a.charCodeAt(b + 3), b += 4;
    else
      for (d = 0; 16 > d; d++) c[d] = a[b] << 24 | a[b + 1] << 16 | a[b + 2] << 8 | a[b + 3], b += 4;
    for (d = 16; 80 > d; d++) {
      var e = c[d - 3] ^ c[d - 8] ^ c[d - 14] ^ c[d - 16];
      c[d] = (e << 1 | e >>> 31) & 4294967295
    }
    a = this.chain_[0];
    b = this.chain_[1];
    var g = this.chain_[2],
      h = this.chain_[3],
      k = this.chain_[4];
    for (d = 0; 80 > d; d++) {
      if (40 > d)
        if (20 > d) {
          e = h ^ b & (g ^ h);
          var m = 1518500249
        } else e = b ^ g ^ h,
          m = 1859775393;
      else 60 > d ? (e = b & g | h & (b | g), m = 2400959708) : (e = b ^ g ^ h, m = 3395469782);
      e = (a << 5 | a >>> 27) + e + k + m + c[d] & 4294967295;
      k = h;
      h = g;
      g = (b << 30 | b >>> 2) & 4294967295;
      b = a;
      a = e
    }
    this.chain_[0] = this.chain_[0] + a & 4294967295;
    this.chain_[1] = this.chain_[1] + b & 4294967295;
    this.chain_[2] = this.chain_[2] + g & 4294967295;
    this.chain_[3] = this.chain_[3] + h & 4294967295;
    this.chain_[4] = this.chain_[4] + k & 4294967295
  };
  Oj.prototype.update = function(a, b) {
    if (null != a) {
      E(b) || (b = a.length);
      for (var c = b - this.blockSize, d = 0, e = this.buf_, g = this.inbuf_; d < b;) {
        if (0 == g)
          for (; d <= c;) this.compress_(a, d), d += this.blockSize;
        if (Ga(a))
          for (; d < b;) {
            if (e[g] = a.charCodeAt(d), ++g, ++d, g == this.blockSize) {
              this.compress_(e);
              g = 0;
              break
            }
          } else
            for (; d < b;)
              if (e[g] = a[d], ++g, ++d, g == this.blockSize) {
                this.compress_(e);
                g = 0;
                break
              }
      }
      this.inbuf_ = g;
      this.total_ += b
    }
  };
  Oj.prototype.digest = function() {
    var a = [],
      b = 8 * this.total_;
    56 > this.inbuf_ ? this.update(this.pad_, 56 - this.inbuf_) : this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));
    for (var c = this.blockSize - 1; 56 <= c; c--) this.buf_[c] = b & 255, b /= 256;
    this.compress_(this.buf_);
    for (c = b = 0; 5 > c; c++)
      for (var d = 24; 0 <= d; d -= 8) a[b] = this.chain_[c] >> d & 255, ++b;
    return a
  };
  var Pj = function(a, b) {
    a = String(a);
    b = b || Df;
    if (void 0 === b.ZERODIGIT) return a;
    for (var c = [], d = 0; d < a.length; d++) {
      var e = a.charCodeAt(d);
      c.push(48 <= e && 57 >= e ? String.fromCharCode(b.ZERODIGIT + e - 48) : a.charAt(d))
    }
    return c.join("")
  };
  var Qj = {
      COMPACT_DECIMAL_SHORT_PATTERN: {
        1E3: {
          other: "0K"
        },
        1E4: {
          other: "00K"
        },
        1E5: {
          other: "000K"
        },
        1E6: {
          other: "0M"
        },
        1E7: {
          other: "00M"
        },
        1E8: {
          other: "000M"
        },
        1E9: {
          other: "0B"
        },
        1E10: {
          other: "00B"
        },
        1E11: {
          other: "000B"
        },
        1E12: {
          other: "0T"
        },
        1E13: {
          other: "00T"
        },
        1E14: {
          other: "000T"
        }
      },
      COMPACT_DECIMAL_LONG_PATTERN: {
        1E3: {
          other: "0 thousand"
        },
        1E4: {
          other: "00 thousand"
        },
        1E5: {
          other: "000 thousand"
        },
        1E6: {
          other: "0 million"
        },
        1E7: {
          other: "00 million"
        },
        1E8: {
          other: "000 million"
        },
        1E9: {
          other: "0 billion"
        },
        1E10: {
          other: "00 billion"
        },
        1E11: {
          other: "000 billion"
        },
        1E12: {
          other: "0 trillion"
        },
        1E13: {
          other: "00 trillion"
        },
        1E14: {
          other: "000 trillion"
        }
      }
    },
    Rj = Qj;
  Rj = Qj;
  var Tj = function(a, b) {
      var c = ["0"];
      b = Sj[b][0] & 7;
      if (0 < b) {
        c.push(".");
        for (var d = 0; d < b; d++) c.push("0")
      }
      return a.replace(/0.00/g, c.join(""))
    },
    Sj = {
      AED: [2,
        "dh", "\u062f.\u0625."
      ],
      ALL: [0, "Lek", "Lek"],
      AUD: [2, "$", "AU$"],
      BDT: [2, "\u09f3", "Tk"],
      BGN: [2, "lev", "lev"],
      BRL: [2, "R$", "R$"],
      CAD: [2, "$", "C$"],
      CDF: [2, "FrCD", "CDF"],
      CHF: [2, "CHF", "CHF"],
      CLP: [0, "$", "CL$"],
      CNY: [2, "\u00a5", "RMB\u00a5"],
      COP: [32, "$", "COL$"],
      CRC: [0, "\u20a1", "CR\u20a1"],
      CZK: [50, "K\u010d", "K\u010d"],
      DKK: [50, "kr.", "kr."],
      DOP: [2, "RD$", "RD$"],
      EGP: [2, "\u00a3", "LE"],
      ETB: [2, "Birr", "Birr"],
      EUR: [2, "\u20ac", "\u20ac"],
      GBP: [2, "\u00a3", "GB\u00a3"],
      HKD: [2, "$", "HK$"],
      HRK: [2, "kn", "kn"],
      HUF: [34, "Ft", "Ft"],
      IDR: [0,
        "Rp", "Rp"
      ],
      ILS: [34, "\u20aa", "IL\u20aa"],
      INR: [2, "\u20b9", "Rs"],
      IRR: [0, "Rial", "IRR"],
      ISK: [0, "kr", "kr"],
      JMD: [2, "$", "JA$"],
      JPY: [0, "\u00a5", "JP\u00a5"],
      KRW: [0, "\u20a9", "KR\u20a9"],
      LKR: [2, "Rs", "SLRs"],
      LTL: [2, "Lt", "Lt"],
      MNT: [0, "\u20ae", "MN\u20ae"],
      MVR: [2, "Rf", "MVR"],
      MXN: [2, "$", "Mex$"],
      MYR: [2, "RM", "RM"],
      NOK: [50, "kr", "NOkr"],
      PAB: [2, "B/.", "B/."],
      PEN: [2, "S/.", "S/."],
      PHP: [2, "\u20b1", "PHP"],
      PKR: [0, "Rs", "PKRs."],
      PLN: [50, "z\u0142", "z\u0142"],
      RON: [2, "RON", "RON"],
      RSD: [0, "din", "RSD"],
      RUB: [50, "\u20bd", "RUB"],
      SAR: [2,
        "Rial", "Rial"
      ],
      SEK: [50, "kr", "kr"],
      SGD: [2, "$", "S$"],
      THB: [2, "\u0e3f", "THB"],
      TRY: [2, "\u20ba", "TRY"],
      TWD: [2, "NT$", "NT$"],
      TZS: [0, "TSh", "TSh"],
      UAH: [2, "\u0433\u0440\u043d.", "UAH"],
      USD: [2, "$", "US$"],
      UYU: [2, "$", "$U"],
      VND: [48, "\u20ab", "VN\u20ab"],
      YER: [0, "Rial", "Rial"],
      ZAR: [2, "R", "ZAR"]
    };
  var Uj = {
      DECIMAL_SEP: ".",
      GROUP_SEP: ",",
      PERCENT: "%",
      ZERO_DIGIT: "0",
      PLUS_SIGN: "+",
      MINUS_SIGN: "-",
      EXP_SYMBOL: "E",
      PERMILL: "\u2030",
      INFINITY: "\u221e",
      NAN: "NaN",
      DECIMAL_PATTERN: "#,##0.###",
      SCIENTIFIC_PATTERN: "#E0",
      PERCENT_PATTERN: "#,##0%",
      CURRENCY_PATTERN: "\u00a4#,##0.00",
      DEF_CURRENCY_CODE: "USD"
    },
    Vj = Uj;
  Vj = Uj;
  var Wj = function(a, b, c, d) {
    this.intlCurrencyCode_ = b || null;
    this.currencyStyle_ = c || 0;
    this.overrideNumberFormatSymbols_ = d || null;
    this.maximumIntegerDigits_ = 40;
    this.minimumIntegerDigits_ = 1;
    this.significantDigits_ = 0;
    this.maximumFractionDigits_ = 3;
    this.minExponentDigits_ = this.minimumFractionDigits_ = 0;
    this.showTrailingZeros_ = this.useSignForPositiveExponent_ = !1;
    this.positiveSuffix_ = this.positivePrefix_ = "";
    this.negativePrefix_ = this.getNumberFormatSymbols_().MINUS_SIGN;
    this.negativeSuffix_ = "";
    this.multiplier_ =
      1;
    this.negativePercentSignExpected_ = !1;
    this.groupingArray_ = [];
    this.useExponentialNotation_ = this.decimalSeparatorAlwaysShown_ = !1;
    this.compactStyle_ = 0;
    this.baseFormattingNumber_ = null;
    "number" == typeof a ? this.applyStandardPattern_(a) : this.applyPattern_(a)
  };
  f = Wj.prototype;
  f.getNumberFormatSymbols_ = function() {
    return this.overrideNumberFormatSymbols_ || Vj
  };
  f.getCurrencyCode_ = function() {
    return this.intlCurrencyCode_ || this.getNumberFormatSymbols_().DEF_CURRENCY_CODE
  };
  f.setMinimumFractionDigits = function(a) {
    if (0 < this.significantDigits_ && 0 < a) throw Error("Can't combine significant digits and minimum fraction digits");
    this.minimumFractionDigits_ = a;
    return this
  };
  f.getMinimumFractionDigits = function() {
    return this.minimumFractionDigits_
  };
  f.setMaximumFractionDigits = function(a) {
    if (308 < a) throw Error("Unsupported maximum fraction digits: " + a);
    this.maximumFractionDigits_ = a;
    return this
  };
  f.getMaximumFractionDigits = function() {
    return this.maximumFractionDigits_
  };
  f.setSignificantDigits = function(a) {
    if (0 < this.minimumFractionDigits_ && 0 <= a) throw Error("Can't combine significant digits and minimum fraction digits");
    this.significantDigits_ = a;
    return this
  };
  f.getSignificantDigits = function() {
    return this.significantDigits_
  };
  f.setShowTrailingZeros = function(a) {
    this.showTrailingZeros_ = a;
    return this
  };
  f.setBaseFormatting = function(a) {
    this.baseFormattingNumber_ = a;
    return this
  };
  f.getBaseFormatting = function() {
    return this.baseFormattingNumber_
  };
  f.applyPattern_ = function(a) {
    this.pattern_ = a.replace(/ /g, "\u00a0");
    var b = [0];
    this.positivePrefix_ = this.parseAffix_(a, b);
    var c = b[0];
    this.parseTrunk_(a, b);
    c = b[0] - c;
    this.positiveSuffix_ = this.parseAffix_(a, b);
    b[0] < a.length && ";" == a.charAt(b[0]) ? (b[0]++, 1 != this.multiplier_ && (this.negativePercentSignExpected_ = !0), this.negativePrefix_ = this.parseAffix_(a, b), b[0] += c, this.negativeSuffix_ = this.parseAffix_(a, b)) : (this.negativePrefix_ += this.positivePrefix_, this.negativeSuffix_ += this.positiveSuffix_)
  };
  f.applyStandardPattern_ = function(a) {
    switch (a) {
      case 1:
        this.applyPattern_(this.getNumberFormatSymbols_().DECIMAL_PATTERN);
        break;
      case 2:
        this.applyPattern_(this.getNumberFormatSymbols_().SCIENTIFIC_PATTERN);
        break;
      case 3:
        this.applyPattern_(this.getNumberFormatSymbols_().PERCENT_PATTERN);
        break;
      case 4:
        this.applyPattern_(Tj(this.getNumberFormatSymbols_().CURRENCY_PATTERN, this.getCurrencyCode_()));
        break;
      case 5:
        this.applyCompactStyle_(1);
        break;
      case 6:
        this.applyCompactStyle_(2);
        break;
      default:
        throw Error("Unsupported pattern type.");
    }
  };
  f.applyCompactStyle_ = function(a) {
    this.compactStyle_ = a;
    this.applyPattern_(this.getNumberFormatSymbols_().DECIMAL_PATTERN);
    this.setMinimumFractionDigits(0);
    this.setMaximumFractionDigits(2);
    this.setSignificantDigits(2)
  };
  f.parse = function(a, b) {
    b = b || [0];
    if (0 != this.compactStyle_) throw Error("Parsing of compact numbers is unimplemented");
    a = a.replace(/ |\u202f/g, "\u00a0");
    var c = a.indexOf(this.positivePrefix_, b[0]) == b[0],
      d = a.indexOf(this.negativePrefix_, b[0]) == b[0];
    c && d && (this.positivePrefix_.length > this.negativePrefix_.length ? d = !1 : this.positivePrefix_.length < this.negativePrefix_.length && (c = !1));
    c ? b[0] += this.positivePrefix_.length : d && (b[0] += this.negativePrefix_.length);
    if (a.indexOf(this.getNumberFormatSymbols_().INFINITY,
        b[0]) == b[0]) {
      b[0] += this.getNumberFormatSymbols_().INFINITY.length;
      var e = Infinity
    } else e = this.parseNumber_(a, b);
    if (c) {
      if (a.indexOf(this.positiveSuffix_, b[0]) != b[0]) return NaN;
      b[0] += this.positiveSuffix_.length
    } else if (d) {
      if (a.indexOf(this.negativeSuffix_, b[0]) != b[0]) return NaN;
      b[0] += this.negativeSuffix_.length
    }
    return d ? -e : e
  };
  f.parseNumber_ = function(a, b) {
    var c = !1,
      d = !1,
      e = !1,
      g = -1,
      h = 1,
      k = this.getNumberFormatSymbols_().DECIMAL_SEP,
      m = this.getNumberFormatSymbols_().GROUP_SEP,
      l = this.getNumberFormatSymbols_().EXP_SYMBOL;
    if (0 != this.compactStyle_) throw Error("Parsing of compact style numbers is not implemented");
    m = m.replace(/\u202f/g, "\u00a0");
    for (var q = ""; b[0] < a.length; b[0]++) {
      var p = a.charAt(b[0]),
        n = this.getDigit_(p);
      if (0 <= n && 9 >= n) q += n, e = !0;
      else if (p == k.charAt(0)) {
        if (c || d) break;
        q += ".";
        c = !0
      } else if (p == m.charAt(0) && ("\u00a0" != m.charAt(0) ||
          b[0] + 1 < a.length && 0 <= this.getDigit_(a.charAt(b[0] + 1)))) {
        if (c || d) break
      } else if (p == l.charAt(0)) {
        if (d) break;
        q += "E";
        d = !0;
        g = b[0]
      } else if ("+" == p || "-" == p) {
        if (e && g != b[0] - 1) break;
        q += p
      } else if (1 == this.multiplier_ && p == this.getNumberFormatSymbols_().PERCENT.charAt(0)) {
        if (1 != h) break;
        h = 100;
        if (e) {
          b[0]++;
          break
        }
      } else if (1 == this.multiplier_ && p == this.getNumberFormatSymbols_().PERMILL.charAt(0)) {
        if (1 != h) break;
        h = 1E3;
        if (e) {
          b[0]++;
          break
        }
      } else break
    }
    1 != this.multiplier_ && (h = this.multiplier_);
    return parseFloat(q) / h
  };
  f.format = function(a) {
    if (isNaN(a)) return this.getNumberFormatSymbols_().NAN;
    var b = [],
      c = this.getUnitAfterRounding_(null === this.baseFormattingNumber_ ? a : this.baseFormattingNumber_, a);
    a = Xj(a, -c.divisorBase);
    b.push(c.prefix);
    var d = 0 > a || 0 == a && 0 > 1 / a;
    b.push(d ? this.negativePrefix_ : this.positivePrefix_);
    isFinite(a) ? (a = a * (d ? -1 : 1) * this.multiplier_, this.useExponentialNotation_ ? this.subformatExponential_(a, b) : this.subformatFixed_(a, this.minimumIntegerDigits_, b)) : b.push(this.getNumberFormatSymbols_().INFINITY);
    b.push(d ?
      this.negativeSuffix_ : this.positiveSuffix_);
    b.push(c.suffix);
    return b.join("")
  };
  f.roundNumber_ = function(a) {
    var b = Xj(a, this.maximumFractionDigits_);
    0 < this.significantDigits_ && (b = this.roundToSignificantDigits_(b, this.significantDigits_, this.maximumFractionDigits_));
    b = Math.round(b);
    isFinite(b) ? (a = Math.floor(Xj(b, -this.maximumFractionDigits_)), b = Math.floor(b - Xj(a, this.maximumFractionDigits_))) : b = 0;
    return {
      intValue: a,
      fracValue: b
    }
  };
  f.formatNumberGroupingRepeatingDigitsParts_ = function(a, b, c, d, e) {
    for (var g = 0, h = 0, k, m = this.getNumberFormatSymbols_().GROUP_SEP, l = c.length, q = 0; q < l; q++)
      if (a.push(String.fromCharCode(b + 1 * Number(c.charAt(q)))), 1 < l - q)
        if (k = d[h], q < e) {
          var p = e - q;
          (1 === k || 0 < k && 1 === p % k) && a.push(m)
        } else h < d.length && (q === e ? h += 1 : k === q - e - g + 1 && (a.push(m), g += k, h += 1));
    return a
  };
  f.formatNumberGroupingNonRepeatingDigitsParts_ = function(a, b, c, d) {
    var e = this.getNumberFormatSymbols_().GROUP_SEP,
      g, h = c.length,
      k = [];
    for (g = d.length - 1; 0 <= g && 0 < h; g--) {
      var m = d[g];
      for (var l = 0; l < m && 0 <= h - l - 1; l++) k.push(String.fromCharCode(b + 1 * Number(c.charAt(h - l - 1))));
      h -= m;
      0 < h && k.push(e)
    }
    a.push.apply(a, k.reverse());
    return a
  };
  f.subformatFixed_ = function(a, b, c) {
    if (this.minimumFractionDigits_ > this.maximumFractionDigits_) throw Error("Min value must be less than max value");
    c || (c = []);
    a = this.roundNumber_(a);
    var d = a.intValue,
      e = a.fracValue,
      g = 0 == d ? 0 : this.intLog10_(d) + 1,
      h = 0 < this.minimumFractionDigits_ || 0 < e || this.showTrailingZeros_ && g < this.significantDigits_;
    a = this.minimumFractionDigits_;
    h && (a = this.showTrailingZeros_ && 0 < this.significantDigits_ ? this.significantDigits_ - g : this.minimumFractionDigits_);
    var k = "";
    for (g = d; 1E20 < g;) k = "0" +
      k, g = Math.round(Xj(g, -1));
    k = g + k;
    var m = this.getNumberFormatSymbols_().DECIMAL_SEP;
    g = this.getNumberFormatSymbols_().ZERO_DIGIT.charCodeAt(0);
    var l = k.length,
      q = 0;
    if (0 < d || 0 < b) {
      for (d = l; d < b; d++) c.push(String.fromCharCode(g));
      if (2 <= this.groupingArray_.length)
        for (b = 1; b < this.groupingArray_.length; b++) q += this.groupingArray_[b];
      b = l - q;
      c = 0 < b ? this.formatNumberGroupingRepeatingDigitsParts_(c, g, k, this.groupingArray_, b) : this.formatNumberGroupingNonRepeatingDigitsParts_(c, g, k, this.groupingArray_)
    } else h || c.push(String.fromCharCode(g));
    (this.decimalSeparatorAlwaysShown_ || h) && c.push(m);
    b = String(e);
    e = b.split("e+");
    2 == e.length && (b = String(this.roundToSignificantDigits_(parseFloat(e[0]), this.significantDigits_, 1)), b = b.replace(".", ""), b += bd("0", parseInt(e[1], 10) - b.length + 1));
    this.maximumFractionDigits_ + 1 > b.length && (b = "1" + bd("0", this.maximumFractionDigits_ - b.length) + b);
    for (e = b.length;
      "0" == b.charAt(e - 1) && e > a + 1;) e--;
    for (d = 1; d < e; d++) c.push(String.fromCharCode(g + 1 * Number(b.charAt(d))))
  };
  f.addExponentPart_ = function(a, b) {
    b.push(this.getNumberFormatSymbols_().EXP_SYMBOL);
    0 > a ? (a = -a, b.push(this.getNumberFormatSymbols_().MINUS_SIGN)) : this.useSignForPositiveExponent_ && b.push(this.getNumberFormatSymbols_().PLUS_SIGN);
    a = "" + a;
    for (var c = this.getNumberFormatSymbols_().ZERO_DIGIT, d = a.length; d < this.minExponentDigits_; d++) b.push(c);
    b.push(a)
  };
  f.getMantissa_ = function(a, b) {
    return Xj(a, -b)
  };
  f.subformatExponential_ = function(a, b) {
    if (0 == a) this.subformatFixed_(a, this.minimumIntegerDigits_, b), this.addExponentPart_(0, b);
    else {
      var c = Math.floor(Math.log(a) / Math.log(10) + 2E-15);
      a = this.getMantissa_(a, c);
      var d = this.minimumIntegerDigits_;
      1 < this.maximumIntegerDigits_ && this.maximumIntegerDigits_ > this.minimumIntegerDigits_ ? (d = c % this.maximumIntegerDigits_, 0 > d && (d = this.maximumIntegerDigits_ + d), a = Xj(a, d), c -= d, d = 1) : 1 > this.minimumIntegerDigits_ ? (c++, a = Xj(a, -1)) : (c -= this.minimumIntegerDigits_ - 1, a = Xj(a, this.minimumIntegerDigits_ -
        1));
      this.subformatFixed_(a, d, b);
      this.addExponentPart_(c, b)
    }
  };
  f.getDigit_ = function(a) {
    a = a.charCodeAt(0);
    if (48 <= a && 58 > a) return a - 48;
    var b = this.getNumberFormatSymbols_().ZERO_DIGIT.charCodeAt(0);
    return b <= a && a < b + 10 ? a - b : -1
  };
  f.parseAffix_ = function(a, b) {
    for (var c = "", d = !1, e = a.length; b[0] < e; b[0]++) {
      var g = a.charAt(b[0]);
      if ("'" == g) b[0] + 1 < e && "'" == a.charAt(b[0] + 1) ? (b[0]++, c += "'") : d = !d;
      else if (d) c += g;
      else switch (g) {
        case "#":
        case "0":
        case ",":
        case ".":
        case ";":
          return c;
        case "\u00a4":
          if (b[0] + 1 < e && "\u00a4" == a.charAt(b[0] + 1)) b[0]++, c += this.getCurrencyCode_();
          else switch (this.currencyStyle_) {
            case 0:
              c += Sj[this.getCurrencyCode_()][1];
              break;
            case 2:
              g = this.getCurrencyCode_();
              var h = Sj[g];
              c += g == h[1] ? g : g + " " + h[1];
              break;
            case 1:
              c += Sj[this.getCurrencyCode_()][2]
          }
          break;
        case "%":
          if (!this.negativePercentSignExpected_ && 1 != this.multiplier_) throw Error("Too many percent/permill");
          if (this.negativePercentSignExpected_ && 100 != this.multiplier_) throw Error("Inconsistent use of percent/permill characters");
          this.multiplier_ = 100;
          this.negativePercentSignExpected_ = !1;
          c += this.getNumberFormatSymbols_().PERCENT;
          break;
        case "\u2030":
          if (!this.negativePercentSignExpected_ && 1 != this.multiplier_) throw Error("Too many percent/permill");
          if (this.negativePercentSignExpected_ && 1E3 != this.multiplier_) throw Error("Inconsistent use of percent/permill characters");
          this.multiplier_ = 1E3;
          this.negativePercentSignExpected_ = !1;
          c += this.getNumberFormatSymbols_().PERMILL;
          break;
        default:
          c += g
      }
    }
    return c
  };
  f.parseTrunk_ = function(a, b) {
    for (var c = -1, d = 0, e = 0, g = 0, h = -1, k = a.length, m = !0; b[0] < k && m; b[0]++) switch (a.charAt(b[0])) {
      case "#":
        0 < e ? g++ : d++;
        0 <= h && 0 > c && h++;
        break;
      case "0":
        if (0 < g) throw Error('Unexpected "0" in pattern "' + a + '"');
        e++;
        0 <= h && 0 > c && h++;
        break;
      case ",":
        0 < h && this.groupingArray_.push(h);
        h = 0;
        break;
      case ".":
        if (0 <= c) throw Error('Multiple decimal separators in pattern "' + a + '"');
        c = d + e + g;
        break;
      case "E":
        if (this.useExponentialNotation_) throw Error('Multiple exponential symbols in pattern "' + a + '"');
        this.useExponentialNotation_ = !0;
        this.minExponentDigits_ = 0;
        b[0] + 1 < k && "+" == a.charAt(b[0] + 1) && (b[0]++, this.useSignForPositiveExponent_ = !0);
        for (; b[0] + 1 < k && "0" == a.charAt(b[0] + 1);) b[0]++, this.minExponentDigits_++;
        if (1 > d + e || 1 > this.minExponentDigits_) throw Error('Malformed exponential pattern "' + a + '"');
        m = !1;
        break;
      default:
        b[0]--, m = !1
    }
    0 == e && 0 < d && 0 <= c && (e = c, 0 == e && e++, g = d - e, d = e - 1, e = 1);
    if (0 > c && 0 < g || 0 <= c && (c < d || c > d + e) || 0 == h) throw Error('Malformed pattern "' + a + '"');
    a = d + e + g;
    this.maximumFractionDigits_ = 0 <= c ? a - c : 0;
    0 <= c && (this.minimumFractionDigits_ =
      d + e - c, 0 > this.minimumFractionDigits_ && (this.minimumFractionDigits_ = 0));
    this.minimumIntegerDigits_ = (0 <= c ? c : a) - d;
    this.useExponentialNotation_ && (this.maximumIntegerDigits_ = d + this.minimumIntegerDigits_, 0 == this.maximumFractionDigits_ && 0 == this.minimumIntegerDigits_ && (this.minimumIntegerDigits_ = 1));
    this.groupingArray_.push(Math.max(0, h));
    this.decimalSeparatorAlwaysShown_ = 0 == c || c == a
  };
  var Yj = {
    prefix: "",
    suffix: "",
    divisorBase: 0
  };
  Wj.prototype.getUnitFor_ = function(a, b) {
    var c = 1 == this.compactStyle_ ? Rj.COMPACT_DECIMAL_SHORT_PATTERN : Rj.COMPACT_DECIMAL_LONG_PATTERN;
    null == c && (c = Rj.COMPACT_DECIMAL_SHORT_PATTERN);
    if (3 > a) return Yj;
    a = Math.min(14, a);
    var d = c[Xj(1, a)];
    for (--a; !d && 3 <= a;) d = c[Xj(1, a)], a--;
    if (!d) return Yj;
    b = d[b];
    return b && "0" != b ? (b = /([^0]*)(0+)(.*)/.exec(b)) ? {
      prefix: b[1],
      suffix: b[3],
      divisorBase: a + 1 - (b[2].length - 1)
    } : Yj : Yj
  };
  Wj.prototype.getUnitAfterRounding_ = function(a, b) {
    if (0 == this.compactStyle_) return Yj;
    a = Math.abs(a);
    b = Math.abs(b);
    var c = this.getUnitFor_(1 >= a ? 0 : this.intLog10_(a), this.pluralForm_(a)).divisorBase;
    b = this.roundNumber_(Xj(b, -c));
    return this.getUnitFor_(c + this.intLog10_(this.roundNumber_(Xj(a, -c)).intValue), this.pluralForm_(b.intValue + b.fracValue))
  };
  Wj.prototype.intLog10_ = function(a) {
    if (!isFinite(a)) return 0 < a ? a : 0;
    for (var b = 0; 1 <= (a /= 10);) b++;
    return b
  };
  var Xj = function(a, b) {
      if (!a || !isFinite(a) || 0 == b) return a;
      a = String(a).split("e");
      return parseFloat(a[0] + "e" + (parseInt(a[1] || 0, 10) + b))
    },
    Zj = function(a, b) {
      return a && isFinite(a) ? Xj(Math.round(Xj(a, b)), -b) : a
    };
  Wj.prototype.roundToSignificantDigits_ = function(a, b, c) {
    if (!a) return a;
    b = b - this.intLog10_(a) - 1;
    return b < -c ? Zj(a, -c) : Zj(a, b)
  };
  Wj.prototype.pluralForm_ = function() {
    return "other"
  };
  Wj.prototype.isCurrencyCodeBeforeValue = function() {
    var a = this.pattern_.indexOf("\u00a4"),
      b = this.pattern_.indexOf("#"),
      c = this.pattern_.indexOf("0"),
      d = Number.MAX_VALUE;
    0 <= b && b < d && (d = b);
    0 <= c && c < d && (d = c);
    return a < d
  };
  var ak = function(a) {
      return 1 == a % 10 && 11 != a % 100 ? "one" : 2 == a % 10 && 12 != a % 100 ? "two" : 3 == a % 10 && 13 != a % 100 ? "few" : "other"
    },
    bk = ak;
  bk = ak;
  var ck = function(a, b) {
      if (void 0 === b) {
        b = a + "";
        var c = b.indexOf(".");
        b = Math.min(-1 == c ? 0 : b.length - c - 1, 3)
      }
      return 1 == (a | 0) && 0 == b ? "one" : "other"
    },
    dk = ck;
  dk = ck;
  var hk = function(a) {
      this.pattern_ = a;
      this.parsedPattern_ = this.literals_ = this.initialLiterals_ = null;
      a = Vj;
      var b = Rj;
      if (ek !== a || fk !== b) ek = a, fk = b, gk = new Wj(1);
      this.numberFormatter_ = gk
    },
    ek = null,
    fk = null,
    gk = null,
    ik = /'([{}#].*?)'/g,
    jk = /''/g;
  f = hk.prototype;
  f.format = function(a) {
    return this.format_(a, !1)
  };
  f.formatIgnoringPound = function(a) {
    return this.format_(a, !0)
  };
  f.format_ = function(a, b) {
    this.init_();
    if (!this.parsedPattern_ || 0 == this.parsedPattern_.length) return "";
    this.literals_ = sb(this.initialLiterals_);
    var c = [];
    this.formatBlock_(this.parsedPattern_, a, b, c);
    for (a = c.join(""); 0 < this.literals_.length;) a = a.replace(this.buildPlaceholder_(this.literals_), this.literals_.pop());
    return a
  };
  f.formatBlock_ = function(a, b, c, d) {
    for (var e = 0; e < a.length; e++) switch (a[e].type) {
      case 4:
        d.push(a[e].value);
        break;
      case 3:
        var g = a[e].value;
        this.formatSimplePlaceholder_(g, b, d);
        break;
      case 2:
        g = a[e].value;
        this.formatSelectBlock_(g, b, c, d);
        break;
      case 0:
        g = a[e].value;
        this.formatPluralOrdinalBlock_(g, b, dk, c, d);
        break;
      case 1:
        g = a[e].value, this.formatPluralOrdinalBlock_(g, b, bk, c, d)
    }
  };
  f.formatSimplePlaceholder_ = function(a, b, c) {
    b = b[a];
    E(b) ? (this.literals_.push(b), c.push(this.buildPlaceholder_(this.literals_))) : c.push("Undefined parameter - " + a)
  };
  f.formatSelectBlock_ = function(a, b, c, d) {
    var e = a.argumentIndex;
    E(b[e]) ? (e = a[b[e]], E(e) || (e = a.other), this.formatBlock_(e, b, c, d)) : d.push("Undefined parameter - " + e)
  };
  f.formatPluralOrdinalBlock_ = function(a, b, c, d, e) {
    var g = a.argumentIndex,
      h = a.argumentOffset,
      k = +b[g];
    isNaN(k) ? e.push("Undefined or invalid parameter - " + g) : (h = k - h, g = a[b[g]], E(g) || (c = c(h), g = a[c], E(g) || (g = a.other)), a = [], this.formatBlock_(g, b, d, a), b = a.join(""), d ? e.push(b) : (d = this.numberFormatter_.format(h), e.push(b.replace(/#/g, d))))
  };
  f.init_ = function() {
    if (this.pattern_) {
      this.initialLiterals_ = [];
      var a = this.insertPlaceholders_(this.pattern_);
      this.parsedPattern_ = this.parseBlock_(a);
      this.pattern_ = null
    }
  };
  f.insertPlaceholders_ = function(a) {
    var b = this.initialLiterals_,
      c = $a(this.buildPlaceholder_, this);
    a = a.replace(jk, function() {
      b.push("'");
      return c(b)
    });
    return a = a.replace(ik, function(d, e) {
      b.push(e);
      return c(b)
    })
  };
  f.extractParts_ = function(a) {
    var b = 0,
      c = [],
      d = [],
      e = /[{}]/g;
    e.lastIndex = 0;
    for (var g; g = e.exec(a);) {
      var h = g.index;
      "}" == g[0] ? (c.pop(), 0 == c.length && (g = {
        type: 1
      }, g.value = a.substring(b, h), d.push(g), b = h + 1)) : (0 == c.length && (b = a.substring(b, h), "" != b && d.push({
        type: 0,
        value: b
      }), b = h + 1), c.push("{"))
    }
    b = a.substring(b);
    "" != b && d.push({
      type: 0,
      value: b
    });
    return d
  };
  var kk = /^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/,
    lk = /^\s*(\w+)\s*,\s*selectordinal\s*,/,
    mk = /^\s*(\w+)\s*,\s*select\s*,/;
  f = hk.prototype;
  f.parseBlockType_ = function(a) {
    return kk.test(a) ? 0 : lk.test(a) ? 1 : mk.test(a) ? 2 : /^\s*\w+\s*/.test(a) ? 3 : 5
  };
  f.parseBlock_ = function(a) {
    var b = [];
    a = this.extractParts_(a);
    for (var c = 0; c < a.length; c++) {
      var d = {};
      if (0 == a[c].type) d.type = 4, d.value = a[c].value;
      else if (1 == a[c].type) switch (this.parseBlockType_(a[c].value)) {
        case 2:
          d.type = 2;
          d.value = this.parseSelectBlock_(a[c].value);
          break;
        case 0:
          d.type = 0;
          d.value = this.parsePluralBlock_(a[c].value);
          break;
        case 1:
          d.type = 1;
          d.value = this.parseOrdinalBlock_(a[c].value);
          break;
        case 3:
          d.type = 3, d.value = a[c].value
      }
      b.push(d)
    }
    return b
  };
  f.parseSelectBlock_ = function(a) {
    var b = "";
    a = a.replace(mk, function(h, k) {
      b = k;
      return ""
    });
    var c = {};
    c.argumentIndex = b;
    a = this.extractParts_(a);
    for (var d = 0; d < a.length;) {
      var e = a[d].value;
      d++;
      if (1 == a[d].type) var g = this.parseBlock_(a[d].value);
      c[e.replace(/\s/g, "")] = g;
      d++
    }
    return c
  };
  f.parsePluralBlock_ = function(a) {
    var b = "",
      c = 0;
    a = a.replace(kk, function(k, m, l) {
      b = m;
      l && (c = parseInt(l, 10));
      return ""
    });
    var d = {};
    d.argumentIndex = b;
    d.argumentOffset = c;
    a = this.extractParts_(a);
    for (var e = 0; e < a.length;) {
      var g = a[e].value;
      e++;
      if (1 == a[e].type) var h = this.parseBlock_(a[e].value);
      d[g.replace(/\s*(?:=)?(\w+)\s*/, "$1")] = h;
      e++
    }
    return d
  };
  f.parseOrdinalBlock_ = function(a) {
    var b = "";
    a = a.replace(lk, function(h, k) {
      b = k;
      return ""
    });
    var c = {};
    c.argumentIndex = b;
    c.argumentOffset = 0;
    a = this.extractParts_(a);
    for (var d = 0; d < a.length;) {
      var e = a[d].value;
      d++;
      if (1 == a[d].type) var g = this.parseBlock_(a[d].value);
      c[e.replace(/\s*(?:=)?(\w+)\s*/, "$1")] = g;
      d++
    }
    return c
  };
  f.buildPlaceholder_ = function(a) {
    return "\ufddf_" + (a.length - 1).toString(10) + "_"
  };
  var nk = function(a, b, c) {
    return (new hk(a)).format({
      COUNT: b,
      TEXT: c
    })
  };
  var ok = function(a) {
      if (a.classList) return a.classList;
      a = a.className;
      return Ga(a) && a.match(/\S+/g) || []
    },
    pk = function(a, b) {
      return a.classList ? a.classList.contains(b) : pb(ok(a), b)
    },
    qk = function(a, b) {
      a.classList ? a.classList.add(b) : pk(a, b) || (a.className += 0 < a.className.length ? " " + b : b)
    },
    rk = function(a, b) {
      if (a.classList) hb(b, function(e) {
        qk(a, e)
      });
      else {
        var c = {};
        hb(ok(a), function(e) {
          c[e] = !0
        });
        hb(b, function(e) {
          c[e] = !0
        });
        a.className = "";
        for (var d in c) a.className += 0 < a.className.length ? " " + d : d
      }
    },
    sk = function(a, b) {
      a.classList ? a.classList.remove(b) : pk(a, b) && (a.className = ib(ok(a), function(c) {
        return c != b
      }).join(" "))
    },
    tk = function(a, b) {
      a.classList ? hb(b, function(c) {
        sk(a, c)
      }) : a.className = ib(ok(a), function(c) {
        return !pb(b, c)
      }).join(" ")
    };
  var uk = "StopIteration" in D ? D.StopIteration : {
      message: "StopIteration",
      stack: ""
    },
    vk = function() {};
  vk.prototype.next = function() {
    throw uk;
  };
  vk.prototype.__iterator__ = function() {
    return this
  };
  var wk = function(a) {
      if (a instanceof vk) return a;
      if ("function" == typeof a.__iterator__) return a.__iterator__(!1);
      if (Ra(a)) {
        var b = 0,
          c = new vk;
        c.next = function() {
          for (;;) {
            if (b >= a.length) throw uk;
            if (b in a) return a[b++];
            b++
          }
        };
        return c
      }
      throw Error("Not implemented");
    },
    xk = function(a, b, c) {
      if (Ra(a)) try {
        hb(a, b, c)
      } catch (d) {
        if (d !== uk) throw d;
      } else {
        a = wk(a);
        try {
          for (;;) b.call(c, a.next(), void 0, a)
        } catch (d) {
          if (d !== uk) throw d;
        }
      }
    },
    yk = function(a) {
      if (Ra(a)) return sb(a);
      a = wk(a);
      var b = [];
      xk(a, function(c) {
        b.push(c)
      });
      return b
    };
  var zk = function(a, b) {
    this.map_ = {};
    this.keys_ = [];
    this.version_ = this.count_ = 0;
    var c = arguments.length;
    if (1 < c) {
      if (c % 2) throw Error("Uneven number of arguments");
      for (var d = 0; d < c; d += 2) this.set(arguments[d], arguments[d + 1])
    } else a && this.addAll(a)
  };
  f = zk.prototype;
  f.getCount = function() {
    return this.count_
  };
  f.getValues = function() {
    this.cleanupKeysArray_();
    for (var a = [], b = 0; b < this.keys_.length; b++) a.push(this.map_[this.keys_[b]]);
    return a
  };
  f.getKeys = function() {
    this.cleanupKeysArray_();
    return this.keys_.concat()
  };
  f.containsKey = function(a) {
    return Ak(this.map_, a)
  };
  f.containsValue = function(a) {
    for (var b = 0; b < this.keys_.length; b++) {
      var c = this.keys_[b];
      if (Ak(this.map_, c) && this.map_[c] == a) return !0
    }
    return !1
  };
  f.equals = function(a, b) {
    if (this === a) return !0;
    if (this.count_ != a.getCount()) return !1;
    b = b || Bk;
    this.cleanupKeysArray_();
    for (var c, d = 0; c = this.keys_[d]; d++)
      if (!b(this.get(c), a.get(c))) return !1;
    return !0
  };
  var Bk = function(a, b) {
    return a === b
  };
  f = zk.prototype;
  f.isEmpty = function() {
    return 0 == this.count_
  };
  f.clear = function() {
    this.map_ = {};
    this.version_ = this.count_ = this.keys_.length = 0
  };
  f.remove = function(a) {
    return Ak(this.map_, a) ? (delete this.map_[a], this.count_--, this.version_++, this.keys_.length > 2 * this.count_ && this.cleanupKeysArray_(), !0) : !1
  };
  f.cleanupKeysArray_ = function() {
    if (this.count_ != this.keys_.length) {
      for (var a = 0, b = 0; a < this.keys_.length;) {
        var c = this.keys_[a];
        Ak(this.map_, c) && (this.keys_[b++] = c);
        a++
      }
      this.keys_.length = b
    }
    if (this.count_ != this.keys_.length) {
      var d = {};
      for (b = a = 0; a < this.keys_.length;) c = this.keys_[a], Ak(d, c) || (this.keys_[b++] = c, d[c] = 1), a++;
      this.keys_.length = b
    }
  };
  f.get = function(a, b) {
    return Ak(this.map_, a) ? this.map_[a] : b
  };
  f.set = function(a, b) {
    Ak(this.map_, a) || (this.count_++, this.keys_.push(a), this.version_++);
    this.map_[a] = b
  };
  f.addAll = function(a) {
    if (a instanceof zk)
      for (var b = a.getKeys(), c = 0; c < b.length; c++) this.set(b[c], a.get(b[c]));
    else
      for (b in a) this.set(b, a[b])
  };
  f.forEach = function(a, b) {
    for (var c = this.getKeys(), d = 0; d < c.length; d++) {
      var e = c[d],
        g = this.get(e);
      a.call(b, g, e, this)
    }
  };
  f.clone = function() {
    return new zk(this)
  };
  f.transpose = function() {
    for (var a = new zk, b = 0; b < this.keys_.length; b++) {
      var c = this.keys_[b];
      a.set(this.map_[c], c)
    }
    return a
  };
  f.toObject = function() {
    this.cleanupKeysArray_();
    for (var a = {}, b = 0; b < this.keys_.length; b++) {
      var c = this.keys_[b];
      a[c] = this.map_[c]
    }
    return a
  };
  f.getKeyIterator = function() {
    return this.__iterator__(!0)
  };
  f.getValueIterator = function() {
    return this.__iterator__(!1)
  };
  f.__iterator__ = function(a) {
    this.cleanupKeysArray_();
    var b = 0,
      c = this.version_,
      d = this,
      e = new vk;
    e.next = function() {
      if (c != d.version_) throw Error("The map has changed since the iterator was created");
      if (b >= d.keys_.length) throw uk;
      var g = d.keys_[b++];
      return a ? g : d.map_[g]
    };
    return e
  };
  var Ak = function(a, b) {
    return Object.prototype.hasOwnProperty.call(a, b)
  };
  var Ck, Dk = Pf().getDocument().documentElement;
  Ck = Dk.requestFullscreen ? "fullscreenchange" : Dk.webkitRequestFullscreen ? "webkitfullscreenchange" : Dk.mozRequestFullScreen ? "mozfullscreenchange" : Dk.msRequestFullscreen ? "MSFullscreenChange" : "fullscreenchange";
  var Ek = function(a) {
    a = a ? a.getDocument() : Pf().getDocument();
    return !!(a.webkitIsFullScreen || a.mozFullScreen || a.msFullscreenElement || a.fullscreenElement)
  };
  var Fk = function(a) {
    Ei.call(this);
    this.handler_ = a;
    this.keys_ = {}
  };
  K(Fk, Ei);
  var Gk = [];
  f = Fk.prototype;
  f.listen = function(a, b, c, d) {
    return this.listen_(a, b, c, d)
  };
  f.listenWithScope = function(a, b, c, d, e) {
    return this.listen_(a, b, c, d, e)
  };
  f.listen_ = function(a, b, c, d, e) {
    Pa(b) || (b && (Gk[0] = b.toString()), b = Gk);
    for (var g = 0; g < b.length; g++) {
      var h = $i(a, b[g], c || this.handleEvent, d || !1, e || this.handler_ || this);
      if (!h) break;
      this.keys_[h.key] = h
    }
    return this
  };
  f.listenOnce = function(a, b, c, d) {
    return this.listenOnce_(a, b, c, d)
  };
  f.listenOnceWithScope = function(a, b, c, d, e) {
    return this.listenOnce_(a, b, c, d, e)
  };
  f.listenOnce_ = function(a, b, c, d, e) {
    if (Pa(b))
      for (var g = 0; g < b.length; g++) this.listenOnce_(a, b[g], c, d, e);
    else {
      a = Zi(a, b, c || this.handleEvent, d, e || this.handler_ || this);
      if (!a) return this;
      this.keys_[a.key] = a
    }
    return this
  };
  f.listenWithWrapper = function(a, b, c, d) {
    return this.listenWithWrapper_(a, b, c, d)
  };
  f.listenWithWrapperAndScope = function(a, b, c, d, e) {
    return this.listenWithWrapper_(a, b, c, d, e)
  };
  f.listenWithWrapper_ = function(a, b, c, d, e) {
    b.listen(a, c, d, e || this.handler_ || this, this);
    return this
  };
  f.getListenerCount = function() {
    var a = 0,
      b;
    for (b in this.keys_) Object.prototype.hasOwnProperty.call(this.keys_, b) && a++;
    return a
  };
  f.unlisten = function(a, b, c, d, e) {
    if (Pa(b))
      for (var g = 0; g < b.length; g++) this.unlisten(a, b[g], c, d, e);
    else c = c || this.handleEvent, d = Ta(d) ? !!d.capture : !!d, e = e || this.handler_ || this, c = aj(c), d = !!d, b = Ri(a) ? a.getListener(b, c, d, e) : a ? (a = cj(a)) ? a.getListener(b, c, d, e) : null : null, b && (hj(b), delete this.keys_[b.key]);
    return this
  };
  f.unlistenWithWrapper = function(a, b, c, d, e) {
    b.unlisten(a, c, d, e || this.handler_ || this, this);
    return this
  };
  f.removeAll = function() {
    xb(this.keys_, function(a, b) {
      this.keys_.hasOwnProperty(b) && hj(a)
    }, this);
    this.keys_ = {}
  };
  f.disposeInternal = function() {
    Fk.superClass_.disposeInternal.call(this);
    this.removeAll()
  };
  f.handleEvent = function() {
    throw Error("EventHandler.handleEvent not implemented");
  };
  var Hk = function(a, b) {
    lj.call(this);
    this.element_ = a;
    a = mg(this.element_) ? this.element_ : this.element_ ? this.element_.body : null;
    this.isRtl_ = !!a && Sg(a);
    this.listenKey_ = $i(this.element_, ge ? "DOMMouseScroll" : "mousewheel", this, b)
  };
  K(Hk, lj);
  Hk.prototype.setMaxDeltaX = function(a) {
    this.maxDeltaX_ = a
  };
  Hk.prototype.setMaxDeltaY = function(a) {
    this.maxDeltaY_ = a
  };
  Hk.prototype.handleEvent = function(a) {
    var b = 0,
      c = 0,
      d = a.getBrowserEvent();
    "mousewheel" == d.type ? (a = Ik(-d.wheelDelta, 40), E(d.wheelDeltaX) ? (b = Ik(-d.wheelDeltaX, 40), c = Ik(-d.wheelDeltaY, 40)) : c = a) : (a = d.detail, 100 < a ? a = 3 : -100 > a && (a = -3), E(d.axis) && d.axis === d.HORIZONTAL_AXIS ? b = a : c = a);
    Ha(this.maxDeltaX_) && (b = Math.min(Math.max(b, -this.maxDeltaX_), this.maxDeltaX_));
    Ha(this.maxDeltaY_) && (c = Math.min(Math.max(c, -this.maxDeltaY_), this.maxDeltaY_));
    this.isRtl_ && (b = -b);
    b = new Jk(a, d, b, c);
    this.dispatchEvent(b)
  };
  var Ik = function(a, b) {
    return he && (ie || ke) && 0 != a % b ? a : a / b
  };
  Hk.prototype.disposeInternal = function() {
    Hk.superClass_.disposeInternal.call(this);
    hj(this.listenKey_);
    this.listenKey_ = null
  };
  var Jk = function(a, b, c, d) {
    Ni.call(this, b);
    this.type = "mousewheel";
    this.detail = a;
    this.deltaX = c;
    this.deltaY = d
  };
  K(Jk, Ni);
  var Kk = function() {
    if (je) {
      var a = /Windows NT ([0-9.]+)/;
      return (a = a.exec(Ec)) ? a[1] : "0"
    }
    return ie ? (a = /10[_.][0-9_.]+/, (a = a.exec(Ec)) ? a[0].replace(/_/g, ".") : "10") : le ? (a = /Android\s+([^\);]+)(\)|;)/, (a = a.exec(Ec)) ? a[1] : "") : me || ne || oe ? (a = /(?:iPhone|CPU)\s+OS\s+(\S+)/, (a = a.exec(Ec)) ? a[1].replace(/_/g, ".") : "") : ""
  }();
  var Lk = function(a) {
      return (a = a.exec(Ec)) ? a[1] : ""
    },
    Mk = function() {
      if (Ce) return Lk(/Firefox\/([0-9.]+)/);
      if (de || ee || ce) return ve;
      if (Ge) return $d() ? Lk(/CriOS\/([0-9.]+)/) : Lk(/Chrome\/([0-9.]+)/);
      if (He && !$d()) return Lk(/Version\/([0-9.]+)/);
      if (De || Ee) {
        var a = /Version\/(\S+).*Mobile\/(\S+)/.exec(Ec);
        if (a) return a[1] + "." + a[2]
      } else if (Fe) return (a = Lk(/Android\s+([0-9.]+)/)) ? a : Lk(/Version\/([0-9.]+)/);
      return ""
    }();
  var Ok = function(a) {
      var b = Sg(a);
      return b && Nk() ? -a.scrollLeft : !b || fe && xe("8") || "visible" == Lg(a, "overflowX") ? a.scrollLeft : a.scrollWidth - a.clientWidth - a.scrollLeft
    },
    Pk = function(a) {
      var b = a.offsetLeft,
        c = a.offsetParent;
      c || "fixed" != Lg(a, "position") || (c = Of(a).documentElement);
      if (!c) return b;
      if (ge && !xe(58)) {
        var d = Vg(c);
        b += d.left
      } else ze(8) && !ze(9) && (d = Vg(c), b -= d.left);
      return Sg(c) ? c.clientWidth - (b + a.offsetWidth) : b
    },
    Qk = function(a, b) {
      b = Math.max(b, 0);
      Sg(a) ? a.scrollLeft = Nk() ? -b : fe && xe("8") ? b : a.scrollWidth - b - a.clientWidth : a.scrollLeft = b
    },
    Nk = function() {
      var a = He && 0 <= pc(Mk, 10),
        b = pe && 0 <= pc(Kk, 10);
      return ge || a || b
    };
  var Sk = function(a, b, c) {
    lj.call(this);
    this.target = a;
    this.handle = b || a;
    this.limits = c || new Jg(NaN, NaN, NaN, NaN);
    this.document_ = Of(a);
    this.eventHandler_ = new Fk(this);
    this.registerDisposable(this.eventHandler_);
    this.deltaY = this.deltaX = this.startY = this.startX = this.screenY = this.screenX = this.clientY = this.clientX = 0;
    this.enabled_ = !0;
    this.dragging_ = !1;
    this.preventMouseDown_ = !0;
    this.hysteresisDistanceSquared_ = 0;
    this.useRightPositioningForRtl_ = this.ieDragStartCancellingOn_ = !1;
    $i(this.handle, ["touchstart", "mousedown"],
      this.startDrag, !1, this);
    this.useSetCapture_ = Rk
  };
  K(Sk, lj);
  var Rk = D.document && D.document.documentElement && !!D.document.documentElement.setCapture && !!D.document.releaseCapture;
  f = Sk.prototype;
  f.setAllowSetCapture = function(a) {
    this.useSetCapture_ = a && Rk
  };
  f.enableRightPositioningForRtl = function(a) {
    this.useRightPositioningForRtl_ = a
  };
  f.getHandler = function() {
    return this.eventHandler_
  };
  f.setLimits = function(a) {
    this.limits = a || new Jg(NaN, NaN, NaN, NaN)
  };
  f.setHysteresis = function(a) {
    this.hysteresisDistanceSquared_ = Math.pow(a, 2)
  };
  f.getHysteresis = function() {
    return Math.sqrt(this.hysteresisDistanceSquared_)
  };
  f.setScrollTarget = function(a) {
    this.scrollTarget_ = a
  };
  f.setCancelIeDragStart = function(a) {
    this.ieDragStartCancellingOn_ = a
  };
  f.getEnabled = function() {
    return this.enabled_
  };
  f.setEnabled = function(a) {
    this.enabled_ = a
  };
  f.setPreventMouseDown = function(a) {
    this.preventMouseDown_ = a
  };
  f.disposeInternal = function() {
    Sk.superClass_.disposeInternal.call(this);
    gj(this.handle, ["touchstart", "mousedown"], this.startDrag, !1, this);
    this.cleanUpAfterDragging_();
    this.handle = this.target = null
  };
  f.isRightToLeft_ = function() {
    E(this.rightToLeft_) || (this.rightToLeft_ = Sg(this.target));
    return this.rightToLeft_
  };
  f.startDrag = function(a) {
    var b = "mousedown" == a.type;
    if (!this.enabled_ || this.dragging_ || b && !a.isMouseActionButton()) this.dispatchEvent("earlycancel");
    else {
      if (0 == this.hysteresisDistanceSquared_)
        if (this.fireDragStart_(a)) this.dragging_ = !0, this.preventMouseDown_ && b && a.preventDefault();
        else return;
      else this.preventMouseDown_ && b && a.preventDefault();
      this.setupDragHandlers();
      this.clientX = this.startX = a.clientX;
      this.clientY = this.startY = a.clientY;
      this.screenX = a.screenX;
      this.screenY = a.screenY;
      this.computeInitialPosition();
      this.pageScroll = Pf(this.document_).getDocumentScroll()
    }
  };
  f.setupDragHandlers = function() {
    var a = this.document_,
      b = a.documentElement,
      c = !this.useSetCapture_;
    this.eventHandler_.listen(a, ["touchmove", "mousemove"], this.handleMove_, {
      capture: c,
      passive: !1
    });
    this.eventHandler_.listen(a, ["touchend", "mouseup"], this.endDrag, c);
    this.useSetCapture_ ? (b.setCapture(!1), this.eventHandler_.listen(b, "losecapture", this.endDrag)) : this.eventHandler_.listen(a ? $f(a) : window, "blur", this.endDrag);
    de && this.ieDragStartCancellingOn_ && this.eventHandler_.listen(a, "dragstart", Ii);
    this.scrollTarget_ &&
      this.eventHandler_.listen(this.scrollTarget_, "scroll", this.onScroll_, c)
  };
  f.fireDragStart_ = function(a) {
    return this.dispatchEvent(new Tk("start", this, a.clientX, a.clientY, a))
  };
  f.cleanUpAfterDragging_ = function() {
    this.eventHandler_.removeAll();
    this.useSetCapture_ && this.document_.releaseCapture()
  };
  f.endDrag = function(a, b) {
    this.cleanUpAfterDragging_();
    this.dragging_ ? (this.dragging_ = !1, this.dispatchEvent(new Tk("end", this, a.clientX, a.clientY, a, this.limitX(this.deltaX), this.limitY(this.deltaY), b || "touchcancel" == a.type))) : this.dispatchEvent("earlycancel")
  };
  f.endDragCancel = function(a) {
    this.endDrag(a, !0)
  };
  f.handleMove_ = function(a) {
    if (this.enabled_) {
      var b = (this.useRightPositioningForRtl_ && this.isRightToLeft_() ? -1 : 1) * (a.clientX - this.clientX),
        c = a.clientY - this.clientY;
      this.clientX = a.clientX;
      this.clientY = a.clientY;
      this.screenX = a.screenX;
      this.screenY = a.screenY;
      if (!this.dragging_) {
        var d = this.startX - this.clientX,
          e = this.startY - this.clientY;
        if (d * d + e * e > this.hysteresisDistanceSquared_)
          if (this.fireDragStart_(a)) this.dragging_ = !0;
          else {
            this.isDisposed() || this.endDrag(a);
            return
          }
      }
      c = this.calculatePosition_(b, c);
      b = c.x;
      c = c.y;
      this.dragging_ && this.dispatchEvent(new Tk("beforedrag", this, a.clientX, a.clientY, a, b, c)) && (this.doDrag(a, b, c, !1), a.preventDefault())
    }
  };
  f.calculatePosition_ = function(a, b) {
    var c = Pf(this.document_).getDocumentScroll();
    a += c.x - this.pageScroll.x;
    b += c.y - this.pageScroll.y;
    this.pageScroll = c;
    this.deltaX += a;
    this.deltaY += b;
    return new Lf(this.limitX(this.deltaX), this.limitY(this.deltaY))
  };
  f.onScroll_ = function(a) {
    var b = this.calculatePosition_(0, 0);
    a.clientX = this.clientX;
    a.clientY = this.clientY;
    this.doDrag(a, b.x, b.y, !0)
  };
  f.doDrag = function(a, b, c) {
    this.defaultAction(b, c);
    this.dispatchEvent(new Tk("drag", this, a.clientX, a.clientY, a, b, c))
  };
  f.limitX = function(a) {
    var b = this.limits,
      c = isNaN(b.left) ? null : b.left;
    b = isNaN(b.width) ? 0 : b.width;
    return Math.min(null != c ? c + b : Infinity, Math.max(null != c ? c : -Infinity, a))
  };
  f.limitY = function(a) {
    var b = this.limits,
      c = isNaN(b.top) ? null : b.top;
    b = isNaN(b.height) ? 0 : b.height;
    return Math.min(null != c ? c + b : Infinity, Math.max(null != c ? c : -Infinity, a))
  };
  f.computeInitialPosition = function() {
    this.deltaX = this.useRightPositioningForRtl_ ? Pk(this.target) : this.target.offsetLeft;
    this.deltaY = this.target.offsetTop
  };
  f.defaultAction = function(a, b) {
    this.useRightPositioningForRtl_ && this.isRightToLeft_() ? this.target.style.right = a + "px" : this.target.style.left = a + "px";
    this.target.style.top = b + "px"
  };
  f.isDragging = function() {
    return this.dragging_
  };
  var Tk = function(a, b, c, d, e, g, h, k) {
    Hi.call(this, a);
    this.clientX = c;
    this.clientY = d;
    this.browserEvent = e;
    this.left = E(g) ? g : b.deltaX;
    this.top = E(h) ? h : b.deltaY;
    this.dragger = b;
    this.dragCanceled = !!k
  };
  K(Tk, Hi);
  var Uk = function() {
    lj.call(this);
    this.hysteresisDistance_ = 0;
    this.dragLists_ = [];
    this.dragItems_ = [];
    this.dragItemForHandle_ = {};
    this.eventHandler_ = new Fk(this);
    this.isCurrDragItemAlwaysDisplayed_ = this.isInitialized_ = !1;
    this.updateWhileDragging_ = !0
  };
  K(Uk, lj);
  var Vk = new Gi("a"),
    Wk = new Gi("beforedragstart"),
    Xk = new Gi("dragstart"),
    Yk = new Gi("beforedragmove"),
    Zk = new Gi("dragmove"),
    $k = new Gi("beforedragend"),
    al = new Gi("dragend"),
    bl = new Gi("b");
  f = Uk.prototype;
  f.setIsCurrDragItemAlwaysDisplayed = function() {
    this.isCurrDragItemAlwaysDisplayed_ = !0
  };
  f.setNoUpdateWhileDragging = function() {
    this.updateWhileDragging_ = !1
  };
  f.setHysteresis = function(a) {
    this.hysteresisDistance_ = a
  };
  f.getHysteresis = function() {
    return this.hysteresisDistance_
  };
  f.isDragging = function() {
    return !!this.dragger_
  };
  f.addDragList = function(a, b, c, d, e) {
    a.dlgGrowthDirection_ = b;
    a.dlgDragHoverClass_ = d;
    a.dlgDragPermission = e || 0;
    this.dragLists_.push(a)
  };
  f.setFunctionToGetHandleForDragItem = function(a) {
    this.getHandleForDragItem_ = a
  };
  f.setDragItemHoverClass = function(a) {
    this.dragItemHoverClasses_ = ub(arguments, 0)
  };
  f.setDragItemHandleHoverClass = function(a) {
    this.dragItemHandleHoverClasses_ = ub(arguments, 0)
  };
  f.setCurrDragItemClass = function(a) {
    this.currDragItemClasses_ = ub(arguments, 0)
  };
  f.setDraggerElClass = function(a) {
    this.draggerElClasses_ = cc(a).split(" ")
  };
  f.init = function() {
    if (!this.isInitialized_) {
      for (var a = 0, b = this.dragLists_.length; a < b; a++)
        for (var c = jg(this.dragLists_[a]), d = 0, e = c.length; d < e; ++d) this.listenForDragEvents(c[d]);
      this.isInitialized_ = !0
    }
  };
  f.addItemToDragList = function(a, b, c) {
    E(c) ? hg(a, b, c) : a.appendChild(b);
    this.listenForDragEvents(b)
  };
  f.disposeInternal = function() {
    this.eventHandler_.dispose();
    for (var a = 0, b = this.dragLists_.length; a < b; a++) {
      var c = this.dragLists_[a];
      c.dlgGrowthDirection_ = void 0;
      c.dlgDragHoverClass_ = void 0
    }
    this.dragLists_.length = 0;
    this.dragItems_.length = 0;
    this.dragItemForHandle_ = null;
    this.cleanupDragDom_();
    Uk.superClass_.disposeInternal.call(this)
  };
  f.recacheListAndItemBounds = function() {
    this.recacheListAndItemBounds_(this.currDragItem_)
  };
  f.recacheListAndItemBounds_ = function(a) {
    for (var b = 0, c = this.dragLists_.length; b < c; b++) {
      var d = this.dragLists_[b];
      d.dlgBounds_ = Rg(d)
    }
    b = 0;
    for (c = this.dragItems_.length; b < c; b++) d = this.dragItems_[b], d != a && (d.dlgBounds_ = Rg(d))
  };
  f.listenForDragEvents = function(a) {
    var b = this.getHandleForDragItem_(a),
      c = Wa(b);
    this.dragItemForHandle_[c] = a;
    this.dragItemHoverClasses_ && (this.eventHandler_.listen(a, "mouseover", this.handleDragItemMouseover_), this.eventHandler_.listen(a, "mouseout", this.handleDragItemMouseout_));
    this.dragItemHandleHoverClasses_ && (this.eventHandler_.listen(b, "mouseover", this.handleDragItemHandleMouseover_), this.eventHandler_.listen(b, "mouseout", this.handleDragItemHandleMouseout_));
    this.dragItems_.push(a);
    this.eventHandler_.listen(b,
      ["mousedown", "touchstart"], this.handlePotentialDragStart_)
  };
  f.handlePotentialDragStart_ = function(a) {
    var b = Wa(a.currentTarget);
    b = this.dragItemForHandle_[b];
    if (2 != b.parentElement.dlgDragPermission) {
      this.currDragItem_ = b;
      this.draggerEl_ = this.createDragElementInternal(this.currDragItem_);
      this.draggerElClasses_ && rk(this.draggerEl_, this.draggerElClasses_ || []);
      this.draggerEl_.style.margin = "0";
      this.draggerEl_.style.position = "absolute";
      this.draggerEl_.style.visibility = "hidden";
      Of(this.currDragItem_).body.appendChild(this.draggerEl_);
      var c = Ng(this.currDragItem_);
      b = this.draggerEl_;
      var d = c;
      c = void 0;
      var e = Ng(b);
      d instanceof Lf && (c = d.y, d = d.x);
      var g = b.offsetLeft + (d - e.x);
      g instanceof Lf ? (d = g.x, c = g.y) : (d = g, c = b.offsetTop + (Number(c) - e.y));
      b.style.left = Og(d, !1);
      b.style.top = Og(c, !1);
      this.dragger_ = new Sk(this.draggerEl_);
      this.dragger_.setHysteresis(this.hysteresisDistance_);
      $i(this.dragger_, "start", this.handleDragStart_, !1, this);
      $i(this.dragger_, "end", this.handleDragEnd_, !1, this);
      $i(this.dragger_, "earlycancel", this.cleanup_, !1, this);
      this.dispatchEvent(new cl(Vk, this, a, this.currDragItem_,
        this.draggerEl_, this.dragger_));
      this.dragger_.startDrag(a)
    }
  };
  f.cloneNode_ = function(a) {
    a: {
      for (var b = a.cloneNode(!0), c = (a || document).getElementsByTagName("TEXTAREA"), d = (b || document).getElementsByTagName("TEXTAREA"), e = 0; e < c.length; e++) d[e].value = c[e].value;
      switch (a.tagName) {
        case "TR":
          a = bg("TABLE", null, bg("TBODY", null, b));
          break a;
        case "TD":
        case "TH":
          a = bg("TABLE", null, bg("TBODY", null, bg("TR", null, b)));
          break a;
        case "TEXTAREA":
          b.value = a.value;
        default:
          a = b
      }
    }
    return a
  };
  f.createDragElementInternal = function(a) {
    return this.cloneNode_(a)
  };
  f.handleDragStart_ = function(a) {
    if (this.dispatchEvent(new cl(Wk, this, a.browserEvent, this.currDragItem_, null, null))) {
      this.origList_ = this.currDragItem_.parentNode;
      this.currHoverItem_ = this.origNextItem_ = lg(this.currDragItem_);
      this.currHoverList_ = this.origList_;
      this.currDragItemClasses_ ? rk(this.currDragItem_, this.currDragItemClasses_ || []) : this.currDragItem_.style.visibility = "hidden";
      var b = Pg(Qg, this.draggerEl_);
      this.draggerEl_.halfWidth = b.width / 2;
      this.draggerEl_.halfHeight = b.height / 2;
      this.draggerEl_.style.visibility =
        "";
      this.updateWhileDragging_ && (this.currDragItem_.style.display = "none");
      this.recacheListAndItemBounds_(this.currDragItem_);
      this.currDragItem_.style.display = "";
      $i(this.dragger_, "drag", this.handleDragMove_, !1, this);
      this.dispatchEvent(new cl(Xk, this, a.browserEvent, this.currDragItem_, this.draggerEl_, this.dragger_))
    } else a.preventDefault(), this.cleanup_()
  };
  f.handleDragMove_ = function(a) {
    var b = Ng(this.draggerEl_);
    b = new Lf(b.x + this.draggerEl_.halfWidth, b.y + this.draggerEl_.halfHeight);
    var c = this.getHoverDragList_(b),
      d = c ? this.getHoverNextItem_(c, b) : null;
    if (!this.dispatchEvent(new cl(Yk, this, a, this.currDragItem_, this.draggerEl_, this.dragger_, b, c, d))) return !1;
    if (c && 1 != c.dlgDragPermission) this.updateWhileDragging_ ? this.insertCurrDragItem_(c, d) : this.updateCurrHoverItem(d, b), this.currDragItem_.style.display = "", c.dlgDragHoverClass_ && qk(c, c.dlgDragHoverClass_);
    else {
      this.isCurrDragItemAlwaysDisplayed_ || (this.currDragItem_.style.display = "none");
      for (var e = 0, g = this.dragLists_.length; e < g; e++) {
        var h = this.dragLists_[e];
        h.dlgDragHoverClass_ && sk(h, h.dlgDragHoverClass_)
      }
    }
    c != this.currHoverList_ && (this.currHoverList_ = c, this.recacheListAndItemBounds_(this.currDragItem_));
    this.dispatchEvent(new cl(Zk, this, a, this.currDragItem_, this.draggerEl_, this.dragger_, b, c, d));
    return !1
  };
  f.cleanup_ = function() {
    this.cleanupDragDom_();
    this.dragger_ = this.draggerEl_ = this.origNextItem_ = this.origList_ = this.currHoverList_ = this.currDragItem_ = null;
    for (var a = 0, b = this.dragLists_.length; a < b; a++) this.dragLists_[a].dlgBounds_ = null;
    a = 0;
    for (b = this.dragItems_.length; a < b; a++) this.dragItems_[a].dlgBounds_ = null
  };
  f.handleDragEnd_ = function(a) {
    if (!this.dispatchEvent(new cl($k, this, a, this.currDragItem_, this.draggerEl_, this.dragger_))) return !1;
    this.updateWhileDragging_ || this.insertCurrHoverItem();
    this.cleanupDragDom_();
    this.dispatchEvent(new cl(al, this, a, this.currDragItem_, this.draggerEl_, this.dragger_));
    this.cleanup_();
    return !0
  };
  f.cleanupDragDom_ = function() {
    Fi(this.dragger_);
    var a = this.draggerEl_ && this.draggerEl_.parentElement;
    this.draggerEl_ && ig(this.draggerEl_);
    this.currDragItem_ && "none" == this.currDragItem_.style.display && (this.origList_.insertBefore(this.currDragItem_, this.origNextItem_), this.currDragItem_.style.display = "");
    this.currDragItemClasses_ && this.currDragItem_ ? tk(this.currDragItem_, this.currDragItemClasses_ || []) : this.currDragItem_ && (this.currDragItem_.style.visibility = "");
    for (var b = 0, c = this.dragLists_.length; b <
      c; b++) {
      var d = this.dragLists_[b];
      d.dlgDragHoverClass_ && sk(d, d.dlgDragHoverClass_)
    }
    a && this.dispatchEvent(new cl(bl, this, null, this.currDragItem_, this.draggerEl_, this.dragger_))
  };
  f.getHandleForDragItem_ = function(a) {
    return a
  };
  f.handleDragItemMouseover_ = function(a) {
    rk(a.currentTarget, this.dragItemHoverClasses_ || [])
  };
  f.handleDragItemMouseout_ = function(a) {
    tk(a.currentTarget, this.dragItemHoverClasses_ || [])
  };
  f.handleDragItemHandleMouseover_ = function(a) {
    rk(a.currentTarget, this.dragItemHandleHoverClasses_ || [])
  };
  f.handleDragItemHandleMouseout_ = function(a) {
    tk(a.currentTarget, this.dragItemHandleHoverClasses_ || [])
  };
  f.getHoverDragList_ = function(a) {
    var b = null;
    if ("none" != this.currDragItem_.style.display) {
      b = this.currDragItem_.parentNode;
      var c = Rg(b);
      if (this.isInRect_(a, c)) return b
    }
    c = 0;
    for (var d = this.dragLists_.length; c < d; c++) {
      var e = this.dragLists_[c];
      if (e != b && this.isInRect_(a, e.dlgBounds_)) return e
    }
    return null
  };
  f.isInRect_ = function(a, b) {
    return a.x > b.left && a.x < b.left + b.width && a.y > b.top && a.y < b.top + b.height
  };
  f.updateCurrHoverItem = function(a) {
    a && (this.currHoverItem_ = a)
  };
  f.insertCurrHoverItem = function() {
    this.origList_.insertBefore(this.currDragItem_, this.currHoverItem_)
  };
  f.getHoverNextItem_ = function(a, b) {
    if (null == a) throw Error("getHoverNextItem_ called with null hoverList.");
    var c = 0,
      d = !1,
      e = void 0;
    switch (a.dlgGrowthDirection_) {
      case 0:
        c = b.y;
        var g = dl;
        var h = el;
        break;
      case 4:
        d = !0;
      case 2:
        c = b.x;
        g = fl;
        h = el;
        break;
      case 5:
        d = !0;
      case 3:
        c = b.x, g = gl, h = hl
    }
    var k = null;
    a = jg(a);
    for (var m = 0, l = a.length; m < l; m++) {
      var q = a[m];
      if (q != this.currDragItem_) {
        var p = g(q.dlgBounds_);
        if (d) {
          var n = il(q, b);
          E(e) || (e = n);
          if (h(c, p) && (void 0 == r || n < e || n == e && (h(p, r) || p == r))) {
            k = q;
            var r = p
          }
          n < e && (e = n)
        } else h(c, p) && (void 0 ==
          r || h(p, r)) && (k = q, r = p)
      }
    }
    return null !== k && il(k, b) > e ? null : k
  };
  var il = function(a, b) {
      a = a.dlgBounds_;
      return Math.abs(b.y - (a.top + (a.height - 1) / 2))
    },
    dl = function(a) {
      return a.top + a.height - 1
    },
    fl = function(a) {
      return a.left + a.width - 1
    },
    gl = function(a) {
      return a.left || 0
    },
    el = function(a, b) {
      return a < b
    },
    hl = function(a, b) {
      return a > b
    };
  Uk.prototype.insertCurrDragItem_ = function(a, b) {
    this.currDragItem_.parentNode == a && lg(this.currDragItem_) == b || a.insertBefore(this.currDragItem_, b)
  };
  var cl = function(a, b, c, d, e, g, h, k, m) {
    Hi.call(this, a);
    this.dragListGroup = b;
    this.event = c;
    this.currDragItem = d;
    this.draggerEl = e;
    this.dragger = g;
    this.draggerElCenter = h;
    this.hoverList = k;
    this.hoverNextItem = m
  };
  K(cl, Hi);
  var jl = function(a, b, c) {
    Ei.call(this);
    this.constrainScroll_ = !1;
    this.horizontalScrolling_ = !0;
    this.containerNode_ = a;
    this.scrollTimer_ = new Kj(50);
    this.eventHandler_ = new Fk(this);
    this.scrollDelta_ = new Lf;
    this.containerBounds_ = Rg(a);
    if ("BODY" === a.tagName || "HTML" === a.tagName) a = Yf(window), this.containerBounds_.height = a.height, this.containerBounds_.width = a.width;
    this.margin_ = b || 0;
    this.scrollBounds_ = b ? this.constrainBounds_(this.containerBounds_.clone()) : this.containerBounds_;
    this.setupListeners_(!!c)
  };
  K(jl, Ei);
  f = jl.prototype;
  f.setConstrainScroll = function(a) {
    this.constrainScroll_ = !!this.margin_ && a
  };
  f.setHorizontalScrolling = function(a) {
    this.horizontalScrolling_ = a
  };
  f.constrainBounds_ = function(a) {
    var b = this.margin_;
    if (b) {
      var c = Math.min(b, .25 * a.height);
      a.top += c;
      a.height -= 2 * c;
      b = Math.min(b, .25 * a.width);
      a.left += b;
      a.width -= 2 * b
    }
    return a
  };
  f.setupListeners_ = function(a) {
    a || this.eventHandler_.listen(Of(this.containerNode_), "mousemove", this.onMouseMove);
    this.eventHandler_.listen(this.scrollTimer_, "tick", this.onTick_)
  };
  f.onTick_ = function() {
    this.containerNode_.scrollTop += this.scrollDelta_.y;
    this.containerNode_.scrollLeft += this.scrollDelta_.x
  };
  f.onMouseMove = function(a) {
    var b = this.horizontalScrolling_ ? this.calculateScrollDelta(a.clientX, this.scrollBounds_.left, this.scrollBounds_.width) : 0,
      c = this.calculateScrollDelta(a.clientY, this.scrollBounds_.top, this.scrollBounds_.height);
    this.scrollDelta_.x = b;
    this.scrollDelta_.y = c;
    !b && !c || this.constrainScroll_ && !this.isInContainerBounds_(a.clientX, a.clientY) ? this.scrollTimer_.stop() : this.scrollTimer_.enabled || this.scrollTimer_.start()
  };
  f.isInContainerBounds_ = function(a, b) {
    var c = this.containerBounds_;
    return c.left <= a && c.left + c.width >= a && c.top <= b && c.top + c.height >= b
  };
  f.calculateScrollDelta = function(a, b, c) {
    var d = 0;
    a < b ? d = -8 : a > b + c && (d = 8);
    return d
  };
  f.disposeInternal = function() {
    jl.superClass_.disposeInternal.call(this);
    this.eventHandler_.dispose();
    this.scrollTimer_.dispose()
  };
  var kl = function(a) {
      return /^\s*$/.test(a) ? !1 : /^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g, "@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g, "]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g, ""))
    },
    ll = function(a) {
      a = String(a);
      if (kl(a)) try {
        return eval("(" + a + ")")
      } catch (b) {}
      throw Error("Invalid JSON string: " + a);
    },
    nl = function(a, b) {
      return (new ml(b)).serialize(a)
    },
    ml = function(a) {
      this.replacer_ = a
    };
  ml.prototype.serialize = function(a) {
    var b = [];
    this.serializeInternal(a, b);
    return b.join("")
  };
  ml.prototype.serializeInternal = function(a, b) {
    if (null == a) b.push("null");
    else {
      if ("object" == typeof a) {
        if (Pa(a)) {
          this.serializeArray(a, b);
          return
        }
        if (a instanceof String || a instanceof Number || a instanceof Boolean) a = a.valueOf();
        else {
          this.serializeObject_(a, b);
          return
        }
      }
      switch (typeof a) {
        case "string":
          this.serializeString_(a, b);
          break;
        case "number":
          this.serializeNumber_(a, b);
          break;
        case "boolean":
          b.push(String(a));
          break;
        case "function":
          b.push("null");
          break;
        default:
          throw Error("Unknown type: " + typeof a);
      }
    }
  };
  var ol = {
      '"': '\\"',
      "\\": "\\\\",
      "/": "\\/",
      "\b": "\\b",
      "\f": "\\f",
      "\n": "\\n",
      "\r": "\\r",
      "\t": "\\t",
      "\x0B": "\\u000b"
    },
    pl = /\uffff/.test("\uffff") ? /[\\"\x00-\x1f\x7f-\uffff]/g : /[\\"\x00-\x1f\x7f-\xff]/g;
  ml.prototype.serializeString_ = function(a, b) {
    b.push('"', a.replace(pl, function(c) {
      var d = ol[c];
      d || (d = "\\u" + (c.charCodeAt(0) | 65536).toString(16).substr(1), ol[c] = d);
      return d
    }), '"')
  };
  ml.prototype.serializeNumber_ = function(a, b) {
    b.push(isFinite(a) && !isNaN(a) ? String(a) : "null")
  };
  ml.prototype.serializeArray = function(a, b) {
    var c = a.length;
    b.push("[");
    for (var d = "", e = 0; e < c; e++) b.push(d), d = a[e], this.serializeInternal(this.replacer_ ? this.replacer_.call(a, String(e), d) : d, b), d = ",";
    b.push("]")
  };
  ml.prototype.serializeObject_ = function(a, b) {
    b.push("{");
    var c = "",
      d;
    for (d in a)
      if (Object.prototype.hasOwnProperty.call(a, d)) {
        var e = a[d];
        "function" != typeof e && (b.push(c), this.serializeString_(d, b), b.push(":"), this.serializeInternal(this.replacer_ ? this.replacer_.call(a, d, e) : e, b), c = ",")
      } b.push("}")
  };
  var ql = function(a) {
      if (a.getValues && "function" == typeof a.getValues) return a.getValues();
      if (Ga(a)) return a.split("");
      if (Ra(a)) {
        for (var b = [], c = a.length, d = 0; d < c; d++) b.push(a[d]);
        return b
      }
      return Ab(a)
    },
    rl = function(a, b, c) {
      if (a.forEach && "function" == typeof a.forEach) a.forEach(b, c);
      else if (Ra(a) || Ga(a)) hb(a, b, c);
      else {
        if (a.getKeys && "function" == typeof a.getKeys) var d = a.getKeys();
        else if (a.getValues && "function" == typeof a.getValues) d = void 0;
        else if (Ra(a) || Ga(a)) {
          d = [];
          for (var e = a.length, g = 0; g < e; g++) d.push(g)
        } else d = Bb(a);
        e = ql(a);
        g = e.length;
        for (var h = 0; h < g; h++) b.call(c, e[h], d && d[h], a)
      }
    };
  var sl = function(a, b) {
    this.domain_ = this.userInfo_ = this.scheme_ = "";
    this.port_ = null;
    this.fragment_ = this.path_ = "";
    this.ignoreCase_ = this.isReadOnly_ = !1;
    var c;
    a instanceof sl ? (this.ignoreCase_ = E(b) ? b : a.getIgnoreCase(), this.setScheme(a.getScheme()), this.setUserInfo(a.getUserInfo()), this.setDomain(a.getDomain()), this.setPort(a.getPort()), this.setPath(a.getPath()), this.setQueryData(a.getQueryData().clone()), this.setFragment(a.getFragment())) : a && (c = uj(String(a))) ? (this.ignoreCase_ = !!b, this.setScheme(c[1] ||
      "", !0), this.setUserInfo(c[2] || "", !0), this.setDomain(c[3] || "", !0), this.setPort(c[4]), this.setPath(c[5] || "", !0), this.setQueryData(c[6] || "", !0), this.setFragment(c[7] || "", !0)) : (this.ignoreCase_ = !!b, this.queryData_ = new tl(null, null, this.ignoreCase_))
  };
  f = sl.prototype;
  f.toString = function() {
    var a = [],
      b = this.getScheme();
    b && a.push(ul(b, vl, !0), ":");
    var c = this.getDomain();
    if (c || "file" == b) a.push("//"), (b = this.getUserInfo()) && a.push(ul(b, vl, !0), "@"), a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), c = this.getPort(), null != c && a.push(":", String(c));
    if (c = this.getPath()) this.hasDomain() && "/" != c.charAt(0) && a.push("/"), a.push(ul(c, "/" == c.charAt(0) ? wl : xl, !0));
    (c = this.getEncodedQuery()) && a.push("?", c);
    (c = this.getFragment()) && a.push("#", ul(c, yl));
    return a.join("")
  };
  f.resolve = function(a) {
    var b = this.clone(),
      c = a.hasScheme();
    c ? b.setScheme(a.getScheme()) : c = a.hasUserInfo();
    c ? b.setUserInfo(a.getUserInfo()) : c = a.hasDomain();
    c ? b.setDomain(a.getDomain()) : c = a.hasPort();
    var d = a.getPath();
    if (c) b.setPort(a.getPort());
    else if (c = a.hasPath()) {
      if ("/" != d.charAt(0))
        if (this.hasDomain() && !this.hasPath()) d = "/" + d;
        else {
          var e = b.getPath().lastIndexOf("/"); - 1 != e && (d = b.getPath().substr(0, e + 1) + d)
        } e = d;
      if (".." == e || "." == e) d = "";
      else if (-1 != e.indexOf("./") || -1 != e.indexOf("/.")) {
        d = bc(e, "/");
        e =
          e.split("/");
        for (var g = [], h = 0; h < e.length;) {
          var k = e[h++];
          "." == k ? d && h == e.length && g.push("") : ".." == k ? ((1 < g.length || 1 == g.length && "" != g[0]) && g.pop(), d && h == e.length && g.push("")) : (g.push(k), d = !0)
        }
        d = g.join("/")
      } else d = e
    }
    c ? b.setPath(d) : c = a.hasQuery();
    c ? b.setQueryData(a.getQueryData().clone()) : c = a.hasFragment();
    c && b.setFragment(a.getFragment());
    return b
  };
  f.clone = function() {
    return new sl(this)
  };
  f.getScheme = function() {
    return this.scheme_
  };
  f.setScheme = function(a, b) {
    this.enforceReadOnly();
    if (this.scheme_ = b ? zl(a, !0) : a) this.scheme_ = this.scheme_.replace(/:$/, "");
    return this
  };
  f.hasScheme = function() {
    return !!this.scheme_
  };
  f.getUserInfo = function() {
    return this.userInfo_
  };
  f.setUserInfo = function(a, b) {
    this.enforceReadOnly();
    this.userInfo_ = b ? zl(a) : a;
    return this
  };
  f.hasUserInfo = function() {
    return !!this.userInfo_
  };
  f.getDomain = function() {
    return this.domain_
  };
  f.setDomain = function(a, b) {
    this.enforceReadOnly();
    this.domain_ = b ? zl(a, !0) : a;
    return this
  };
  f.hasDomain = function() {
    return !!this.domain_
  };
  f.getPort = function() {
    return this.port_
  };
  f.setPort = function(a) {
    this.enforceReadOnly();
    if (a) {
      a = Number(a);
      if (isNaN(a) || 0 > a) throw Error("Bad port number " + a);
      this.port_ = a
    } else this.port_ = null;
    return this
  };
  f.hasPort = function() {
    return null != this.port_
  };
  f.getPath = function() {
    return this.path_
  };
  f.setPath = function(a, b) {
    this.enforceReadOnly();
    this.path_ = b ? zl(a, !0) : a;
    return this
  };
  f.hasPath = function() {
    return !!this.path_
  };
  f.hasQuery = function() {
    return "" !== this.queryData_.toString()
  };
  f.setQueryData = function(a, b) {
    this.enforceReadOnly();
    a instanceof tl ? (this.queryData_ = a, this.queryData_.setIgnoreCase(this.ignoreCase_)) : (b || (a = ul(a, Al)), this.queryData_ = new tl(a, null, this.ignoreCase_));
    return this
  };
  f.setQuery = function(a, b) {
    return this.setQueryData(a, b)
  };
  f.getEncodedQuery = function() {
    return this.queryData_.toString()
  };
  f.getDecodedQuery = function() {
    return this.queryData_.toDecodedString()
  };
  f.getQueryData = function() {
    return this.queryData_
  };
  f.getQuery = function() {
    return this.getEncodedQuery()
  };
  f.setParameterValue = function(a, b) {
    this.enforceReadOnly();
    this.queryData_.set(a, b);
    return this
  };
  f.setParameterValues = function(a, b) {
    this.enforceReadOnly();
    Pa(b) || (b = [String(b)]);
    this.queryData_.setValues(a, b);
    return this
  };
  f.getParameterValues = function(a) {
    return this.queryData_.getValues(a)
  };
  f.getParameterValue = function(a) {
    return this.queryData_.get(a)
  };
  f.getFragment = function() {
    return this.fragment_
  };
  f.setFragment = function(a, b) {
    this.enforceReadOnly();
    this.fragment_ = b ? zl(a) : a;
    return this
  };
  f.hasFragment = function() {
    return !!this.fragment_
  };
  f.hasSameDomainAs = function(a) {
    return (!this.hasDomain() && !a.hasDomain() || this.getDomain() == a.getDomain()) && (!this.hasPort() && !a.hasPort() || this.getPort() == a.getPort())
  };
  f.makeUnique = function() {
    this.enforceReadOnly();
    this.setParameterValue("zx", dd());
    return this
  };
  f.removeParameter = function(a) {
    this.enforceReadOnly();
    this.queryData_.remove(a);
    return this
  };
  f.setReadOnly = function(a) {
    this.isReadOnly_ = a;
    return this
  };
  f.isReadOnly = function() {
    return this.isReadOnly_
  };
  f.enforceReadOnly = function() {
    if (this.isReadOnly_) throw Error("Tried to modify a read-only Uri");
  };
  f.setIgnoreCase = function(a) {
    this.ignoreCase_ = a;
    this.queryData_ && this.queryData_.setIgnoreCase(a);
    return this
  };
  f.getIgnoreCase = function() {
    return this.ignoreCase_
  };
  var Bl = function(a, b) {
      return a instanceof sl ? a.clone() : new sl(a, b)
    },
    zl = function(a, b) {
      return a ? b ? decodeURI(a.replace(/%25/g, "%2525")) : decodeURIComponent(a) : ""
    },
    ul = function(a, b, c) {
      return Ga(a) ? (a = encodeURI(a).replace(b, Cl), c && (a = a.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), a) : null
    },
    Cl = function(a) {
      a = a.charCodeAt(0);
      return "%" + (a >> 4 & 15).toString(16) + (a & 15).toString(16)
    },
    vl = /[#\/\?@]/g,
    xl = /[#\?:]/g,
    wl = /[#\?]/g,
    Al = /[#\?@]/g,
    yl = /#/g,
    tl = function(a, b, c) {
      this.count_ = this.keyMap_ = null;
      this.encodedQuery_ = a || null;
      this.ignoreCase_ = !!c
    };
  f = tl.prototype;
  f.ensureKeyMapInitialized_ = function() {
    if (!this.keyMap_ && (this.keyMap_ = new zk, this.count_ = 0, this.encodedQuery_)) {
      var a = this;
      yj(this.encodedQuery_, function(b, c) {
        a.add($c(b), c)
      })
    }
  };
  f.getCount = function() {
    this.ensureKeyMapInitialized_();
    return this.count_
  };
  f.add = function(a, b) {
    this.ensureKeyMapInitialized_();
    this.invalidateCache_();
    a = this.getKeyName_(a);
    var c = this.keyMap_.get(a);
    c || this.keyMap_.set(a, c = []);
    c.push(b);
    this.count_ += 1;
    return this
  };
  f.remove = function(a) {
    this.ensureKeyMapInitialized_();
    a = this.getKeyName_(a);
    return this.keyMap_.containsKey(a) ? (this.invalidateCache_(), this.count_ -= this.keyMap_.get(a).length, this.keyMap_.remove(a)) : !1
  };
  f.clear = function() {
    this.invalidateCache_();
    this.keyMap_ = null;
    this.count_ = 0
  };
  f.isEmpty = function() {
    this.ensureKeyMapInitialized_();
    return 0 == this.count_
  };
  f.containsKey = function(a) {
    this.ensureKeyMapInitialized_();
    a = this.getKeyName_(a);
    return this.keyMap_.containsKey(a)
  };
  f.containsValue = function(a) {
    var b = this.getValues();
    return pb(b, a)
  };
  f.forEach = function(a, b) {
    this.ensureKeyMapInitialized_();
    this.keyMap_.forEach(function(c, d) {
      hb(c, function(e) {
        a.call(b, e, d, this)
      }, this)
    }, this)
  };
  f.getKeys = function() {
    this.ensureKeyMapInitialized_();
    for (var a = this.keyMap_.getValues(), b = this.keyMap_.getKeys(), c = [], d = 0; d < b.length; d++)
      for (var e = a[d], g = 0; g < e.length; g++) c.push(b[d]);
    return c
  };
  f.getValues = function(a) {
    this.ensureKeyMapInitialized_();
    var b = [];
    if (Ga(a)) this.containsKey(a) && (b = rb(b, this.keyMap_.get(this.getKeyName_(a))));
    else {
      a = this.keyMap_.getValues();
      for (var c = 0; c < a.length; c++) b = rb(b, a[c])
    }
    return b
  };
  f.set = function(a, b) {
    this.ensureKeyMapInitialized_();
    this.invalidateCache_();
    a = this.getKeyName_(a);
    this.containsKey(a) && (this.count_ -= this.keyMap_.get(a).length);
    this.keyMap_.set(a, [b]);
    this.count_ += 1;
    return this
  };
  f.get = function(a, b) {
    if (!a) return b;
    a = this.getValues(a);
    return 0 < a.length ? String(a[0]) : b
  };
  f.setValues = function(a, b) {
    this.remove(a);
    0 < b.length && (this.invalidateCache_(), this.keyMap_.set(this.getKeyName_(a), sb(b)), this.count_ += b.length)
  };
  f.toString = function() {
    if (this.encodedQuery_) return this.encodedQuery_;
    if (!this.keyMap_) return "";
    for (var a = [], b = this.keyMap_.getKeys(), c = 0; c < b.length; c++) {
      var d = b[c],
        e = encodeURIComponent(String(d));
      d = this.getValues(d);
      for (var g = 0; g < d.length; g++) {
        var h = e;
        "" !== d[g] && (h += "=" + encodeURIComponent(String(d[g])));
        a.push(h)
      }
    }
    return this.encodedQuery_ = a.join("&")
  };
  f.toDecodedString = function() {
    return zl(this.toString())
  };
  f.invalidateCache_ = function() {
    this.encodedQuery_ = null
  };
  f.filterKeys = function(a) {
    this.ensureKeyMapInitialized_();
    this.keyMap_.forEach(function(b, c) {
      pb(a, c) || this.remove(c)
    }, this);
    return this
  };
  f.clone = function() {
    var a = new tl;
    a.encodedQuery_ = this.encodedQuery_;
    this.keyMap_ && (a.keyMap_ = this.keyMap_.clone(), a.count_ = this.count_);
    return a
  };
  f.getKeyName_ = function(a) {
    a = String(a);
    this.ignoreCase_ && (a = a.toLowerCase());
    return a
  };
  f.setIgnoreCase = function(a) {
    a && !this.ignoreCase_ && (this.ensureKeyMapInitialized_(), this.invalidateCache_(), this.keyMap_.forEach(function(b, c) {
      var d = c.toLowerCase();
      c != d && (this.remove(c), this.setValues(d, b))
    }, this));
    this.ignoreCase_ = a
  };
  f.extend = function(a) {
    for (var b = 0; b < arguments.length; b++) rl(arguments[b], function(c, d) {
      this.add(d, c)
    }, this)
  };
  var Dl = function() {};
  Dl.prototype.cachedOptions_ = null;
  Dl.prototype.getOptions = function() {
    return this.cachedOptions_ || (this.cachedOptions_ = this.internalGetOptions())
  };
  var El, Fl = function() {};
  K(Fl, Dl);
  Fl.prototype.createInstance = function() {
    var a = this.getProgId_();
    return a ? new ActiveXObject(a) : new XMLHttpRequest
  };
  Fl.prototype.internalGetOptions = function() {
    var a = {};
    this.getProgId_() && (a[0] = !0, a[1] = !0);
    return a
  };
  Fl.prototype.getProgId_ = function() {
    if (!this.ieProgId_ && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {
      for (var a = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], b = 0; b < a.length; b++) {
        var c = a[b];
        try {
          return new ActiveXObject(c), this.ieProgId_ = c
        } catch (d) {}
      }
      throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
    }
    return this.ieProgId_
  };
  El = new Fl;
  var Gl = function(a) {
    lj.call(this);
    this.headers = new zk;
    this.xmlHttpFactory_ = a || null;
    this.active_ = !1;
    this.xhrOptions_ = this.xhr_ = null;
    this.lastMethod_ = this.lastUri_ = "";
    this.lastErrorCode_ = 0;
    this.lastError_ = "";
    this.inAbort_ = this.inOpen_ = this.inSend_ = this.errorDispatched_ = !1;
    this.timeoutInterval_ = 0;
    this.timeoutId_ = null;
    this.responseType_ = "";
    this.useXhr2Timeout_ = this.progressEventsEnabled_ = this.withCredentials_ = !1
  };
  K(Gl, lj);
  Gl.prototype.logger_ = null;
  var Hl = /^https?$/i,
    Il = ["POST", "PUT"],
    Jl = [];
  f = Gl.prototype;
  f.cleanupSend_ = function() {
    this.dispose();
    qb(Jl, this)
  };
  f.getTimeoutInterval = function() {
    return this.timeoutInterval_
  };
  f.setTimeoutInterval = function(a) {
    this.timeoutInterval_ = Math.max(0, a)
  };
  f.setResponseType = function(a) {
    this.responseType_ = a
  };
  f.getResponseType = function() {
    return this.responseType_
  };
  f.setWithCredentials = function(a) {
    this.withCredentials_ = a
  };
  f.getWithCredentials = function() {
    return this.withCredentials_
  };
  f.setProgressEventsEnabled = function(a) {
    this.progressEventsEnabled_ = a
  };
  f.getProgressEventsEnabled = function() {
    return this.progressEventsEnabled_
  };
  f.send = function(a, b, c, d) {
    if (this.xhr_) throw Error("[goog.net.XhrIo] Object is active with another request=" + this.lastUri_ + "; newUri=" + a);
    b = b ? b.toUpperCase() : "GET";
    this.lastUri_ = a;
    this.lastError_ = "";
    this.lastErrorCode_ = 0;
    this.lastMethod_ = b;
    this.errorDispatched_ = !1;
    this.active_ = !0;
    this.xhr_ = this.createXhr();
    this.xhrOptions_ = this.xmlHttpFactory_ ? this.xmlHttpFactory_.getOptions() : El.getOptions();
    this.xhr_.onreadystatechange = $a(this.onReadyStateChange_, this);
    this.getProgressEventsEnabled() && "onprogress" in
      this.xhr_ && (this.xhr_.onprogress = $a(function(g) {
        this.onProgressHandler_(g, !0)
      }, this), this.xhr_.upload && (this.xhr_.upload.onprogress = $a(this.onProgressHandler_, this)));
    try {
      this.inOpen_ = !0, this.xhr_.open(b, String(a), !0), this.inOpen_ = !1
    } catch (g) {
      this.error_(5, g);
      return
    }
    a = c || "";
    var e = this.headers.clone();
    d && rl(d, function(g, h) {
      e.set(h, g)
    });
    d = ob(e.getKeys(), Kl);
    c = D.FormData && a instanceof D.FormData;
    !pb(Il, b) || d || c || e.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
    e.forEach(function(g, h) {
      this.xhr_.setRequestHeader(h, g)
    }, this);
    this.responseType_ && (this.xhr_.responseType = this.responseType_);
    "withCredentials" in this.xhr_ && this.xhr_.withCredentials !== this.withCredentials_ && (this.xhr_.withCredentials = this.withCredentials_);
    try {
      this.cleanUpTimeoutTimer_(), 0 < this.timeoutInterval_ && ((this.useXhr2Timeout_ = Ll(this.xhr_)) ? (this.xhr_.timeout = this.timeoutInterval_, this.xhr_.ontimeout = $a(this.timeout_, this)) : this.timeoutId_ = Lj(this.timeout_, this.timeoutInterval_, this)), this.inSend_ = !0, this.xhr_.send(a), this.inSend_ = !1
    } catch (g) {
      this.error_(5,
        g)
    }
  };
  var Ll = function(a) {
      return de && xe(9) && Ha(a.timeout) && E(a.ontimeout)
    },
    Kl = function(a) {
      return "content-type" == a.toLowerCase()
    };
  f = Gl.prototype;
  f.createXhr = function() {
    return this.xmlHttpFactory_ ? this.xmlHttpFactory_.createInstance() : El.createInstance()
  };
  f.timeout_ = function() {
    "undefined" != typeof Fa && this.xhr_ && (this.lastError_ = "Timed out after " + this.timeoutInterval_ + "ms, aborting", this.lastErrorCode_ = 8, this.dispatchEvent("timeout"), this.abort(8))
  };
  f.error_ = function(a, b) {
    this.active_ = !1;
    this.xhr_ && (this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1);
    this.lastError_ = b;
    this.lastErrorCode_ = a;
    this.dispatchErrors_();
    this.cleanUpXhr_()
  };
  f.dispatchErrors_ = function() {
    this.errorDispatched_ || (this.errorDispatched_ = !0, this.dispatchEvent("complete"), this.dispatchEvent("error"))
  };
  f.abort = function(a) {
    this.xhr_ && this.active_ && (this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1, this.lastErrorCode_ = a || 7, this.dispatchEvent("complete"), this.dispatchEvent("abort"), this.cleanUpXhr_())
  };
  f.disposeInternal = function() {
    this.xhr_ && (this.active_ && (this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1), this.cleanUpXhr_(!0));
    Gl.superClass_.disposeInternal.call(this)
  };
  f.onReadyStateChange_ = function() {
    if (!this.isDisposed())
      if (this.inOpen_ || this.inSend_ || this.inAbort_) this.onReadyStateChangeHelper_();
      else this.onReadyStateChangeEntryPoint_()
  };
  f.onReadyStateChangeEntryPoint_ = function() {
    this.onReadyStateChangeHelper_()
  };
  f.onReadyStateChangeHelper_ = function() {
    if (this.active_ && "undefined" != typeof Fa && (!this.xhrOptions_[1] || 4 != this.getReadyState() || 2 != this.getStatus()))
      if (this.inSend_ && 4 == this.getReadyState()) Lj(this.onReadyStateChange_, 0, this);
      else if (this.dispatchEvent("readystatechange"), this.isComplete()) {
      this.active_ = !1;
      try {
        this.isSuccess() ? (this.dispatchEvent("complete"), this.dispatchEvent("success")) : (this.lastErrorCode_ = 6, this.lastError_ = this.getStatusText() + " [" + this.getStatus() + "]", this.dispatchErrors_())
      } finally {
        this.cleanUpXhr_()
      }
    }
  };
  f.onProgressHandler_ = function(a, b) {
    this.dispatchEvent(Ml(a, "progress"));
    this.dispatchEvent(Ml(a, b ? "downloadprogress" : "uploadprogress"))
  };
  var Ml = function(a, b) {
    return {
      type: b,
      lengthComputable: a.lengthComputable,
      loaded: a.loaded,
      total: a.total
    }
  };
  f = Gl.prototype;
  f.cleanUpXhr_ = function(a) {
    if (this.xhr_) {
      this.cleanUpTimeoutTimer_();
      var b = this.xhr_,
        c = this.xhrOptions_[0] ? Ma : null;
      this.xhrOptions_ = this.xhr_ = null;
      a || this.dispatchEvent("ready");
      try {
        b.onreadystatechange = c
      } catch (d) {}
    }
  };
  f.cleanUpTimeoutTimer_ = function() {
    this.xhr_ && this.useXhr2Timeout_ && (this.xhr_.ontimeout = null);
    this.timeoutId_ && (D.clearTimeout(this.timeoutId_), this.timeoutId_ = null)
  };
  f.isActive = function() {
    return !!this.xhr_
  };
  f.isComplete = function() {
    return 4 == this.getReadyState()
  };
  f.isSuccess = function() {
    var a = this.getStatus();
    a: switch (a) {
      case 200:
      case 201:
      case 202:
      case 204:
      case 206:
      case 304:
      case 1223:
        var b = !0;
        break a;
      default:
        b = !1
    }
    return b || 0 === a && !this.isLastUriEffectiveSchemeHttp_()
  };
  f.isLastUriEffectiveSchemeHttp_ = function() {
    var a = uj(String(this.lastUri_))[1] || null;
    !a && D.self && D.self.location && (a = D.self.location.protocol, a = a.substr(0, a.length - 1));
    return Hl.test(a ? a.toLowerCase() : "")
  };
  f.getReadyState = function() {
    return this.xhr_ ? this.xhr_.readyState : 0
  };
  f.getStatus = function() {
    try {
      return 2 < this.getReadyState() ? this.xhr_.status : -1
    } catch (a) {
      return -1
    }
  };
  f.getStatusText = function() {
    try {
      return 2 < this.getReadyState() ? this.xhr_.statusText : ""
    } catch (a) {
      return ""
    }
  };
  f.getLastUri = function() {
    return String(this.lastUri_)
  };
  f.getResponseText = function() {
    try {
      return this.xhr_ ? this.xhr_.responseText : ""
    } catch (a) {
      return ""
    }
  };
  f.getResponseBody = function() {
    try {
      if (this.xhr_ && "responseBody" in this.xhr_) return this.xhr_.responseBody
    } catch (a) {}
    return null
  };
  f.getResponseXml = function() {
    try {
      return this.xhr_ ? this.xhr_.responseXML : null
    } catch (a) {
      return null
    }
  };
  f.getResponseJson = function(a) {
    if (this.xhr_) {
      var b = this.xhr_.responseText;
      a && 0 == b.indexOf(a) && (b = b.substring(a.length));
      a: {
        a = b;
        if (D.JSON) try {
          var c = D.JSON.parse(a);
          break a
        } catch (d) {}
        c = ll(a)
      }
      return c
    }
  };
  f.getResponse = function() {
    try {
      if (!this.xhr_) return null;
      if ("response" in this.xhr_) return this.xhr_.response;
      switch (this.responseType_) {
        case "":
        case "text":
          return this.xhr_.responseText;
        case "arraybuffer":
          if ("mozResponseArrayBuffer" in this.xhr_) return this.xhr_.mozResponseArrayBuffer
      }
      return null
    } catch (a) {
      return null
    }
  };
  f.getResponseHeader = function(a) {
    if (this.xhr_ && this.isComplete()) return a = this.xhr_.getResponseHeader(a), null === a ? void 0 : a
  };
  f.getAllResponseHeaders = function() {
    return this.xhr_ && this.isComplete() ? this.xhr_.getAllResponseHeaders() || "" : ""
  };
  f.getResponseHeaders = function() {
    for (var a = {}, b = this.getAllResponseHeaders().split("\r\n"), c = 0; c < b.length; c++)
      if (!/^[\s\xa0]*$/.test(b[c])) {
        var d = gd(b[c], ":", 1),
          e = d[0];
        d = d[1];
        if (Ga(d)) {
          d = d.trim();
          var g = a[e] || [];
          a[e] = g;
          g.push(d)
        }
      } return yb(a, function(h) {
      return h.join(", ")
    })
  };
  f.getStreamingResponseHeader = function(a) {
    return this.xhr_ ? this.xhr_.getResponseHeader(a) : null
  };
  f.getAllStreamingResponseHeaders = function() {
    return this.xhr_ ? this.xhr_.getAllResponseHeaders() : ""
  };
  f.getLastErrorCode = function() {
    return this.lastErrorCode_
  };
  f.getLastError = function() {
    return Ga(this.lastError_) ? this.lastError_ : String(this.lastError_)
  };
  f.formatMsg_ = function(a) {
    return a + " [" + this.lastMethod_ + " " + this.lastUri_ + " " + this.getStatus() + "]"
  };
  var Nl = function(a) {
    Ei.call(this);
    this.key_ = 1;
    this.pendingKeys_ = [];
    this.publishDepth_ = 0;
    this.subscriptions_ = [];
    this.topics_ = {};
    this.async_ = !!a
  };
  K(Nl, Ei);
  f = Nl.prototype;
  f.subscribe = function(a, b, c) {
    var d = this.topics_[a];
    d || (d = this.topics_[a] = []);
    var e = this.key_;
    this.subscriptions_[e] = a;
    this.subscriptions_[e + 1] = b;
    this.subscriptions_[e + 2] = c;
    this.key_ = e + 3;
    d.push(e);
    return e
  };
  f.subscribeOnce = function(a, b, c) {
    var d = !1,
      e = this.subscribe(a, function(g) {
        d || (d = !0, this.unsubscribeByKey(e), b.apply(c, arguments))
      }, this);
    return e
  };
  f.unsubscribe = function(a, b, c) {
    if (a = this.topics_[a]) {
      var d = this.subscriptions_;
      if (a = ob(a, function(e) {
          return d[e + 1] == b && d[e + 2] == c
        })) return this.unsubscribeByKey(a)
    }
    return !1
  };
  f.unsubscribeByKey = function(a) {
    var b = this.subscriptions_[a];
    if (b) {
      var c = this.topics_[b];
      0 != this.publishDepth_ ? (this.pendingKeys_.push(a), this.subscriptions_[a + 1] = Ma) : (c && qb(c, a), delete this.subscriptions_[a], delete this.subscriptions_[a + 1], delete this.subscriptions_[a + 2])
    }
    return !!b
  };
  f.publish = function(a, b) {
    var c = this.topics_[a];
    if (c) {
      for (var d = Array(arguments.length - 1), e = 1, g = arguments.length; e < g; e++) d[e - 1] = arguments[e];
      if (this.async_)
        for (e = 0; e < c.length; e++) {
          var h = c[e];
          Ol(this.subscriptions_[h + 1], this.subscriptions_[h + 2], d)
        } else {
          this.publishDepth_++;
          try {
            for (e = 0, g = c.length; e < g; e++) h = c[e], this.subscriptions_[h + 1].apply(this.subscriptions_[h + 2], d)
          } finally {
            if (this.publishDepth_--, 0 < this.pendingKeys_.length && 0 == this.publishDepth_)
              for (; c = this.pendingKeys_.pop();) this.unsubscribeByKey(c)
          }
        }
      return 0 !=
        e
    }
    return !1
  };
  var Ol = function(a, b, c) {
    hh(function() {
      a.apply(b, c)
    })
  };
  Nl.prototype.clear = function(a) {
    if (a) {
      var b = this.topics_[a];
      b && (hb(b, this.unsubscribeByKey, this), delete this.topics_[a])
    } else this.subscriptions_.length = 0, this.topics_ = {}
  };
  Nl.prototype.getCount = function(a) {
    if (a) {
      var b = this.topics_[a];
      return b ? b.length : 0
    }
    a = 0;
    for (b in this.topics_) a += this.getCount(b);
    return a
  };
  Nl.prototype.disposeInternal = function() {
    Nl.superClass_.disposeInternal.call(this);
    this.clear();
    this.pendingKeys_.length = 0
  };
  var Pl = function(a) {
    this.mechanism = a
  };
  Pl.prototype.set = function(a, b) {
    E(b) ? this.mechanism.set(a, nl(b)) : this.mechanism.remove(a)
  };
  Pl.prototype.get = function(a) {
    try {
      var b = this.mechanism.get(a)
    } catch (c) {
      return
    }
    if (null !== b) try {
      return JSON.parse(b)
    } catch (c) {
      throw "Storage: Invalid value was encountered";
    }
  };
  Pl.prototype.remove = function(a) {
    this.mechanism.remove(a)
  };
  var Ql = function(a) {
    this.mechanism = a
  };
  K(Ql, Pl);
  var Rl = function(a) {
      this.data = a
    },
    Sl = function(a) {
      return !E(a) || a instanceof Rl ? a : new Rl(a)
    };
  Ql.prototype.set = function(a, b) {
    Ql.superClass_.set.call(this, a, Sl(b))
  };
  Ql.prototype.getWrapper = function(a) {
    a = Ql.superClass_.get.call(this, a);
    if (!E(a) || a instanceof Object) return a;
    throw "Storage: Invalid value was encountered";
  };
  Ql.prototype.get = function(a) {
    if (a = this.getWrapper(a)) {
      if (a = a.data, !E(a)) throw "Storage: Invalid value was encountered";
    } else a = void 0;
    return a
  };
  var Tl = function(a) {
    this.mechanism = a
  };
  K(Tl, Ql);
  Tl.prototype.set = function(a, b, c) {
    if (b = Sl(b)) {
      if (c) {
        if (c < cb()) {
          Tl.prototype.remove.call(this, a);
          return
        }
        b.expiration = c
      }
      b.creation = cb()
    }
    Tl.superClass_.set.call(this, a, b)
  };
  Tl.prototype.getWrapper = function(a, b) {
    var c = Tl.superClass_.getWrapper.call(this, a);
    if (c) {
      if (b = !b) {
        b = c.creation;
        var d = c.expiration;
        b = !!d && d < cb() || !!b && b > cb()
      }
      if (b) Tl.prototype.remove.call(this, a);
      else return c
    }
  };
  var Ul = function() {};
  var Vl = function() {};
  K(Vl, Ul);
  Vl.prototype.getCount = function() {
    var a = 0;
    xk(this.__iterator__(!0), function() {
      a++
    });
    return a
  };
  Vl.prototype.clear = function() {
    var a = yk(this.__iterator__(!0)),
      b = this;
    hb(a, function(c) {
      b.remove(c)
    })
  };
  var Wl = function(a) {
    this.storage_ = a
  };
  K(Wl, Vl);
  f = Wl.prototype;
  f.isAvailable = function() {
    if (!this.storage_) return !1;
    try {
      return this.storage_.setItem("__sak", "1"), this.storage_.removeItem("__sak"), !0
    } catch (a) {
      return !1
    }
  };
  f.set = function(a, b) {
    try {
      this.storage_.setItem(a, b)
    } catch (c) {
      if (0 == this.storage_.length) throw "Storage mechanism: Storage disabled";
      throw "Storage mechanism: Quota exceeded";
    }
  };
  f.get = function(a) {
    a = this.storage_.getItem(a);
    if (!Ga(a) && null !== a) throw "Storage mechanism: Invalid value was encountered";
    return a
  };
  f.remove = function(a) {
    this.storage_.removeItem(a)
  };
  f.getCount = function() {
    return this.storage_.length
  };
  f.__iterator__ = function(a) {
    var b = 0,
      c = this.storage_,
      d = new vk;
    d.next = function() {
      if (b >= c.length) throw uk;
      var e = c.key(b++);
      if (a) return e;
      e = c.getItem(e);
      if (!Ga(e)) throw "Storage mechanism: Invalid value was encountered";
      return e
    };
    return d
  };
  f.clear = function() {
    this.storage_.clear()
  };
  f.key = function(a) {
    return this.storage_.key(a)
  };
  var Xl = function() {
    var a = null;
    try {
      a = window.localStorage || null
    } catch (b) {}
    this.storage_ = a
  };
  K(Xl, Wl);
  var Zl = function(a, b) {
    this.storageKey_ = a;
    this.storageNode_ = null;
    if (de && !ze(9)) {
      Yl || (Yl = new zk);
      this.storageNode_ = Yl.get(a);
      this.storageNode_ || (b ? this.storageNode_ = document.getElementById(b) : (this.storageNode_ = document.createElement("userdata"), this.storageNode_.addBehavior("#default#userData"), document.body.appendChild(this.storageNode_)), Yl.set(a, this.storageNode_));
      try {
        this.loadNode_()
      } catch (c) {
        this.storageNode_ = null
      }
    }
  };
  K(Zl, Vl);
  var $l = {
      ".": ".2E",
      "!": ".21",
      "~": ".7E",
      "*": ".2A",
      "'": ".27",
      "(": ".28",
      ")": ".29",
      "%": "."
    },
    Yl = null,
    am = function(a) {
      return "_" + encodeURIComponent(a).replace(/[.!~*'()%]/g, function(b) {
        return $l[b]
      })
    };
  f = Zl.prototype;
  f.isAvailable = function() {
    return !!this.storageNode_
  };
  f.set = function(a, b) {
    this.storageNode_.setAttribute(am(a), b);
    this.saveNode_()
  };
  f.get = function(a) {
    a = this.storageNode_.getAttribute(am(a));
    if (!Ga(a) && null !== a) throw "Storage mechanism: Invalid value was encountered";
    return a
  };
  f.remove = function(a) {
    this.storageNode_.removeAttribute(am(a));
    this.saveNode_()
  };
  f.getCount = function() {
    return this.getNode_().attributes.length
  };
  f.__iterator__ = function(a) {
    var b = 0,
      c = this.getNode_().attributes,
      d = new vk;
    d.next = function() {
      if (b >= c.length) throw uk;
      var e = c[b++];
      if (a) return decodeURIComponent(e.nodeName.replace(/\./g, "%")).substr(1);
      e = e.nodeValue;
      if (!Ga(e)) throw "Storage mechanism: Invalid value was encountered";
      return e
    };
    return d
  };
  f.clear = function() {
    for (var a = this.getNode_(), b = a.attributes.length; 0 < b; b--) a.removeAttribute(a.attributes[b - 1].nodeName);
    this.saveNode_()
  };
  f.loadNode_ = function() {
    this.storageNode_.load(this.storageKey_)
  };
  f.saveNode_ = function() {
    try {
      this.storageNode_.save(this.storageKey_)
    } catch (a) {
      throw "Storage mechanism: Quota exceeded";
    }
  };
  f.getNode_ = function() {
    return this.storageNode_.XMLDocument.documentElement
  };
  var bm = function(a, b) {
    this.mechanism_ = a;
    this.prefix_ = b + "::"
  };
  K(bm, Vl);
  bm.prototype.set = function(a, b) {
    this.mechanism_.set(this.prefix_ + a, b)
  };
  bm.prototype.get = function(a) {
    return this.mechanism_.get(this.prefix_ + a)
  };
  bm.prototype.remove = function(a) {
    this.mechanism_.remove(this.prefix_ + a)
  };
  bm.prototype.__iterator__ = function(a) {
    var b = this.mechanism_.__iterator__(!0),
      c = this,
      d = new vk;
    d.next = function() {
      for (var e = b.next(); e.substr(0, c.prefix_.length) != c.prefix_;) e = b.next();
      return a ? e.substr(c.prefix_.length) : c.mechanism_.get(e)
    };
    return d
  };
  var dm = function(a, b) {
      var c = Array.prototype.slice.call(arguments),
        d = c.shift();
      if ("undefined" == typeof d) throw Error("[goog.string.format] Template required");
      return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g, function(e, g, h, k, m, l, q, p) {
        if ("%" == l) return "%";
        var n = c.shift();
        if ("undefined" == typeof n) throw Error("[goog.string.format] Not enough arguments");
        arguments[0] = n;
        return cm[l].apply(null, arguments)
      })
    },
    cm = {
      s: function(a, b, c) {
        return isNaN(c) || "" == c || a.length >= Number(c) ? a : a = -1 < b.indexOf("-", 0) ?
          a + bd(" ", Number(c) - a.length) : bd(" ", Number(c) - a.length) + a
      },
      f: function(a, b, c, d, e) {
        d = a.toString();
        isNaN(e) || "" == e || (d = parseFloat(a).toFixed(e));
        var g = 0 > Number(a) ? "-" : 0 <= b.indexOf("+") ? "+" : 0 <= b.indexOf(" ") ? " " : "";
        0 <= Number(a) && (d = g + d);
        if (isNaN(c) || d.length >= Number(c)) return d;
        d = isNaN(e) ? Math.abs(Number(a)).toString() : Math.abs(Number(a)).toFixed(e);
        a = Number(c) - d.length - g.length;
        return d = 0 <= b.indexOf("-", 0) ? g + d + bd(" ", a) : g + bd(0 <= b.indexOf("0", 0) ? "0" : " ", a) + d
      },
      d: function(a, b, c, d, e, g, h, k) {
        return cm.f(parseInt(a, 10), b, c, d, 0, g, h, k)
      }
    };
  cm.i = cm.d;
  cm.u = cm.d;
  var em = function(a) {
    this.cellValue_ = a
  };
  em.prototype.setCellValue = function(a) {
    this.cellValue_ = a
  };
  em.prototype.getCellValue = function() {
    return this.cellValue_
  };
  var fm = function(a, b, c) {
    this.metricName_ = a;
    this.cellType_ = b;
    this.fields_ = c || [];
    this.cellMap_ = new Map
  };
  f = fm.prototype;
  f.getMetricName = function() {
    return this.metricName_
  };
  f.getCellType = function() {
    return this.cellType_
  };
  f.getFields = function() {
    return this.fields_
  };
  f.getFieldTypes = function() {
    for (var a = [], b = 0; b < this.fields_.length; b++) a.push(this.fields_[b].field_type);
    return a
  };
  f.getFieldNames = function() {
    for (var a = [], b = 0; b < this.fields_.length; b++) a.push(this.fields_[b].field_name);
    return a
  };
  f.getFieldValues = function() {
    for (var a = [], b = y(this.cellMap_.keys()), c = b.next(); !c.done; c = b.next()) a.push(c.value.split(","));
    return a
  };
  f.addCell = function(a, b) {
    for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
    (d = this.getCells(c)) ? d.push(new em(a)): this.setCell(a, c)
  };
  f.setCell = function(a, b) {
    for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
    this.cellMap_.set(this.getKey_(c), [new em(a)])
  };
  f.getCells = function(a) {
    for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
    b = this.getKey_(b);
    return this.cellMap_.has(b) ? this.cellMap_.get(b) : void 0
  };
  f.getCell = function(a) {
    for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
    return (b = this.getCells(b)) && b.length ? b[0] : void 0
  };
  f.hasCell = function(a) {
    for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
    return this.cellMap_.has(this.getKey_(b))
  };
  f.getCellCount = function() {
    return this.cellMap_.size
  };
  f.clear = function() {
    this.cellMap_.clear()
  };
  f.getKey_ = function(a) {
    for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
    return b ? b.join(",") : "key"
  };
  var hm = function(a) {
    hf(this, a, 0, -1, gm, null)
  };
  K(hm, cf);
  var jm = function(a) {
    hf(this, a, 0, -1, null, im)
  };
  K(jm, cf);
  var km = function(a) {
    hf(this, a, 0, -1, null, null)
  };
  K(km, cf);
  var lm = function(a) {
    hf(this, a, 0, -1, null, null)
  };
  K(lm, cf);
  var nm = function(a) {
    hf(this, a, 0, -1, mm, null)
  };
  K(nm, cf);
  var pm = function(a) {
    hf(this, a, 0, -1, null, om)
  };
  K(pm, cf);
  var rm = function(a) {
    hf(this, a, 0, -1, null, qm)
  };
  K(rm, cf);
  var tm = function(a) {
    hf(this, a, 0, -1, sm, null)
  };
  K(tm, cf);
  var um = function(a) {
    hf(this, a, 0, -1, null, null)
  };
  K(um, cf);
  var gm = [3, 6, 4];
  hm.prototype.toObject = function(a) {
    var b, c = {
      streamzName: null == (b = Q(this, 1)) ? void 0 : b,
      hashedStreamzName: null == (b = Q(this, 5)) ? void 0 : b,
      rootSpec: (b = this.getRootSpec()) && vm(a, b),
      fieldNameList: null == (b = Q(this, 3)) ? void 0 : b,
      hashedFieldNameList: null == (b = Q(this, 6)) ? void 0 : b,
      incList: jf(this.getIncList(), wm, a)
    };
    a && (c.$jspbMessageInstance = this);
    return c
  };
  hm.prototype.serializeBinary = function() {
    var a = new bf;
    var b = Q(this, 1);
    null != b && a.writeString(1, b);
    b = Q(this, 5);
    null != b && a.writeFixed64(5, b);
    b = this.getRootSpec();
    null != b && a.writeMessage(2, b, xm);
    b = this.getFieldNameList();
    0 < b.length && a.writeRepeatedString(3, b);
    b = this.getHashedFieldNameList();
    0 < b.length && a.writeRepeatedFixed64(6, b);
    b = this.getIncList();
    0 < b.length && a.writeRepeatedMessage(4, b, ym);
    return a.getResultBuffer()
  };
  var im = [
    [1, 2]
  ];
  jm.prototype.getSpecCase = function() {
    return gf(this, im[0])
  };
  jm.prototype.toObject = function(a) {
    return vm(a, this)
  };
  var vm = function(a, b) {
    var c, d = {
      mobile: (c = b.getMobile()) && zm(a, c),
      mobileExp: (c = b.getMobileExp()) && Am(a, c)
    };
    a && (d.$jspbMessageInstance = b);
    return d
  };
  jm.prototype.serializeBinary = function() {
    var a = new bf;
    xm(this, a);
    return a.getResultBuffer()
  };
  var xm = function(a, b) {
    var c = a.getMobile();
    null != c && b.writeMessage(1, c, Bm);
    c = a.getMobileExp();
    null != c && b.writeMessage(2, c, Cm)
  };
  km.prototype.toObject = function(a) {
    return zm(a, this)
  };
  var zm = function(a, b) {
    var c, d = {
      appName: null == (c = Q(b, 1)) ? void 0 : c,
      appVersion: null == (c = Q(b, 2)) ? void 0 : c,
      useMobilespec: null == (c = lf(b, 3)) ? void 0 : c
    };
    a && (d.$jspbMessageInstance = b);
    return d
  };
  km.prototype.serializeBinary = function() {
    var a = new bf;
    Bm(this, a);
    return a.getResultBuffer()
  };
  var Bm = function(a, b) {
    var c = Q(a, 1);
    null != c && b.writeString(1, c);
    c = Q(a, 2);
    null != c && b.writeString(2, c);
    c = Q(a, 3);
    null != c && b.writeBool(3, c)
  };
  f = km.prototype;
  f.getAppName = function() {
    return Q(this, 1)
  };
  f.setAppName = function(a) {
    mf(this, 1, a)
  };
  f.clearAppName = function() {
    mf(this, 1, void 0)
  };
  f.hasAppName = function() {
    return null != Q(this, 1)
  };
  f.getAppVersion = function() {
    return Q(this, 2)
  };
  f.setAppVersion = function(a) {
    mf(this, 2, a)
  };
  f.clearAppVersion = function() {
    mf(this, 2, void 0)
  };
  f.hasAppVersion = function() {
    return null != Q(this, 2)
  };
  f.getUseMobilespec = function() {
    return lf(this, 3)
  };
  f.setUseMobilespec = function(a) {
    mf(this, 3, a)
  };
  f.clearUseMobilespec = function() {
    mf(this, 3, void 0)
  };
  f.hasUseMobilespec = function() {
    return null != Q(this, 3)
  };
  lm.prototype.toObject = function(a) {
    return Am(a, this)
  };
  var Am = function(a, b) {
    var c, d = {
      appName: null == (c = Q(b, 1)) ? void 0 : c,
      appVersion: null == (c = Q(b, 2)) ? void 0 : c,
      experimentId: null == (c = Q(b, 3)) ? void 0 : c,
      useMobilespec: null == (c = lf(b, 4)) ? void 0 : c
    };
    a && (d.$jspbMessageInstance = b);
    return d
  };
  lm.prototype.serializeBinary = function() {
    var a = new bf;
    Cm(this, a);
    return a.getResultBuffer()
  };
  var Cm = function(a, b) {
    var c = Q(a, 1);
    null != c && b.writeString(1, c);
    c = Q(a, 2);
    null != c && b.writeString(2, c);
    c = Q(a, 3);
    null != c && b.writeInt32(3, c);
    c = Q(a, 4);
    null != c && b.writeBool(4, c)
  };
  f = lm.prototype;
  f.getAppName = function() {
    return Q(this, 1)
  };
  f.setAppName = function(a) {
    mf(this, 1, a)
  };
  f.clearAppName = function() {
    mf(this, 1, void 0)
  };
  f.hasAppName = function() {
    return null != Q(this, 1)
  };
  f.getAppVersion = function() {
    return Q(this, 2)
  };
  f.setAppVersion = function(a) {
    mf(this, 2, a)
  };
  f.clearAppVersion = function() {
    mf(this, 2, void 0)
  };
  f.hasAppVersion = function() {
    return null != Q(this, 2)
  };
  f.getExperimentId = function() {
    return Q(this, 3)
  };
  f.setExperimentId = function(a) {
    mf(this, 3, a)
  };
  f.clearExperimentId = function() {
    mf(this, 3, void 0)
  };
  f.hasExperimentId = function() {
    return null != Q(this, 3)
  };
  f.getUseMobilespec = function() {
    return lf(this, 4)
  };
  f.setUseMobilespec = function(a) {
    mf(this, 4, a)
  };
  f.clearUseMobilespec = function() {
    mf(this, 4, void 0)
  };
  f.hasUseMobilespec = function() {
    return null != Q(this, 4)
  };
  f = jm.prototype;
  f.getMobile = function() {
    return of(this, km, 1)
  };
  f.setMobile = function(a) {
    sf(this, 1, im[0], a)
  };
  f.clearMobile = function() {
    this.setMobile(void 0)
  };
  f.hasMobile = function() {
    return null != Q(this, 1)
  };
  f.getMobileExp = function() {
    return of(this, lm, 2)
  };
  f.setMobileExp = function(a) {
    sf(this, 2, im[0], a)
  };
  f.clearMobileExp = function() {
    this.setMobileExp(void 0)
  };
  f.hasMobileExp = function() {
    return null != Q(this, 2)
  };
  var mm = [1];
  nm.prototype.toObject = function(a) {
    return wm(a, this)
  };
  var wm = function(a, b) {
    var c, d = {
      fieldList: jf(b.getFieldList(), Dm, a),
      incBy: (c = b.getIncBy()) && Em(a, c)
    };
    a && (d.$jspbMessageInstance = b);
    return d
  };
  nm.prototype.serializeBinary = function() {
    var a = new bf;
    ym(this, a);
    return a.getResultBuffer()
  };
  var ym = function(a, b) {
      var c = a.getFieldList();
      0 < c.length && b.writeRepeatedMessage(1, c, Fm);
      c = a.getIncBy();
      null != c && b.writeMessage(2, c, Gm)
    },
    om = [
      [1,
        2, 3
      ]
    ];
  pm.prototype.getValueCase = function() {
    return gf(this, om[0])
  };
  pm.prototype.toObject = function(a) {
    return Dm(a, this)
  };
  var Dm = function(a, b) {
    var c, d = {
      strVal: null == (c = Q(b, 1)) ? void 0 : c,
      intVal: null == (c = Q(b, 2)) ? void 0 : c,
      boolVal: null == (c = lf(b, 3)) ? void 0 : c
    };
    a && (d.$jspbMessageInstance = b);
    return d
  };
  pm.prototype.serializeBinary = function() {
    var a = new bf;
    Fm(this, a);
    return a.getResultBuffer()
  };
  var Fm = function(a, b) {
    var c = Q(a, 1);
    null != c && b.writeString(1, c);
    c = Q(a, 2);
    null != c && b.writeInt32(2, c);
    c = Q(a, 3);
    null != c && b.writeBool(3, c)
  };
  f = pm.prototype;
  f.getStrVal = function() {
    return Q(this, 1)
  };
  f.setStrVal = function(a) {
    nf(this, 1, om[0], a)
  };
  f.clearStrVal = function() {
    nf(this, 1, om[0], void 0)
  };
  f.hasStrVal = function() {
    return null != Q(this, 1)
  };
  f.getIntVal = function() {
    return Q(this, 2)
  };
  f.setIntVal = function(a) {
    nf(this, 2, om[0], a)
  };
  f.clearIntVal = function() {
    nf(this, 2, om[0], void 0)
  };
  f.hasIntVal = function() {
    return null != Q(this, 2)
  };
  f.getBoolVal = function() {
    return lf(this, 3)
  };
  f.setBoolVal = function(a) {
    nf(this, 3, om[0], a)
  };
  f.clearBoolVal = function() {
    nf(this, 3, om[0], void 0)
  };
  f.hasBoolVal = function() {
    return null != Q(this, 3)
  };
  var qm = [
    [1, 2, 3]
  ];
  rm.prototype.getValueCase = function() {
    return gf(this, qm[0])
  };
  rm.prototype.toObject = function(a) {
    return Em(a, this)
  };
  var Em = function(a, b) {
    var c, d = {
      int64Val: null == (c = Q(b, 1)) ? void 0 : c,
      doubleVal: null == (c = kf(b, 2)) ? void 0 : c,
      histogramVal: (c = b.getHistogramVal()) && Hm(a, c)
    };
    a && (d.$jspbMessageInstance = b);
    return d
  };
  rm.prototype.serializeBinary = function() {
    var a = new bf;
    Gm(this, a);
    return a.getResultBuffer()
  };
  var Gm = function(a, b) {
    var c = Q(a, 1);
    null != c && b.writeInt64(1, c);
    c = Q(a, 2);
    null != c && b.writeDouble(2, c);
    c = a.getHistogramVal();
    null != c && b.writeMessage(3, c, Im)
  };
  f = rm.prototype;
  f.getInt64Val = function() {
    return Q(this, 1)
  };
  f.setInt64Val = function(a) {
    nf(this, 1, qm[0], a)
  };
  f.clearInt64Val = function() {
    nf(this, 1, qm[0], void 0)
  };
  f.hasInt64Val = function() {
    return null != Q(this, 1)
  };
  f.getDoubleVal = function() {
    return kf(this, 2)
  };
  f.setDoubleVal = function(a) {
    nf(this, 2, qm[0], a)
  };
  f.clearDoubleVal = function() {
    nf(this, 2, qm[0], void 0)
  };
  f.hasDoubleVal = function() {
    return null != Q(this, 2)
  };
  f.getHistogramVal = function() {
    return of(this, tm, 3)
  };
  f.setHistogramVal = function(a) {
    sf(this, 3, qm[0], a)
  };
  f.clearHistogramVal = function() {
    this.setHistogramVal(void 0)
  };
  f.hasHistogramVal = function() {
    return null != Q(this, 3)
  };
  f = nm.prototype;
  f.getFieldList = function() {
    return qf(this, pm, 1)
  };
  f.setFieldList = function(a) {
    tf(this, 1, a)
  };
  f.addField = function(a, b) {
    return uf(this, 1, a, pm, b)
  };
  f.clearFieldList = function() {
    this.setFieldList([])
  };
  f.getIncBy = function() {
    return of(this, rm, 2)
  };
  f.setIncBy = function(a) {
    rf(this, 2, a)
  };
  f.clearIncBy = function() {
    this.setIncBy(void 0)
  };
  f.hasIncBy = function() {
    return null != Q(this, 2)
  };
  f = hm.prototype;
  f.getStreamzName = function() {
    return Q(this, 1)
  };
  f.setStreamzName = function(a) {
    mf(this, 1, a)
  };
  f.clearStreamzName = function() {
    mf(this, 1, void 0)
  };
  f.hasStreamzName = function() {
    return null != Q(this, 1)
  };
  f.getHashedStreamzName = function() {
    return Q(this, 5)
  };
  f.setHashedStreamzName = function(a) {
    mf(this, 5, a)
  };
  f.clearHashedStreamzName = function() {
    mf(this, 5, void 0)
  };
  f.hasHashedStreamzName = function() {
    return null != Q(this, 5)
  };
  f.getRootSpec = function() {
    return of(this, jm, 2)
  };
  f.setRootSpec = function(a) {
    rf(this, 2, a)
  };
  f.clearRootSpec = function() {
    this.setRootSpec(void 0)
  };
  f.hasRootSpec = function() {
    return null != Q(this, 2)
  };
  f.getFieldNameList = function() {
    return Q(this, 3)
  };
  f.setFieldNameList = function(a) {
    mf(this, 3, a || [])
  };
  f.addFieldName = function(a, b) {
    var c = Q(this, 3);
    void 0 != b ? c.splice(b, 0, a) : c.push(a)
  };
  f.clearFieldNameList = function() {
    this.setFieldNameList([])
  };
  f.getHashedFieldNameList = function() {
    return Q(this, 6)
  };
  f.setHashedFieldNameList = function(a) {
    mf(this, 6, a || [])
  };
  f.addHashedFieldName = function(a, b) {
    var c = Q(this, 6);
    void 0 != b ? c.splice(b, 0, a) : c.push(a)
  };
  f.clearHashedFieldNameList = function() {
    this.setHashedFieldNameList([])
  };
  f.getIncList = function() {
    return qf(this, nm, 4)
  };
  f.setIncList = function(a) {
    tf(this, 4, a)
  };
  f.addInc = function(a, b) {
    return uf(this, 4, a, nm, b)
  };
  f.clearIncList = function() {
    this.setIncList([])
  };
  var sm = [1];
  tm.prototype.toObject = function(a) {
    return Hm(a, this)
  };
  var Hm = function(a, b) {
    var c = {
      entryList: jf(b.getEntryList(), Jm, a)
    };
    a && (c.$jspbMessageInstance = b);
    return c
  };
  tm.prototype.serializeBinary = function() {
    var a = new bf;
    Im(this, a);
    return a.getResultBuffer()
  };
  var Im = function(a, b) {
    a = a.getEntryList();
    0 < a.length && b.writeRepeatedMessage(1, a, Km)
  };
  um.prototype.toObject = function(a) {
    return Jm(a, this)
  };
  var Jm = function(a, b) {
    var c, d = {
      valueOrBucket: null == (c = kf(b, 1)) ? void 0 : c,
      count: null == (c = Q(b, 2)) ? void 0 : c
    };
    a && (d.$jspbMessageInstance = b);
    return d
  };
  um.prototype.serializeBinary = function() {
    var a = new bf;
    Km(this, a);
    return a.getResultBuffer()
  };
  var Km = function(a, b) {
    var c = Q(a, 1);
    null != c && b.writeDouble(1, c);
    c = Q(a, 2);
    null != c && b.writeInt64(2, c)
  };
  f = um.prototype;
  f.getValueOrBucket = function() {
    return kf(this, 1)
  };
  f.setValueOrBucket = function(a) {
    mf(this, 1, a)
  };
  f.clearValueOrBucket = function() {
    mf(this, 1, void 0)
  };
  f.hasValueOrBucket = function() {
    return null != Q(this, 1)
  };
  f.getCount = function() {
    return Q(this, 2)
  };
  f.setCount = function(a) {
    mf(this, 2, a)
  };
  f.clearCount = function() {
    mf(this, 2, void 0)
  };
  f.hasCount = function() {
    return null != Q(this, 2)
  };
  tm.prototype.getEntryList = function() {
    return qf(this, um, 1)
  };
  tm.prototype.setEntryList = function(a) {
    tf(this, 1, a)
  };
  tm.prototype.addEntry = function(a, b) {
    return uf(this, 1, a, um, b)
  };
  tm.prototype.clearEntryList = function() {
    this.setEntryList([])
  };
  var Lm = function(a, b) {
    fm.call(this, a, 3, b)
  };
  z(Lm, fm);
  Lm.prototype.incrementCounter = function(a) {
    for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
    this.incrementCounterBy(1, b)
  };
  Lm.prototype.incrementCounterBy = function(a, b) {
    for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
    d = 0;
    var e = this.getCell(c);
    e && (d = e.getCellValue());
    this.setCell(d + a, c)
  };
  var Mm = function(a, b) {
    fm.call(this, a, 2, b)
  };
  z(Mm, fm);
  Mm.prototype.record = function(a, b) {
    for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
    this.addCell(a, c)
  };
  var Nm = function(a) {
    this.streamzLogger_ = a;
    this.metricMap = new Map;
    this.disabledMetrics_ = new Set;
    this.invocationCount = 0;
    this.invocationLimit = 100;
    this.flushInterval = 3E4;
    this.flushTimer = new Kj(this.flushInterval);
    this.flushTimer.listen("tick", this.snapshotAndFlush, !1, this)
  };
  f = Nm.prototype;
  f.setFlushCount = function(a) {
    this.invocationLimit = a
  };
  f.setFlushInterval = function(a) {
    this.flushInterval = a
  };
  f.updateInvocationCount_ = function() {
    this.maybeStartFlushTimer_();
    this.invocationCount++;
    this.invocationCount >= this.invocationLimit && this.snapshotAndFlush()
  };
  f.snapshotAndFlush = function() {
    var a = this.metricMap.values();
    a = [].concat(la(a)).filter(function(b) {
      return b.getCellCount()
    });
    a.length && this.streamzLogger_.flush(a);
    this.clearMetrics_(a);
    this.invocationCount = 0;
    this.stopFlushTimer_()
  };
  f.setDisabledMetrics = function(a) {
    this.disabledMetrics_ = new Set(a)
  };
  f.addNewCounter = function(a, b) {
    for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
    this.metricMap.has(a) || this.metricMap.set(a, new Lm(a, c))
  };
  f.addNewEventMetric = function(a, b) {
    for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
    this.metricMap.has(a) || this.metricMap.set(a, new Mm(a, c))
  };
  f.getMetric = function(a) {
    return this.disabledMetrics_.has(a) ? void 0 : this.metricMap.get(a)
  };
  f.incrementCounter = function(a, b) {
    for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
    this.incrementCounterBy.apply(this, [a, 1].concat(la(c)))
  };
  f.incrementCounterBy = function(a, b, c) {
    for (var d = [], e = 2; e < arguments.length; ++e) d[e - 2] = arguments[e];
    (e = this.getMetric(a)) && e instanceof Lm && (e.incrementCounterBy(b, d), this.updateInvocationCount_())
  };
  f.record = function(a, b, c) {
    for (var d = [], e = 2; e < arguments.length; ++e) d[e - 2] = arguments[e];
    (e = this.getMetric(a)) && e instanceof Mm && (e.record(b, d), this.updateInvocationCount_())
  };
  f.maybeStartFlushTimer_ = function() {
    this.flushTimer.enabled || this.flushTimer.start()
  };
  f.stopFlushTimer_ = function() {
    this.flushTimer.enabled && this.flushTimer.stop()
  };
  f.clearMetrics_ = function(a) {
    for (var b = 0; b < a.length; b++) a[b].clear()
  };
  /*
   Copyright (c) Microsoft Corporation. All rights reserved.
   Licensed under the Apache License, Version 2.0 (the "License"); you may not use
   this file except in compliance with the License. You may obtain a copy of the
   License at http://www.apache.org/licenses/LICENSE-2.0

   THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
   WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
   MERCHANTABLITY OR NON-INFRINGEMENT.

   See the Apache Version 2.0 License for specific language governing permissions
   and limitations under the License.
  */
  var Om = function(a, b, c, d) {
      var e = arguments.length,
        g = 3 > e ? b : null === d ? d = Object.getOwnPropertyDescriptor(b, c) : d,
        h;
      if ("object" === typeof Reflect && Reflect && "function" === typeof Reflect.decorate) g = Reflect.decorate(a, b, c, d);
      else
        for (var k = a.length - 1; 0 <= k; k--)
          if (h = a[k]) g = (3 > e ? h(g) : 3 < e ? h(b, c, g) : h(b, c)) || g;
      return 3 < e && g && Object.defineProperty(b, c, g), g
    },
    Pm = function(a, b) {
      if ("object" === typeof Reflect && Reflect && "function" === typeof Reflect.metadata) return Reflect.metadata(a, b)
    },
    Qm = function(a, b, c, d) {
      return new(c || (c =
        Promise))(function(e, g) {
        function h(l) {
          try {
            m(d.next(l))
          } catch (q) {
            g(q)
          }
        }

        function k(l) {
          try {
            m(d["throw"](l))
          } catch (q) {
            g(q)
          }
        }

        function m(l) {
          l.done ? e(l.value) : (new c(function(q) {
            q(l.value)
          })).then(h, k)
        }
        m((d = d.apply(a, b)).next())
      })
    };
  da();
  var Rm = Symbol("PIECES");

  function Sm(a, b, c) {
    Tm(a, b);
    a[b][Rm].unshift(c)
  }

  function Tm(a, b) {
    if (!a[b] || !a[b][Rm]) {
      var c = a[b],
        d = c ? [c] : [];
      a[b] = function() {
        for (var e = y(d), g = e.next(); !g.done; g = e.next()) g.value.apply(this, arguments)
      };
      a[b][Rm] = d
    }
  }

  function Um(a) {
    if (!a) return [];
    var b = [];
    a = y(a);
    for (var c = a.next(); !c.done; c = a.next()) c = c.value, Array.isArray(c) ? b.push.apply(b, la(Um(c))) : b.push(c);
    return b
  };
  var Vm = window.Polymer,
    Wm = Vm && Vm.version && Vm.version.startsWith("1."),
    Xm = /\bclass\b/.test(function() {}.toString());
  window.PolymerFakeBaseClass = function() {};
  var Ym = function() {
    return PolymerFakeBaseClass.apply(this, arguments) || this
  };
  z(Ym, PolymerFakeBaseClass);
  var Zm = function() {
    return PolymerFakeBaseClass.apply(this, arguments) || this
  };
  z(Zm, PolymerFakeBaseClass);

  function $m(a) {
    var b = {};
    Object.defineProperties(b, Object.getOwnPropertyDescriptors(a));
    return b
  }
  da();
  var an = Symbol("POLYMER_COMPONENT_DEFINITION");

  function bn(a) {
    var b = "string" !== typeof a ? a : {
      is: a,
      notifyObserversOnUndefined: !0
    };
    return function(c) {
      if (Object.getPrototypeOf(c.prototype).constructor !== Ym) throw Error("Custom elements must inherit directly from PolymerElement.");
      var d = Xm && Wm ? $m(c.prototype) : c.prototype;
      d.is = b.is;
      cn(d, c);
      b.notifyObserversOnUndefined && Sm(d, "created", function() {
        var k = this._propertyEffects;
        if (k)
          for (var m = y(Object.keys(k)), l = m.next(); !l.done; l = m.next()) {
            l = y(k[l.value]);
            for (var q = l.next(); !q.done; q = l.next())
              if (q = q.value,
                "compute" === q.kind || "complexObserver" === q.kind) q.effect.args = []
          }
      });
      if (Xm)
        for (var e = y(Object.getOwnPropertyNames(d)), g = e.next(); !g.done; g = e.next()) {
          g = g.value;
          var h = Object.getOwnPropertyDescriptor(d, g);
          !1 === h.enumerable && (h.enumerable = !0, Object.defineProperty(d, g, h))
        }
      void 0 !== c.template && (d._template = c.template);
      Polymer(d);
      c[an] = d
    }
  }

  function cn(a, b) {
    dn(b);
    Sm(a, "ready", function() {
      for (var c = {}, d = y(Um(this.behaviors)), e = d.next(); !e.done; e = d.next()) e = e.value, e.properties && Object.assign(c, en(this, e.properties));
      Object.assign(c, en(this, this.properties));
      if (Xm) {
        d = new b;
        e = y(Object.getOwnPropertyNames(d));
        for (var g = e.next(); !g.done; g = e.next()) g = g.value, this[g] = d[g];
        for (e = this; e && e !== Object.prototype; e = Object.getPrototypeOf(e)) {
          g = y(Object.getOwnPropertyNames(e));
          for (var h = g.next(); !h.done; h = g.next()) h = h.value, d.hasOwnProperty(h) || Object.defineProperty(d,
            h, fn(this, h))
        }
      } else b.apply(this);
      d = y(Object.keys(c));
      for (e = d.next(); !e.done; e = d.next()) e = e.value, this[e] = c[e]
    })
  }

  function fn(a, b) {
    return {
      get: function() {
        var c = a[b];
        return c instanceof Function ? c.bind(a) : c
      },
      set: function(c) {
        a[b] = c
      }
    }
  }

  function en(a, b) {
    if (!b) return {};
    for (var c = {}, d = y(Object.keys(b)), e = d.next(); !e.done; e = d.next())
      if (e = e.value, !b[e].readOnly) {
        var g = a[e];
        void 0 !== g && (c[e] = g)
      } return c
  }

  function dn(a) {
    var b = new a;
    a = a.prototype.properties || {};
    for (var c = y(Object.keys(a)), d = c.next(); !d.done; d = c.next())
      if (d = d.value, b.hasOwnProperty(d)) {
        var e = a[d];
        "function" === typeof e && (a[d] = e = {
          type: e
        });
        null != b[d] && e.type === Object && (e.type = gn(b[d].constructor))
      }
  }
  var hn = [Array, Boolean, Date, Number, Object, String];

  function gn(a) {
    for (var b = y(hn), c = b.next(); !c.done; c = b.next())
      if (c = c.value, a === c) return c;
    return Object
  }

  function jn(a) {
    return function(b, c) {
      b.behaviors = b.behaviors || [];
      b.behaviors.push(a || (void 0 !== window.Reflect && void 0 !== window.Reflect.getMetadata ? Reflect.getMetadata("design:type", b, c).prototype : void 0));
      Object.defineProperty(b, c, {
        get: function() {
          return this
        },
        enumerable: !0,
        configurable: !0
      })
    }
  }

  function kn(a) {
    a = void 0 === a ? {} : a;
    return function(b, c) {
      b.properties = b.properties || {};
      var d = a.type;
      d || (d = void 0 !== window.Reflect && void 0 !== window.Reflect.getMetadata ? gn(Reflect.getMetadata("design:type", b, c)) : String);
      b.properties[c] = Object.assign({}, b.properties[c], a, {
        type: d
      })
    }
  }

  function ln(a) {
    return function(b, c) {
      b.listeners = b.listeners || {};
      b.listeners[a] = c
    }
  }

  function mn(a) {
    for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
    if (0 === b.length) throw Error("Must specify at least one property to observe.");
    return function(d, e) {
      d.observers = d.observers || [];
      d.observers.push(e + "(" + b.join(",") + ")")
    }
  }

  function nn(a) {
    return function(b, c) {
      Object.defineProperty(b, c, {
        get: function() {
          return Polymer.dom(this.root).querySelector(a)
        },
        enumerable: !0,
        configurable: !0
      })
    }
  };
  /*
   *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.

  See the License for the specific language governing permissions and
  limitations under the License.
  *****************************************************************************/
  var on = on || {
      id: "third_party/javascript/node_modules/reflect_decorators/Reflect.closure.js"
    },
    pn;
  (function(a) {
    function b(w, C, B) {
      var J = I.get(w);
      if (!J) {
        if (!B) return;
        J = new x;
        I.set(w, J)
      }
      w = J.get(C);
      if (!w) {
        if (!B) return;
        w = new x;
        J.set(C, w)
      }
      return w
    }

    function c(w, C, B) {
      if (d(w, C, B)) return !0;
      C = n(C);
      return null !== C ? c(w, C, B) : !1
    }

    function d(w, C, B) {
      C = b(C, B, !1);
      return void 0 === C ? !1 : !!C.has(w)
    }

    function e(w, C, B) {
      if (d(w, C, B)) return g(w, C, B);
      C = n(C);
      if (null !== C) return e(w, C, B)
    }

    function g(w, C, B) {
      C = b(C, B, !1);
      if (void 0 !== C) return C.get(w)
    }

    function h(w, C) {
      var B = k(w, C);
      w = n(w);
      if (null === w) return B;
      var J = h(w, C);
      if (0 >= J.length) return B;
      if (0 >= B.length) return J;
      C = new A;
      w = [];
      B = y(B);
      for (var ja = B.next(); !ja.done; ja = B.next()) ja = ja.value, C.has(ja) || (C.add(ja), w.push(ja));
      B = y(J);
      for (ja = B.next(); !ja.done; ja = B.next()) J = ja.value, C.has(J) || (C.add(J), w.push(J));
      return w
    }

    function k(w, C) {
      w = b(w, C, !1);
      var B = [];
      w && w.forEach(function(J, ja) {
        return B.push(ja)
      });
      return B
    }

    function m(w) {
      return void 0 === w
    }

    function l(w) {
      return "object" === typeof w ? null !== w : "function" === typeof w
    }

    function q(w) {
      return "function" === typeof w
    }

    function p(w) {
      return "symbol" === typeof w ? w : String(w)
    }

    function n(w) {
      var C = Object.getPrototypeOf(w);
      if ("function" !== typeof w || w === v || C !== v) return C;
      var B = Object.getPrototypeOf(w.prototype);
      if (null == B || B === Object.prototype) return C;
      B = B.constructor;
      return "function" !== typeof B || B === w ? C : B
    }

    function r() {
      function w() {
        this._keys = [];
        this._values = [];
        this._cache = C
      }
      var C = {};
      w.prototype = {
        get size() {
          return this._keys.length
        },
        has: function(B) {
          return B === this._cache ? !0 : 0 <= this._find(B) ? (this._cache = B, !0) : !1
        },
        get: function(B) {
          var J = this._find(B);
          if (0 <= J) return this._cache = B, this._values[J]
        },
        set: function(B, J) {
          this.delete(B);
          this._keys.push(B);
          this._values.push(J);
          this._cache = B;
          return this
        },
        delete: function(B) {
          B = this._find(B);
          return 0 <= B ? (this._keys.splice(B, 1), this._values.splice(B, 1), this._cache = C, !0) : !1
        },
        clear: function() {
          this._keys.length = 0;
          this._values.length = 0;
          this._cache = C
        },
        forEach: function(B) {
          for (var J = this.size, ja = 0; ja < J; ++ja) {
            var Qa = this._keys[ja],
              mc = this._values[ja];
            this._cache = Qa;
            B.call(this, mc, Qa, this)
          }
        },
        _find: function(B) {
          for (var J = this._keys, ja = J.length, Qa = 0; Qa < ja; ++Qa)
            if (J[Qa] === B) return Qa;
          return -1
        }
      };
      return w
    }

    function t() {
      function w() {
        this._map = new x
      }
      w.prototype = {
        get size() {
          return this._map.length
        },
        has: function(C) {
          return this._map.has(C)
        },
        add: function(C) {
          this._map.set(C, C);
          return this
        },
        delete: function(C) {
          return this._map.delete(C)
        },
        clear: function() {
          this._map.clear()
        },
        forEach: function(C, B) {
          this._map.forEach(C, B)
        }
      };
      return w
    }

    function u() {
      function w() {
        this._key = B()
      }

      function C(fa, nc) {
        for (var oc = 0; oc < nc; ++oc) fa[oc] = 255 * Math.random() | 0
      }

      function B() {
        do {
          if (ja) var fa = ja.randomBytes(16);
          else "function" === typeof Uint8Array ? (fa = new Uint8Array(16), "undefined" !== typeof crypto ? crypto.getRandomValues(fa) : C(fa, 16)) : (fa = Array(16), C(fa, 16));
          fa[6] = fa[6] & 79 | 64;
          fa[8] = fa[8] & 191 | 128;
          for (var nc = "", oc = 0; 16 > oc; ++oc) {
            var yr = fa[oc];
            if (4 === oc || 6 === oc || 8 === oc) nc += "-";
            16 > yr && (nc += "0");
            nc += yr.toString(16).toLowerCase()
          }
          fa = "@@WeakMap@@" + nc
        } while (Qa.call(mc, fa));
        mc[fa] = !0;
        return fa
      }

      function J(fa, nc) {
        if (!Qa.call(fa, Wf)) {
          if (!nc) return;
          Object.defineProperty(fa, Wf, {
            value: Object.create(null)
          })
        }
        return fa[Wf]
      }
      var ja = "undefined" !== typeof global && "object" === typeof on && "function" === typeof require && require("crypto"),
        Qa = Object.prototype.hasOwnProperty,
        mc = {},
        Wf = B();
      w.prototype = {
        has: function(fa) {
          return (fa = J(fa, !1)) ? this._key in fa : !1
        },
        get: function(fa) {
          if (fa = J(fa, !1)) return fa[this._key]
        },
        set: function(fa, nc) {
          J(fa, !0)[this._key] = nc;
          return this
        },
        delete: function(fa) {
          return (fa = J(fa, !1)) && this._key in fa ? delete fa[this._key] : !1
        },
        clear: function() {
          this._key = B()
        }
      };
      return w
    }
    var v = Object.getPrototypeOf(Function),
      x = "function" === typeof Map ? Map : r(),
      A = "function" === typeof Set ? Set : t(),
      H = "function" === typeof WeakMap ? WeakMap : u(),
      I = new H;
    a.decorate = function(w, C, B, J) {
      if (m(J)) {
        if (m(B)) {
          if (!Array.isArray(w)) throw new TypeError;
          if (!q(C)) throw new TypeError;
          for (B = w.length - 1; 0 <= B; --B)
            if (J = (0, w[B])(C), !m(J)) {
              if (!q(J)) throw new TypeError;
              C = J
            } return C
        }
        if (!Array.isArray(w)) throw new TypeError;
        if (!l(C)) throw new TypeError;
        B = p(B);
        for (J = w.length - 1; 0 <= J; --J)(0, w[J])(C, B)
      } else {
        if (Array.isArray(w))
          if (l(C)) {
            if (m(B)) throw new TypeError;
            if (!l(J)) throw new TypeError;
          } else throw new TypeError;
        else throw new TypeError;
        B = p(B);
        for (var ja = w.length - 1; 0 <= ja; --ja) {
          var Qa = (0, w[ja])(C, B, J);
          if (!m(Qa)) {
            if (!l(Qa)) throw new TypeError;
            J = Qa
          }
        }
        return J
      }
    };
    a.metadata = function(w, C) {
      return function(B, J) {
        if (m(J)) {
          if (!q(B)) throw new TypeError;
          b(B, void 0, !0).set(w, C)
        } else {
          if (!l(B)) throw new TypeError;
          J = p(J);
          b(B, J, !0).set(w, C)
        }
      }
    };
    a.defineMetadata = function(w, C, B, J) {
      if (l(B)) m(J) || (J = p(J));
      else throw new TypeError;
      b(B, J, !0).set(w, C)
    };
    a.hasMetadata = function(w, C, B) {
      if (l(C)) m(B) || (B = p(B));
      else throw new TypeError;
      return c(w, C, B)
    };
    a.hasOwnMetadata = function(w, C, B) {
      if (l(C)) m(B) || (B = p(B));
      else throw new TypeError;
      return d(w, C, B)
    };
    a.getMetadata = function(w, C, B) {
      if (l(C)) m(B) || (B = p(B));
      else throw new TypeError;
      return e(w, C, B)
    };
    a.getOwnMetadata = function(w, C, B) {
      if (l(C)) m(B) || (B = p(B));
      else throw new TypeError;
      return g(w, C, B)
    };
    a.getMetadataKeys = function(w, C) {
      if (l(w)) m(C) || (C = p(C));
      else throw new TypeError;
      return h(w, C)
    };
    a.getOwnMetadataKeys = function(w, C) {
      if (l(w)) m(C) || (C = p(C));
      else throw new TypeError;
      return k(w, C)
    };
    a.deleteMetadata = function(w, C, B) {
      if (l(C)) m(B) || (B = p(B));
      else throw new TypeError;
      var J = b(C, B, !1);
      if (!m(J)) {
        if (!J.delete(w)) return !1;
        if (0 < J.size) return !0;
        w = I.get(C);
        w.delete(B);
        if (0 < w.size) return !0;
        I.delete(C);
        return !0
      }
    };
    (function(w) {
      if ("undefined" !== typeof w.Reflect) {
        if (w.Reflect !== a)
          for (var C in a) w.Reflect[C] = a[C]
      } else w.Reflect = a
    })("undefined" !== typeof window ? window : "undefined" !== typeof WorkerGlobalScope ? self : "undefined" !== typeof global ? global : Function("return this;")())
  })(pn || (pn = {}));
  var qn = function() {
    this.data_ = [];
    this.cachedPackedInt52_ = -1
  };
  qn.prototype.set = function(a, b) {
    b = void 0 === b ? !0 : b;
    0 <= a && 52 > a && 0 === a % 1 && this.data_[a] != b && (this.data_[a] = b, this.cachedPackedInt52_ = -1)
  };
  qn.prototype.get = function(a) {
    return !!this.data_[a]
  };
  qn.prototype.packAsInt52 = function() {
    -1 == this.cachedPackedInt52_ && (this.cachedPackedInt52_ = kb(this.data_, function(a, b, c) {
      return b ? a + Math.pow(2, c) : a
    }, 0));
    return this.cachedPackedInt52_
  };
  /*


   [BSD License](http://opensource.org/licenses/BSD-3-Clause)

   Copyright (c) 2009 Opera Software ASA

   Copyright (c) 2015 Ant?nio Afonso

   Copyright (c) 2008 Jacob Seidelin, http://blog.nihilogic.dk/

   Copyright (c) 2010 Joshua Kifer

   All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice,
   this list of conditions and the following disclaimer.

   2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

   3. Neither the name of the copyright holder nor the names of its contributors
   may be used to endorse or promote products derived from this software without
   specific prior written permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.
  */
  (function(a) {
    "object" === typeof exports && "undefined" !== typeof module ? module.exports = a() : "function" === typeof define && define.amd ? define([], a) : ("undefined" !== typeof window ? window : "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : this).jsmediatags = a()
  })(function() {
    return function e(b, c, d) {
      function g(m, l) {
        if (!c[m]) {
          if (!b[m]) {
            var q = "function" == typeof require && require;
            if (!l && q) return q(m, !0);
            if (h) return h(m, !0);
            l = Error("Cannot find module '" + m + "'");
            throw l.code = "MODULE_NOT_FOUND", l;
          }
          l = c[m] = {
            exports: {}
          };
          b[m][0].call(l.exports, function(p) {
            var n = b[m][1][p];
            return g(n ? n : p)
          }, l, l.exports, e, b, c, d)
        }
        return c[m].exports
      }
      for (var h = "function" == typeof require && require, k = 0; k < d.length; k++) g(d[k]);
      return g
    }({
      1: [function() {},
        {}
      ],
      2: [function(b, c) {
          c.exports = XMLHttpRequest
        },
        {}
      ],
      3: [function(b, c) {
          function d(g, h) {
            if ("function" !== typeof h && null !== h) throw new TypeError("Super expression must either be null or a function, not " + typeof h);
            g.prototype = Object.create(h && h.prototype, {
              constructor: {
                value: g,
                enumerable: !1,
                writable: !0,
                configurable: !0
              }
            });
            h && (Object.setPrototypeOf ? Object.setPrototypeOf(g, h) : g.__proto__ = h)
          }
          var e = function() {
            function g(h, k) {
              for (var m = 0; m < k.length; m++) {
                var l = k[m];
                l.enumerable = l.enumerable || !1;
                l.configurable = !0;
                "value" in l && (l.writable = !0);
                Object.defineProperty(h, l.key, l)
              }
            }
            return function(h, k, m) {
              k && g(h.prototype, k);
              m && g(h, m);
              return h
            }
          }();
          b = function(g) {
            function h(k) {
              if (!(this instanceof h)) throw new TypeError("Cannot call a class as a function");
              var m = Object.getPrototypeOf(h).call(this);
              if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              m = !m || "object" !== typeof m && "function" !== typeof m ? this : m;
              m._array = k;
              m._size = k.length;
              m._isInitialized = !0;
              return m
            }
            d(h, g);
            e(h, [{
                key: "init",
                value: function(k) {
                  setTimeout(k.onSuccess, 0)
                }
              },
              {
                key: "loadRange",
                value: function(k, m) {
                  setTimeout(m.onSuccess, 0)
                }
              },
              {
                key: "getByteAt",
                value: function(k) {
                  if (k >= this._array.length) throw Error("Offset " + k + " hasn't been loaded yet.");
                  return this._array[k]
                }
              }
            ], [{
              key: "canReadFile",
              value: function(k) {
                return Array.isArray(k) || "function" === typeof Buffer && Buffer.isBuffer(k)
              }
            }]);
            return h
          }(b("./MediaFileReader"));
          c.exports = b
        },
        {
          "./MediaFileReader": 11
        }
      ],
      4: [function(b, c) {
          function d(h, k) {
            if ("function" !== typeof k && null !== k) throw new TypeError("Super expression must either be null or a function, not " + typeof k);
            h.prototype = Object.create(k && k.prototype, {
              constructor: {
                value: h,
                enumerable: !1,
                writable: !0,
                configurable: !0
              }
            });
            k && (Object.setPrototypeOf ? Object.setPrototypeOf(h, k) : h.__proto__ = k)
          }
          var e = function() {
              function h(k, m) {
                for (var l = 0; l < m.length; l++) {
                  var q = m[l];
                  q.enumerable = q.enumerable || !1;
                  q.configurable = !0;
                  "value" in q && (q.writable = !0);
                  Object.defineProperty(k, q.key, q)
                }
              }
              return function(k, m, l) {
                m && h(k.prototype, m);
                l && h(k, l);
                return k
              }
            }(),
            g = b("./ChunkedFileData");
          b = function(h) {
            function k(m) {
              if (!(this instanceof k)) throw new TypeError("Cannot call a class as a function");
              var l = Object.getPrototypeOf(k).call(this);
              if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              l = !l || "object" !== typeof l && "function" !== typeof l ? this : l;
              l._blob = m;
              l._fileData = new g;
              return l
            }
            d(k, h);
            e(k, [{
                key: "_init",
                value: function(m) {
                  this._size = this._blob.size;
                  setTimeout(m.onSuccess, 1)
                }
              },
              {
                key: "loadRange",
                value: function(m, l) {
                  var q = this,
                    p = (this._blob.slice || this._blob.mozSlice || this._blob.webkitSlice).call(this._blob, m[0], m[1] + 1),
                    n = new FileReader;
                  n.onloadend = function(r) {
                    r = new Uint8Array(n.result);
                    q._fileData.addData(m[0], r);
                    l.onSuccess()
                  };
                  n.onerror = n.onabort = function() {
                    if (l.onError) l.onError({
                      type: "blob",
                      info: n.error
                    })
                  };
                  n.readAsArrayBuffer(p)
                }
              },
              {
                key: "getByteAt",
                value: function(m) {
                  return this._fileData.getByteAt(m)
                }
              }
            ], [{
              key: "canReadFile",
              value: function(m) {
                return "undefined" !== typeof Blob && m instanceof Blob || "undefined" !== typeof File && m instanceof File
              }
            }]);
            return k
          }(b("./MediaFileReader"));
          c.exports = b
        },
        {
          "./ChunkedFileData": 5,
          "./MediaFileReader": 11
        }
      ],
      5: [function(b, c) {
          var d = function() {
            function e(g, h) {
              for (var k = 0; k < h.length; k++) {
                var m = h[k];
                m.enumerable = m.enumerable || !1;
                m.configurable = !0;
                "value" in m && (m.writable = !0);
                Object.defineProperty(g, m.key, m)
              }
            }
            return function(g, h, k) {
              h && e(g.prototype, h);
              k && e(g, k);
              return g
            }
          }();
          b = function() {
            function e() {
              if (!(this instanceof e)) throw new TypeError("Cannot call a class as a function");
              this._fileData = []
            }
            d(e, null, [{
              key: "NOT_FOUND",
              get: function() {
                return -1
              }
            }]);
            d(e, [{
                key: "addData",
                value: function(g, h) {
                  var k = g + h.length - 1,
                    m = this._getChunkRange(g, k);
                  if (-1 === m.startIx) this._fileData.splice(m.insertIx || 0, 0, {
                    offset: g,
                    data: h
                  });
                  else {
                    var l = this._fileData[m.startIx],
                      q = this._fileData[m.endIx];
                    k = k < q.offset + q.data.length - 1;
                    var p = {
                      offset: Math.min(g, l.offset),
                      data: h
                    };
                    g > l.offset && (g = this._sliceData(l.data, 0, g - l.offset), p.data = this._concatData(g, h));
                    k && (g = this._sliceData(p.data, 0, q.offset - p.offset), p.data = this._concatData(g, q.data));
                    this._fileData.splice(m.startIx, m.endIx -
                      m.startIx + 1, p)
                  }
                }
              },
              {
                key: "_concatData",
                value: function(g, h) {
                  if ("undefined" !== typeof ArrayBuffer && ArrayBuffer.isView && ArrayBuffer.isView(g)) {
                    var k = new g.constructor(g.length + h.length);
                    k.set(g, 0);
                    k.set(h, g.length);
                    return k
                  }
                  return g.concat(h)
                }
              },
              {
                key: "_sliceData",
                value: function(g, h, k) {
                  return g.slice ? g.slice(h, k) : g.subarray(h, k)
                }
              },
              {
                key: "_getChunkRange",
                value: function(g, h) {
                  for (var k, m, l = -1, q = -1, p = 0, n = 0; n < this._fileData.length; n++, p = n) {
                    m = this._fileData[n].offset;
                    k = m + this._fileData[n].data.length;
                    if (h < m - 1) break;
                    if (g <= k + 1 && h >= m - 1) {
                      l = n;
                      break
                    }
                  }
                  if (-1 === l) return {
                    startIx: -1,
                    endIx: -1,
                    insertIx: p
                  };
                  for (n = l; n < this._fileData.length && !(m = this._fileData[n].offset, k = m + this._fileData[n].data.length, h >= m - 1 && (q = n), h <= k + 1); n++); - 1 === q && (q = l);
                  return {
                    startIx: l,
                    endIx: q
                  }
                }
              },
              {
                key: "hasDataRange",
                value: function(g, h) {
                  for (var k = 0; k < this._fileData.length; k++) {
                    var m = this._fileData[k];
                    if (h < m.offset) break;
                    if (g >= m.offset && h < m.offset + m.data.length) return !0
                  }
                  return !1
                }
              },
              {
                key: "getByteAt",
                value: function(g) {
                  for (var h, k = 0; k < this._fileData.length; k++) {
                    var m = this._fileData[k].offset,
                      l = m + this._fileData[k].data.length - 1;
                    if (g >= m && g <= l) {
                      h = this._fileData[k];
                      break
                    }
                  }
                  if (h) return h.data[g - h.offset];
                  throw Error("Offset " + g + " hasn't been loaded yet.");
                }
              }
            ]);
            return e
          }();
          c.exports = b
        },
        {}
      ],
      6: [function(b, c) {
          function d(m, l) {
            if ("function" !== typeof l && null !== l) throw new TypeError("Super expression must either be null or a function, not " + typeof l);
            m.prototype = Object.create(l && l.prototype, {
              constructor: {
                value: m,
                enumerable: !1,
                writable: !0,
                configurable: !0
              }
            });
            l && (Object.setPrototypeOf ? Object.setPrototypeOf(m, l) : m.__proto__ = l)
          }
          var e = function() {
              function m(l, q) {
                for (var p = 0; p < q.length; p++) {
                  var n = q[p];
                  n.enumerable = n.enumerable || !1;
                  n.configurable = !0;
                  "value" in n && (n.writable = !0);
                  Object.defineProperty(l, n.key, n)
                }
              }
              return function(l, q, p) {
                q && m(l.prototype, q);
                p && m(l, p);
                return l
              }
            }(),
            g = [4,
              132
            ],
            h = [6, 134],
            k = "Other;32x32 pixels 'file icon' (PNG only);Other file icon;Cover (front);Cover (back);Leaflet page;Media (e.g. label side of CD);Lead artist/lead performer/soloist;Artist/performer;Conductor;Band/Orchestra;Composer;Lyricist/text writer;Recording Location;During recording;During performance;Movie/video screen capture;A bright coloured fish;Illustration;Band/artist logotype;Publisher/Studio logotype".split(";");
          b = function(m) {
            function l() {
              if (!(this instanceof l)) throw new TypeError("Cannot call a class as a function");
              var q = Object.getPrototypeOf(l).apply(this, arguments);
              if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return !q || "object" !== typeof q && "function" !== typeof q ? this : q
            }
            d(l, m);
            e(l, [{
                key: "_loadData",
                value: function(q, p) {
                  var n = this;
                  q.loadRange([4, 7], {
                    onSuccess: function() {
                      n._loadBlock(q, 4, p)
                    }
                  })
                }
              },
              {
                key: "_loadBlock",
                value: function(q, p, n) {
                  var r = this,
                    t = q.getByteAt(p),
                    u = q.getInteger24At(p + 1, !0);
                  if (-1 !== g.indexOf(t)) {
                    var v = p + 4;
                    q.loadRange([v, v + u], {
                      onSuccess: function() {
                        r._commentOffset = v;
                        r._nextBlock(q, p, t, u, n)
                      }
                    })
                  } else -1 !== h.indexOf(t) ? (v = p + 4, q.loadRange([v,
                    v + u
                  ], {
                    onSuccess: function() {
                      r._pictureOffset = v;
                      r._nextBlock(q, p, t, u, n)
                    }
                  })) : r._nextBlock(q, p, t, u, n)
                }
              },
              {
                key: "_nextBlock",
                value: function(q, p, n, r, t) {
                  var u = this;
                  if (127 < n)
                    if (u._commentOffset) t.onSuccess();
                    else t.onError({
                      type: "loadData",
                      info: "Comment block could not be found."
                    });
                  else q.loadRange([p + 4 + r, p + 4 + 4 + r], {
                    onSuccess: function() {
                      u._loadBlock(q, p + 4 + r, t)
                    }
                  })
                }
              },
              {
                key: "_parseData",
                value: function(q, p) {
                  var n = q.getLongAt(this._commentOffset, !1) + (this._commentOffset + 4);
                  p = q.getLongAt(n, !1);
                  n += 4;
                  for (var r, t, u, v, x, A, H = 0; H < p; H++) {
                    var I = q.getLongAt(n, !1),
                      w = q.getStringWithCharsetAt(n + 4, I, "utf-8").toString(),
                      C = w.indexOf("=");
                    w = [w.slice(0, C), w.slice(C + 1)];
                    switch (w[0]) {
                      case "TITLE":
                        r = w[1];
                        break;
                      case "ARTIST":
                        t = w[1];
                        break;
                      case "ALBUM":
                        u = w[1];
                        break;
                      case "TRACKNUMBER":
                        v = w[1];
                        break;
                      case "GENRE":
                        x = w[1]
                    }
                    n += 4 + I
                  }
                  this._pictureOffset && (A = q.getLongAt(this._pictureOffset, !0), p = this._pictureOffset +
                    4, n = q.getLongAt(p, !0), H = p + 4, p = q.getStringAt(H, n), n = H + n, H = q.getLongAt(n, !0), I = n + 4, n = q.getStringWithCharsetAt(I, H, "utf-8").toString(), H = I + H + 16, I = q.getLongAt(H, !0), q = q.getBytesAt(H + 4, I, !0), A = {
                      format: p,
                      type: k[A],
                      description: n,
                      data: q
                    });
                  return {
                    type: "FLAC",
                    version: "1",
                    tags: {
                      title: r,
                      artist: t,
                      album: u,
                      track: v,
                      genre: x,
                      picture: A
                    }
                  }
                }
              }
            ], [{
                key: "getTagIdentifierByteRange",
                value: function() {
                  return {
                    offset: 0,
                    length: 4
                  }
                }
              },
              {
                key: "canReadTagFormat",
                value: function(q) {
                  return "fLaC" === String.fromCharCode.apply(String, q.slice(0, 4))
                }
              }
            ]);
            return l
          }(b("./MediaTagReader"));
          c.exports = b
        },
        {
          "./MediaTagReader": 12
        }
      ],
      7: [function(b, c, d) {
          function e(k, m) {
            if ("function" !== typeof m && null !== m) throw new TypeError("Super expression must either be null or a function, not " + typeof m);
            k.prototype = Object.create(m && m.prototype, {
              constructor: {
                value: k,
                enumerable: !1,
                writable: !0,
                configurable: !0
              }
            });
            m && (Object.setPrototypeOf ? Object.setPrototypeOf(k, m) : k.__proto__ = m)
          }
          var g = function() {
            function k(m, l) {
              for (var q = 0; q < l.length; q++) {
                var p = l[q];
                p.enumerable = p.enumerable || !1;
                p.configurable = !0;
                "value" in p && (p.writable = !0);
                Object.defineProperty(m, p.key, p)
              }
            }
            return function(m, l, q) {
              l && k(m.prototype, l);
              q && k(m, q);
              return m
            }
          }();
          d = b("./MediaTagReader");
          b("./MediaFileReader");
          b = function(k) {
            function m() {
              if (!(this instanceof m)) throw new TypeError("Cannot call a class as a function");
              var l = Object.getPrototypeOf(m).apply(this, arguments);
              if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return !l || "object" !== typeof l && "function" !== typeof l ? this : l
            }
            e(m, k);
            g(m, [{
                key: "_loadData",
                value: function(l, q) {
                  var p = l.getSize();
                  l.loadRange([p - 128, p - 1], q)
                }
              },
              {
                key: "_parseData",
                value: function(l, q) {
                  var p = l.getSize() - 128,
                    n = l.getStringWithCharsetAt(p + 3, 30).toString(),
                    r = l.getStringWithCharsetAt(p + 33, 30).toString(),
                    t = l.getStringWithCharsetAt(p + 63, 30).toString(),
                    u = l.getStringWithCharsetAt(p + 93, 4).toString(),
                    v = l.getByteAt(p + 97 + 28);
                  q = l.getByteAt(p + 97 + 29);
                  if (0 == v && 0 != q) {
                    var x = "1.1";
                    v = l.getStringWithCharsetAt(p + 97, 28).toString()
                  } else x = "1.0", v = l.getStringWithCharsetAt(p + 97, 30).toString(), q = 0;
                  l = l.getByteAt(p + 97 + 30);
                  l = {
                    type: "ID3",
                    version: x,
                    tags: {
                      title: n,
                      artist: r,
                      album: t,
                      year: u,
                      comment: v,
                      genre: 255 > l ? h[l] : ""
                    }
                  };
                  q && (l.tags.track = q);
                  return l
                }
              }
            ], [{
                key: "getTagIdentifierByteRange",
                value: function() {
                  return {
                    offset: -128,
                    length: 128
                  }
                }
              },
              {
                key: "canReadTagFormat",
                value: function(l) {
                  return "TAG" === String.fromCharCode.apply(String, l.slice(0, 3))
                }
              }
            ]);
            return m
          }(d);
          var h = "Blues;Classic Rock;Country;Dance;Disco;Funk;Grunge;Hip-Hop;Jazz;Metal;New Age;Oldies;Other;Pop;R&B;Rap;Reggae;Rock;Techno;Industrial;Alternative;Ska;Death Metal;Pranks;Soundtrack;Euro-Techno;Ambient;Trip-Hop;Vocal;Jazz+Funk;Fusion;Trance;Classical;Instrumental;Acid;House;Game;Sound Clip;Gospel;Noise;AlternRock;Bass;Soul;Punk;Space;Meditative;Instrumental Pop;Instrumental Rock;Ethnic;Gothic;Darkwave;Techno-Industrial;Electronic;Pop-Folk;Eurodance;Dream;Southern Rock;Comedy;Cult;Gangsta;Top 40;Christian Rap;Pop/Funk;Jungle;Native American;Cabaret;New Wave;Psychadelic;Rave;Showtunes;Trailer;Lo-Fi;Tribal;Acid Punk;Acid Jazz;Polka;Retro;Musical;Rock & Roll;Hard Rock;Folk;Folk-Rock;National Folk;Swing;Fast Fusion;Bebob;Latin;Revival;Celtic;Bluegrass;Avantgarde;Gothic Rock;Progressive Rock;Psychedelic Rock;Symphonic Rock;Slow Rock;Big Band;Chorus;Easy Listening;Acoustic;Humour;Speech;Chanson;Opera;Chamber Music;Sonata;Symphony;Booty Bass;Primus;Porn Groove;Satire;Slow Jam;Club;Tango;Samba;Folklore;Ballad;Power Ballad;Rhythmic Soul;Freestyle;Duet;Punk Rock;Drum Solo;Acapella;Euro-House;Dance Hall".split(";");
          c.exports = b
        },
        {
          "./MediaFileReader": 11,
          "./MediaTagReader": 12
        }
      ],
      8: [function(b, c) {
          function d(p) {
            switch (p) {
              case 0:
                p = "iso-8859-1";
                break;
              case 1:
                p = "utf-16";
                break;
              case 2:
                p = "utf-16be";
                break;
              case 3:
                p = "utf-8";
                break;
              default:
                p = "iso-8859-1"
            }
            return p
          }

          function e(p, n, r, t) {
            t = r.getStringWithCharsetAt(p + 1, n - 1, t);
            p = r.getStringWithCharsetAt(p + 1 + t.bytesReadCount, n - 1 - t.bytesReadCount);
            return {
              user_description: t.toString(),
              data: p.toString()
            }
          }
          var g = function() {
            function p(n, r) {
              for (var t = 0; t < r.length; t++) {
                var u = r[t];
                u.enumerable = u.enumerable || !1;
                u.configurable = !0;
                "value" in u && (u.writable = !0);
                Object.defineProperty(n, u.key, u)
              }
            }
            return function(n, r, t) {
              r && p(n.prototype, r);
              t && p(n, t);
              return n
            }
          }();
          b("./MediaFileReader");
          var h = b("./StringUtils"),
            k = b("./ArrayFileReader"),
            m = {
              BUF: "Recommended buffer size",
              CNT: "Play counter",
              COM: "Comments",
              CRA: "Audio encryption",
              CRM: "Encrypted meta frame",
              ETC: "Event timing codes",
              EQU: "Equalization",
              GEO: "General encapsulated object",
              IPL: "Involved people list",
              LNK: "Linked information",
              MCI: "Music CD Identifier",
              MLL: "MPEG location lookup table",
              PIC: "Attached picture",
              POP: "Popularimeter",
              REV: "Reverb",
              RVA: "Relative volume adjustment",
              SLT: "Synchronized lyric/text",
              STC: "Synced tempo codes",
              TAL: "Album/Movie/Show title",
              TBP: "BPM (Beats Per Minute)",
              TCM: "Composer",
              TCO: "Content type",
              TCR: "Copyright message",
              TDA: "Date",
              TDY: "Playlist delay",
              TEN: "Encoded by",
              TFT: "File type",
              TIM: "Time",
              TKE: "Initial key",
              TLA: "Language(s)",
              TLE: "Length",
              TMT: "Media type",
              TOA: "Original artist(s)/performer(s)",
              TOF: "Original filename",
              TOL: "Original Lyricist(s)/text writer(s)",
              TOR: "Original release year",
              TOT: "Original album/Movie/Show title",
              TP1: "Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",
              TP2: "Band/Orchestra/Accompaniment",
              TP3: "Conductor/Performer refinement",
              TP4: "Interpreted, remixed, or otherwise modified by",
              TPA: "Part of a set",
              TPB: "Publisher",
              TRC: "ISRC (International Standard Recording Code)",
              TRD: "Recording dates",
              TRK: "Track number/Position in set",
              TSI: "Size",
              TSS: "Software/hardware and settings used for encoding",
              TT1: "Content group description",
              TT2: "Title/Songname/Content description",
              TT3: "Subtitle/Description refinement",
              TXT: "Lyricist/text writer",
              TXX: "User defined text information frame",
              TYE: "Year",
              UFI: "Unique file identifier",
              ULT: "Unsychronized lyric/text transcription",
              WAF: "Official audio file webpage",
              WAR: "Official artist/performer webpage",
              WAS: "Official audio source webpage",
              WCM: "Commercial information",
              WCP: "Copyright/Legal information",
              WPB: "Publishers official webpage",
              WXX: "User defined URL link frame",
              AENC: "Audio encryption",
              APIC: "Attached picture",
              ASPI: "Audio seek point index",
              CHAP: "Chapter",
              CTOC: "Table of contents",
              COMM: "Comments",
              COMR: "Commercial frame",
              ENCR: "Encryption method registration",
              EQU2: "Equalisation (2)",
              EQUA: "Equalization",
              ETCO: "Event timing codes",
              GEOB: "General encapsulated object",
              GRID: "Group identification registration",
              IPLS: "Involved people list",
              LINK: "Linked information",
              MCDI: "Music CD identifier",
              MLLT: "MPEG location lookup table",
              OWNE: "Ownership frame",
              PRIV: "Private frame",
              PCNT: "Play counter",
              POPM: "Popularimeter",
              POSS: "Position synchronisation frame",
              RBUF: "Recommended buffer size",
              RVA2: "Relative volume adjustment (2)",
              RVAD: "Relative volume adjustment",
              RVRB: "Reverb",
              SEEK: "Seek frame",
              SYLT: "Synchronized lyric/text",
              SYTC: "Synchronized tempo codes",
              TALB: "Album/Movie/Show title",
              TBPM: "BPM (beats per minute)",
              TCOM: "Composer",
              TCON: "Content type",
              TCOP: "Copyright message",
              TDAT: "Date",
              TDLY: "Playlist delay",
              TDRC: "Recording time",
              TDRL: "Release time",
              TDTG: "Tagging time",
              TENC: "Encoded by",
              TEXT: "Lyricist/Text writer",
              TFLT: "File type",
              TIME: "Time",
              TIPL: "Involved people list",
              TIT1: "Content group description",
              TIT2: "Title/songname/content description",
              TIT3: "Subtitle/Description refinement",
              TKEY: "Initial key",
              TLAN: "Language(s)",
              TLEN: "Length",
              TMCL: "Musician credits list",
              TMED: "Media type",
              TMOO: "Mood",
              TOAL: "Original album/movie/show title",
              TOFN: "Original filename",
              TOLY: "Original lyricist(s)/text writer(s)",
              TOPE: "Original artist(s)/performer(s)",
              TORY: "Original release year",
              TOWN: "File owner/licensee",
              TPE1: "Lead performer(s)/Soloist(s)",
              TPE2: "Band/orchestra/accompaniment",
              TPE3: "Conductor/performer refinement",
              TPE4: "Interpreted, remixed, or otherwise modified by",
              TPOS: "Part of a set",
              TPRO: "Produced notice",
              TPUB: "Publisher",
              TRCK: "Track number/Position in set",
              TRDA: "Recording dates",
              TRSN: "Internet radio station name",
              TRSO: "Internet radio station owner",
              TSOA: "Album sort order",
              TSOP: "Performer sort order",
              TSOT: "Title sort order",
              TSIZ: "Size",
              TSRC: "ISRC (international standard recording code)",
              TSSE: "Software/Hardware and settings used for encoding",
              TSST: "Set subtitle",
              TYER: "Year",
              TXXX: "User defined text information frame",
              UFID: "Unique file identifier",
              USER: "Terms of use",
              USLT: "Unsychronized lyric/text transcription",
              WCOM: "Commercial information",
              WCOP: "Copyright/Legal information",
              WOAF: "Official audio file webpage",
              WOAR: "Official artist/performer webpage",
              WOAS: "Official audio source webpage",
              WORS: "Official internet radio station homepage",
              WPAY: "Payment",
              WPUB: "Publishers official webpage",
              WXXX: "User defined URL link frame"
            };
          b = function() {
            function p() {
              if (!(this instanceof p)) throw new TypeError("Cannot call a class as a function");
            }
            g(p, null, [{
                key: "getFrameReaderFunction",
                value: function(n) {
                  return n in l ? l[n] : "T" === n[0] ? l["T*"] : "W" === n[0] ? l["W*"] : null
                }
              },
              {
                key: "readFrames",
                value: function(n, r, t, u, v) {
                  for (var x = {}, A = this._getFrameHeaderSize(u); n < r - A;) {
                    var H = this._readFrameHeader(t, n, u),
                      I = H.id;
                    if (!I) break;
                    var w = H.flags,
                      C = H.size,
                      B = n + H.headerSize,
                      J = t;
                    n += H.headerSize + H.size;
                    if (!v || -1 !== v.indexOf(I)) {
                      if ("MP3e" === I || "\x00MP3" === I || "\x00\x00MP" === I || " MP3" === I) break;
                      w && w.format.unsynchronisation && (J = this.getUnsyncFileReader(J, B, C), B = 0, C = J.getSize());
                      w && w.format.data_length_indicator && (B += 4, C -= 4);
                      w = (H = p.getFrameReaderFunction(I)) ? H.apply(this, [B, C, J, w, u]) : null;
                      B = this._getFrameDescription(I);
                      C = {
                        id: I,
                        size: C,
                        description: B,
                        data: w
                      };
                      I in x ? (x[I].id && (x[I] = [x[I]]), x[I].push(C)) : x[I] = C
                    }
                  }
                  return x
                }
              },
              {
                key: "_getFrameHeaderSize",
                value: function(n) {
                  n = n.major;
                  return 2 == n ? 6 : 3 == n || 4 == n ? 10 : 0
                }
              },
              {
                key: "_readFrameHeader",
                value: function(n, r, t) {
                  var u = t.major,
                    v = null;
                  t = this._getFrameHeaderSize(t);
                  switch (u) {
                    case 2:
                      var x = n.getStringAt(r, 3),
                        A = n.getInteger24At(r + 3, !0);
                      break;
                    case 3:
                      x = n.getStringAt(r, 4);
                      A = n.getLongAt(r + 4, !0);
                      break;
                    case 4:
                      x = n.getStringAt(r, 4), A = n.getSynchsafeInteger32At(r + 4)
                  }
                  if (x == String.fromCharCode(0, 0, 0) || x == String.fromCharCode(0, 0, 0, 0)) x = "";
                  x && 2 < u && (v = this._readFrameFlags(n, r + 8));
                  return {
                    id: x || "",
                    size: A || 0,
                    headerSize: t || 0,
                    flags: v
                  }
                }
              },
              {
                key: "_readFrameFlags",
                value: function(n, r) {
                  return {
                    message: {
                      tag_alter_preservation: n.isBitSetAt(r, 6),
                      file_alter_preservation: n.isBitSetAt(r, 5),
                      read_only: n.isBitSetAt(r, 4)
                    },
                    format: {
                      grouping_identity: n.isBitSetAt(r + 1, 7),
                      compression: n.isBitSetAt(r + 1, 3),
                      encryption: n.isBitSetAt(r + 1, 2),
                      unsynchronisation: n.isBitSetAt(r + 1, 1),
                      data_length_indicator: n.isBitSetAt(r + 1, 0)
                    }
                  }
                }
              },
              {
                key: "_getFrameDescription",
                value: function(n) {
                  return n in m ? m[n] : "Unknown"
                }
              },
              {
                key: "getUnsyncFileReader",
                value: function(n, r, t) {
                  n = n.getBytesAt(r, t);
                  for (r = 0; r < n.length - 1; r++) 255 === n[r] && 0 === n[r + 1] && n.splice(r + 1, 1);
                  return new k(n)
                }
              }
            ]);
            return p
          }();
          var l = {
            APIC: function(p, n, r, t, u) {
              t = p;
              var v = d(r.getByteAt(p));
              switch (u && u.major) {
                case 2:
                  u = r.getStringAt(p + 1, 3);
                  p += 4;
                  break;
                case 3:
                case 4:
                  u = r.getStringWithCharsetAt(p + 1, n - 1);
                  p += 1 + u.bytesReadCount;
                  break;
                default:
                  throw Error("Couldn't read ID3v2 major version.");
              }
              var x = r.getByteAt(p);
              x = q[x];
              v = r.getStringWithCharsetAt(p + 1, n - (p - t) - 1, v);
              p += 1 + v.bytesReadCount;
              return {
                format: u.toString(),
                type: x,
                description: v.toString(),
                data: r.getBytesAt(p, t + n - p)
              }
            },
            CHAP: function(p, n, r, t, u) {
              t = p;
              var v = {},
                x = h.readNullTerminatedString(r.getBytesAt(p, n));
              v.id = x.toString();
              p += x.bytesReadCount;
              v.startTime = r.getLongAt(p, !0);
              p += 4;
              v.endTime = r.getLongAt(p, !0);
              p += 4;
              v.startOffset = r.getLongAt(p, !0);
              p += 4;
              v.endOffset = r.getLongAt(p, !0);
              p += 4;
              v.subFrames = this.readFrames(p, p + (n - (p - t)), r, u);
              return v
            },
            CTOC: function(p, n, r, t, u) {
              t = p;
              var v = {
                  childElementIds: [],
                  id: void 0,
                  topLevel: void 0,
                  ordered: void 0,
                  entryCount: void 0,
                  subFrames: void 0
                },
                x = h.readNullTerminatedString(r.getBytesAt(p, n));
              v.id = x.toString();
              p += x.bytesReadCount;
              v.topLevel = r.isBitSetAt(p, 1);
              v.ordered = r.isBitSetAt(p, 0);
              p++;
              v.entryCount = r.getByteAt(p);
              p++;
              for (x = 0; x < v.entryCount; x++) {
                var A = h.readNullTerminatedString(r.getBytesAt(p, n - (p - t)));
                v.childElementIds.push(A.toString());
                p += A.bytesReadCount
              }
              v.subFrames = this.readFrames(p, p + (n - (p - t)), r, u);
              return v
            },
            COMM: function(p, n, r, t, u) {
              var v = p,
                x = d(r.getByteAt(p));
              t = r.getStringAt(p + 1, 3);
              u = r.getStringWithCharsetAt(p + 4, n - 4, x);
              p += 4 + u.bytesReadCount;
              p = r.getStringWithCharsetAt(p, v + n - p, x);
              return {
                language: t,
                short_description: u.toString(),
                text: p.toString()
              }
            }
          };
          l.COM = l.COMM;
          l.PIC = function(p, n, r, t, u) {
            return l.APIC(p, n, r, t, u)
          };
          l.PCNT = function(p, n, r) {
            return r.getLongAt(p, !1)
          };
          l.CNT = l.PCNT;
          l["T*"] = function(p, n, r, t) {
            t = d(r.getByteAt(p));
            return r.getStringWithCharsetAt(p + 1, n - 1, t).toString()
          };
          l.TXXX = function(p, n, r, t) {
            t = d(r.getByteAt(p));
            return e(p, n, r, t)
          };
          l.WXXX = function(p, n, r, t) {
            if (0 === n) return null;
            t = d(r.getByteAt(p));
            return e(p, n, r, t)
          };
          l["W*"] = function(p, n, r) {
            return 0 === n ? null : r.getStringWithCharsetAt(p, n, "iso-8859-1").toString()
          };
          l.TCON = function(p, n, r, t) {
            return l["T*"].apply(this, arguments).replace(/^\(\d+\)/, "")
          };
          l.TCO = l.TCON;
          l.USLT = function(p, n, r, t, u) {
            var v = p,
              x = d(r.getByteAt(p));
            t = r.getStringAt(p + 1, 3);
            u = r.getStringWithCharsetAt(p + 4, n - 4, x);
            p += 4 + u.bytesReadCount;
            p = r.getStringWithCharsetAt(p, v + n - p, x);
            return {
              language: t,
              descriptor: u.toString(),
              lyrics: p.toString()
            }
          };
          l.ULT = l.USLT;
          l.UFID = function(p, n, r, t) {
            t = h.readNullTerminatedString(r.getBytesAt(p, n));
            p += t.bytesReadCount;
            p = r.getBytesAt(p, n - t.bytesReadCount);
            return {
              ownerIdentifier: t.toString(),
              identifier: p
            }
          };
          var q = "Other;32x32 pixels 'file icon' (PNG only);Other file icon;Cover (front);Cover (back);Leaflet page;Media (e.g. label side of CD);Lead artist/lead performer/soloist;Artist/performer;Conductor;Band/Orchestra;Composer;Lyricist/text writer;Recording Location;During recording;During performance;Movie/video screen capture;A bright coloured fish;Illustration;Band/artist logotype;Publisher/Studio logotype".split(";");
          c.exports = b
        },
        {
          "./ArrayFileReader": 3,
          "./MediaFileReader": 11,
          "./StringUtils": 13
        }
      ],
      9: [function(b, c, d) {
          function e(m, l) {
            if ("function" !== typeof l && null !== l) throw new TypeError("Super expression must either be null or a function, not " + typeof l);
            m.prototype = Object.create(l && l.prototype, {
              constructor: {
                value: m,
                enumerable: !1,
                writable: !0,
                configurable: !0
              }
            });
            l && (Object.setPrototypeOf ? Object.setPrototypeOf(m, l) : m.__proto__ = l)
          }
          var g = function() {
            function m(l, q) {
              for (var p = 0; p < q.length; p++) {
                var n = q[p];
                n.enumerable = n.enumerable || !1;
                n.configurable = !0;
                "value" in n && (n.writable = !0);
                Object.defineProperty(l, n.key, n)
              }
            }
            return function(l, q, p) {
              q && m(l.prototype, q);
              p && m(l, p);
              return l
            }
          }();
          d = b("./MediaTagReader");
          b("./MediaFileReader");
          var h = b("./ID3v2FrameReader");
          b = function(m) {
            function l() {
              if (!(this instanceof l)) throw new TypeError("Cannot call a class as a function");
              var q = Object.getPrototypeOf(l).apply(this, arguments);
              if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return !q || "object" !== typeof q && "function" !== typeof q ? this : q
            }
            e(l, m);
            g(l, [{
                key: "_loadData",
                value: function(q, p) {
                  q.loadRange([6, 9], {
                    onSuccess: function() {
                      q.loadRange([0, 10 + q.getSynchsafeInteger32At(6) - 1], p)
                    },
                    onError: p.onError
                  })
                }
              },
              {
                key: "_parseData",
                value: function(q, p) {
                  var n, r = 0,
                    t = q.getByteAt(r + 3);
                  if (4 < t) return {
                    type: "ID3",
                    version: ">2.4",
                    tags: {}
                  };
                  var u = q.getByteAt(r + 4),
                    v = q.isBitSetAt(r + 5, 7),
                    x = q.isBitSetAt(r + 5, 6),
                    A = q.isBitSetAt(r + 5, 5),
                    H = q.getSynchsafeInteger32At(r + 6);
                  r += 10;
                  if (x) {
                    var I = q.getLongAt(r, !0);
                    r += I + 4
                  }
                  t = {
                    type: "ID3",
                    version: "2." + t + "." + u,
                    major: t,
                    revision: u,
                    flags: {
                      unsynchronisation: v,
                      extended_header: x,
                      experimental_indicator: A,
                      footer_present: !1
                    },
                    size: H,
                    tags: {}
                  };
                  p && (n = this._expandShortcutTags(p));
                  p = H + 10;
                  t.flags.unsynchronisation &&
                    (q = h.getUnsyncFileReader(q, r, H), r = 0, p = q.getSize());
                  q = h.readFrames(r, p, q, t, n);
                  for (var w in k) k.hasOwnProperty(w) && (n = this._getFrameData(q, k[w])) && (t.tags[w] = n);
                  for (var C in q) q.hasOwnProperty(C) && (t.tags[C] = q[C]);
                  return t
                }
              },
              {
                key: "_getFrameData",
                value: function(q, p) {
                  for (var n = 0, r; r = p[n]; n++)
                    if (r in q) return q = q[r] instanceof Array ? q[r][0] : q[r], q.data
                }
              },
              {
                key: "getShortcuts",
                value: function() {
                  return k
                }
              }
            ], [{
                key: "getTagIdentifierByteRange",
                value: function() {
                  return {
                    offset: 0,
                    length: 10
                  }
                }
              },
              {
                key: "canReadTagFormat",
                value: function(q) {
                  return "ID3" === String.fromCharCode.apply(String, q.slice(0, 3))
                }
              }
            ]);
            return l
          }(d);
          var k = {
            title: ["TIT2", "TT2"],
            artist: ["TPE1", "TP1"],
            album: ["TALB", "TAL"],
            year: ["TYER", "TYE"],
            comment: ["COMM", "COM"],
            track: ["TRCK", "TRK"],
            genre: ["TCON", "TCO"],
            picture: ["APIC", "PIC"],
            lyrics: ["USLT", "ULT"]
          };
          c.exports = b
        },
        {
          "./ID3v2FrameReader": 8,
          "./MediaFileReader": 11,
          "./MediaTagReader": 12
        }
      ],
      10: [function(b, c, d) {
          function e(l, q) {
            if ("function" !== typeof q && null !== q) throw new TypeError("Super expression must either be null or a function, not " + typeof q);
            l.prototype = Object.create(q && q.prototype, {
              constructor: {
                value: l,
                enumerable: !1,
                writable: !0,
                configurable: !0
              }
            });
            q && (Object.setPrototypeOf ? Object.setPrototypeOf(l, q) : l.__proto__ = q)
          }
          var g = function() {
            function l(q, p) {
              for (var n = 0; n < p.length; n++) {
                var r = p[n];
                r.enumerable = r.enumerable || !1;
                r.configurable = !0;
                "value" in r && (r.writable = !0);
                Object.defineProperty(q, r.key, r)
              }
            }
            return function(q, p, n) {
              p && l(q.prototype, p);
              n && l(q, n);
              return q
            }
          }();
          d = b("./MediaTagReader");
          b("./MediaFileReader");
          b = function(l) {
            function q() {
              if (!(this instanceof q)) throw new TypeError("Cannot call a class as a function");
              var p = Object.getPrototypeOf(q).apply(this, arguments);
              if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return !p || "object" !== typeof p && "function" !== typeof p ? this : p
            }
            e(q, l);
            g(q, [{
                key: "_loadData",
                value: function(p, n) {
                  var r = this;
                  p.loadRange([0, 16], {
                    onSuccess: function() {
                      r._loadAtom(p, 0, "", n)
                    },
                    onError: n.onError
                  })
                }
              },
              {
                key: "_loadAtom",
                value: function(p, n, r, t) {
                  if (n >= p.getSize()) t.onSuccess();
                  else {
                    var u = this,
                      v = p.getLongAt(n, !0);
                    if (0 == v || isNaN(v)) t.onSuccess();
                    else {
                      var x = p.getStringAt(n + 4, 4);
                      if (this._isContainerAtom(x)) {
                        "meta" == x && (n += 4);
                        var A = (r ? r + "." : "") + x;
                        "moov.udta.meta.ilst" === A ? p.loadRange([n, n + v], t) : p.loadRange([n + 8, n + 8 + 8], {
                          onSuccess: function() {
                            u._loadAtom(p, n + 8, A, t)
                          },
                          onError: t.onError
                        })
                      } else p.loadRange([n + v, n + v + 8], {
                        onSuccess: function() {
                          u._loadAtom(p, n + v, r, t)
                        },
                        onError: t.onError
                      })
                    }
                  }
                }
              },
              {
                key: "_isContainerAtom",
                value: function(p) {
                  return 0 <= ["moov", "udta", "meta", "ilst"].indexOf(p)
                }
              },
              {
                key: "_canReadAtom",
                value: function(p) {
                  return "----" !== p
                }
              },
              {
                key: "_parseData",
                value: function(p, n) {
                  var r = {};
                  n = this._expandShortcutTags(n);
                  this._readAtom(r, p, 0, p.getSize(), n);
                  for (var t in m) m.hasOwnProperty(t) && (n = r[m[t]]) && (r[t] = "track" === t ? n.data.track : n.data);
                  return {
                    type: "MP4",
                    ftyp: p.getStringAt(8, 4),
                    version: p.getLongAt(12, !0),
                    tags: r
                  }
                }
              },
              {
                key: "_readAtom",
                value: function(p, n, r, t, u, v, x) {
                  x = void 0 === x ? "" : x + "  ";
                  for (var A = r; A < r + t;) {
                    var H = n.getLongAt(A, !0);
                    if (0 == H) break;
                    var I = n.getStringAt(A + 4, 4);
                    if (this._isContainerAtom(I)) {
                      "meta" == I && (A += 4);
                      this._readAtom(p, n, A + 8, H - 8, u, (v ? v + "." : "") + I, x);
                      break
                    }(!u || 0 <= u.indexOf(I)) && "moov.udta.meta.ilst" === v && this._canReadAtom(I) && (p[I] = this._readMetadataAtom(n, A));
                    A += H
                  }
                }
              },
              {
                key: "_readMetadataAtom",
                value: function(p, n) {
                  var r = p.getLongAt(n, !0),
                    t = p.getStringAt(n + 4, 4),
                    u = p.getInteger24At(n + 16 + 1, !0);
                  u = h[u];
                  if ("trkn" == t) var v = {
                    track: p.getByteAt(n + 16 + 11),
                    total: p.getByteAt(n + 16 + 13)
                  };
                  else if ("disk" == t) v = {
                    disk: p.getByteAt(n + 16 + 11),
                    total: p.getByteAt(n + 16 + 13)
                  };
                  else {
                    n += 24;
                    var x = r - 24;
                    "covr" === t && "uint8" === u && (u = "jpeg");
                    switch (u) {
                      case "text":
                        v = p.getStringWithCharsetAt(n, x, "utf-8").toString();
                        break;
                      case "uint8":
                        v = p.getShortAt(n, !1);
                        break;
                      case "int":
                      case "uint":
                        v = ("int" == u ? 1 == x ? p.getSByteAt :
                          2 == x ? p.getSShortAt : 4 == x ? p.getSLongAt : p.getLongAt : 1 == x ? p.getByteAt : 2 == x ? p.getShortAt : p.getLongAt).call(p, n + (8 == x ? 4 : 0), !0);
                        break;
                      case "jpeg":
                      case "png":
                        v = {
                          format: "image/" + u,
                          data: p.getBytesAt(n, x)
                        }
                    }
                  }
                  return {
                    id: t,
                    size: r,
                    description: k[t] || "Unknown",
                    data: v
                  }
                }
              },
              {
                key: "getShortcuts",
                value: function() {
                  return m
                }
              }
            ], [{
                key: "getTagIdentifierByteRange",
                value: function() {
                  return {
                    offset: 0,
                    length: 16
                  }
                }
              },
              {
                key: "canReadTagFormat",
                value: function(p) {
                  return "ftyp" === String.fromCharCode.apply(String, p.slice(4, 8))
                }
              }
            ]);
            return q
          }(d);
          var h = {
              0: "uint8",
              1: "text",
              13: "jpeg",
              14: "png",
              21: "int",
              22: "uint"
            },
            k = {
              "\u00a9alb": "Album",
              "\u00a9ART": "Artist",
              aART: "Album Artist",
              "\u00a9day": "Release Date",
              "\u00a9nam": "Title",
              "\u00a9gen": "Genre",
              gnre: "Genre",
              trkn: "Track Number",
              "\u00a9wrt": "Composer",
              "\u00a9too": "Encoding Tool",
              "\u00a9enc": "Encoded By",
              cprt: "Copyright",
              covr: "Cover Art",
              "\u00a9grp": "Grouping",
              keyw: "Keywords",
              "\u00a9lyr": "Lyrics",
              "\u00a9cmt": "Comment",
              tmpo: "Tempo",
              cpil: "Compilation",
              disk: "Disc Number",
              tvsh: "TV Show Name",
              tven: "TV Episode ID",
              tvsn: "TV Season",
              tves: "TV Episode",
              tvnn: "TV Network",
              desc: "Description",
              ldes: "Long Description",
              sonm: "Sort Name",
              soar: "Sort Artist",
              soaa: "Sort Album",
              soco: "Sort Composer",
              sosn: "Sort Show",
              purd: "Purchase Date",
              pcst: "Podcast",
              purl: "Podcast URL",
              catg: "Category",
              hdvd: "HD Video",
              stik: "Media Type",
              rtng: "Content Rating",
              pgap: "Gapless Playback",
              apID: "Purchase Account",
              sfID: "Country Code",
              atID: "Artist ID",
              cnID: "Catalog ID",
              plID: "Collection ID",
              geID: "Genre ID",
              "xid ": "Vendor Information",
              flvr: "Codec Flavor"
            },
            m = {
              title: "\u00a9nam",
              artist: "\u00a9ART",
              album: "\u00a9alb",
              year: "\u00a9day",
              comment: "\u00a9cmt",
              track: "trkn",
              genre: "\u00a9gen",
              picture: "covr",
              lyrics: "\u00a9lyr"
            };
          c.exports = b
        },
        {
          "./MediaFileReader": 11,
          "./MediaTagReader": 12
        }
      ],
      11: [function(b, c) {
          var d = function() {
              function g(h, k) {
                for (var m = 0; m < k.length; m++) {
                  var l = k[m];
                  l.enumerable = l.enumerable || !1;
                  l.configurable = !0;
                  "value" in l && (l.writable = !0);
                  Object.defineProperty(h, l.key, l)
                }
              }
              return function(h, k, m) {
                k && g(h.prototype, k);
                m && g(h, m);
                return h
              }
            }(),
            e = b("./StringUtils");
          b = function() {
            function g() {
              if (!(this instanceof g)) throw new TypeError("Cannot call a class as a function");
              this._isInitialized = !1;
              this._size = 0
            }
            d(g, [{
                key: "init",
                value: function(h) {
                  var k = this;
                  if (this._isInitialized) setTimeout(h.onSuccess, 1);
                  else return this._init({
                    onSuccess: function() {
                      k._isInitialized = !0;
                      h.onSuccess()
                    },
                    onError: h.onError
                  })
                }
              },
              {
                key: "_init",
                value: function() {
                  throw Error("Must implement init function");
                }
              },
              {
                key: "loadRange",
                value: function() {
                  throw Error("Must implement loadRange function");
                }
              },
              {
                key: "getSize",
                value: function() {
                  if (!this._isInitialized) throw Error("init() must be called first.");
                  return this._size
                }
              },
              {
                key: "getByteAt",
                value: function() {
                  throw Error("Must implement getByteAt function");
                }
              },
              {
                key: "getBytesAt",
                value: function(h, k) {
                  for (var m = Array(k), l = 0; l < k; l++) m[l] = this.getByteAt(h + l);
                  return m
                }
              },
              {
                key: "isBitSetAt",
                value: function(h, k) {
                  return 0 != (this.getByteAt(h) & 1 << k)
                }
              },
              {
                key: "getSByteAt",
                value: function(h) {
                  h = this.getByteAt(h);
                  return 127 < h ? h - 256 : h
                }
              },
              {
                key: "getShortAt",
                value: function(h, k) {
                  h = k ? (this.getByteAt(h) << 8) + this.getByteAt(h + 1) : (this.getByteAt(h + 1) << 8) + this.getByteAt(h);
                  0 > h && (h += 65536);
                  return h
                }
              },
              {
                key: "getSShortAt",
                value: function(h, k) {
                  h = this.getShortAt(h, k);
                  return 32767 < h ? h - 65536 : h
                }
              },
              {
                key: "getLongAt",
                value: function(h, k) {
                  var m = this.getByteAt(h),
                    l = this.getByteAt(h + 1),
                    q = this.getByteAt(h + 2);
                  h = this.getByteAt(h + 3);
                  k = k ? (((m << 8) + l << 8) + q << 8) + h : (((h << 8) + q << 8) + l << 8) + m;
                  0 > k && (k += 4294967296);
                  return k
                }
              },
              {
                key: "getSLongAt",
                value: function(h, k) {
                  h = this.getLongAt(h, k);
                  return 2147483647 < h ? h - 4294967296 : h
                }
              },
              {
                key: "getInteger24At",
                value: function(h, k) {
                  var m = this.getByteAt(h),
                    l = this.getByteAt(h + 1);
                  h = this.getByteAt(h + 2);
                  k = k ? ((m << 8) + l << 8) + h : ((h << 8) + l << 8) + m;
                  0 > k && (k += 16777216);
                  return k
                }
              },
              {
                key: "getStringAt",
                value: function(h, k) {
                  for (var m = [], l = h, q = 0; l < h + k; l++, q++) m[q] = String.fromCharCode(this.getByteAt(l));
                  return m.join("")
                }
              },
              {
                key: "getStringWithCharsetAt",
                value: function(h, k, m) {
                  h = this.getBytesAt(h, k);
                  switch ((m || "").toLowerCase()) {
                    case "utf-16":
                    case "utf-16le":
                    case "utf-16be":
                      m = e.readUTF16String(h, "utf-16be" === m);
                      break;
                    case "utf-8":
                      m = e.readUTF8String(h);
                      break;
                    default:
                      m = e.readNullTerminatedString(h)
                  }
                  return m
                }
              },
              {
                key: "getCharAt",
                value: function(h) {
                  return String.fromCharCode(this.getByteAt(h))
                }
              },
              {
                key: "getSynchsafeInteger32At",
                value: function(h) {
                  var k = this.getByteAt(h),
                    m = this.getByteAt(h + 1),
                    l = this.getByteAt(h + 2);
                  return this.getByteAt(h + 3) & 127 | (l & 127) << 7 | (m & 127) << 14 | (k & 127) << 21
                }
              }
            ], [{
              key: "canReadFile",
              value: function() {
                throw Error("Must implement canReadFile function");
              }
            }]);
            return g
          }();
          c.exports = b
        },
        {
          "./StringUtils": 13
        }
      ],
      12: [function(b, c) {
          var d = function() {
            function e(g, h) {
              for (var k = 0; k < h.length; k++) {
                var m = h[k];
                m.enumerable = m.enumerable || !1;
                m.configurable = !0;
                "value" in m && (m.writable = !0);
                Object.defineProperty(g, m.key, m)
              }
            }
            return function(g, h, k) {
              h && e(g.prototype, h);
              k && e(g, k);
              return g
            }
          }();
          b("./MediaFileReader");
          b = function() {
            function e(g) {
              if (!(this instanceof e)) throw new TypeError("Cannot call a class as a function");
              this._mediaFileReader = g;
              this._tags = null
            }
            d(e, [{
                key: "setTagsToRead",
                value: function(g) {
                  this._tags = g;
                  return this
                }
              },
              {
                key: "read",
                value: function(g) {
                  var h = this;
                  this._mediaFileReader.init({
                    onSuccess: function() {
                      h._loadData(h._mediaFileReader, {
                        onSuccess: function() {
                          try {
                            var k = h._parseData(h._mediaFileReader, h._tags)
                          } catch (m) {
                            if (g.onError) {
                              g.onError({
                                type: "parseData",
                                info: m.message
                              });
                              return
                            }
                          }
                          g.onSuccess(k)
                        },
                        onError: g.onError
                      })
                    },
                    onError: g.onError
                  })
                }
              },
              {
                key: "getShortcuts",
                value: function() {
                  return {}
                }
              },
              {
                key: "_loadData",
                value: function() {
                  throw Error("Must implement _loadData function");
                }
              },
              {
                key: "_parseData",
                value: function() {
                  throw Error("Must implement _parseData function");
                }
              },
              {
                key: "_expandShortcutTags",
                value: function(g) {
                  if (!g) return null;
                  for (var h = [], k = this.getShortcuts(), m = 0, l; l = g[m]; m++) h = h.concat(k[l] || [l]);
                  return h
                }
              }
            ], [{
                key: "getTagIdentifierByteRange",
                value: function() {
                  throw Error("Must implement");
                }
              },
              {
                key: "canReadTagFormat",
                value: function() {
                  throw Error("Must implement");
                }
              }
            ]);
            return e
          }();
          c.exports = b
        },
        {
          "./MediaFileReader": 11
        }
      ],
      13: [function(b, c) {
          var d = function() {
              function g(h, k) {
                for (var m = 0; m < k.length; m++) {
                  var l = k[m];
                  l.enumerable = l.enumerable || !1;
                  l.configurable = !0;
                  "value" in l && (l.writable = !0);
                  Object.defineProperty(h, l.key, l)
                }
              }
              return function(h, k, m) {
                k && g(h.prototype, k);
                m && g(h, m);
                return h
              }
            }(),
            e = function() {
              function g(h, k) {
                if (!(this instanceof g)) throw new TypeError("Cannot call a class as a function");
                this._value = h;
                this.bytesReadCount = k;
                this.length = h.length
              }
              d(g, [{
                key: "toString",
                value: function() {
                  return this._value
                }
              }]);
              return g
            }();
          c.exports = {
            readUTF16String: function(g, h, k) {
              var m = 0,
                l = 1,
                q = 0;
              k = Math.min(k || g.length, g.length);
              254 == g[0] && 255 == g[1] ? (h = !0, m = 2) : 255 == g[0] && 254 == g[1] && (h = !1, m = 2);
              h && (l = 0, q = 1);
              h = [];
              for (var p = 0; m < k; p++) {
                var n = g[m + l],
                  r = (n << 8) + g[m + q];
                m += 2;
                if (0 == r) break;
                else 216 > n || 224 <= n ? h[p] = String.fromCharCode(r) : (n = (g[m + l] << 8) + g[m + q], m += 2, h[p] = String.fromCharCode(r, n))
              }
              return new e(h.join(""), m)
            },
            readUTF8String: function(g, h) {
              var k = 0;
              h = Math.min(h || g.length, g.length);
              239 == g[0] && 187 == g[1] && 191 == g[2] && (k = 3);
              for (var m = [], l = 0; k < h; l++) {
                var q = g[k++];
                if (0 == q) break;
                else if (128 > q) m[l] = String.fromCharCode(q);
                else if (194 <= q && 224 > q) {
                  var p = g[k++];
                  m[l] = String.fromCharCode(((q & 31) << 6) + (p & 63))
                } else if (224 <= q && 240 > q) {
                  p = g[k++];
                  var n = g[k++];
                  m[l] = String.fromCharCode(((q & 255) << 12) + ((p & 63) << 6) + (n & 63))
                } else if (240 <= q && 245 > q) {
                  p = g[k++];
                  n = g[k++];
                  var r = g[k++];
                  n = ((q & 7) << 18) + ((p & 63) << 12) + ((n & 63) << 6) + (r & 63) - 65536;
                  m[l] = String.fromCharCode((n >>
                    10) + 55296, (n & 1023) + 56320)
                }
              }
              return new e(m.join(""), k)
            },
            readNullTerminatedString: function(g, h) {
              var k = [];
              h = h || g.length;
              for (var m = 0; m < h;) {
                var l = g[m++];
                if (0 == l) break;
                k[m - 1] = String.fromCharCode(l)
              }
              return new e(k.join(""), m)
            }
          }
        },
        {}
      ],
      14: [function(b, c, d) {
          function e(k, m) {
            if ("function" !== typeof m && null !== m) throw new TypeError("Super expression must either be null or a function, not " + typeof m);
            k.prototype = Object.create(m && m.prototype, {
              constructor: {
                value: k,
                enumerable: !1,
                writable: !0,
                configurable: !0
              }
            });
            m && (Object.setPrototypeOf ? Object.setPrototypeOf(k, m) : k.__proto__ = m)
          }
          var g = function() {
              function k(m, l) {
                for (var q = 0; q < l.length; q++) {
                  var p = l[q];
                  p.enumerable = p.enumerable || !1;
                  p.configurable = !0;
                  "value" in p && (p.writable = !0);
                  Object.defineProperty(m, p.key, p)
                }
              }
              return function(m, l, q) {
                l && k(m.prototype, l);
                q && k(m, q);
                return m
              }
            }(),
            h = b("./ChunkedFileData");
          d = function(k) {
            function m(l) {
              if (!(this instanceof m)) throw new TypeError("Cannot call a class as a function");
              var q = Object.getPrototypeOf(m).call(this);
              if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              q = !q || "object" !== typeof q && "function" !== typeof q ? this : q;
              q._url = l;
              q._fileData = new h;
              return q
            }
            e(m, k);
            g(m, [{
                key: "_init",
                value: function(l) {
                  m._config.avoidHeadRequests ? this._fetchSizeWithGetRequest(l) : this._fetchSizeWithHeadRequest(l)
                }
              },
              {
                key: "_fetchSizeWithHeadRequest",
                value: function(l) {
                  var q = this;
                  this._makeXHRRequest("HEAD", null, {
                    onSuccess: function(p) {
                      (p = q._parseContentLength(p)) ? (q._size = p, l.onSuccess()) : q._fetchSizeWithGetRequest(l)
                    },
                    onError: l.onError
                  })
                }
              },
              {
                key: "_fetchSizeWithGetRequest",
                value: function(l) {
                  var q = this,
                    p = this._roundRangeToChunkMultiple([0, 0]);
                  this._makeXHRRequest("GET", p, {
                    onSuccess: function(n) {
                      var r = q._parseContentRange(n);
                      n = q._getXhrResponseContent(n);
                      if (r) {
                        if (null == r.instanceLength) {
                          q._fetchEntireFile(l);
                          return
                        }
                        q._size = r.instanceLength
                      } else q._size = n.length;
                      q._fileData.addData(0, n);
                      l.onSuccess()
                    },
                    onError: l.onError
                  })
                }
              },
              {
                key: "_fetchEntireFile",
                value: function(l) {
                  var q = this;
                  this._makeXHRRequest("GET", null, {
                    onSuccess: function(p) {
                      p = q._getXhrResponseContent(p);
                      q._size = p.length;
                      q._fileData.addData(0, p);
                      l.onSuccess()
                    },
                    onError: l.onError
                  })
                }
              },
              {
                key: "_getXhrResponseContent",
                value: function(l) {
                  return l.responseBody || l.responseText || ""
                }
              },
              {
                key: "_parseContentLength",
                value: function(l) {
                  l = this._getResponseHeader(l, "Content-Length");
                  return null == l ? l : parseInt(l, 10)
                }
              },
              {
                key: "_parseContentRange",
                value: function(l) {
                  if (l = this._getResponseHeader(l, "Content-Range")) {
                    var q = l.match(/bytes (\d+)-(\d+)\/(?:(\d+)|\*)/i);
                    if (!q) throw Error("FIXME: Unknown Content-Range syntax: " + l);
                    return {
                      firstBytePosition: parseInt(q[1], 10),
                      lastBytePosition: parseInt(q[2], 10),
                      instanceLength: q[3] ? parseInt(q[3], 10) : null
                    }
                  }
                  return null
                }
              },
              {
                key: "loadRange",
                value: function(l, q) {
                  var p = this;
                  p._fileData.hasDataRange(l[0], Math.min(p._size, l[1])) ? setTimeout(q.onSuccess, 1) : (l = this._roundRangeToChunkMultiple(l), l[1] = Math.min(p._size, l[1]), this._makeXHRRequest("GET", l, {
                    onSuccess: function(n) {
                      n = p._getXhrResponseContent(n);
                      p._fileData.addData(l[0], n);
                      q.onSuccess()
                    },
                    onError: q.onError
                  }))
                }
              },
              {
                key: "_roundRangeToChunkMultiple",
                value: function(l) {
                  return [l[0], l[0] + 1024 * Math.ceil((l[1] - l[0] + 1) / 1024) - 1]
                }
              },
              {
                key: "_makeXHRRequest",
                value: function(l, q, p) {
                  var n = this._createXHRObject();
                  n.open(l, this._url);
                  var r = function() {
                    if (200 === n.status || 206 === n.status) p.onSuccess(n);
                    else if (p.onError) p.onError({
                      type: "xhr",
                      info: "Unexpected HTTP status " + n.status + ".",
                      xhr: n
                    });
                    n = null
                  };
                  "undefined" !== typeof n.onload ? (n.onload = r, n.onerror = function() {
                    if (p.onError) p.onError({
                      type: "xhr",
                      info: "Generic XHR error, check xhr object.",
                      xhr: n
                    })
                  }) : n.onreadystatechange = function() {
                    4 === n.readyState && r()
                  };
                  m._config.timeoutInSec && (n.timeout = 1E3 * m._config.timeoutInSec, n.ontimeout = function() {
                    if (p.onError) p.onError({
                      type: "xhr",
                      info: "Timeout after " + n.timeout / 1E3 + "s. Use jsmediatags.Config.setXhrTimeout to override.",
                      xhr: n
                    })
                  });
                  n.overrideMimeType("text/plain; charset=x-user-defined");
                  q && this._setRequestHeader(n, "Range", "bytes=" + q[0] + "-" + q[1]);
                  this._setRequestHeader(n, "If-Modified-Since", "Sat, 01 Jan 1970 00:00:00 GMT");
                  n.send(null)
                }
              },
              {
                key: "_setRequestHeader",
                value: function(l, q, p) {
                  0 > m._config.disallowedXhrHeaders.indexOf(q.toLowerCase()) && l.setRequestHeader(q, p)
                }
              },
              {
                key: "_hasResponseHeader",
                value: function(l, q) {
                  l = l.getAllResponseHeaders();
                  if (!l) return !1;
                  l = l.split("\r\n");
                  for (var p = [], n = 0; n < l.length; n++) p[n] = l[n].split(":")[0].toLowerCase();
                  return 0 <= p.indexOf(q.toLowerCase())
                }
              },
              {
                key: "_getResponseHeader",
                value: function(l, q) {
                  return this._hasResponseHeader(l, q) ? l.getResponseHeader(q) : null
                }
              },
              {
                key: "getByteAt",
                value: function(l) {
                  return this._fileData.getByteAt(l).charCodeAt(0) & 255
                }
              },
              {
                key: "_isWebWorker",
                value: function() {
                  return "undefined" !== typeof WorkerGlobalScope && self instanceof WorkerGlobalScope
                }
              },
              {
                key: "_createXHRObject",
                value: function() {
                  if ("undefined" === typeof window && !this._isWebWorker()) return new(b("xhr2").XMLHttpRequest);
                  if ("undefined" !== typeof XMLHttpRequest) return new XMLHttpRequest;
                  throw Error("XMLHttpRequest is not supported");
                }
              }
            ], [{
                key: "canReadFile",
                value: function(l) {
                  return "string" === typeof l && /^[a-z]+:\/\//i.test(l)
                }
              },
              {
                key: "setConfig",
                value: function(l) {
                  for (var q in l) l.hasOwnProperty(q) && (this._config[q] = l[q]);
                  l = this._config.disallowedXhrHeaders;
                  for (q = 0; q < l.length; q++) l[q] = l[q].toLowerCase()
                }
              }
            ]);
            return m
          }(b("./MediaFileReader"));
          d._config = {
            avoidHeadRequests: !1,
            disallowedXhrHeaders: [],
            timeoutInSec: 30
          };
          c.exports = d
        },
        {
          "./ChunkedFileData": 5,
          "./MediaFileReader": 11,
          xhr2: 2
        }
      ],
      15: [function(b, c, d) {
          function e(x, A) {
            if (!(x instanceof A)) throw new TypeError("Cannot call a class as a function");
          }

          function g(x, A) {
            var H = 0 > x.offset && (-x.offset > A || 0 < x.offset + x.length);
            return !(0 <= x.offset && x.offset + x.length >= A || H)
          }
          var h = function() {
            function x(A, H) {
              for (var I = 0; I < H.length; I++) {
                var w = H[I];
                w.enumerable = w.enumerable || !1;
                w.configurable = !0;
                "value" in w && (w.writable = !0);
                Object.defineProperty(A, w.key, w)
              }
            }
            return function(A, H, I) {
              H && x(A.prototype, H);
              I && x(A, I);
              return A
            }
          }();
          b("./MediaFileReader");
          d = b("./NodeFileReader");
          var k = b("./XhrFileReader"),
            m = b("./BlobFileReader"),
            l = b("./ArrayFileReader");
          b("./MediaTagReader");
          var q = b("./ID3v1TagReader"),
            p = b("./ID3v2TagReader"),
            n = b("./MP4TagReader");
          b = b("./FLACTagReader");
          var r = [],
            t = [],
            u = function() {
              function x(A) {
                e(this, x);
                this._file = A
              }
              h(x, [{
                  key: "setTagsToRead",
                  value: function(A) {
                    this._tagsToRead = A;
                    return this
                  }
                },
                {
                  key: "setFileReader",
                  value: function(A) {
                    this._fileReader = A;
                    return this
                  }
                },
                {
                  key: "setTagReader",
                  value: function(A) {
                    this._tagReader = A;
                    return this
                  }
                },
                {
                  key: "read",
                  value: function(A) {
                    var H = new(this._getFileReader())(this._file),
                      I = this;
                    H.init({
                      onSuccess: function() {
                        I._getTagReader(H, {
                          onSuccess: function(w) {
                            (new w(H)).setTagsToRead(I._tagsToRead).read(A)
                          },
                          onError: A.onError
                        })
                      },
                      onError: A.onError
                    })
                  }
                },
                {
                  key: "_getFileReader",
                  value: function() {
                    return this._fileReader ? this._fileReader : this._findFileReader()
                  }
                },
                {
                  key: "_findFileReader",
                  value: function() {
                    for (var A = 0; A < r.length; A++)
                      if (r[A].canReadFile(this._file)) return r[A];
                    throw Error("No suitable file reader found for " + this._file);
                  }
                },
                {
                  key: "_getTagReader",
                  value: function(A, H) {
                    if (this._tagReader) {
                      var I = this._tagReader;
                      setTimeout(function() {
                        H.onSuccess(I)
                      }, 1)
                    } else this._findTagReader(A, H)
                  }
                },
                {
                  key: "_findTagReader",
                  value: function(A, H) {
                    for (var I = [], w = [], C = A.getSize(), B = 0; B < t.length; B++) {
                      var J = t[B].getTagIdentifierByteRange();
                      g(J, C) && (0 <= J.offset && J.offset < C / 2 || 0 > J.offset && J.offset < -C / 2 ? I.push(t[B]) : w.push(t[B]))
                    }
                    var ja = !1;
                    B = {
                      onSuccess: function() {
                        if (ja) {
                          for (var Qa = 0; Qa < t.length; Qa++) {
                            var mc = t[Qa].getTagIdentifierByteRange();
                            if (g(mc, C)) {
                              try {
                                var Wf = A.getBytesAt(0 <= mc.offset ? mc.offset : mc.offset + C, mc.length)
                              } catch (fa) {
                                if (H.onError) H.onError({
                                  type: "fileReader",
                                  info: fa.message
                                });
                                return
                              }
                              if (t[Qa].canReadTagFormat(Wf)) {
                                H.onSuccess(t[Qa]);
                                return
                              }
                            }
                          }
                          if (H.onError) H.onError({
                            type: "tagFormat",
                            info: "No suitable tag reader found"
                          })
                        } else ja = !0
                      },
                      onError: H.onError
                    };
                    this._loadTagIdentifierRanges(A, I, B);
                    this._loadTagIdentifierRanges(A, w, B)
                  }
                },
                {
                  key: "_loadTagIdentifierRanges",
                  value: function(A, H, I) {
                    if (0 === H.length) setTimeout(I.onSuccess, 1);
                    else {
                      for (var w = [Number.MAX_VALUE, 0], C = A.getSize(), B = 0; B < H.length; B++) {
                        var J = H[B].getTagIdentifierByteRange(),
                          ja = 0 <= J.offset ? J.offset : J.offset + C;
                        J = ja + J.length - 1;
                        w[0] = Math.min(ja, w[0]);
                        w[1] = Math.max(J, w[1])
                      }
                      A.loadRange(w, I)
                    }
                  }
                }
              ]);
              return x
            }(),
            v = function() {
              function x() {
                e(this, x)
              }
              h(x, null, [{
                  key: "addFileReader",
                  value: function(A) {
                    r.push(A);
                    return x
                  }
                },
                {
                  key: "addTagReader",
                  value: function(A) {
                    t.push(A);
                    return x
                  }
                },
                {
                  key: "removeTagReader",
                  value: function(A) {
                    A = t.indexOf(A);
                    0 <= A && t.splice(A, 1);
                    return x
                  }
                },
                {
                  key: "EXPERIMENTAL_avoidHeadRequests",
                  value: function() {
                    k.setConfig({
                      avoidHeadRequests: !0
                    })
                  }
                },
                {
                  key: "setDisallowedXhrHeaders",
                  value: function(A) {
                    k.setConfig({
                      disallowedXhrHeaders: A
                    })
                  }
                },
                {
                  key: "setXhrTimeoutInSec",
                  value: function(A) {
                    k.setConfig({
                      timeoutInSec: A
                    })
                  }
                }
              ]);
              return x
            }();
          v.addFileReader(k).addFileReader(m).addFileReader(l).addTagReader(p).addTagReader(q).addTagReader(n).addTagReader(b);
          "undefined" === typeof process || process.browser || v.addFileReader(d);
          c.exports = {
            read: function(x, A) {
              (new u(x)).read(A)
            },
            Reader: u,
            Config: v
          }
        },
        {
          "./ArrayFileReader": 3,
          "./BlobFileReader": 4,
          "./FLACTagReader": 6,
          "./ID3v1TagReader": 7,
          "./ID3v2TagReader": 9,
          "./MP4TagReader": 10,
          "./MediaFileReader": 11,
          "./MediaTagReader": 12,
          "./NodeFileReader": 1,
          "./XhrFileReader": 14
        }
      ]
    }, {}, [15])(15)
  });
  Polymer.IronA11yAnnouncer = function() {};
  Polymer.IronA11yAnnouncer = Polymer({
    is: "iron-a11y-announcer",
    properties: {
      mode: {
        type: String,
        value: "polite"
      },
      _text: {
        type: String,
        value: ""
      }
    },
    created: function() {
      Polymer.IronA11yAnnouncer.instance || (Polymer.IronA11yAnnouncer.instance = this);
      document.body.addEventListener("iron-announce", this._onIronAnnounce.bind(this))
    },
    announce: function(a) {
      this._text = "";
      this.async(function() {
        this._text = a
      }, 100)
    },
    _onIronAnnounce: function(a) {
      a.detail && a.detail.text && this.announce(a.detail.text)
    }
  });
  Polymer.IronA11yAnnouncer.instance = null;
  Polymer.IronA11yAnnouncer.requestAvailability = function() {
    Polymer.IronA11yAnnouncer.instance || (Polymer.IronA11yAnnouncer.instance = document.createElement("iron-a11y-announcer"));
    document.body.appendChild(Polymer.IronA11yAnnouncer.instance)
  };
  (function() {
    function a(n, r) {
      var t = "";
      if (n)
        if (n = n.toLowerCase(), " " === n || q.test(n)) t = "space";
        else if (p.test(n)) t = "esc";
      else if (1 == n.length) {
        if (!r || k.test(n)) t = n
      } else t = l.test(n) ? n.replace("arrow", "") : "multiply" == n ? "*" : n;
      return t
    }

    function b(n, r) {
      var t = n.hasModifiers;
      if (r.key) t = a(r.key, t);
      else if (r.detail && r.detail.key) t = a(r.detail.key, t);
      else {
        t = r.keyIdentifier;
        var u = "";
        t && (t in e ? u = e[t] : m.test(t) ? (t = parseInt(t.replace("U+", "0x"), 16), u = String.fromCharCode(t).toLowerCase()) : u = t.toLowerCase());
        (t = u) || (t = r.keyCode, u = "", Number(t) && (u = 65 <= t && 90 >= t ? String.fromCharCode(32 + t) : 112 <= t && 123 >= t ? "f" + (t - 112 + 1) : 48 <= t && 57 >= t ? String(t - 48) : 96 <= t && 105 >= t ? String(t - 96) : g[t]), t = u);
        t = t || ""
      }
      return t === n.key && (!n.hasModifiers || !!r.shiftKey === !!n.shiftKey &&
        !!r.ctrlKey === !!n.ctrlKey && !!r.altKey === !!n.altKey && !!r.metaKey === !!n.metaKey)
    }

    function c(n) {
      return 1 === n.length ? {
        combo: n,
        key: n,
        event: "keydown"
      } : n.split("+").reduce(function(r, t) {
        var u = t.split(":");
        t = u[0];
        u = u[1];
        t in h ? (r[h[t]] = !0, r.hasModifiers = !0) : (r.key = t, r.event = u || "keydown");
        return r
      }, {
        combo: n.split(":").shift()
      })
    }

    function d(n) {
      return n.trim().split(" ").map(function(r) {
        return c(r)
      })
    }
    var e = {
        "U+0008": "backspace",
        "U+0009": "tab",
        "U+001B": "esc",
        "U+0020": "space",
        "U+007F": "del"
      },
      g = {
        8: "backspace",
        9: "tab",
        13: "enter",
        27: "esc",
        33: "pageup",
        34: "pagedown",
        35: "end",
        36: "home",
        32: "space",
        37: "left",
        38: "up",
        39: "right",
        40: "down",
        46: "del",
        106: "*"
      },
      h = {
        shift: "shiftKey",
        ctrl: "ctrlKey",
        alt: "altKey",
        meta: "metaKey"
      },
      k = /[a-z0-9*]/,
      m = /U\+/,
      l = /^arrow/,
      q = /^space(bar)?/,
      p = /^escape$/;
    Polymer.IronA11yKeysBehavior = {
      properties: {
        keyEventTarget: {
          type: Object,
          value: function() {
            return this
          }
        },
        stopKeyboardEventPropagation: {
          type: Boolean,
          value: !1
        },
        _boundKeyHandlers: {
          type: Array,
          value: function() {
            return []
          }
        },
        _imperativeKeyBindings: {
          type: Object,
          value: function() {
            return {}
          }
        }
      },
      observers: ["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],
      keyBindings: {},
      registered: function() {
        this._prepKeyBindings()
      },
      attached: function() {
        this._listenKeyEventListeners()
      },
      detached: function() {
        this._unlistenKeyEventListeners()
      },
      addOwnKeyBinding: function(n, r) {
        this._imperativeKeyBindings[n] = r;
        this._prepKeyBindings();
        this._resetKeyEventListeners()
      },
      removeOwnKeyBindings: function() {
        this._imperativeKeyBindings = {};
        this._prepKeyBindings();
        this._resetKeyEventListeners()
      },
      keyboardEventMatchesKeys: function(n, r) {
        r = d(r);
        for (var t = 0; t < r.length; ++t)
          if (b(r[t], n)) return !0;
        return !1
      },
      _collectKeyBindings: function() {
        var n = this.behaviors.map(function(r) {
          return r.keyBindings
        }); -
        1 === n.indexOf(this.keyBindings) && n.push(this.keyBindings);
        return n
      },
      _prepKeyBindings: function() {
        this._keyBindings = {};
        this._collectKeyBindings().forEach(function(t) {
          for (var u in t) this._addKeyBinding(u, t[u])
        }, this);
        for (var n in this._imperativeKeyBindings) this._addKeyBinding(n, this._imperativeKeyBindings[n]);
        for (var r in this._keyBindings) this._keyBindings[r].sort(function(t, u) {
          t = t[0].hasModifiers;
          return t === u[0].hasModifiers ? 0 : t ? -1 : 1
        })
      },
      _addKeyBinding: function(n, r) {
        d(n).forEach(function(t) {
          this._keyBindings[t.event] = this._keyBindings[t.event] || [];
          this._keyBindings[t.event].push([t, r])
        }, this)
      },
      _resetKeyEventListeners: function() {
        this._unlistenKeyEventListeners();
        this.isAttached && this._listenKeyEventListeners()
      },
      _listenKeyEventListeners: function() {
        this.keyEventTarget && Object.keys(this._keyBindings).forEach(function(n) {
          var r = this._onKeyBindingEvent.bind(this, this._keyBindings[n]);
          this._boundKeyHandlers.push([this.keyEventTarget, n, r]);
          this.keyEventTarget.addEventListener(n, r)
        }, this)
      },
      _unlistenKeyEventListeners: function() {
        for (var n, r, t; this._boundKeyHandlers.length;) n = this._boundKeyHandlers.pop(), r = n[0], t = n[1], n = n[2], r.removeEventListener(t, n)
      },
      _onKeyBindingEvent: function(n, r) {
        this.stopKeyboardEventPropagation && r.stopPropagation();
        if (!r.defaultPrevented)
          for (var t = 0; t < n.length; t++) {
            var u = n[t][0],
              v = n[t][1];
            if (b(u, r) && (this._triggerKeyHandler(u, v, r), r.defaultPrevented)) break
          }
      },
      _triggerKeyHandler: function(n, r, t) {
        var u = Object.create(n);
        u.keyboardEvent = t;
        n = new CustomEvent(n.event, {
          detail: u,
          cancelable: !0
        });
        this[r].call(this, n);
        n.defaultPrevented && t.preventDefault()
      }
    }
  })();
  Polymer.IronControlState = {
    properties: {
      focused: {
        type: Boolean,
        value: !1,
        notify: !0,
        readOnly: !0,
        reflectToAttribute: !0
      },
      disabled: {
        type: Boolean,
        value: !1,
        notify: !0,
        observer: "_disabledChanged",
        reflectToAttribute: !0
      },
      _oldTabIndex: {
        type: String
      },
      _boundFocusBlurHandler: {
        type: Function,
        value: function() {
          return this._focusBlurHandler.bind(this)
        }
      },
      __handleEventRetargeting: {
        type: Boolean,
        value: function() {
          return !this.shadowRoot && !Polymer.Element
        }
      }
    },
    observers: ["_changedControlState(focused, disabled)"],
    ready: function() {
      this.addEventListener("focus", this._boundFocusBlurHandler, !0);
      this.addEventListener("blur", this._boundFocusBlurHandler, !0)
    },
    _focusBlurHandler: function(a) {
      if (Polymer.Element) this._setFocused("focus" === a.type);
      else if (a.target === this) this._setFocused("focus" === a.type);
      else if (this.__handleEventRetargeting) {
        var b = Polymer.dom(a).localTarget;
        this.isLightDescendant(b) || this.fire(a.type, {
          sourceEvent: a
        }, {
          node: this,
          bubbles: a.bubbles,
          cancelable: a.cancelable
        })
      }
    },
    _disabledChanged: function(a) {
      this.setAttribute("aria-disabled", a ? "true" : "false");
      this.style.pointerEvents = a ? "none" : "";
      a ? (this._oldTabIndex = this.getAttribute("tabindex"), this._setFocused(!1), this.tabIndex = -1, this.blur()) : void 0 !== this._oldTabIndex && (null === this._oldTabIndex ? this.removeAttribute("tabindex") : this.setAttribute("tabindex", this._oldTabIndex))
    },
    _changedControlState: function() {
      this._controlStateChanged && this._controlStateChanged()
    }
  };
  var rn = document.createElement("style");
  rn.textContent = "[hidden] { display: none !important; }";
  document.head.appendChild(rn);
  (function() {
    Polymer.IronMeta = function(b) {
      Polymer.IronMeta[" "](b);
      this.type = b && b.type || "default";
      this.key = b && b.key;
      b && "value" in b && (this.value = b.value)
    };
    Polymer.IronMeta[" "] = function() {};
    Polymer.IronMeta.types = {};
    Polymer.IronMeta.prototype = {
      get value() {
        var b = this.type,
          c = this.key;
        if (b && c) return Polymer.IronMeta.types[b] && Polymer.IronMeta.types[b][c]
      },
      set value(b) {
        var c = this.type,
          d = this.key;
        c && d && (c = Polymer.IronMeta.types[c] = Polymer.IronMeta.types[c] || {}, null == b ? delete c[d] : c[d] = b)
      },
      get list() {
        if (this.type) {
          var b = Polymer.IronMeta.types[this.type];
          return b ? Object.keys(b).map(function(c) {
            return a[this.type][c]
          }, this) : []
        }
      },
      byKey: function(b) {
        this.key = b;
        return this.value
      }
    };
    var a = Polymer.IronMeta.types;
    Polymer({
      is: "iron-meta",
      properties: {
        type: {
          type: String,
          value: "default"
        },
        key: {
          type: String
        },
        value: {
          type: String,
          notify: !0
        },
        self: {
          type: Boolean,
          observer: "_selfChanged"
        },
        __meta: {
          type: Boolean,
          computed: "__computeMeta(type, key, value)"
        }
      },
      hostAttributes: {
        hidden: !0
      },
      __computeMeta: function(b, c, d) {
        b = new Polymer.IronMeta({
          type: b,
          key: c
        });
        void 0 !== d && d !== b.value ? b.value = d : this.value !== b.value && (this.value = b.value);
        return b
      },
      get list() {
        return this.__meta && this.__meta.list
      },
      _selfChanged: function(b) {
        b && (this.value = this)
      },
      byKey: function(b) {
        return (new Polymer.IronMeta({
          type: this.type,
          key: b
        })).value
      }
    })
  })();
  Polymer.IronValidatableBehaviorMeta = null;
  Polymer.IronValidatableBehavior = {
    properties: {
      validator: {
        type: String
      },
      invalid: {
        notify: !0,
        reflectToAttribute: !0,
        type: Boolean,
        value: !1
      },
      _validatorMeta: {
        type: Object
      },
      validatorType: {
        type: String,
        value: "validator"
      },
      _validator: {
        type: Object,
        computed: "__computeValidator(validator)"
      }
    },
    observers: ["_invalidChanged(invalid)"],
    registered: function() {
      Polymer.IronValidatableBehaviorMeta = new Polymer.IronMeta({
        type: "validator"
      })
    },
    _invalidChanged: function() {
      this.invalid ? this.setAttribute("aria-invalid", "true") : this.removeAttribute("aria-invalid")
    },
    hasValidator: function() {
      return null != this._validator
    },
    validate: function(a) {
      this.invalid = !this._getValidity(a);
      return !this.invalid
    },
    _getValidity: function(a) {
      return this.hasValidator() ? this._validator.validate(a) : !0
    },
    __computeValidator: function() {
      return Polymer.IronValidatableBehaviorMeta && Polymer.IronValidatableBehaviorMeta.byKey(this.validator)
    }
  };
  Polymer({
    is: "iron-autogrow-textarea",
    behaviors: [Polymer.IronValidatableBehavior, Polymer.IronControlState],
    properties: {
      value: {
        observer: "_valueChanged",
        type: String,
        notify: !0
      },
      bindValue: {
        observer: "_bindValueChanged",
        type: String,
        notify: !0
      },
      rows: {
        type: Number,
        value: 1,
        observer: "_updateCached"
      },
      maxRows: {
        type: Number,
        value: 0,
        observer: "_updateCached"
      },
      autocomplete: {
        type: String,
        value: "off"
      },
      autofocus: {
        type: Boolean,
        value: !1
      },
      inputmode: {
        type: String
      },
      placeholder: {
        type: String
      },
      readonly: {
        type: String
      },
      required: {
        type: Boolean
      },
      minlength: {
        type: Number
      },
      maxlength: {
        type: Number
      },
      label: {
        type: String
      }
    },
    listeners: {
      input: "_onInput"
    },
    get textarea() {
      return this.$.textarea
    },
    get selectionStart() {
      return this.$.textarea.selectionStart
    },
    get selectionEnd() {
      return this.$.textarea.selectionEnd
    },
    set selectionStart(a) {
      this.$.textarea.selectionStart = a
    },
    set selectionEnd(a) {
      this.$.textarea.selectionEnd = a
    },
    attached: function() {
      navigator.userAgent.match(/iP(?:[oa]d|hone)/) && (this.$.textarea.style.marginLeft = "-3px")
    },
    validate: function() {
      var a = this.$.textarea.validity.valid;
      a && (this.required && "" === this.value ? a = !1 : this.hasValidator() && (a = Polymer.IronValidatableBehavior.validate.call(this, this.value)));
      this.invalid = !a;
      this.fire("iron-input-validate");
      return a
    },
    _bindValueChanged: function(a) {
      this.value = a
    },
    _valueChanged: function(a) {
      var b = this.textarea;
      b && (b.value !== a && (b.value = a || 0 === a ? a : ""), this.bindValue = a, this.$.mirror.innerHTML = this._valueForMirror(), this.fire("bind-value-changed", {
        value: this.bindValue
      }))
    },
    _onInput: function(a) {
      var b = Polymer.dom(a).path;
      this.value = b ? b[0].value : a.target.value
    },
    _constrain: function(a) {
      var b;
      a = a || [""];
      for (b = 0 < this.maxRows && a.length > this.maxRows ? a.slice(0, this.maxRows) : a.slice(0); 0 < this.rows && b.length < this.rows;) b.push("");
      return b.join("<br/>") + "&#160;"
    },
    _valueForMirror: function() {
      var a = this.textarea;
      if (a) return this.tokens = a && a.value ? a.value.replace(/&/gm, "&amp;").replace(/"/gm, "&quot;").replace(/'/gm, "&#39;").replace(/</gm, "&lt;").replace(/>/gm, "&gt;").split("\n") : [""], this._constrain(this.tokens)
    },
    _updateCached: function() {
      this.$.mirror.innerHTML = this._constrain(this.tokens)
    }
  });
  Polymer.IronButtonStateImpl = {
    properties: {
      pressed: {
        type: Boolean,
        readOnly: !0,
        value: !1,
        reflectToAttribute: !0,
        observer: "_pressedChanged"
      },
      toggles: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0
      },
      active: {
        type: Boolean,
        value: !1,
        notify: !0,
        reflectToAttribute: !0
      },
      pointerDown: {
        type: Boolean,
        readOnly: !0,
        value: !1
      },
      receivedFocusFromKeyboard: {
        type: Boolean,
        readOnly: !0
      },
      ariaActiveAttribute: {
        type: String,
        value: "aria-pressed",
        observer: "_ariaActiveAttributeChanged"
      }
    },
    listeners: {
      down: "_downHandler",
      up: "_upHandler",
      tap: "_tapHandler"
    },
    observers: ["_focusChanged(focused)", "_activeChanged(active, ariaActiveAttribute)"],
    keyBindings: {
      "enter:keydown": "_asyncClick",
      "space:keydown": "_spaceKeyDownHandler",
      "space:keyup": "_spaceKeyUpHandler"
    },
    _mouseEventRe: /^mouse/,
    _tapHandler: function() {
      this.toggles ? this._userActivate(!this.active) : this.active = !1
    },
    _focusChanged: function(a) {
      this._detectKeyboardFocus(a);
      a || this._setPressed(!1)
    },
    _detectKeyboardFocus: function(a) {
      this._setReceivedFocusFromKeyboard(!this.pointerDown && a)
    },
    _userActivate: function(a) {
      this.active !== a && (this.active = a, this.fire("change"))
    },
    _downHandler: function() {
      this._setPointerDown(!0);
      this._setPressed(!0);
      this._setReceivedFocusFromKeyboard(!1)
    },
    _upHandler: function() {
      this._setPointerDown(!1);
      this._setPressed(!1)
    },
    _spaceKeyDownHandler: function(a) {
      a = a.detail.keyboardEvent;
      var b = Polymer.dom(a).localTarget;
      this.isLightDescendant(b) || (a.preventDefault(), a.stopImmediatePropagation(), this._setPressed(!0))
    },
    _spaceKeyUpHandler: function(a) {
      a = Polymer.dom(a.detail.keyboardEvent).localTarget;
      this.isLightDescendant(a) || (this.pressed && this._asyncClick(), this._setPressed(!1))
    },
    _asyncClick: function() {
      this.async(function() {
        this.click()
      }, 1)
    },
    _pressedChanged: function() {
      this._changedButtonState()
    },
    _ariaActiveAttributeChanged: function(a, b) {
      b && b != a && this.hasAttribute(b) && this.removeAttribute(b)
    },
    _activeChanged: function(a) {
      this.toggles ? this.setAttribute(this.ariaActiveAttribute, a ? "true" : "false") : this.removeAttribute(this.ariaActiveAttribute);
      this._changedButtonState()
    },
    _controlStateChanged: function() {
      this.disabled ? this._setPressed(!1) : this._changedButtonState()
    },
    _changedButtonState: function() {
      this._buttonStateChanged && this._buttonStateChanged()
    }
  };
  Polymer.IronButtonState = [Polymer.IronA11yKeysBehavior, Polymer.IronButtonStateImpl];
  Polymer.IronFormElementBehavior = {
    properties: {
      name: {
        type: String
      },
      value: {
        notify: !0,
        type: String
      },
      required: {
        type: Boolean,
        value: !1
      },
      _parentForm: {
        type: Object
      }
    },
    attached: function() {
      Polymer.Element || this.fire("iron-form-element-register")
    },
    detached: function() {
      !Polymer.Element && this._parentForm && this._parentForm.fire("iron-form-element-unregister", {
        target: this
      })
    }
  };
  Polymer.IronCheckedElementBehaviorImpl = {
    properties: {
      checked: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        notify: !0,
        observer: "_checkedChanged"
      },
      toggles: {
        type: Boolean,
        value: !0,
        reflectToAttribute: !0
      },
      value: {
        type: String,
        value: "on",
        observer: "_valueChanged"
      }
    },
    observers: ["_requiredChanged(required)"],
    created: function() {
      this._hasIronCheckedElementBehavior = !0
    },
    _getValidity: function() {
      return this.disabled || !this.required || this.checked
    },
    _requiredChanged: function() {
      this.required ? this.setAttribute("aria-required", "true") : this.removeAttribute("aria-required")
    },
    _checkedChanged: function() {
      this.active = this.checked;
      this.fire("iron-change")
    },
    _valueChanged: function() {
      if (void 0 === this.value || null === this.value) this.value = "on"
    }
  };
  Polymer.IronCheckedElementBehavior = [Polymer.IronFormElementBehavior, Polymer.IronValidatableBehavior, Polymer.IronCheckedElementBehaviorImpl];
  (function() {
    var a = new Set;
    Polymer.IronResizableBehavior = {
      properties: {
        _parentResizable: {
          type: Object,
          observer: "_parentResizableChanged"
        },
        _notifyingDescendant: {
          type: Boolean,
          value: !1
        }
      },
      listeners: {
        "iron-request-resize-notifications": "_onIronRequestResizeNotifications"
      },
      created: function() {
        this._interestedResizables = [];
        this._boundNotifyResize = this.notifyResize.bind(this);
        this._boundOnDescendantIronResize = this._onDescendantIronResize.bind(this)
      },
      attached: function() {
        this._requestResizeNotifications()
      },
      detached: function() {
        this._parentResizable ? this._parentResizable.stopResizeNotificationsFor(this) : (a.delete(this), window.removeEventListener("resize", this._boundNotifyResize));
        this._parentResizable = null
      },
      notifyResize: function() {
        this.isAttached && (this._interestedResizables.forEach(function(b) {
          this.resizerShouldNotify(b) && this._notifyDescendant(b)
        }, this), this._fireResize())
      },
      assignParentResizable: function(b) {
        this._parentResizable && this._parentResizable.stopResizeNotificationsFor(this);
        (this._parentResizable = b) && -1 === b._interestedResizables.indexOf(this) && (b._interestedResizables.push(this), b._subscribeIronResize(this))
      },
      stopResizeNotificationsFor: function(b) {
        var c = this._interestedResizables.indexOf(b); - 1 < c && (this._interestedResizables.splice(c, 1), this._unsubscribeIronResize(b))
      },
      _subscribeIronResize: function(b) {
        b.addEventListener("iron-resize", this._boundOnDescendantIronResize)
      },
      _unsubscribeIronResize: function(b) {
        b.removeEventListener("iron-resize", this._boundOnDescendantIronResize)
      },
      resizerShouldNotify: function() {
        return !0
      },
      _onDescendantIronResize: function(b) {
        this._notifyingDescendant ? b.stopPropagation() : Polymer.Settings.useShadow || this._fireResize()
      },
      _fireResize: function() {
        this.fire("iron-resize", null, {
          node: this,
          bubbles: !1
        })
      },
      _onIronRequestResizeNotifications: function(b) {
        var c = Polymer.dom(b).rootTarget;
        c !== this && (c.assignParentResizable(this), this._notifyDescendant(c), b.stopPropagation())
      },
      _parentResizableChanged: function(b) {
        b && window.removeEventListener("resize", this._boundNotifyResize)
      },
      _notifyDescendant: function(b) {
        this.isAttached && (this._notifyingDescendant = !0, b.notifyResize(), this._notifyingDescendant = !1)
      },
      _requestResizeNotifications: function() {
        if (this.isAttached)
          if ("loading" === document.readyState) {
            var b = this._requestResizeNotifications.bind(this);
            document.addEventListener("readystatechange", function d() {
              document.removeEventListener("readystatechange", d);
              b()
            })
          } else this._findParent(), this._parentResizable ? this._parentResizable._interestedResizables.forEach(function(c) {
            c !== this && c._findParent()
          }, this) : (a.forEach(function(c) {
              c !== this && c._findParent()
            }, this), window.addEventListener("resize", this._boundNotifyResize),
            this.notifyResize())
      },
      _findParent: function() {
        this.assignParentResizable(null);
        this.fire("iron-request-resize-notifications", null, {
          node: this,
          bubbles: !0,
          cancelable: !0
        });
        this._parentResizable ? a.delete(this) : a.add(this)
      }
    }
  })();
  Polymer({
    is: "iron-collapse",
    behaviors: [Polymer.IronResizableBehavior],
    properties: {
      horizontal: {
        type: Boolean,
        value: !1,
        observer: "_horizontalChanged"
      },
      opened: {
        type: Boolean,
        value: !1,
        notify: !0,
        observer: "_openedChanged"
      },
      transitioning: {
        type: Boolean,
        notify: !0,
        readOnly: !0
      },
      noAnimation: {
        type: Boolean
      },
      _desiredSize: {
        type: String,
        value: ""
      }
    },
    get dimension() {
      return this.horizontal ? "width" : "height"
    },
    get _dimensionMax() {
      return this.horizontal ? "maxWidth" : "maxHeight"
    },
    get _dimensionMaxCss() {
      return this.horizontal ? "max-width" :
        "max-height"
    },
    hostAttributes: {
      role: "group",
      "aria-hidden": "true"
    },
    listeners: {
      transitionend: "_onTransitionEnd"
    },
    toggle: function() {
      this.opened = !this.opened
    },
    show: function() {
      this.opened = !0
    },
    hide: function() {
      this.opened = !1
    },
    updateSize: function(a, b) {
      a = "auto" === a ? "" : a;
      b = b && !this.noAnimation && this.isAttached && this._desiredSize !== a;
      this._desiredSize = a;
      this._updateTransition(!1);
      b && (b = this._calcSize(), "" === a && (this.style[this._dimensionMax] = "", a = this._calcSize()), this.style[this._dimensionMax] = b, this.scrollTop = this.scrollTop, this._updateTransition(!0), b = a !== b);
      this.style[this._dimensionMax] = a;
      b || this._transitionEnd()
    },
    enableTransition: function(a) {
      Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead.");
      this.noAnimation = !a
    },
    _updateTransition: function(a) {
      this.style.transitionDuration = a && !this.noAnimation ? "" : "0s"
    },
    _horizontalChanged: function() {
      this.style.transitionProperty = this._dimensionMaxCss;
      this.style["maxWidth" === this._dimensionMax ? "maxHeight" : "maxWidth"] = "";
      this.updateSize(this.opened ? "auto" : "0px", !1)
    },
    _openedChanged: function() {
      this.setAttribute("aria-hidden", !this.opened);
      this._setTransitioning(!0);
      this.toggleClass("iron-collapse-closed", !1);
      this.toggleClass("iron-collapse-opened", !1);
      this.updateSize(this.opened ? "auto" : "0px", !0);
      this.opened && this.focus()
    },
    _transitionEnd: function() {
      this.style[this._dimensionMax] = this._desiredSize;
      this.toggleClass("iron-collapse-closed", !this.opened);
      this.toggleClass("iron-collapse-opened", this.opened);
      this._updateTransition(!1);
      this.notifyResize();
      this._setTransitioning(!1)
    },
    _onTransitionEnd: function(a) {
      Polymer.dom(a).rootTarget === this && this._transitionEnd()
    },
    _calcSize: function() {
      return this.getBoundingClientRect()[this.dimension] + "px"
    }
  });
  (function() {
    var a = 0,
      b = 0,
      c = null,
      d = [];
    Polymer.IronDropdownScrollManager = {
      get currentLockingElement() {
        return this._lockingElements[this._lockingElements.length - 1]
      },
      elementIsScrollLocked: function(e) {
        var g = this.currentLockingElement;
        if (void 0 === g) return !1;
        if (this._hasCachedLockedElement(e)) return !0;
        if (this._hasCachedUnlockedElement(e)) return !1;
        (g = !!g && g !== e && !this._composedTreeContains(g, e)) ? this._lockedElementCache.push(e): this._unlockedElementCache.push(e);
        return g
      },
      pushScrollLock: function(e) {
        0 <= this._lockingElements.indexOf(e) || (0 === this._lockingElements.length && this._lockScrollInteractions(), this._lockingElements.push(e), this._lockedElementCache = [], this._unlockedElementCache = [])
      },
      removeScrollLock: function(e) {
        e = this._lockingElements.indexOf(e); - 1 !== e && (this._lockingElements.splice(e, 1), this._lockedElementCache = [], this._unlockedElementCache = [], 0 === this._lockingElements.length && this._unlockScrollInteractions())
      },
      _lockingElements: [],
      _lockedElementCache: null,
      _unlockedElementCache: null,
      _hasCachedLockedElement: function(e) {
        return -1 < this._lockedElementCache.indexOf(e)
      },
      _hasCachedUnlockedElement: function(e) {
        return -1 < this._unlockedElementCache.indexOf(e)
      },
      _composedTreeContains: function(e, g) {
        var h, k;
        if (e.contains(g)) return !0;
        e = Polymer.dom(e).querySelectorAll("content");
        for (h = 0; h < e.length; ++h) {
          var m = Polymer.dom(e[h]).getDistributedNodes();
          for (k = 0; k < m.length; ++k)
            if (this._composedTreeContains(m[k], g)) return !0
        }
        return !1
      },
      _scrollInteractionHandler: function(e) {
        e.cancelable && this._shouldPreventScrolling(e) && e.preventDefault();
        e.targetTouches && (e = e.targetTouches[0], a = e.pageX, b = e.pageY)
      },
      _lockScrollInteractions: function() {
        this._boundScrollHandler = this._boundScrollHandler || this._scrollInteractionHandler.bind(this);
        document.addEventListener("wheel", this._boundScrollHandler, !0);
        document.addEventListener("mousewheel", this._boundScrollHandler, !0);
        document.addEventListener("DOMMouseScroll", this._boundScrollHandler, !0);
        document.addEventListener("touchstart", this._boundScrollHandler, !0);
        document.addEventListener("touchmove", this._boundScrollHandler, !0)
      },
      _unlockScrollInteractions: function() {
        document.removeEventListener("wheel", this._boundScrollHandler, !0);
        document.removeEventListener("mousewheel", this._boundScrollHandler, !0);
        document.removeEventListener("DOMMouseScroll", this._boundScrollHandler, !0);
        document.removeEventListener("touchstart", this._boundScrollHandler, !0);
        document.removeEventListener("touchmove", this._boundScrollHandler, !0)
      },
      _shouldPreventScrolling: function(e) {
        var g = Polymer.dom(e).rootTarget;
        "touchmove" !== e.type && c !== g && (c = g, d = this._getScrollableNodes(Polymer.dom(e).path));
        if (!d.length) return !0;
        if ("touchstart" === e.type) return !1;
        e = this._getScrollInfo(e);
        return !this._getScrollingNode(d, e.deltaX, e.deltaY)
      },
      _getScrollableNodes: function(e) {
        for (var g = [], h = e.indexOf(this.currentLockingElement), k = 0; k <= h; k++)
          if (e[k].nodeType === Node.ELEMENT_NODE) {
            var m = e[k],
              l = m.style;
            "scroll" !== l.overflow && "auto" !== l.overflow && (l = window.getComputedStyle(m));
            "scroll" !== l.overflow && "auto" !== l.overflow || g.push(m)
          } return g
      },
      _getScrollingNode: function(e, g, h) {
        if (g || h)
          for (var k = Math.abs(h) >= Math.abs(g), m = 0; m < e.length; m++) {
            var l = e[m];
            if (k ? 0 > h ? 0 < l.scrollTop : l.scrollTop < l.scrollHeight - l.clientHeight : 0 > g ? 0 < l.scrollLeft : l.scrollLeft < l.scrollWidth - l.clientWidth) return l
          }
      },
      _getScrollInfo: function(e) {
        var g = {
          deltaX: e.deltaX,
          deltaY: e.deltaY
        };
        "deltaX" in e || ("wheelDeltaX" in e ? (g.deltaX = -e.wheelDeltaX, g.deltaY = -e.wheelDeltaY) : "axis" in e ? (g.deltaX = 1 === e.axis ? e.detail : 0, g.deltaY = 2 === e.axis ? e.detail : 0) : e.targetTouches && (e = e.targetTouches[0], g.deltaX = a - e.pageX, g.deltaY = b - e.pageY));
        return g
      }
    }
  })();
  Polymer.IronFitBehavior = {
    properties: {
      sizingTarget: {
        type: Object,
        value: function() {
          return this
        }
      },
      fitInto: {
        type: Object,
        value: window
      },
      noOverlap: {
        type: Boolean
      },
      positionTarget: {
        type: Element
      },
      horizontalAlign: {
        type: String
      },
      verticalAlign: {
        type: String
      },
      dynamicAlign: {
        type: Boolean
      },
      horizontalOffset: {
        type: Number,
        value: 0,
        notify: !0
      },
      verticalOffset: {
        type: Number,
        value: 0,
        notify: !0
      },
      autoFitOnAttach: {
        type: Boolean,
        value: !1
      },
      _fitInfo: {
        type: Object
      }
    },
    get _fitWidth() {
      return this.fitInto === window ? this.fitInto.innerWidth : this.fitInto.getBoundingClientRect().width
    },
    get _fitHeight() {
      return this.fitInto === window ? this.fitInto.innerHeight :
        this.fitInto.getBoundingClientRect().height
    },
    get _fitLeft() {
      return this.fitInto === window ? 0 : this.fitInto.getBoundingClientRect().left
    },
    get _fitTop() {
      return this.fitInto === window ? 0 : this.fitInto.getBoundingClientRect().top
    },
    get _defaultPositionTarget() {
      var a = Polymer.dom(this).parentNode;
      a && a.nodeType === Node.DOCUMENT_FRAGMENT_NODE && (a = a.host);
      return a
    },
    get _localeHorizontalAlign() {
      if (this._isRTL) {
        if ("right" === this.horizontalAlign) return "left";
        if ("left" === this.horizontalAlign) return "right"
      }
      return this.horizontalAlign
    },
    get __shouldPosition() {
      return (this.horizontalAlign || this.verticalAlign) && this.positionTarget
    },
    attached: function() {
      "undefined" === typeof this._isRTL && (this._isRTL = "rtl" == window.getComputedStyle(this).direction);
      this.positionTarget = this.positionTarget || this._defaultPositionTarget;
      this.autoFitOnAttach && ("none" === window.getComputedStyle(this).display ? setTimeout(function() {
        this.fit()
      }.bind(this)) : (window.ShadyDOM && ShadyDOM.flush(), this.fit()))
    },
    detached: function() {
      this.__deferredFit && (clearTimeout(this.__deferredFit), this.__deferredFit = null)
    },
    fit: function() {
      this.position();
      this.constrain();
      this.center()
    },
    _discoverInfo: function() {
      if (!this._fitInfo) {
        var a = window.getComputedStyle(this),
          b = window.getComputedStyle(this.sizingTarget);
        this._fitInfo = {
          inlineStyle: {
            top: this.style.top || "",
            left: this.style.left || "",
            position: this.style.position || ""
          },
          sizerInlineStyle: {
            maxWidth: this.sizingTarget.style.maxWidth || "",
            maxHeight: this.sizingTarget.style.maxHeight || "",
            boxSizing: this.sizingTarget.style.boxSizing || ""
          },
          positionedBy: {
            vertically: "auto" !== a.top ? "top" : "auto" !== a.bottom ? "bottom" : null,
            horizontally: "auto" !== a.left ?
              "left" : "auto" !== a.right ? "right" : null
          },
          sizedBy: {
            height: "none" !== b.maxHeight,
            width: "none" !== b.maxWidth,
            minWidth: parseInt(b.minWidth, 10) || 0,
            minHeight: parseInt(b.minHeight, 10) || 0
          },
          margin: {
            top: parseInt(a.marginTop, 10) || 0,
            right: parseInt(a.marginRight, 10) || 0,
            bottom: parseInt(a.marginBottom, 10) || 0,
            left: parseInt(a.marginLeft, 10) || 0
          }
        }
      }
    },
    resetFit: function() {
      var a = this._fitInfo || {},
        b;
      for (b in a.sizerInlineStyle) this.sizingTarget.style[b] = a.sizerInlineStyle[b];
      for (b in a.inlineStyle) this.style[b] = a.inlineStyle[b];
      this._fitInfo = null
    },
    refit: function() {
      var a = this.sizingTarget.scrollLeft,
        b = this.sizingTarget.scrollTop;
      this.resetFit();
      this.fit();
      this.sizingTarget.scrollLeft = a;
      this.sizingTarget.scrollTop = b
    },
    position: function() {
      if (this.__shouldPosition) {
        this._discoverInfo();
        this.style.position = "fixed";
        this.sizingTarget.style.boxSizing = "border-box";
        this.style.left = "0px";
        this.style.top = "0px";
        var a = this.getBoundingClientRect(),
          b = this.__getNormalizedRect(this.positionTarget),
          c = this.__getNormalizedRect(this.fitInto),
          d = this._fitInfo.margin,
          e = this.__getPosition(this._localeHorizontalAlign, this.verticalAlign, {
            width: a.width + d.left + d.right,
            height: a.height + d.top + d.bottom
          }, a, b, c);
        b = e.left + d.left;
        e = e.top + d.top;
        var g =
          Math.min(c.right - d.right, b + a.width),
          h = Math.min(c.bottom - d.bottom, e + a.height);
        b = Math.max(c.left + d.left, Math.min(b, g - this._fitInfo.sizedBy.minWidth));
        e = Math.max(c.top + d.top, Math.min(e, h - this._fitInfo.sizedBy.minHeight));
        this.sizingTarget.style.maxWidth = Math.max(g - b, this._fitInfo.sizedBy.minWidth) + "px";
        this.sizingTarget.style.maxHeight = Math.max(h - e, this._fitInfo.sizedBy.minHeight) + "px";
        this.style.left = b - a.left + "px";
        this.style.top = e - a.top + "px"
      }
    },
    constrain: function() {
      if (!this.__shouldPosition) {
        this._discoverInfo();
        var a = this._fitInfo;
        a.positionedBy.vertically || (this.style.position = "fixed", this.style.top = "0px");
        a.positionedBy.horizontally || (this.style.position = "fixed", this.style.left = "0px");
        this.sizingTarget.style.boxSizing = "border-box";
        var b = this.getBoundingClientRect();
        a.sizedBy.height || this.__sizeDimension(b, a.positionedBy.vertically, "top", "bottom", "Height");
        a.sizedBy.width || this.__sizeDimension(b, a.positionedBy.horizontally, "left", "right",
          "Width")
      }
    },
    _sizeDimension: function(a, b, c, d, e) {
      this.__sizeDimension(a, b, c, d, e)
    },
    __sizeDimension: function(a, b, c, d, e) {
      var g = this._fitInfo,
        h = this.__getNormalizedRect(this.fitInto);
      h = "Width" === e ? h.width : h.height;
      b = b === d;
      var k = "offset" + e;
      this.sizingTarget.style["max" + e] = h - g.margin[b ? c : d] - (b ? h - a[d] : a[c]) - (this[k] - this.sizingTarget[k]) + "px"
    },
    center: function() {
      if (!this.__shouldPosition) {
        this._discoverInfo();
        var a = this._fitInfo.positionedBy;
        if (!a.vertically || !a.horizontally) {
          this.style.position = "fixed";
          a.vertically || (this.style.top = "0px");
          a.horizontally || (this.style.left = "0px");
          var b = this.getBoundingClientRect(),
            c = this.__getNormalizedRect(this.fitInto);
          a.vertically || (this.style.top = c.top - b.top + (c.height - b.height) / 2 + "px");
          a.horizontally || (this.style.left = c.left - b.left + (c.width - b.width) / 2 + "px")
        }
      }
    },
    __getNormalizedRect: function(a) {
      return a === document.documentElement || a === window ? {
        top: 0,
        left: 0,
        width: window.innerWidth,
        height: window.innerHeight,
        right: window.innerWidth,
        bottom: window.innerHeight
      } : a.getBoundingClientRect()
    },
    __getOffscreenArea: function(a, b, c) {
      return Math.abs(Math.min(0, a.top) + Math.min(0, c.bottom - (a.top + b.height))) * b.width + Math.abs(Math.min(0, a.left) + Math.min(0, c.right - (a.left + b.width))) * b.height
    },
    __getPosition: function(a, b, c, d, e, g) {
      var h = [{
        verticalAlign: "top",
        horizontalAlign: "left",
        top: e.top + this.verticalOffset,
        left: e.left + this.horizontalOffset
      }, {
        verticalAlign: "top",
        horizontalAlign: "right",
        top: e.top + this.verticalOffset,
        left: e.right - c.width - this.horizontalOffset
      }, {
        verticalAlign: "bottom",
        horizontalAlign: "left",
        top: e.bottom - c.height - this.verticalOffset,
        left: e.left + this.horizontalOffset
      }, {
        verticalAlign: "bottom",
        horizontalAlign: "right",
        top: e.bottom - c.height - this.verticalOffset,
        left: e.right - c.width -
          this.horizontalOffset
      }];
      if (this.noOverlap) {
        for (var k = 0, m = h.length; k < m; k++) {
          var l = {},
            q;
          for (q in h[k]) l[q] = h[k][q];
          h.push(l)
        }
        h[0].top = h[1].top += e.height;
        h[2].top = h[3].top -= e.height;
        h[4].left = h[6].left += e.width;
        h[5].left = h[7].left -= e.width
      }
      b = "auto" === b ? null : b;
      a = "auto" === a ? null : a;
      a && "center" !== a || (h.push({
        verticalAlign: "top",
        horizontalAlign: "center",
        top: e.top + this.verticalOffset + (this.noOverlap ? e.height : 0),
        left: e.left - d.width / 2 + e.width / 2 + this.horizontalOffset
      }), h.push({
        verticalAlign: "bottom",
        horizontalAlign: "center",
        top: e.bottom - c.height - this.verticalOffset - (this.noOverlap ? e.height : 0),
        left: e.left - d.width / 2 + e.width / 2 + this.horizontalOffset
      }));
      b && "middle" !== b || (h.push({
        verticalAlign: "middle",
        horizontalAlign: "left",
        top: e.top - d.height / 2 + e.height / 2 + this.verticalOffset,
        left: e.left + this.horizontalOffset + (this.noOverlap ? e.width : 0)
      }), h.push({
        verticalAlign: "middle",
        horizontalAlign: "right",
        top: e.top - d.height / 2 + e.height / 2 + this.verticalOffset,
        left: e.right - c.width - this.horizontalOffset - (this.noOverlap ? e.width : 0)
      }));
      "middle" ===
      b && "center" === a && h.push({
        verticalAlign: "middle",
        horizontalAlign: "center",
        top: e.top - d.height / 2 + e.height / 2 + this.verticalOffset,
        left: e.left - d.width / 2 + e.width / 2 + this.horizontalOffset
      });
      for (k = 0; k < h.length; k++) {
        d = h[k];
        e = d.verticalAlign === b;
        m = d.horizontalAlign === a;
        if (!this.dynamicAlign && !this.noOverlap && e && m) {
          var p = d;
          break
        }
        l = (!b || e) && (!a || m);
        if (this.dynamicAlign || l) {
          d.offscreenArea = this.__getOffscreenArea(d, c, g);
          if (0 === d.offscreenArea && l) {
            p = d;
            break
          }
          p = p || d;
          l = d.offscreenArea - p.offscreenArea;
          if (0 > l || 0 === l &&
            (e || m)) p = d
        }
      }
      return p
    }
  };
  (function() {
    var a = Element.prototype,
      b = a.matches || a.matchesSelector || a.mozMatchesSelector || a.msMatchesSelector || a.oMatchesSelector || a.webkitMatchesSelector;
    Polymer.IronFocusablesHelper = {
      getTabbableNodes: function(c) {
        var d = [];
        return this._collectTabbableNodes(c, d) ? this._sortByTabIndex(d) : d
      },
      isFocusable: function(c) {
        return b.call(c, "input, select, textarea, button, object") ? b.call(c, ":not([disabled])") : b.call(c, "a[href], area[href], iframe, [tabindex], [contentEditable]")
      },
      isTabbable: function(c) {
        return this.isFocusable(c) && b.call(c, ':not([tabindex="-1"])') && this._isVisible(c)
      },
      _normalizedTabIndex: function(c) {
        return this.isFocusable(c) ? (c = c.getAttribute("tabindex") || 0, Number(c)) : -1
      },
      _collectTabbableNodes: function(c, d) {
        if (c.nodeType !== Node.ELEMENT_NODE || !this._isVisible(c)) return !1;
        var e = this._normalizedTabIndex(c),
          g = 0 < e;
        0 <= e && d.push(c);
        c = "content" === c.localName || "slot" === c.localName ? Polymer.dom(c).getDistributedNodes() : Polymer.dom(c.root || c).children;
        for (e = 0; e < c.length; e++) g = this._collectTabbableNodes(c[e], d) || g;
        return g
      },
      _isVisible: function(c) {
        var d = c.style;
        return "hidden" !== d.visibility && "none" !== d.display ? (d = window.getComputedStyle(c), "hidden" !== d.visibility && "none" !== d.display) : !1
      },
      _sortByTabIndex: function(c) {
        var d = c.length;
        if (2 > d) return c;
        var e = Math.ceil(d / 2);
        d = this._sortByTabIndex(c.slice(0, e));
        c = this._sortByTabIndex(c.slice(e));
        return this._mergeSortByTabIndex(d, c)
      },
      _mergeSortByTabIndex: function(c, d) {
        for (var e = []; 0 < c.length && 0 < d.length;) this._hasLowerTabOrder(c[0], d[0]) ? e.push(d.shift()) : e.push(c.shift());
        return e.concat(c, d)
      },
      _hasLowerTabOrder: function(c, d) {
        c = Math.max(c.tabIndex, 0);
        d = Math.max(d.tabIndex, 0);
        return 0 === c || 0 === d ? d > c : c > d
      }
    }
  })();
  Polymer({
    is: "iron-overlay-backdrop",
    properties: {
      opened: {
        reflectToAttribute: !0,
        type: Boolean,
        value: !1,
        observer: "_openedChanged"
      }
    },
    listeners: {
      transitionend: "_onTransitionend"
    },
    created: function() {
      this.__openedRaf = null
    },
    attached: function() {
      this.opened && this._openedChanged(this.opened)
    },
    prepare: function() {
      this.opened && !this.parentNode && Polymer.dom(document.body).appendChild(this)
    },
    open: function() {
      this.opened = !0
    },
    close: function() {
      this.opened = !1
    },
    complete: function() {
      this.opened || this.parentNode !== document.body || Polymer.dom(this.parentNode).removeChild(this)
    },
    _onTransitionend: function(a) {
      a && a.target === this && this.complete()
    },
    _openedChanged: function(a) {
      a ? this.prepare() : (a = window.getComputedStyle(this), "0s" !== a.transitionDuration && 0 != a.opacity || this.complete());
      this.isAttached && (this.__openedRaf && (window.cancelAnimationFrame(this.__openedRaf), this.__openedRaf = null), this.scrollTop = this.scrollTop, this.__openedRaf = window.requestAnimationFrame(function() {
        this.__openedRaf = null;
        this.toggleClass("opened", this.opened)
      }.bind(this)))
    }
  });
  Polymer.IronOverlayManagerClass = function() {
    this._overlays = [];
    this._minimumZ = 101;
    this._backdropElement = null;
    Polymer.Gestures.add(document.documentElement, "tap", function() {});
    document.addEventListener("tap", this._onCaptureClick.bind(this), !0);
    document.addEventListener("focus", this._onCaptureFocus.bind(this), !0);
    document.addEventListener("keydown", this._onCaptureKeyDown.bind(this), !0)
  };
  Polymer.IronOverlayManagerClass.prototype = {
    constructor: Polymer.IronOverlayManagerClass,
    get backdropElement() {
      this._backdropElement || (this._backdropElement = document.createElement("iron-overlay-backdrop"));
      return this._backdropElement
    },
    get deepActiveElement() {
      var a = document.activeElement;
      a && !1 !== a instanceof Element || (a = document.body);
      for (; a.root && Polymer.dom(a.root).activeElement;) a = Polymer.dom(a.root).activeElement;
      return a
    },
    _bringOverlayAtIndexToFront: function(a) {
      var b = this._overlays[a];
      if (b) {
        var c =
          this._overlays.length - 1,
          d = this._overlays[c];
        d && this._shouldBeBehindOverlay(b, d) && c--;
        if (!(a >= c)) {
          d = Math.max(this.currentOverlayZ(), this._minimumZ);
          for (this._getZ(b) <= d && this._applyOverlayZ(b, d); a < c;) this._overlays[a] = this._overlays[a + 1], a++;
          this._overlays[c] = b
        }
      }
    },
    addOrRemoveOverlay: function(a) {
      a.opened ? this.addOverlay(a) : this.removeOverlay(a)
    },
    addOverlay: function(a) {
      var b = this._overlays.indexOf(a);
      if (0 <= b) this._bringOverlayAtIndexToFront(b);
      else {
        b = this._overlays.length;
        var c = this._overlays[b - 1],
          d = Math.max(this._getZ(c), this._minimumZ),
          e = this._getZ(a);
        c && this._shouldBeBehindOverlay(a, c) && (this._applyOverlayZ(c, d), b--, d = Math.max(this._getZ(this._overlays[b - 1]), this._minimumZ));
        e <= d && this._applyOverlayZ(a, d);
        this._overlays.splice(b, 0, a)
      }
      this.trackBackdrop()
    },
    removeOverlay: function(a) {
      a = this._overlays.indexOf(a); - 1 !== a && (this._overlays.splice(a, 1), this.trackBackdrop())
    },
    currentOverlay: function() {
      return this._overlays[this._overlays.length - 1]
    },
    currentOverlayZ: function() {
      return this._getZ(this.currentOverlay())
    },
    ensureMinimumZ: function(a) {
      this._minimumZ = Math.max(this._minimumZ, a)
    },
    focusOverlay: function() {
      var a = this.currentOverlay();
      a && a._applyFocus()
    },
    trackBackdrop: function() {
      var a = this._overlayWithBackdrop();
      if (a || this._backdropElement) this.backdropElement.style.zIndex = this._getZ(a) - 1, this.backdropElement.opened = !!a, this.backdropElement.prepare()
    },
    getBackdrops: function() {
      for (var a = [], b = 0; b < this._overlays.length; b++) this._overlays[b].withBackdrop && a.push(this._overlays[b]);
      return a
    },
    backdropZ: function() {
      return this._getZ(this._overlayWithBackdrop()) - 1
    },
    _overlayWithBackdrop: function() {
      for (var a = this._overlays.length - 1; 0 <= a; a--)
        if (this._overlays[a].withBackdrop) return this._overlays[a]
    },
    _getZ: function(a) {
      var b = this._minimumZ;
      a && (a = Number(a.style.zIndex || window.getComputedStyle(a).zIndex), a === a && (b = a));
      return b
    },
    _setZ: function(a, b) {
      a.style.zIndex = b
    },
    _applyOverlayZ: function(a, b) {
      this._setZ(a, b + 2)
    },
    _overlayInPath: function(a) {
      a = a || [];
      for (var b = 0; b < a.length; b++)
        if (a[b]._manager === this) return a[b]
    },
    _onCaptureClick: function(a) {
      var b = this._overlays.length - 1;
      if (-1 !== b)
        for (var c = Polymer.dom(a).path, d;
          (d = this._overlays[b]) && this._overlayInPath(c) !== d;)
          if (d._onCaptureClick(a), d.allowClickThrough) b--;
          else break
    },
    _onCaptureFocus: function(a) {
      var b = this.currentOverlay();
      b && b._onCaptureFocus(a)
    },
    _onCaptureKeyDown: function(a) {
      var b = this.currentOverlay();
      b && (Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a, "esc") ? b._onCaptureEsc(a) : Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a, "tab") && b._onCaptureTab(a))
    },
    _shouldBeBehindOverlay: function(a, b) {
      return !a.alwaysOnTop && b.alwaysOnTop
    }
  };
  Polymer.IronOverlayManager = new Polymer.IronOverlayManagerClass;
  (function() {
    var a = 0,
      b = 0,
      c = null,
      d = [],
      e = ["wheel", "mousewheel", "DOMMouseScroll", "touchstart", "touchmove"];
    Polymer.IronScrollManager = {
      get currentLockingElement() {
        return this._lockingElements[this._lockingElements.length - 1]
      },
      elementIsScrollLocked: function(g) {
        var h = this.currentLockingElement;
        if (void 0 === h) return !1;
        if (this._hasCachedLockedElement(g)) return !0;
        if (this._hasCachedUnlockedElement(g)) return !1;
        (h = !!h && h !== g && !this._composedTreeContains(h, g)) ? this._lockedElementCache.push(g): this._unlockedElementCache.push(g);
        return h
      },
      pushScrollLock: function(g) {
        0 <= this._lockingElements.indexOf(g) || (0 === this._lockingElements.length && this._lockScrollInteractions(), this._lockingElements.push(g), this._lockedElementCache = [], this._unlockedElementCache = [])
      },
      removeScrollLock: function(g) {
        g = this._lockingElements.indexOf(g); - 1 !== g && (this._lockingElements.splice(g, 1), this._lockedElementCache = [], this._unlockedElementCache = [], 0 === this._lockingElements.length && this._unlockScrollInteractions())
      },
      _lockingElements: [],
      _lockedElementCache: null,
      _unlockedElementCache: null,
      _hasCachedLockedElement: function(g) {
        return -1 < this._lockedElementCache.indexOf(g)
      },
      _hasCachedUnlockedElement: function(g) {
        return -1 < this._unlockedElementCache.indexOf(g)
      },
      _composedTreeContains: function(g, h) {
        var k, m;
        if (g.contains(h)) return !0;
        g = Polymer.dom(g).querySelectorAll("content,slot");
        for (k = 0; k < g.length; ++k) {
          var l = Polymer.dom(g[k]).getDistributedNodes();
          for (m = 0; m < l.length; ++m)
            if (l[m].nodeType === Node.ELEMENT_NODE && this._composedTreeContains(l[m], h)) return !0
        }
        return !1
      },
      _scrollInteractionHandler: function(g) {
        g.cancelable && this._shouldPreventScrolling(g) && g.preventDefault();
        g.targetTouches && (g = g.targetTouches[0], a = g.pageX, b = g.pageY)
      },
      _boundScrollHandler: void 0,
      _lockScrollInteractions: function() {
        this._boundScrollHandler = this._boundScrollHandler || this._scrollInteractionHandler.bind(this);
        for (var g = 0, h = e.length; g < h; g++) document.addEventListener(e[g], this._boundScrollHandler, {
          capture: !0,
          passive: !1
        })
      },
      _unlockScrollInteractions: function() {
        for (var g = 0, h = e.length; g < h; g++) document.removeEventListener(e[g], this._boundScrollHandler, {
          capture: !0,
          passive: !1
        })
      },
      _shouldPreventScrolling: function(g) {
        var h = Polymer.dom(g).rootTarget;
        "touchmove" !== g.type && c !== h && (c = h, d = this._getScrollableNodes(Polymer.dom(g).path));
        if (!d.length) return !0;
        if ("touchstart" === g.type) return !1;
        g = this._getScrollInfo(g);
        return !this._getScrollingNode(d, g.deltaX, g.deltaY)
      },
      _getScrollableNodes: function(g) {
        for (var h = [], k = g.indexOf(this.currentLockingElement), m = 0; m <= k; m++)
          if (g[m].nodeType === Node.ELEMENT_NODE) {
            var l = g[m],
              q = l.style;
            "scroll" !== q.overflow && "auto" !== q.overflow && (q = window.getComputedStyle(l));
            "scroll" !== q.overflow && "auto" !== q.overflow || h.push(l)
          } return h
      },
      _getScrollingNode: function(g, h, k) {
        if (h || k)
          for (var m = Math.abs(k) >= Math.abs(h), l = 0; l < g.length; l++) {
            var q = g[l];
            if (m ? 0 > k ? 0 < q.scrollTop : q.scrollTop < q.scrollHeight - q.clientHeight : 0 > h ? 0 < q.scrollLeft : q.scrollLeft < q.scrollWidth - q.clientWidth) return q
          }
      },
      _getScrollInfo: function(g) {
        var h = {
          deltaX: g.deltaX,
          deltaY: g.deltaY
        };
        "deltaX" in g || ("wheelDeltaX" in g && "wheelDeltaY" in g ? (h.deltaX = -g.wheelDeltaX, h.deltaY = -g.wheelDeltaY) : "wheelDelta" in g ? (h.deltaX = 0, h.deltaY = -g.wheelDelta) : "axis" in g ? (h.deltaX = 1 === g.axis ? g.detail : 0, h.deltaY = 2 === g.axis ? g.detail : 0) : g.targetTouches && (g = g.targetTouches[0], h.deltaX = a - g.pageX, h.deltaY = b - g.pageY));
        return h
      }
    }
  })();
  Polymer.IronOverlayBehaviorImpl = {
    properties: {
      opened: {
        observer: "_openedChanged",
        type: Boolean,
        value: !1,
        notify: !0
      },
      canceled: {
        observer: "_canceledChanged",
        readOnly: !0,
        type: Boolean,
        value: !1
      },
      withBackdrop: {
        observer: "_withBackdropChanged",
        type: Boolean
      },
      noAutoFocus: {
        type: Boolean,
        value: !1
      },
      noCancelOnEscKey: {
        type: Boolean,
        value: !1
      },
      noCancelOnOutsideClick: {
        type: Boolean,
        value: !1
      },
      closingReason: {
        type: Object
      },
      restoreFocusOnClose: {
        type: Boolean,
        value: !1
      },
      allowClickThrough: {
        type: Boolean
      },
      alwaysOnTop: {
        type: Boolean
      },
      scrollAction: {
        type: String
      },
      _manager: {
        type: Object,
        value: Polymer.IronOverlayManager
      },
      _focusedChild: {
        type: Object
      }
    },
    listeners: {
      "iron-resize": "_onIronResize"
    },
    observers: ["__updateScrollObservers(isAttached, opened, scrollAction)"],
    get backdropElement() {
      return this._manager.backdropElement
    },
    get _focusNode() {
      return this._focusedChild || Polymer.dom(this).querySelector("[autofocus]") || this
    },
    get _focusableNodes() {
      return Polymer.IronFocusablesHelper.getTabbableNodes(this)
    },
    ready: function() {
      this.__shouldRemoveTabIndex =
        this.__isAnimating = !1;
      this.__firstFocusableNode = this.__lastFocusableNode = null;
      this.__rafs = {};
      this.__scrollTop = this.__scrollLeft = this.__restoreFocusNode = null;
      this.__onCaptureScroll = this.__onCaptureScroll.bind(this);
      this.__rootNodes = null;
      this._ensureSetup()
    },
    attached: function() {
      this.opened && this._openedChanged(this.opened);
      this._observer = Polymer.dom(this).observeNodes(this._onNodesChange)
    },
    detached: function() {
      Polymer.dom(this).unobserveNodes(this._observer);
      this._observer = null;
      for (var a in this.__rafs) null !== this.__rafs[a] && cancelAnimationFrame(this.__rafs[a]);
      this.__rafs = {};
      this._manager.removeOverlay(this);
      this.__isAnimating && (this.opened ? this._finishRenderOpened() : (this._applyFocus(), this._finishRenderClosed()))
    },
    toggle: function() {
      this._setCanceled(!1);
      this.opened = !this.opened
    },
    open: function() {
      this._setCanceled(!1);
      this.opened = !0
    },
    close: function() {
      this._setCanceled(!1);
      this.opened = !1
    },
    cancel: function(a) {
      this.fire("iron-overlay-canceled", a, {
        cancelable: !0
      }).defaultPrevented || (this._setCanceled(!0), this.opened = !1)
    },
    invalidateTabbables: function() {
      this.__firstFocusableNode = this.__lastFocusableNode = null
    },
    _ensureSetup: function() {
      this._overlaySetup || (this._overlaySetup = !0, this.style.outline = "none", this.style.display = "none")
    },
    _openedChanged: function(a) {
      a ? this.removeAttribute("aria-hidden") : this.setAttribute("aria-hidden", "true");
      this.isAttached && (this.__isAnimating = !0, this.__deraf("__openedChanged", this.__openedChanged))
    },
    _canceledChanged: function() {
      this.closingReason = this.closingReason || {};
      this.closingReason.canceled = this.canceled
    },
    _withBackdropChanged: function() {
      this.withBackdrop && !this.hasAttribute("tabindex") ? (this.setAttribute("tabindex", "-1"), this.__shouldRemoveTabIndex = !0) : this.__shouldRemoveTabIndex && (this.removeAttribute("tabindex"), this.__shouldRemoveTabIndex = !1);
      this.opened && this.isAttached && this._manager.trackBackdrop()
    },
    _prepareRenderOpened: function() {
      this.__restoreFocusNode = this._manager.deepActiveElement;
      this._preparePositioning();
      this.refit();
      this._finishPositioning();
      this.noAutoFocus && document.activeElement === this._focusNode && (this._focusNode.blur(), this.__restoreFocusNode.focus())
    },
    _renderOpened: function() {
      this._finishRenderOpened()
    },
    _renderClosed: function() {
      this._finishRenderClosed()
    },
    _finishRenderOpened: function() {
      this.notifyResize();
      this.__isAnimating = !1;
      this.fire("iron-overlay-opened")
    },
    _finishRenderClosed: function() {
      this.style.display = "none";
      this.style.zIndex = "";
      this.notifyResize();
      this.__isAnimating = !1;
      this.fire("iron-overlay-closed", this.closingReason)
    },
    _preparePositioning: function() {
      this.style.transition = this.style.webkitTransition = "none";
      this.style.transform = this.style.webkitTransform = "none";
      this.style.display = ""
    },
    _finishPositioning: function() {
      this.style.display = "none";
      this.scrollTop = this.scrollTop;
      this.style.transition = this.style.webkitTransition = "";
      this.style.transform = this.style.webkitTransform = "";
      this.style.display = "";
      this.scrollTop = this.scrollTop
    },
    _applyFocus: function() {
      if (this.opened) this.noAutoFocus || this._focusNode.focus();
      else {
        if (this.restoreFocusOnClose && this.__restoreFocusNode) {
          var a = this._manager.deepActiveElement;
          (a === document.body || Polymer.dom(this).deepContains(a)) && this.__restoreFocusNode.focus()
        }
        this.__restoreFocusNode = null;
        this._focusNode.blur();
        this._focusedChild = null
      }
    },
    _onCaptureClick: function(a) {
      this.noCancelOnOutsideClick || this.cancel(a)
    },
    _onCaptureFocus: function(a) {
      if (this.withBackdrop) {
        var b = Polymer.dom(a).path; - 1 === b.indexOf(this) ? (a.stopPropagation(), this._applyFocus()) : this._focusedChild = b[0]
      }
    },
    _onCaptureEsc: function(a) {
      this.noCancelOnEscKey || this.cancel(a)
    },
    _onCaptureTab: function(a) {
      if (this.withBackdrop) {
        this.__ensureFirstLastFocusables();
        var b = a.shiftKey,
          c = b ? this.__firstFocusableNode : this.__lastFocusableNode;
        b = b ? this.__lastFocusableNode : this.__firstFocusableNode;
        if (c === b) c = !0;
        else {
          var d = this._manager.deepActiveElement;
          c = d === c || d === this
        }
        c && (a.preventDefault(), this._focusedChild = b, this._applyFocus())
      }
    },
    _onIronResize: function() {
      this.opened && !this.__isAnimating && this.__deraf("refit", this.refit)
    },
    _onNodesChange: function() {
      this.opened && !this.__isAnimating && (this.invalidateTabbables(), this.notifyResize())
    },
    __ensureFirstLastFocusables: function() {
      if (!this.__firstFocusableNode || !this.__lastFocusableNode) {
        var a = this._focusableNodes;
        this.__firstFocusableNode = a[0];
        this.__lastFocusableNode = a[a.length - 1]
      }
    },
    __openedChanged: function() {
      this.opened ? (this._prepareRenderOpened(), this._manager.addOverlay(this), this._applyFocus(), this._renderOpened()) : (this._manager.removeOverlay(this), this._applyFocus(), this._renderClosed())
    },
    __deraf: function(a, b) {
      var c = this.__rafs;
      null !== c[a] && cancelAnimationFrame(c[a]);
      c[a] = requestAnimationFrame(function() {
        c[a] = null;
        b.call(this)
      }.bind(this))
    },
    __updateScrollObservers: function(a, b, c) {
      a && b && this.__isValidScrollAction(c) ? ("lock" === c && (this.__saveScrollPosition(), Polymer.IronScrollManager.pushScrollLock(this)), this.__addScrollListeners()) : (Polymer.IronScrollManager.removeScrollLock(this), this.__removeScrollListeners())
    },
    __addScrollListeners: function() {
      if (!this.__rootNodes) {
        this.__rootNodes = [];
        if (Polymer.Settings.useShadow)
          for (var a = this; a;) a.nodeType === Node.DOCUMENT_FRAGMENT_NODE && a.host && this.__rootNodes.push(a), a = a.host || a.assignedSlot || a.parentNode;
        this.__rootNodes.push(document)
      }
      this.__rootNodes.forEach(function(b) {
        b.addEventListener("scroll", this.__onCaptureScroll, {
          capture: !0,
          passive: !0
        })
      }, this)
    },
    __removeScrollListeners: function() {
      this.__rootNodes && this.__rootNodes.forEach(function(a) {
        a.removeEventListener("scroll", this.__onCaptureScroll, {
          capture: !0,
          passive: !0
        })
      }, this);
      this.isAttached || (this.__rootNodes = null)
    },
    __isValidScrollAction: function(a) {
      return "lock" === a || "refit" === a || "cancel" === a
    },
    __onCaptureScroll: function(a) {
      if (!(this.__isAnimating || 0 <= Polymer.dom(a).path.indexOf(this))) switch (this.scrollAction) {
        case "lock":
          this.__restoreScrollPosition();
          break;
        case "refit":
          this.__deraf("refit", this.refit);
          break;
        case "cancel":
          this.cancel(a)
      }
    },
    __saveScrollPosition: function() {
      document.scrollingElement ? (this.__scrollTop = document.scrollingElement.scrollTop, this.__scrollLeft = document.scrollingElement.scrollLeft) : (this.__scrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop), this.__scrollLeft = Math.max(document.documentElement.scrollLeft, document.body.scrollLeft))
    },
    __restoreScrollPosition: function() {
      document.scrollingElement ? (document.scrollingElement.scrollTop = this.__scrollTop, document.scrollingElement.scrollLeft = this.__scrollLeft) : (document.documentElement.scrollTop = document.body.scrollTop = this.__scrollTop, document.documentElement.scrollLeft = document.body.scrollLeft = this.__scrollLeft)
    }
  };
  Polymer.IronOverlayBehavior = [Polymer.IronFitBehavior, Polymer.IronResizableBehavior, Polymer.IronOverlayBehaviorImpl];
  Polymer.NeonAnimationBehavior = {
    properties: {
      animationTiming: {
        type: Object,
        value: function() {
          return {
            duration: 500,
            easing: "cubic-bezier(0.4, 0, 0.2, 1)",
            fill: "both"
          }
        }
      }
    },
    isNeonAnimation: !0,
    created: function() {
      document.body.animate || console.warn("No web animations detected. This element will not function without a web animations polyfill.")
    },
    timingFromConfig: function(a) {
      if (a.timing)
        for (var b in a.timing) this.animationTiming[b] = a.timing[b];
      return this.animationTiming
    },
    setPrefixedProperty: function(a, b, c) {
      for (var d = {
          transform: ["webkitTransform"],
          transformOrigin: ["mozTransformOrigin", "webkitTransformOrigin"]
        } [b], e, g = 0; e = d[g]; g++) a.style[e] = c;
      a.style[b] = c
    },
    complete: function() {}
  };
  Polymer({
    is: "opaque-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(a) {
      var b = a.node;
      this._effect = new KeyframeEffect(b, [{
        opacity: "1"
      }, {
        opacity: "1"
      }], this.timingFromConfig(a));
      b.style.opacity = "0";
      return this._effect
    },
    complete: function(a) {
      a.node.style.opacity = ""
    }
  });
  Polymer.NeonAnimatableBehavior = {
    properties: {
      animationConfig: {
        type: Object
      },
      entryAnimation: {
        observer: "_entryAnimationChanged",
        type: String
      },
      exitAnimation: {
        observer: "_exitAnimationChanged",
        type: String
      }
    },
    _entryAnimationChanged: function() {
      this.animationConfig = this.animationConfig || {};
      this.animationConfig.entry = [{
        name: this.entryAnimation,
        node: this
      }]
    },
    _exitAnimationChanged: function() {
      this.animationConfig = this.animationConfig || {};
      this.animationConfig.exit = [{
        name: this.exitAnimation,
        node: this
      }]
    },
    _copyProperties: function(a, b) {
      for (var c in b) a[c] = b[c]
    },
    _cloneConfig: function(a) {
      var b = {
        isClone: !0
      };
      this._copyProperties(b, a);
      return b
    },
    _getAnimationConfigRecursive: function(a, b, c) {
      if (this.animationConfig)
        if (this.animationConfig.value && "function" === typeof this.animationConfig.value) this._warn(this._logf("playAnimation", "Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));
        else {
          var d = a ? this.animationConfig[a] : this.animationConfig;
          Array.isArray(d) || (d = [d]);
          if (d)
            for (var e, g = 0; e = d[g]; g++)
              if (e.animatable) e.animatable._getAnimationConfigRecursive(e.type || a, b, c);
              else if (e.id) {
            var h = b[e.id];
            h ? (h.isClone || (b[e.id] = this._cloneConfig(h), h = b[e.id]), this._copyProperties(h, e)) : b[e.id] = e
          } else c.push(e)
        }
    },
    getAnimationConfig: function(a) {
      var b = {},
        c = [];
      this._getAnimationConfigRecursive(a, b, c);
      for (var d in b) c.push(b[d]);
      return c
    }
  };
  Polymer.NeonAnimationRunnerBehaviorImpl = {
    _configureAnimations: function(a) {
      var b = [],
        c = [];
      if (0 < a.length)
        for (var d, e = 0; d = a[e]; e++) {
          var g = document.createElement(d.name);
          if (g.isNeonAnimation) {
            var h = null;
            g.configure || (g.configure = function() {
              return null
            });
            h = g.configure(d);
            c.push({
              result: h,
              config: d,
              neonAnimation: g
            })
          } else console.warn(this.is + ":", d.name, "not found!")
        }
      for (a = 0; a < c.length; a++) {
        h = c[a].result;
        d = c[a].config;
        g = c[a].neonAnimation;
        try {
          "function" != typeof h.cancel && (h = document.timeline.play(h))
        } catch (k) {
          h = null, console.warn("Couldnt play", "(", d.name, ").", k)
        }
        h && b.push({
          neonAnimation: g,
          config: d,
          animation: h
        })
      }
      return b
    },
    _shouldComplete: function(a) {
      for (var b = !0, c = 0; c < a.length; c++)
        if ("finished" != a[c].animation.playState) {
          b = !1;
          break
        } return b
    },
    _complete: function(a) {
      for (var b = 0; b < a.length; b++) a[b].neonAnimation.complete(a[b].config);
      for (b = 0; b < a.length; b++) a[b].animation.cancel()
    },
    playAnimation: function(a, b) {
      var c = this.getAnimationConfig(a);
      if (c) {
        this._active = this._active || {};
        this._active[a] && (this._complete(this._active[a]), delete this._active[a]);
        var d = this._configureAnimations(c);
        if (0 == d.length) this.fire("neon-animation-finish", b, {
          bubbles: !1
        });
        else
          for (this._active[a] = d, c = 0; c < d.length; c++) d[c].animation.onfinish = function() {
            this._shouldComplete(d) && (this._complete(d), delete this._active[a], this.fire("neon-animation-finish", b, {
              bubbles: !1
            }))
          }.bind(this)
      }
    },
    cancelAnimation: function() {
      for (var a in this._active) {
        var b = this._active[a],
          c;
        for (c in b) b[c].animation && b[c].animation.cancel && b[c].animation.cancel()
      }
      this._active = {}
    }
  };
  Polymer.NeonAnimationRunnerBehavior = [Polymer.NeonAnimatableBehavior, Polymer.NeonAnimationRunnerBehaviorImpl];
  Polymer({
    is: "iron-dropdown",
    behaviors: [Polymer.IronControlState, Polymer.IronA11yKeysBehavior, Polymer.IronOverlayBehavior, Polymer.NeonAnimationRunnerBehavior],
    properties: {
      horizontalAlign: {
        type: String,
        value: "left",
        reflectToAttribute: !0
      },
      verticalAlign: {
        type: String,
        value: "top",
        reflectToAttribute: !0
      },
      openAnimationConfig: {
        type: Object
      },
      closeAnimationConfig: {
        type: Object
      },
      focusTarget: {
        type: Object
      },
      noAnimations: {
        type: Boolean,
        value: !1
      },
      allowOutsideScroll: {
        type: Boolean,
        value: !1
      },
      _boundOnCaptureScroll: {
        type: Function,
        value: function() {
          return this._onCaptureScroll.bind(this)
        }
      }
    },
    listeners: {
      "neon-animation-finish": "_onNeonAnimationFinish"
    },
    observers: ["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],
    get containedElement() {
      return Polymer.dom(this.$.content).getDistributedNodes()[0]
    },
    get _focusTarget() {
      return this.focusTarget || this.containedElement
    },
    ready: function() {
      this._scrollLeft = this._scrollTop = 0;
      this._refitOnScrollRAF = null
    },
    attached: function() {
      this.sizingTarget && this.sizingTarget !== this || (this.sizingTarget = this.containedElement || this)
    },
    detached: function() {
      this.cancelAnimation();
      document.removeEventListener("scroll", this._boundOnCaptureScroll);
      Polymer.IronDropdownScrollManager.removeScrollLock(this)
    },
    _openedChanged: function() {
      this.opened && this.disabled ? this.cancel() : (this.cancelAnimation(), this._updateAnimationConfig(), this._saveScrollPosition(), this.opened ? (document.addEventListener("scroll", this._boundOnCaptureScroll), !this.allowOutsideScroll && Polymer.IronDropdownScrollManager.pushScrollLock(this)) : (document.removeEventListener("scroll", this._boundOnCaptureScroll), Polymer.IronDropdownScrollManager.removeScrollLock(this)), Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this, arguments))
    },
    _renderOpened: function() {
      !this.noAnimations && this.animationConfig.open ? (this.$.contentWrapper.classList.add("animating"), this.playAnimation("open")) : Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this, arguments)
    },
    _renderClosed: function() {
      !this.noAnimations && this.animationConfig.close ? (this.$.contentWrapper.classList.add("animating"), this.playAnimation("close")) : Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this, arguments)
    },
    _onNeonAnimationFinish: function() {
      this.$.contentWrapper.classList.remove("animating");
      this.opened ? this._finishRenderOpened() : this._finishRenderClosed()
    },
    _onCaptureScroll: function() {
      this.allowOutsideScroll ? (this._refitOnScrollRAF && window.cancelAnimationFrame(this._refitOnScrollRAF), this._refitOnScrollRAF = window.requestAnimationFrame(this.refit.bind(this))) : this._restoreScrollPosition()
    },
    _saveScrollPosition: function() {
      document.scrollingElement ? (this._scrollTop = document.scrollingElement.scrollTop, this._scrollLeft = document.scrollingElement.scrollLeft) : (this._scrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop), this._scrollLeft = Math.max(document.documentElement.scrollLeft, document.body.scrollLeft))
    },
    _restoreScrollPosition: function() {
      document.scrollingElement ? (document.scrollingElement.scrollTop = this._scrollTop, document.scrollingElement.scrollLeft = this._scrollLeft) : (document.documentElement.scrollTop = this._scrollTop, document.documentElement.scrollLeft = this._scrollLeft, document.body.scrollTop = this._scrollTop, document.body.scrollLeft = this._scrollLeft)
    },
    _updateAnimationConfig: function() {
      for (var a = this.containedElement, b = [].concat(this.openAnimationConfig || []).concat(this.closeAnimationConfig || []), c = 0; c < b.length; c++) b[c].node = a;
      this.animationConfig = {
        open: this.openAnimationConfig,
        close: this.closeAnimationConfig
      }
    },
    _updateOverlayPosition: function() {
      this.isAttached && this.notifyResize()
    },
    _applyFocus: function() {
      var a = this.focusTarget || this.containedElement;
      a && this.opened && !this.noAutoFocus ? a.focus() : Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this, arguments)
    }
  });
  Polymer({
    is: "iron-icon",
    properties: {
      icon: {
        type: String
      },
      theme: {
        type: String
      },
      src: {
        type: String
      },
      _meta: {
        value: Polymer.Base.create("iron-meta", {
          type: "iconset"
        })
      }
    },
    observers: ["_updateIcon(_meta, isAttached)", "_updateIcon(theme, isAttached)", "_srcChanged(src, isAttached)", "_iconChanged(icon, isAttached)"],
    _DEFAULT_ICONSET: "icons",
    _iconChanged: function(a) {
      a = (a || "").split(":");
      this._iconName = a.pop();
      this._iconsetName = a.pop() || this._DEFAULT_ICONSET;
      this._updateIcon()
    },
    _srcChanged: function() {
      this._updateIcon()
    },
    _usesIconset: function() {
      return this.icon || !this.src
    },
    _updateIcon: function() {
      this._usesIconset() ? (this._img && this._img.parentNode && Polymer.dom(this.root).removeChild(this._img), "" === this._iconName ? this._iconset && this._iconset.removeIcon(this) : this._iconsetName && this._meta && ((this._iconset = this._meta.byKey(this._iconsetName)) ? (this._iconset.applyIcon(this, this._iconName, this.theme), this.unlisten(window, "iron-iconset-added", "_updateIcon")) : this.listen(window, "iron-iconset-added", "_updateIcon"))) : (this._iconset && this._iconset.removeIcon(this), this._img ||
        (this._img = document.createElement("img"), this._img.style.width = "100%", this._img.style.height = "100%", this._img.draggable = !1), this._img.src = this.src, Polymer.dom(this.root).appendChild(this._img))
    }
  });
  Polymer({
    is: "iron-iconset-svg",
    properties: {
      name: {
        type: String,
        observer: "_nameChanged"
      },
      size: {
        type: Number,
        value: 24
      },
      rtlMirroring: {
        type: Boolean,
        value: !1
      },
      useGlobalRtlAttribute: {
        type: Boolean,
        value: !1
      }
    },
    created: function() {
      this._meta = new Polymer.IronMeta({
        type: "iconset",
        key: null,
        value: null
      })
    },
    attached: function() {
      this.style.display = "none"
    },
    getIconNames: function() {
      this._icons = this._createIconMap();
      return Object.keys(this._icons).map(function(a) {
        return this.name + ":" + a
      }, this)
    },
    applyIcon: function(a, b) {
      this.removeIcon(a);
      if (b = this._cloneIcon(b, this.rtlMirroring && this._targetIsRTL(a))) {
        var c = Polymer.dom(a.root || a);
        c.insertBefore(b, c.childNodes[0]);
        return a._svgIcon = b
      }
      return null
    },
    removeIcon: function(a) {
      a._svgIcon && (Polymer.dom(a.root || a).removeChild(a._svgIcon), a._svgIcon = null)
    },
    _targetIsRTL: function(a) {
      null == this.__targetIsRTL && (this.useGlobalRtlAttribute ? this.__targetIsRTL = "rtl" === (document.body && document.body.hasAttribute("dir") ? document.body : document.documentElement).getAttribute("dir") : (a && a.nodeType !== Node.ELEMENT_NODE && (a = a.host), this.__targetIsRTL = a && "rtl" === window.getComputedStyle(a).direction));
      return this.__targetIsRTL
    },
    _nameChanged: function() {
      this._meta.value = null;
      this._meta.key = this.name;
      this._meta.value = this;
      this.async(function() {
        this.fire("iron-iconset-added", this, {
          node: window
        })
      })
    },
    _createIconMap: function() {
      var a = Object.create(null);
      Polymer.dom(this).querySelectorAll("[id]").forEach(function(b) {
        a[b.id] = b
      });
      return a
    },
    _cloneIcon: function(a, b) {
      this._icons = this._icons || this._createIconMap();
      return this._prepareSvgClone(this._icons[a], this.size, b)
    },
    _prepareSvgClone: function(a, b, c) {
      if (a) {
        a = a.cloneNode(!0);
        var d = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        b = a.getAttribute("viewBox") || "0 0 " + b + " " + b;
        var e = "pointer-events: none; display: block; width: 100%; height: 100%;";
        c && a.hasAttribute("mirror-in-rtl") && (e += "-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;");
        d.setAttribute("viewBox", b);
        d.setAttribute("preserveAspectRatio", "xMidYMid meet");
        d.setAttribute("focusable", "false");
        d.style.cssText = e;
        d.appendChild(a).removeAttribute("id");
        return d
      }
      return null
    }
  });
  Polymer({
    is: "iron-image",
    properties: {
      src: {
        observer: "_srcChanged",
        type: String,
        value: ""
      },
      alt: {
        type: String,
        value: null
      },
      preventLoad: {
        type: Boolean,
        value: !1,
        observer: "_preventLoadChanged"
      },
      sizing: {
        type: String,
        value: null,
        reflectToAttribute: !0
      },
      position: {
        type: String,
        value: "center"
      },
      preload: {
        type: Boolean,
        value: !1
      },
      placeholder: {
        type: String,
        value: null,
        observer: "_placeholderChanged"
      },
      fade: {
        type: Boolean,
        value: !1
      },
      loaded: {
        notify: !0,
        readOnly: !0,
        type: Boolean,
        value: !1
      },
      loading: {
        notify: !0,
        readOnly: !0,
        type: Boolean,
        value: !1
      },
      error: {
        notify: !0,
        readOnly: !0,
        type: Boolean,
        value: !1
      },
      width: {
        observer: "_widthChanged",
        type: Number,
        value: null
      },
      height: {
        observer: "_heightChanged",
        type: Number,
        value: null
      }
    },
    observers: ["_transformChanged(sizing, position)"],
    ready: function() {
      var a = this.$.img;
      a.onload = function() {
        this.$.img.src === this._resolveSrc(this.src) && (this._setLoading(!1), this._setLoaded(!0), this._setError(!1))
      }.bind(this);
      a.onerror = function() {
        this.$.img.src === this._resolveSrc(this.src) && (this._reset(), this._setLoading(!1), this._setLoaded(!1), this._setError(!0))
      }.bind(this);
      this._resolvedSrc = ""
    },
    _load: function(a) {
      a ? this.$.img.src = a : this.$.img.removeAttribute("src");
      this.$.sizedImgDiv.style.backgroundImage = a ? 'url("' + a + '")' : "";
      this._setLoading(!!a);
      this._setLoaded(!1);
      this._setError(!1)
    },
    _reset: function() {
      this.$.img.removeAttribute("src");
      this.$.sizedImgDiv.style.backgroundImage = "";
      this._setLoading(!1);
      this._setLoaded(!1);
      this._setError(!1)
    },
    _computePlaceholderHidden: function() {
      return !this.preload || !this.fade && !this.loading && this.loaded
    },
    _computePlaceholderClassName: function() {
      return this.preload && this.fade && !this.loading && this.loaded ? "faded-out" : ""
    },
    _computeImgDivHidden: function() {
      return !this.sizing
    },
    _computeImgDivARIAHidden: function() {
      return "" === this.alt ? "true" : void 0
    },
    _computeImgDivARIALabel: function() {
      if (null !== this.alt) return this.alt;
      if ("" === this.src) return "";
      var a = (new URL(this._resolveSrc(this.src))).pathname.split("/");
      return a[a.length - 1]
    },
    _computeImgHidden: function() {
      return !!this.sizing
    },
    _widthChanged: function() {
      this.style.width = isNaN(this.width) ? this.width : this.width + "px"
    },
    _heightChanged: function() {
      this.style.height = isNaN(this.height) ? this.height : this.height + "px"
    },
    _preventLoadChanged: function() {
      this.preventLoad || this.loaded || (this._reset(), this._load(this.src))
    },
    _srcChanged: function(a) {
      var b = this._resolveSrc(a);
      b !== this._resolvedSrc && (this._resolvedSrc = b, this._reset(), this.preventLoad || this._load(a))
    },
    _placeholderChanged: function() {
      this.$.placeholder.style.backgroundImage = this.placeholder ? 'url("' + this.placeholder + '")' : ""
    },
    _transformChanged: function() {
      var a = this.$.sizedImgDiv.style,
        b = this.$.placeholder.style;
      a.backgroundSize = b.backgroundSize = this.sizing;
      a.backgroundPosition = b.backgroundPosition = this.sizing ? this.position : "";
      a.backgroundRepeat = b.backgroundRepeat = this.sizing ? "no-repeat" : ""
    },
    _resolveSrc: function(a) {
      var b = this.ownerDocument.baseURI;
      return b ? (new URL(a, b)).href : a
    }
  });
  Polymer({
    is: "iron-input",
    extends: "input",
    behaviors: [Polymer.IronValidatableBehavior],
    properties: {
      bindValue: {
        observer: "_bindValueChanged",
        type: String
      },
      preventInvalidInput: {
        type: Boolean
      },
      allowedPattern: {
        type: String,
        observer: "_allowedPatternChanged"
      },
      useV2Api: {
        type: Boolean,
        value: !1
      },
      _previousValidInput: {
        type: String,
        value: ""
      },
      _patternAlreadyChecked: {
        type: Boolean,
        value: !1
      },
      _inputElement: Object
    },
    observers: ["_bindValueChangedV2(bindValue, _inputElement)"],
    listeners: {
      input: "_onInput",
      keypress: "_onKeypress"
    },
    registered: function() {
      this._canDispatchEventOnDisabled() || (this._origDispatchEvent = this.dispatchEvent, this.dispatchEvent = this._dispatchEventFirefoxIE)
    },
    created: function() {
      Polymer.IronA11yAnnouncer.requestAvailability();
      if (this.useV2Api || this.hasAttribute("use-v2-api")) this._previousValidInput = "", this._patternAlreadyChecked = !1
    },
    attached: function() {
      this.useV2Api && (this._observer = {}, this._observer.__interval = setTimeout(function() {
        this._initSlottedInput()
      }.bind(this), 2), this._observer.flush = function() {
        if (this.inputElement) return !1;
        window.clearTimeout(this._observer.__interval);
        this._initSlottedInput();
        return !0
      }.bind(this))
    },
    detached: function() {
      this.useV2Api && this._observer && clearTimeout(this._observer)
    },
    get inputElement() {
      return this._inputElement
    },
    _initSlottedInput: function() {
      this._inputElement = this;
      this.inputElement && this.inputElement.value && (this.bindValue = this.inputElement.value);
      this.fire("iron-input-ready")
    },
    _canDispatchEventOnDisabled: function() {
      var a = document.createElement("input"),
        b = !1;
      a.disabled = !0;
      a.addEventListener("feature-check-dispatch-event", function() {
        b = !0
      });
      try {
        a.dispatchEvent(new Event("feature-check-dispatch-event"))
      } catch (c) {}
      return b
    },
    _dispatchEventFirefoxIE: function(a) {
      var b = this.disabled;
      this.disabled = !1;
      a = this._origDispatchEvent(a);
      this.disabled = b;
      return a
    },
    get _patternRegExp() {
      if (this.allowedPattern) var a = new RegExp(this.allowedPattern);
      else if (this.useV2Api) switch (this.inputElement.type) {
        case "number":
          a = /[0-9.,e-]/
      } else switch (this.type) {
        case "number":
          a = /[0-9.,e-]/
      }
      return a
    },
    ready: function() {
      this.useV2Api || (this.bindValue = this.value)
    },
    _bindValueChangedV2: function(a, b) {
      this.useV2Api && b && (void 0 === a ? b.value = null : a !== b.value && (this.inputElement.value = a), this.autoValidate && this.validate(), this.fire("bind-value-changed", {
        value: a
      }))
    },
    _bindValueChanged: function() {
      this.useV2Api || (this.value !== this.bindValue && (this.value = this.bindValue || 0 === this.bindValue || !1 === this.bindValue ? this.bindValue : ""), this.fire("bind-value-changed", {
        value: this.bindValue
      }))
    },
    _allowedPatternChanged: function() {
      this.useV2Api || (this.preventInvalidInput = this.allowedPattern ? !0 : !1)
    },
    _onInput: function() {
      if (this.useV2Api) {
        if (this.allowedPattern && !this._patternAlreadyChecked) {
          var a = this._checkPatternValidity();
          a || (this._announceInvalidCharacter("Invalid string of characters not entered."), this.inputElement.value = this._previousValidInput)
        }
        this.bindValue = this._previousValidInput = this.inputElement.value
      } else this.preventInvalidInput && !this._patternAlreadyChecked && (a = this._checkPatternValidity(), a || (this._announceInvalidCharacter("Invalid string of characters not entered."), this.value =
        this._previousValidInput)), this._previousValidInput = this.bindValue = this.value;
      this._patternAlreadyChecked = !1
    },
    _isPrintable: function(a) {
      var b = 19 == a.keyCode || 20 == a.keyCode || 45 == a.keyCode || 46 == a.keyCode || 144 == a.keyCode || 145 == a.keyCode || 32 < a.keyCode && 41 > a.keyCode || 111 < a.keyCode && 124 > a.keyCode;
      return !(8 == a.keyCode || 9 == a.keyCode || 13 == a.keyCode || 27 == a.keyCode) && !(0 == a.charCode && b)
    },
    _onKeypress: function(a) {
      if (this.useV2Api) {
        if (!this.allowedPattern && "number" !== this.inputElement.type) return;
        var b = this._patternRegExp;
        if (!b || a.metaKey || a.ctrlKey || a.altKey) return;
        this._patternAlreadyChecked = !0;
        var c = String.fromCharCode(a.charCode)
      } else {
        if (!this.preventInvalidInput && "number" !== this.type) return;
        b = this._patternRegExp;
        if (!b || a.metaKey || a.ctrlKey || a.altKey) return;
        this._patternAlreadyChecked = !0;
        c = String.fromCharCode(a.charCode)
      }
      this._isPrintable(a) && !b.test(c) && (a.preventDefault(), this._announceInvalidCharacter("Invalid character " +
        c + " not entered."))
    },
    _checkPatternValidity: function() {
      var a = this._patternRegExp;
      if (!a) return !0;
      if (this.useV2Api)
        for (var b = 0; b < this.inputElement.value.length; b++) {
          if (!a.test(this.inputElement.value[b])) return !1
        } else
          for (b = 0; b < this.value.length; b++)
            if (!a.test(this.value[b])) return !1;
      return !0
    },
    validate: function() {
      if (this.useV2Api) {
        if (!this.inputElement) return this.invalid = !1, !0;
        var a = this.inputElement.checkValidity();
        a && (this.required && "" === this.bindValue ? a = !1 : this.hasValidator() && (a = Polymer.IronValidatableBehavior.validate.call(this, this.bindValue)))
      } else(a = this.checkValidity()) && (this.required && "" === this.value ? a = !1 : this.hasValidator() && (a = Polymer.IronValidatableBehavior.validate.call(this, this.value)));
      this.invalid = !a;
      this.fire("iron-input-validate");
      return a
    },
    _announceInvalidCharacter: function(a) {
      this.fire("iron-announce", {
        text: a
      })
    }
  });
  Polymer.IronLabel = function() {};
  Polymer.IronLabel = Polymer({
    is: "iron-label",
    listeners: {
      tap: "_tapHandler"
    },
    properties: {
      for: {
        type: String,
        value: "",
        reflectToAttribute: !0,
        observer: "_forChanged"
      },
      _forElement: Object
    },
    attached: function() {
      this._forChanged()
    },
    ready: function() {
      this._generateLabelId()
    },
    _generateLabelId: function() {
      if (!this.id) {
        var a = "iron-label-" + Polymer.IronLabel._labelNumber++;
        Polymer.dom(this).setAttribute("id", a)
      }
    },
    _findTarget: function() {
      if (this.for) {
        var a = Polymer.dom(this).getOwnerRoot();
        return Polymer.dom(a).querySelector("#" + this.for)
      }
      a = Polymer.dom(this).querySelector("[iron-label-target]");
      a || (a = Polymer.dom(this).firstElementChild);
      return a
    },
    _tapHandler: function(a) {
      this._forElement && Polymer.dom(a).localTarget !== this._forElement && (this._forElement.focus(), this._forElement.click())
    },
    _applyLabelledBy: function() {
      this._forElement && Polymer.dom(this._forElement).setAttribute("aria-labelledby", this.id)
    },
    _forChanged: function() {
      this._forElement && Polymer.dom(this._forElement).removeAttribute("aria-labelledby");
      this._forElement = this._findTarget();
      this._applyLabelledBy()
    }
  });
  Polymer.IronLabel._labelNumber = 0;
  Polymer({
    is: "iron-media-query",
    properties: {
      queryMatches: {
        type: Boolean,
        value: !1,
        readOnly: !0,
        notify: !0
      },
      query: {
        type: String,
        observer: "queryChanged"
      },
      full: {
        type: Boolean,
        value: !1
      },
      _boundMQHandler: {
        value: function() {
          return this.queryHandler.bind(this)
        }
      },
      _mq: {
        value: null
      }
    },
    attached: function() {
      this.style.display = "none";
      this.queryChanged()
    },
    detached: function() {
      this._remove()
    },
    _add: function() {
      this._mq && this._mq.addListener(this._boundMQHandler)
    },
    _remove: function() {
      this._mq && this._mq.removeListener(this._boundMQHandler);
      this._mq = null
    },
    queryChanged: function() {
      this._remove();
      var a = this.query;
      a && (this.full || "(" === a[0] || (a = "(" + a + ")"), this._mq = window.matchMedia(a), this._add(), this.queryHandler(this._mq))
    },
    queryHandler: function(a) {
      this._setQueryMatches(a.matches)
    }
  });
  Polymer.IronSelection = function(a) {
    this.selection = [];
    this.selectCallback = a
  };
  Polymer.IronSelection.prototype = {
    get: function() {
      return this.multi ? this.selection.slice() : this.selection[0]
    },
    clear: function(a) {
      this.selection.slice().forEach(function(b) {
        (!a || 0 > a.indexOf(b)) && this.setItemSelected(b, !1)
      }, this)
    },
    isSelected: function(a) {
      return 0 <= this.selection.indexOf(a)
    },
    setItemSelected: function(a, b) {
      if (null != a && b !== this.isSelected(a)) {
        if (b) this.selection.push(a);
        else {
          var c = this.selection.indexOf(a);
          0 <= c && this.selection.splice(c, 1)
        }
        this.selectCallback && this.selectCallback(a, b)
      }
    },
    select: function(a) {
      this.multi ? this.toggle(a) : this.get() !== a && (this.setItemSelected(this.get(), !1), this.setItemSelected(a, !0))
    },
    toggle: function(a) {
      this.setItemSelected(a, !this.isSelected(a))
    }
  };
  Polymer.IronSelectableBehavior = {
    properties: {
      attrForSelected: {
        type: String,
        value: null
      },
      selected: {
        type: String,
        notify: !0
      },
      selectedItem: {
        type: Object,
        readOnly: !0,
        notify: !0
      },
      activateEvent: {
        type: String,
        value: "tap",
        observer: "_activateEventChanged"
      },
      selectable: String,
      selectedClass: {
        type: String,
        value: "iron-selected"
      },
      selectedAttribute: {
        type: String,
        value: null
      },
      fallbackSelection: {
        type: String,
        value: null
      },
      items: {
        type: Array,
        readOnly: !0,
        notify: !0,
        value: function() {
          return []
        }
      },
      _excludedLocalNames: {
        type: Object,
        value: function() {
          return {
            template: 1,
            "dom-bind": 1,
            "dom-if": 1,
            "dom-repeat": 1
          }
        }
      }
    },
    observers: ["_updateAttrForSelected(attrForSelected)", "_updateSelected(selected)", "_checkFallback(fallbackSelection)"],
    created: function() {
      this._bindFilterItem = this._filterItem.bind(this);
      this._selection = new Polymer.IronSelection(this._applySelection.bind(this))
    },
    attached: function() {
      this._observer = this._observeItems(this);
      this._addListener(this.activateEvent)
    },
    detached: function() {
      this._observer && Polymer.dom(this).unobserveNodes(this._observer);
      this._removeListener(this.activateEvent)
    },
    indexOf: function(a) {
      return this.items ? this.items.indexOf(a) : -1
    },
    select: function(a) {
      this.selected = a
    },
    selectPrevious: function() {
      var a = this.items.length;
      a = (Number(this._valueToIndex(this.selected)) - 1 + a) % a;
      this.selected = this._indexToValue(a)
    },
    selectNext: function() {
      var a = (Number(this._valueToIndex(this.selected)) + 1) % this.items.length;
      this.selected = this._indexToValue(a)
    },
    selectIndex: function(a) {
      this.select(this._indexToValue(a))
    },
    forceSynchronousItemUpdate: function() {
      this._observer && "function" === typeof this._observer.flush ? this._observer.flush() : this._updateItems()
    },
    get _shouldUpdateSelection() {
      return null != this.selected
    },
    _checkFallback: function() {
      this._updateSelected()
    },
    _addListener: function(a) {
      this.listen(this, a, "_activateHandler")
    },
    _removeListener: function(a) {
      this.unlisten(this, a, "_activateHandler")
    },
    _activateEventChanged: function(a, b) {
      this._removeListener(b);
      this._addListener(a)
    },
    _updateItems: function() {
      var a = Polymer.dom(this).queryDistributedElements(this.selectable || "*");
      a = Array.prototype.filter.call(a, this._bindFilterItem);
      this._setItems(a)
    },
    _updateAttrForSelected: function() {
      this.selectedItem && (this.selected = this._valueForItem(this.selectedItem))
    },
    _updateSelected: function() {
      this._selectSelected(this.selected)
    },
    _selectSelected: function() {
      if (this.items) {
        var a = this._valueToItem(this.selected);
        a ? this._selection.select(a) : this._selection.clear();
        this.fallbackSelection && this.items.length && void 0 === this._selection.get() && (this.selected = this.fallbackSelection)
      }
    },
    _filterItem: function(a) {
      return !this._excludedLocalNames[a.localName]
    },
    _valueToItem: function(a) {
      return null == a ? null : this.items[this._valueToIndex(a)]
    },
    _valueToIndex: function(a) {
      if (this.attrForSelected)
        for (var b = 0, c; c = this.items[b]; b++) {
          if (this._valueForItem(c) == a) return b
        } else return Number(a)
    },
    _indexToValue: function(a) {
      if (this.attrForSelected) {
        if (a = this.items[a]) return this._valueForItem(a)
      } else return a
    },
    _valueForItem: function(a) {
      if (!a) return null;
      if (!this.attrForSelected) return a = this.indexOf(a), -1 === a ? null : a;
      var b = a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];
      return void 0 != b ? b : a.getAttribute(this.attrForSelected)
    },
    _applySelection: function(a, b) {
      this.selectedClass && this.toggleClass(this.selectedClass, b, a);
      this.selectedAttribute && this.toggleAttribute(this.selectedAttribute, b, a);
      this._selectionChange();
      this.fire("iron-" + (b ? "select" : "deselect"), {
        item: a
      })
    },
    _selectionChange: function() {
      this._setSelectedItem(this._selection.get())
    },
    _observeItems: function(a) {
      return Polymer.dom(a).observeNodes(function(b) {
        this._updateItems();
        this._updateSelected();
        this.fire("iron-items-changed", b, {
          bubbles: !1,
          cancelable: !1
        })
      })
    },
    _activateHandler: function(a) {
      a = a.target;
      for (var b = this.items; a && a != this;) {
        var c = b.indexOf(a);
        if (0 <= c) {
          b = this._indexToValue(c);
          this._itemActivate(b, a);
          break
        }
        a = a.parentNode
      }
    },
    _itemActivate: function(a, b) {
      this.fire("iron-activate", {
        selected: a,
        item: b
      }, {
        cancelable: !0
      }).defaultPrevented || this.select(a)
    }
  };
  Polymer.IronMultiSelectableBehaviorImpl = {
    properties: {
      multi: {
        type: Boolean,
        value: !1,
        observer: "multiChanged"
      },
      selectedValues: {
        type: Array,
        notify: !0,
        value: function() {
          return []
        }
      },
      selectedItems: {
        type: Array,
        readOnly: !0,
        notify: !0,
        value: function() {
          return []
        }
      }
    },
    observers: ["_updateSelected(selectedValues.splices)"],
    select: function(a) {
      this.multi ? this._toggleSelected(a) : this.selected = a
    },
    multiChanged: function(a) {
      this._selection.multi = a;
      this._updateSelected()
    },
    get _shouldUpdateSelection() {
      return null != this.selected || null != this.selectedValues && this.selectedValues.length
    },
    _updateAttrForSelected: function() {
      this.multi ? this.selectedItems && 0 < this.selectedItems.length && (this.selectedValues = this.selectedItems.map(function(a) {
        return this._indexToValue(this.indexOf(a))
      }, this).filter(function(a) {
        return null != a
      }, this)) : Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)
    },
    _updateSelected: function() {
      this.multi ? this._selectMulti(this.selectedValues) : this._selectSelected(this.selected)
    },
    _selectMulti: function(a) {
      a = a || [];
      a = (this._valuesToItems(a) || []).filter(function(c) {
        return null !== c && void 0 !== c
      });
      this._selection.clear(a);
      for (var b = 0; b < a.length; b++) this._selection.setItemSelected(a[b], !0);
      this.fallbackSelection && !this._selection.get().length && this._valueToItem(this.fallbackSelection) && this.select(this.fallbackSelection)
    },
    _selectionChange: function() {
      var a = this._selection.get();
      this.multi ? (this._setSelectedItems(a), this._setSelectedItem(a.length ? a[0] : null)) : null !== a && void 0 !== a ? (this._setSelectedItems([a]), this._setSelectedItem(a)) : (this._setSelectedItems([]), this._setSelectedItem(null))
    },
    _toggleSelected: function(a) {
      var b = this.selectedValues.indexOf(a);
      0 > b ? this.push("selectedValues", a) : this.splice("selectedValues", b, 1)
    },
    _valuesToItems: function(a) {
      return null == a ? null : a.map(function(b) {
        return this._valueToItem(b)
      }, this)
    }
  };
  Polymer.IronMultiSelectableBehavior = [Polymer.IronSelectableBehavior, Polymer.IronMultiSelectableBehaviorImpl];
  Polymer.IronMenuBehaviorImpl = {
    properties: {
      focusedItem: {
        observer: "_focusedItemChanged",
        readOnly: !0,
        type: Object
      },
      attrForItemTitle: {
        type: String
      },
      disabled: {
        type: Boolean,
        value: !1,
        observer: "_disabledChanged"
      }
    },
    _MODIFIER_KEYS: "Alt AltGraph CapsLock Control Fn FnLock Hyper Meta NumLock OS ScrollLock Shift Super Symbol SymbolLock".split(" "),
    _SEARCH_RESET_TIMEOUT_MS: 1E3,
    _previousTabIndex: 0,
    hostAttributes: {
      role: "menu"
    },
    observers: ["_updateMultiselectable(multi)"],
    listeners: {
      focus: "_onFocus",
      keydown: "_onKeydown",
      "iron-items-changed": "_onIronItemsChanged"
    },
    keyBindings: {
      up: "_onUpKey",
      down: "_onDownKey",
      esc: "_onEscKey",
      "shift+tab:keydown": "_onShiftTabDown"
    },
    attached: function() {
      this._resetTabindices()
    },
    select: function(a) {
      this._defaultFocusAsync && (this.cancelAsync(this._defaultFocusAsync), this._defaultFocusAsync = null);
      var b = this._valueToItem(a);
      b && b.hasAttribute("disabled") || (this._setFocusedItem(b), Polymer.IronMultiSelectableBehaviorImpl.select.apply(this, arguments))
    },
    _resetTabindices: function() {
      var a = this.multi ? this.selectedItems && this.selectedItems[0] : this.selectedItem;
      this.items.forEach(function(b) {
        b.setAttribute("tabindex", b === a ? "0" : "-1")
      }, this)
    },
    _updateMultiselectable: function(a) {
      a ? this.setAttribute("aria-multiselectable", "true") : this.removeAttribute("aria-multiselectable")
    },
    _focusWithKeyboardEvent: function(a) {
      if (-1 === this._MODIFIER_KEYS.indexOf(a.key)) {
        this.cancelDebouncer("_clearSearchText");
        var b = this._searchText || "";
        b += (a.key && 1 == a.key.length ? a.key : String.fromCharCode(a.keyCode)).toLocaleLowerCase();
        a = b.length;
        for (var c = 0, d; d = this.items[c]; c++)
          if (!d.hasAttribute("disabled")) {
            var e = this.attrForItemTitle || "textContent";
            e = (d[e] || d.getAttribute(e) || "").trim();
            if (!(e.length < a) && e.slice(0, a).toLocaleLowerCase() == b) {
              this._setFocusedItem(d);
              break
            }
          } this._searchText = b;
        this.debounce("_clearSearchText",
          this._clearSearchText, this._SEARCH_RESET_TIMEOUT_MS)
      }
    },
    _clearSearchText: function() {
      this._searchText = ""
    },
    _focusPrevious: function() {
      for (var a = this.items.length, b = Number(this.indexOf(this.focusedItem)), c = 1; c < a + 1; c++) {
        var d = this.items[(b - c + a) % a];
        if (!d.hasAttribute("disabled")) {
          var e = Polymer.dom(d).getOwnerRoot() || document;
          this._setFocusedItem(d);
          if (Polymer.dom(e).activeElement == d) break
        }
      }
    },
    _focusNext: function() {
      for (var a = this.items.length, b = Number(this.indexOf(this.focusedItem)), c = 1; c < a + 1; c++) {
        var d = this.items[(b + c) % a];
        if (!d.hasAttribute("disabled")) {
          var e = Polymer.dom(d).getOwnerRoot() || document;
          this._setFocusedItem(d);
          if (Polymer.dom(e).activeElement == d) break
        }
      }
    },
    _applySelection: function(a, b) {
      b ? a.setAttribute("aria-selected", "true") : a.removeAttribute("aria-selected");
      Polymer.IronSelectableBehavior._applySelection.apply(this, arguments)
    },
    _focusedItemChanged: function(a, b) {
      b && b.setAttribute("tabindex", "-1");
      !a || a.hasAttribute("disabled") || this.disabled || (a.setAttribute("tabindex", "0"), a.focus())
    },
    _onIronItemsChanged: function(a) {
      a.detail.addedNodes.length && this._resetTabindices()
    },
    _onShiftTabDown: function() {
      var a = this.getAttribute("tabindex");
      Polymer.IronMenuBehaviorImpl._shiftTabPressed = !0;
      this._setFocusedItem(null);
      this.setAttribute("tabindex", "-1");
      this.async(function() {
        this.setAttribute("tabindex", a);
        Polymer.IronMenuBehaviorImpl._shiftTabPressed = !1
      }, 1)
    },
    _onFocus: function(a) {
      !Polymer.IronMenuBehaviorImpl._shiftTabPressed && (a = Polymer.dom(a).rootTarget, a === this || "undefined" === typeof a.tabIndex || this.isLightDescendant(a)) && (this._defaultFocusAsync = this.async(function() {
        var b = this.multi ? this.selectedItems && this.selectedItems[0] : this.selectedItem;
        this._setFocusedItem(null);
        b ? this._setFocusedItem(b) : this.items[0] && this._focusNext()
      }))
    },
    _onUpKey: function(a) {
      this._focusPrevious();
      a.detail.keyboardEvent.preventDefault()
    },
    _onDownKey: function(a) {
      this._focusNext();
      a.detail.keyboardEvent.preventDefault()
    },
    _onEscKey: function() {
      var a = this.focusedItem;
      a && a.blur()
    },
    _onKeydown: function(a) {
      this.keyboardEventMatchesKeys(a, "up down esc") || this._focusWithKeyboardEvent(a);
      a.stopPropagation()
    },
    _activateHandler: function(a) {
      Polymer.IronSelectableBehavior._activateHandler.call(this, a);
      a.stopPropagation()
    },
    _disabledChanged: function(a) {
      a ? (this._previousTabIndex = this.hasAttribute("tabindex") ? this.tabIndex : 0, this.removeAttribute("tabindex")) : this.hasAttribute("tabindex") || this.setAttribute("tabindex", this._previousTabIndex)
    }
  };
  Polymer.IronMenuBehaviorImpl._shiftTabPressed = !1;
  Polymer.IronMenuBehavior = [Polymer.IronMultiSelectableBehavior, Polymer.IronA11yKeysBehavior, Polymer.IronMenuBehaviorImpl];
  Polymer.IronMenubarBehaviorImpl = {
    hostAttributes: {
      role: "menubar"
    },
    keyBindings: {
      left: "_onLeftKey",
      right: "_onRightKey"
    },
    _onUpKey: function(a) {
      this.focusedItem.click();
      a.detail.keyboardEvent.preventDefault()
    },
    _onDownKey: function(a) {
      this.focusedItem.click();
      a.detail.keyboardEvent.preventDefault()
    },
    get _isRTL() {
      return "rtl" === window.getComputedStyle(this).direction
    },
    _onLeftKey: function(a) {
      this._isRTL ? this._focusNext() : this._focusPrevious();
      a.detail.keyboardEvent.preventDefault()
    },
    _onRightKey: function(a) {
      this._isRTL ? this._focusPrevious() : this._focusNext();
      a.detail.keyboardEvent.preventDefault()
    },
    _onKeydown: function(a) {
      this.keyboardEventMatchesKeys(a, "up down left right esc") || this._focusWithKeyboardEvent(a)
    }
  };
  Polymer.IronMenubarBehavior = [Polymer.IronMenuBehavior, Polymer.IronMenubarBehaviorImpl];
  Polymer.IronRangeBehavior = {
    properties: {
      value: {
        type: Number,
        value: 0,
        notify: !0,
        reflectToAttribute: !0
      },
      min: {
        type: Number,
        value: 0,
        notify: !0
      },
      max: {
        type: Number,
        value: 100,
        notify: !0
      },
      step: {
        type: Number,
        value: 1,
        notify: !0
      },
      ratio: {
        type: Number,
        value: 0,
        readOnly: !0,
        notify: !0
      }
    },
    observers: ["_update(value, min, max, step)"],
    _calcRatio: function(a) {
      return (this._clampValue(a) - this.min) / (this.max - this.min)
    },
    _clampValue: function(a) {
      return Math.min(this.max, Math.max(this.min, this._calcStep(a)))
    },
    _calcStep: function(a) {
      a = parseFloat(a);
      if (!this.step) return a;
      a = Math.round((a - this.min) / this.step);
      return 1 > this.step ? a / (1 / this.step) + this.min : a * this.step + this.min
    },
    _validateValue: function() {
      var a = this._clampValue(this.value);
      this.value = this.oldValue = isNaN(a) ? this.oldValue : a;
      return this.value !== a
    },
    _update: function() {
      this._validateValue();
      this._setRatio(100 * this._calcRatio(this.value))
    }
  };
  Polymer({
    is: "fade-in-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(a) {
      return this._effect = new KeyframeEffect(a.node, [{
        opacity: "0"
      }, {
        opacity: "1"
      }], this.timingFromConfig(a))
    }
  });
  Polymer({
    is: "fade-out-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(a) {
      return this._effect = new KeyframeEffect(a.node, [{
        opacity: "1"
      }, {
        opacity: "0"
      }], this.timingFromConfig(a))
    }
  });
  (function() {
    function a(d) {
      this.element = d;
      this.width = this.boundingRect.width;
      this.height = this.boundingRect.height;
      this.size = Math.max(this.width, this.height)
    }

    function b(d) {
      this.element = d;
      this.color = window.getComputedStyle(d).color;
      this.wave = document.createElement("div");
      this.waveContainer = document.createElement("div");
      this.wave.style.backgroundColor = this.color;
      this.wave.classList.add("wave");
      this.waveContainer.classList.add("wave-container");
      Polymer.dom(this.waveContainer).appendChild(this.wave);
      this.resetInteractionState()
    }
    var c = {
      distance: function(d, e, g, h) {
        d -= g;
        e -= h;
        return Math.sqrt(d * d + e * e)
      },
      now: window.performance && window.performance.now ? window.performance.now.bind(window.performance) : Date.now
    };
    a.prototype = {
      get boundingRect() {
        return this.element.getBoundingClientRect()
      },
      furthestCornerDistanceFrom: function(d, e) {
        return Math.max(c.distance(d, e, 0, 0), c.distance(d, e, this.width, 0), c.distance(d, e, 0, this.height), c.distance(d, e, this.width, this.height))
      }
    };
    b.MAX_RADIUS = 300;
    b.prototype = {
      get recenters() {
        return this.element.recenters
      },
      get center() {
        return this.element.center
      },
      get mouseDownElapsed() {
        if (!this.mouseDownStart) return 0;
        var d = c.now() - this.mouseDownStart;
        this.mouseUpStart && (d -= this.mouseUpElapsed);
        return d
      },
      get mouseUpElapsed() {
        return this.mouseUpStart ? c.now() - this.mouseUpStart : 0
      },
      get mouseDownElapsedSeconds() {
        return this.mouseDownElapsed / 1E3
      },
      get mouseUpElapsedSeconds() {
        return this.mouseUpElapsed / 1E3
      },
      get mouseInteractionSeconds() {
        return this.mouseDownElapsedSeconds +
          this.mouseUpElapsedSeconds
      },
      get initialOpacity() {
        return this.element.initialOpacity
      },
      get opacityDecayVelocity() {
        return this.element.opacityDecayVelocity
      },
      get radius() {
        var d = 1.1 * Math.min(Math.sqrt(this.containerMetrics.width * this.containerMetrics.width + this.containerMetrics.height * this.containerMetrics.height), b.MAX_RADIUS) + 5;
        return Math.abs(d * (1 - Math.pow(80, -(this.mouseInteractionSeconds / (1.1 - d / b.MAX_RADIUS * .2)))))
      },
      get opacity() {
        return this.mouseUpStart ? Math.max(0, this.initialOpacity - this.mouseUpElapsedSeconds *
          this.opacityDecayVelocity) : this.initialOpacity
      },
      get outerOpacity() {
        return Math.max(0, Math.min(.3 * this.mouseUpElapsedSeconds, this.opacity))
      },
      get isOpacityFullyDecayed() {
        return .01 > this.opacity && this.radius >= Math.min(this.maxRadius, b.MAX_RADIUS)
      },
      get isRestingAtMaxRadius() {
        return this.opacity >= this.initialOpacity && this.radius >= Math.min(this.maxRadius, b.MAX_RADIUS)
      },
      get isAnimationComplete() {
        return this.mouseUpStart ? this.isOpacityFullyDecayed : this.isRestingAtMaxRadius
      },
      get translationFraction() {
        return Math.min(1,
          this.radius / this.containerMetrics.size * 2 / Math.sqrt(2))
      },
      get xNow() {
        return this.xEnd ? this.xStart + this.translationFraction * (this.xEnd - this.xStart) : this.xStart
      },
      get yNow() {
        return this.yEnd ? this.yStart + this.translationFraction * (this.yEnd - this.yStart) : this.yStart
      },
      get isMouseDown() {
        return this.mouseDownStart && !this.mouseUpStart
      },
      resetInteractionState: function() {
        this.slideDistance = this.yEnd = this.xEnd = this.yStart = this.xStart = this.mouseUpStart = this.mouseDownStart = this.maxRadius = 0;
        this.containerMetrics = new a(this.element)
      },
      draw: function() {
        this.wave.style.opacity = this.opacity;
        var d = this.radius / (this.containerMetrics.size / 2);
        var e = this.xNow - this.containerMetrics.width / 2;
        var g = this.yNow - this.containerMetrics.height / 2;
        this.waveContainer.style.webkitTransform = "translate(" + e + "px, " + g + "px)";
        this.waveContainer.style.transform = "translate3d(" + e + "px, " + g + "px, 0)";
        this.wave.style.webkitTransform = "scale(" + d + "," + d + ")";
        this.wave.style.transform = "scale3d(" + d + "," + d + ",1)"
      },
      downAction: function(d) {
        var e = this.containerMetrics.width / 2,
          g = this.containerMetrics.height / 2;
        this.resetInteractionState();
        this.mouseDownStart = c.now();
        this.center ? (this.xStart = e, this.yStart = g, this.slideDistance = c.distance(this.xStart, this.yStart, this.xEnd, this.yEnd)) : (this.xStart = d ? d.detail.x - this.containerMetrics.boundingRect.left : this.containerMetrics.width / 2, this.yStart = d ? d.detail.y - this.containerMetrics.boundingRect.top : this.containerMetrics.height / 2);
        this.recenters && (this.xEnd = e, this.yEnd = g, this.slideDistance =
          c.distance(this.xStart, this.yStart, this.xEnd, this.yEnd));
        this.maxRadius = this.containerMetrics.furthestCornerDistanceFrom(this.xStart, this.yStart);
        this.waveContainer.style.top = (this.containerMetrics.height - this.containerMetrics.size) / 2 + "px";
        this.waveContainer.style.left = (this.containerMetrics.width - this.containerMetrics.size) / 2 + "px";
        this.waveContainer.style.width = this.containerMetrics.size + "px";
        this.waveContainer.style.height = this.containerMetrics.size + "px"
      },
      upAction: function() {
        this.isMouseDown && (this.mouseUpStart = c.now())
      },
      remove: function() {
        Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)
      }
    };
    Polymer({
      is: "paper-ripple",
      behaviors: [Polymer.IronA11yKeysBehavior],
      properties: {
        initialOpacity: {
          type: Number,
          value: .25
        },
        opacityDecayVelocity: {
          type: Number,
          value: .8
        },
        recenters: {
          type: Boolean,
          value: !1
        },
        center: {
          type: Boolean,
          value: !1
        },
        ripples: {
          type: Array,
          value: function() {
            return []
          }
        },
        animating: {
          type: Boolean,
          readOnly: !0,
          reflectToAttribute: !0,
          value: !1
        },
        holdDown: {
          type: Boolean,
          value: !1,
          observer: "_holdDownChanged"
        },
        noink: {
          type: Boolean,
          value: !1
        },
        _animating: {
          type: Boolean
        },
        _boundAnimate: {
          type: Function,
          value: function() {
            return this.animate.bind(this)
          }
        }
      },
      get target() {
        return this.keyEventTarget
      },
      keyBindings: {
        "enter:keydown": "_onEnterKeydown",
        "space:keydown": "_onSpaceKeydown",
        "space:keyup": "_onSpaceKeyup"
      },
      attached: function() {
        var d = this.keyEventTarget = 11 == this.parentNode.nodeType ? Polymer.dom(this).getOwnerRoot().host : this.parentNode;
        this.listen(d, "up", "uiUpAction");
        this.listen(d, "down", "uiDownAction")
      },
      detached: function() {
        this.unlisten(this.keyEventTarget, "up", "uiUpAction");
        this.unlisten(this.keyEventTarget, "down", "uiDownAction");
        this.keyEventTarget = null
      },
      get shouldKeepAnimating() {
        for (var d = 0; d < this.ripples.length; ++d)
          if (!this.ripples[d].isAnimationComplete) return !0;
        return !1
      },
      simulatedRipple: function() {
        this.downAction(null);
        this.async(function() {
          this.upAction()
        }, 1)
      },
      uiDownAction: function(d) {
        this.noink || this.downAction(d)
      },
      downAction: function(d) {
        this.holdDown && 0 < this.ripples.length || (this.addRipple().downAction(d), this._animating || (this._animating = !0, this.animate()))
      },
      uiUpAction: function(d) {
        this.noink || this.upAction(d)
      },
      upAction: function(d) {
        this.holdDown || (this.ripples.forEach(function(e) {
          e.upAction(d)
        }), this._animating = !0, this.animate())
      },
      onAnimationComplete: function() {
        this._animating = !1;
        this.$.background.style.backgroundColor = null;
        this.fire("transitionend")
      },
      addRipple: function() {
        var d = new b(this);
        Polymer.dom(this.$.waves).appendChild(d.waveContainer);
        this.$.background.style.backgroundColor = d.color;
        this.ripples.push(d);
        this._setAnimating(!0);
        return d
      },
      removeRipple: function(d) {
        var e = this.ripples.indexOf(d);
        0 > e || (this.ripples.splice(e, 1), d.remove(), this.ripples.length || this._setAnimating(!1))
      },
      animate: function() {
        if (this._animating) {
          var d;
          for (d = 0; d < this.ripples.length; ++d) {
            var e = this.ripples[d];
            e.draw();
            this.$.background.style.opacity = e.outerOpacity;
            e.isOpacityFullyDecayed && !e.isRestingAtMaxRadius && this.removeRipple(e)
          }
          if (this.shouldKeepAnimating || 0 !== this.ripples.length) window.requestAnimationFrame(this._boundAnimate);
          else this.onAnimationComplete()
        }
      },
      _onEnterKeydown: function() {
        this.uiDownAction();
        this.async(this.uiUpAction, 1)
      },
      _onSpaceKeydown: function() {
        this.uiDownAction()
      },
      _onSpaceKeyup: function() {
        this.uiUpAction()
      },
      _holdDownChanged: function(d, e) {
        void 0 !== e && (d ? this.downAction() : this.upAction())
      }
    })
  })();
  Polymer.PaperRippleBehavior = {
    properties: {
      noink: {
        type: Boolean,
        observer: "_noinkChanged"
      },
      _rippleContainer: {
        type: Object
      }
    },
    _buttonStateChanged: function() {
      this.focused && this.ensureRipple()
    },
    _downHandler: function(a) {
      Polymer.IronButtonStateImpl._downHandler.call(this, a);
      this.pressed && this.ensureRipple(a)
    },
    ensureRipple: function(a) {
      if (!this.hasRipple()) {
        this._ripple = this._createRipple();
        this._ripple.noink = this.noink;
        var b = this._rippleContainer || this.root;
        b && Polymer.dom(b).appendChild(this._ripple);
        if (a) {
          b = Polymer.dom(this._rippleContainer || this);
          var c = Polymer.dom(a).rootTarget;
          b.deepContains(c) && this._ripple.uiDownAction(a)
        }
      }
    },
    getRipple: function() {
      this.ensureRipple();
      return this._ripple
    },
    hasRipple: function() {
      return !!this._ripple
    },
    _createRipple: function() {
      return document.createElement("paper-ripple")
    },
    _noinkChanged: function(a) {
      this.hasRipple() && (this._ripple.noink = a)
    }
  };
  Polymer.PaperButtonBehaviorImpl = {
    properties: {
      elevation: {
        type: Number,
        reflectToAttribute: !0,
        readOnly: !0
      }
    },
    observers: ["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)", "_computeKeyboardClass(receivedFocusFromKeyboard)"],
    hostAttributes: {
      role: "button",
      tabindex: "0",
      animated: !0
    },
    _calculateElevation: function() {
      var a = 1;
      this.disabled ? a = 0 : this.active || this.pressed ? a = 4 : this.receivedFocusFromKeyboard && (a = 3);
      this._setElevation(a)
    },
    _computeKeyboardClass: function(a) {
      this.toggleClass("keyboard-focus", a)
    },
    _spaceKeyDownHandler: function(a) {
      Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this, a);
      this.hasRipple() && 1 > this.getRipple().ripples.length && this._ripple.uiDownAction()
    },
    _spaceKeyUpHandler: function(a) {
      Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this, a);
      this.hasRipple() && this._ripple.uiUpAction()
    }
  };
  Polymer.PaperButtonBehavior = [Polymer.IronButtonState, Polymer.IronControlState, Polymer.PaperRippleBehavior, Polymer.PaperButtonBehaviorImpl];
  Polymer.PaperInkyFocusBehaviorImpl = {
    observers: ["_focusedChanged(receivedFocusFromKeyboard)"],
    _focusedChanged: function(a) {
      a && this.ensureRipple();
      this.hasRipple() && (this._ripple.holdDown = a)
    },
    _createRipple: function() {
      var a = Polymer.PaperRippleBehavior._createRipple();
      a.id = "ink";
      a.setAttribute("center", "");
      a.classList.add("circle");
      return a
    }
  };
  Polymer.PaperInkyFocusBehavior = [Polymer.IronButtonState, Polymer.IronControlState, Polymer.PaperRippleBehavior, Polymer.PaperInkyFocusBehaviorImpl];
  Polymer.PaperCheckedElementBehaviorImpl = {
    _checkedChanged: function() {
      Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);
      this.hasRipple() && (this.checked ? this._ripple.setAttribute("checked", "") : this._ripple.removeAttribute("checked"))
    },
    _buttonStateChanged: function() {
      Polymer.PaperRippleBehavior._buttonStateChanged.call(this);
      !this.disabled && this.isAttached && (this.checked = this.active)
    }
  };
  Polymer.PaperCheckedElementBehavior = [Polymer.PaperInkyFocusBehavior, Polymer.IronCheckedElementBehavior, Polymer.PaperCheckedElementBehaviorImpl];
  Polymer({
    is: "paper-button",
    behaviors: [Polymer.PaperButtonBehavior],
    properties: {
      raised: {
        type: Boolean,
        reflectToAttribute: !0,
        value: !1,
        observer: "_calculateElevation"
      }
    },
    _calculateElevation: function() {
      this.raised ? Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this) : this._setElevation(0)
    }
  });
  Polymer({
    is: "paper-material",
    properties: {
      elevation: {
        type: Number,
        reflectToAttribute: !0,
        value: 1
      },
      animated: {
        type: Boolean,
        reflectToAttribute: !0,
        value: !1
      }
    }
  });
  Polymer({
    is: "paper-card",
    properties: {
      heading: {
        type: String,
        value: "",
        observer: "_headingChanged"
      },
      image: {
        type: String,
        value: ""
      },
      alt: {
        type: String
      },
      preloadImage: {
        type: Boolean,
        value: !1
      },
      fadeImage: {
        type: Boolean,
        value: !1
      },
      placeholderImage: {
        type: String,
        value: null
      },
      elevation: {
        type: Number,
        value: 1,
        reflectToAttribute: !0
      },
      animatedShadow: {
        type: Boolean,
        value: !1
      },
      animated: {
        type: Boolean,
        reflectToAttribute: !0,
        readOnly: !0,
        computed: "_computeAnimated(animatedShadow)"
      }
    },
    _isHidden: function(a) {
      return a ? "false" : "true"
    },
    _headingChanged: function(a) {
      this.getAttribute("aria-label");
      this.setAttribute("aria-label", a)
    },
    _computeHeadingClass: function(a) {
      return a ? " over-image" : ""
    },
    _computeAnimated: function(a) {
      return a
    }
  });
  Polymer({
    is: "paper-checkbox",
    behaviors: [Polymer.PaperCheckedElementBehavior],
    hostAttributes: {
      role: "checkbox",
      "aria-checked": !1,
      tabindex: 0
    },
    properties: {
      ariaActiveAttribute: {
        type: String,
        value: "aria-checked"
      }
    },
    attached: function() {
      Polymer.RenderStatus.afterNextRender(this, function() {
        if ("-1px" === this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()) {
          var a = this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),
            b = "px",
            c = a.match(/[A-Za-z]+$/);
          null !== c && (b = c[0]);
          a = parseFloat(a);
          c = 8 / 3 * a;
          "px" === b && (c = Math.floor(c), c % 2 !== a % 2 && c++);
          this.updateStyles({
            "--paper-checkbox-ink-size": c + b
          })
        }
      })
    },
    _computeCheckboxClass: function(a, b) {
      var c = "";
      a && (c += "checked ");
      b && (c += "invalid");
      return c
    },
    _computeCheckmarkClass: function(a) {
      return a ? "" : "hidden"
    },
    _createRipple: function() {
      this._rippleContainer = this.$.checkboxContainer;
      return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)
    }
  });
  Polymer.PaperDialogBehaviorImpl = {
    hostAttributes: {
      role: "dialog",
      tabindex: "-1"
    },
    properties: {
      modal: {
        type: Boolean,
        value: !1
      }
    },
    observers: ["_modalChanged(modal, _readied)"],
    listeners: {
      tap: "_onDialogClick"
    },
    ready: function() {
      this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;
      this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;
      this.__prevWithBackdrop = this.withBackdrop
    },
    _modalChanged: function(a, b) {
      b && (a ? (this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick, this.__prevNoCancelOnEscKey = this.noCancelOnEscKey, this.__prevWithBackdrop = this.withBackdrop, this.withBackdrop = this.noCancelOnEscKey = this.noCancelOnOutsideClick = !0) : (this.noCancelOnOutsideClick = this.noCancelOnOutsideClick && this.__prevNoCancelOnOutsideClick, this.noCancelOnEscKey = this.noCancelOnEscKey && this.__prevNoCancelOnEscKey, this.withBackdrop = this.withBackdrop && this.__prevWithBackdrop))
    },
    _updateClosingReasonConfirmed: function(a) {
      this.closingReason = this.closingReason || {};
      this.closingReason.confirmed = a
    },
    _onDialogClick: function(a) {
      for (var b = Polymer.dom(a).path, c = 0; c < b.indexOf(this); c++) {
        var d = b[c];
        if (d.hasAttribute && (d.hasAttribute("dialog-dismiss") || d.hasAttribute("dialog-confirm"))) {
          this._updateClosingReasonConfirmed(d.hasAttribute("dialog-confirm"));
          this.close();
          a.stopPropagation();
          break
        }
      }
    }
  };
  Polymer.PaperDialogBehavior = [Polymer.IronOverlayBehavior, Polymer.PaperDialogBehaviorImpl];
  Polymer({
    is: "paper-dialog-scrollable",
    properties: {
      dialogElement: {
        type: Object
      }
    },
    get scrollTarget() {
      return this.$.scrollable
    },
    ready: function() {
      this._ensureTarget();
      this.classList.add("no-padding")
    },
    attached: function() {
      this._ensureTarget();
      requestAnimationFrame(this.updateScrollState.bind(this))
    },
    updateScrollState: function() {
      this.toggleClass("is-scrolled", 0 < this.scrollTarget.scrollTop);
      this.toggleClass("can-scroll", this.scrollTarget.offsetHeight < this.scrollTarget.scrollHeight);
      this.toggleClass("scrolled-to-bottom", this.scrollTarget.scrollTop + this.scrollTarget.offsetHeight >= this.scrollTarget.scrollHeight)
    },
    _ensureTarget: function() {
      (this.dialogElement = this.dialogElement || this.parentElement) && this.dialogElement.behaviors && 0 <= this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl) ? (this.dialogElement.sizingTarget = this.scrollTarget, this.scrollTarget.classList.remove("fit")) : this.dialogElement && this.scrollTarget.classList.add("fit")
    }
  });
  Polymer({
    is: "paper-dialog",
    behaviors: [Polymer.PaperDialogBehavior, Polymer.NeonAnimationRunnerBehavior],
    listeners: {
      "neon-animation-finish": "_onNeonAnimationFinish"
    },
    _renderOpened: function() {
      this.cancelAnimation();
      this.playAnimation("entry")
    },
    _renderClosed: function() {
      this.cancelAnimation();
      this.playAnimation("exit")
    },
    _onNeonAnimationFinish: function() {
      this.opened ? this._finishRenderOpened() : this._finishRenderClosed()
    }
  });
  Polymer.PaperInputHelper = {};
  Polymer.PaperInputHelper.NextLabelID = 1;
  Polymer.PaperInputHelper.NextAddonID = 1;
  Polymer.PaperInputHelper.NextInputID = 1;
  Polymer.PaperInputBehaviorImpl = {
    properties: {
      label: {
        type: String
      },
      value: {
        notify: !0,
        type: String
      },
      disabled: {
        type: Boolean,
        value: !1
      },
      invalid: {
        type: Boolean,
        value: !1,
        notify: !0
      },
      preventInvalidInput: {
        type: Boolean
      },
      allowedPattern: {
        type: String
      },
      type: {
        type: String
      },
      list: {
        type: String
      },
      pattern: {
        type: String
      },
      required: {
        type: Boolean,
        value: !1
      },
      errorMessage: {
        type: String
      },
      charCounter: {
        type: Boolean,
        value: !1
      },
      noLabelFloat: {
        type: Boolean,
        value: !1
      },
      alwaysFloatLabel: {
        type: Boolean,
        value: !1
      },
      autoValidate: {
        type: Boolean,
        value: !1
      },
      validator: {
        type: String
      },
      autocomplete: {
        type: String,
        value: "off"
      },
      autofocus: {
        type: Boolean,
        observer: "_autofocusChanged"
      },
      inputmode: {
        type: String
      },
      minlength: {
        type: Number
      },
      maxlength: {
        type: Number
      },
      min: {
        type: String
      },
      max: {
        type: String
      },
      step: {
        type: String
      },
      name: {
        type: String
      },
      placeholder: {
        type: String,
        value: ""
      },
      readonly: {
        type: Boolean,
        value: !1
      },
      size: {
        type: Number
      },
      autocapitalize: {
        type: String,
        value: "none"
      },
      autocorrect: {
        type: String,
        value: "off"
      },
      autosave: {
        type: String
      },
      results: {
        type: Number
      },
      accept: {
        type: String
      },
      multiple: {
        type: Boolean
      },
      _ariaDescribedBy: {
        type: String,
        value: ""
      },
      _ariaLabelledBy: {
        type: String,
        value: ""
      }
    },
    listeners: {
      "addon-attached": "_onAddonAttached"
    },
    keyBindings: {
      "shift+tab:keydown": "_onShiftTabDown"
    },
    hostAttributes: {
      tabindex: 0
    },
    get inputElement() {
      this.__setAutomaticNodeFindingId();
      return this.$.input
    },
    get _focusableElement() {
      return this.inputElement
    },
    registered: function() {
      this._typesThatHaveText = "date datetime datetime-local month time week file".split(" ")
    },
    ready: function() {
      this.__setAutomaticNodeFindingId()
    },
    attached: function() {
      this._updateAriaLabelledBy();
      this.inputElement && -1 !== this._typesThatHaveText.indexOf(this.inputElement.type) && (this.alwaysFloatLabel = !0)
    },
    _appendStringWithSpace: function(a, b) {
      return a ? a + " " + b : b
    },
    _onAddonAttached: function(a) {
      a = a.path ? a.path[0] : a.target;
      if (a.id) this._ariaDescribedBy = this._appendStringWithSpace(this._ariaDescribedBy, a.id);
      else {
        var b = "paper-input-add-on-" + Polymer.PaperInputHelper.NextAddonID++;
        a.id = b;
        this._ariaDescribedBy = this._appendStringWithSpace(this._ariaDescribedBy, b)
      }
    },
    validate: function() {
      return this.inputElement.validate()
    },
    _focusBlurHandler: function(a) {
      Polymer.IronControlState._focusBlurHandler.call(this, a);
      this.focused && !this._shiftTabPressed && this._focusableElement.focus()
    },
    _onShiftTabDown: function() {
      var a = this.getAttribute("tabindex");
      this._shiftTabPressed = !0;
      this.setAttribute("tabindex", "-1");
      this.async(function() {
        this.setAttribute("tabindex", a);
        this._shiftTabPressed = !1
      }, 1)
    },
    _handleAutoValidate: function() {
      this.autoValidate && this.validate()
    },
    updateValueAndPreserveCaret: function(a) {
      try {
        var b = this.inputElement.selectionStart;
        this.value = a;
        this.inputElement.selectionStart = b;
        this.inputElement.selectionEnd = b
      } catch (c) {
        this.value = a
      }
    },
    _computeAlwaysFloatLabel: function(a, b) {
      return b || a
    },
    _updateAriaLabelledBy: function() {
      var a = Polymer.dom(this.root).querySelector("label");
      if (a) {
        if (a.id) var b = a.id;
        else b = "paper-input-label-" + Polymer.PaperInputHelper.NextLabelID++, a.id = b;
        this._ariaLabelledBy = b
      } else this._ariaLabelledBy = ""
    },
    _onChange: function(a) {
      this.shadowRoot && this.fire(a.type, {
        sourceEvent: a
      }, {
        node: this,
        bubbles: a.bubbles,
        cancelable: a.cancelable
      })
    },
    _autofocusChanged: function() {
      if (this.autofocus && this._focusableElement) {
        var a = document.activeElement;
        a instanceof HTMLElement && a !== document.body && a !== document.documentElement || this._focusableElement.focus()
      }
    },
    _generateInputId: function() {
      this._inputId && "" !== this._inputId || (this._inputId = "input-" + Polymer.PaperInputHelper.NextInputID++)
    },
    __setAutomaticNodeFindingId: function() {
      this.$ || (this.$ = {});
      this.$.input || (this._generateInputId(), this.$.input = this.$$("#" + this._inputId))
    }
  };
  Polymer.PaperInputBehavior = [Polymer.IronControlState, Polymer.IronA11yKeysBehavior, Polymer.PaperInputBehaviorImpl];
  Polymer.PaperInputAddonBehavior = {
    hostAttributes: {
      "add-on": ""
    },
    attached: function() {
      this.fire("addon-attached")
    },
    update: function() {}
  };
  Polymer({
    is: "paper-input-char-counter",
    behaviors: [Polymer.PaperInputAddonBehavior],
    properties: {
      _charCounterStr: {
        type: String,
        value: "0"
      }
    },
    update: function(a) {
      if (a.inputElement) {
        a.value = a.value || "";
        var b = a.value.toString().length.toString();
        a.inputElement.hasAttribute("maxlength") && (b += "/" + a.inputElement.getAttribute("maxlength"));
        this._charCounterStr = b
      }
    }
  });
  Polymer({
    is: "paper-input-container",
    properties: {
      noLabelFloat: {
        type: Boolean,
        value: !1
      },
      alwaysFloatLabel: {
        type: Boolean,
        value: !1
      },
      attrForValue: {
        type: String,
        value: "bind-value"
      },
      autoValidate: {
        type: Boolean,
        value: !1
      },
      invalid: {
        observer: "_invalidChanged",
        type: Boolean,
        value: !1
      },
      focused: {
        readOnly: !0,
        type: Boolean,
        value: !1,
        notify: !0
      },
      _addons: {
        type: Array
      },
      _inputHasContent: {
        type: Boolean,
        value: !1
      },
      _inputSelector: {
        type: String,
        value: "input,textarea,.paper-input-input"
      },
      _boundOnFocus: {
        type: Function,
        value: function() {
          return this._onFocus.bind(this)
        }
      },
      _boundOnBlur: {
        type: Function,
        value: function() {
          return this._onBlur.bind(this)
        }
      },
      _boundOnInput: {
        type: Function,
        value: function() {
          return this._onInput.bind(this)
        }
      },
      _boundValueChanged: {
        type: Function,
        value: function() {
          return this._onValueChanged.bind(this)
        }
      }
    },
    listeners: {
      "addon-attached": "_onAddonAttached",
      "iron-input-validate": "_onIronInputValidate"
    },
    get _valueChangedEvent() {
      return this.attrForValue + "-changed"
    },
    get _propertyForValue() {
      return Polymer.CaseMap.dashToCamelCase(this.attrForValue)
    },
    get _inputElement() {
      return Polymer.dom(this).querySelector(this._inputSelector)
    },
    get _inputElementValue() {
      return this._inputElement[this._propertyForValue] || this._inputElement.value
    },
    ready: function() {
      this._addons || (this._addons = []);
      this.addEventListener("focus", this._boundOnFocus,
        !0);
      this.addEventListener("blur", this._boundOnBlur, !0)
    },
    attached: function() {
      this.attrForValue ? this._inputElement.addEventListener(this._valueChangedEvent, this._boundValueChanged) : this.addEventListener("input", this._onInput);
      "" != this._inputElementValue ? this._handleValueAndAutoValidate(this._inputElement) : this._handleValue(this._inputElement)
    },
    _onAddonAttached: function(a) {
      this._addons || (this._addons = []);
      a = a.target; - 1 === this._addons.indexOf(a) && (this._addons.push(a), this.isAttached && this._handleValue(this._inputElement))
    },
    _onFocus: function() {
      this._setFocused(!0)
    },
    _onBlur: function() {
      this._setFocused(!1);
      this._handleValueAndAutoValidate(this._inputElement)
    },
    _onInput: function(a) {
      this._handleValueAndAutoValidate(a.target)
    },
    _onValueChanged: function(a) {
      this._handleValueAndAutoValidate(a.target)
    },
    _handleValue: function(a) {
      var b = this._inputElementValue;
      b || 0 === b || "number" === a.type && !a.checkValidity() ? this._inputHasContent = !0 : this._inputHasContent = !1;
      this.updateAddons({
        inputElement: a,
        value: b,
        invalid: this.invalid
      })
    },
    _handleValueAndAutoValidate: function(a) {
      this.autoValidate && (this.invalid = !(a.validate ? a.validate(this._inputElementValue) : a.checkValidity()));
      this._handleValue(a)
    },
    _onIronInputValidate: function() {
      this.invalid = this._inputElement.invalid
    },
    _invalidChanged: function() {
      this._addons && this.updateAddons({
        invalid: this.invalid
      })
    },
    updateAddons: function(a) {
      for (var b, c = 0; b = this._addons[c]; c++) b.update(a)
    },
    _computeInputContentClass: function(a, b, c, d, e) {
      var g = "input-content";
      a ? e && (g += " label-is-hidden") : (a = this.querySelector("label"), b || e ? (g += " label-is-floating", this.$.labelAndInputContainer.style.position = "static", d ? g += " is-invalid" : c && (g += " label-is-highlighted")) : a && (this.$.labelAndInputContainer.style.position = "relative"));
      c && (g += " focused");
      return g
    },
    _computeUnderlineClass: function(a, b) {
      var c = "underline";
      b ? c += " is-invalid" : a && (c += " is-highlighted");
      return c
    },
    _computeAddOnContentClass: function(a, b) {
      var c = "add-on-content";
      b ? c += " is-invalid" : a && (c += " is-highlighted");
      return c
    }
  });
  Polymer({
    is: "paper-input-error",
    behaviors: [Polymer.PaperInputAddonBehavior],
    properties: {
      invalid: {
        readOnly: !0,
        reflectToAttribute: !0,
        type: Boolean
      }
    },
    update: function(a) {
      this._setInvalid(a.invalid)
    }
  });
  Polymer({
    is: "paper-input",
    behaviors: [Polymer.IronFormElementBehavior, Polymer.PaperInputBehavior]
  });
  Polymer({
    is: "paper-menu-grow-height-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(a) {
      var b = a.node,
        c = b.getBoundingClientRect().height;
      return this._effect = new KeyframeEffect(b, [{
        height: c / 2 + "px"
      }, {
        height: c + "px"
      }], this.timingFromConfig(a))
    }
  });
  Polymer({
    is: "paper-menu-grow-width-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(a) {
      var b = a.node,
        c = b.getBoundingClientRect().width;
      return this._effect = new KeyframeEffect(b, [{
        width: c / 2 + "px"
      }, {
        width: c + "px"
      }], this.timingFromConfig(a))
    }
  });
  Polymer({
    is: "paper-menu-shrink-width-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(a) {
      var b = a.node,
        c = b.getBoundingClientRect().width;
      return this._effect = new KeyframeEffect(b, [{
        width: c + "px"
      }, {
        width: c - c / 20 + "px"
      }], this.timingFromConfig(a))
    }
  });
  Polymer({
    is: "paper-menu-shrink-height-animation",
    behaviors: [Polymer.NeonAnimationBehavior],
    configure: function(a) {
      var b = a.node,
        c = b.getBoundingClientRect().height;
      this.setPrefixedProperty(b, "transformOrigin", "0 0");
      return this._effect = new KeyframeEffect(b, [{
        height: c + "px",
        transform: "translateY(0)"
      }, {
        height: c / 2 + "px",
        transform: "translateY(-20px)"
      }], this.timingFromConfig(a))
    }
  });
  var sn = function() {};
  f = sn.prototype;
  f.registered = function() {};
  f.addOwnKeyBinding = function() {};
  f.removeOwnKeyBindings = function() {};
  f.keyboardEventMatchesKeys = function() {};
  f._collectKeyBindings = function() {};
  f._prepKeyBindings = function() {};
  f._addKeyBinding = function() {};
  f._resetKeyEventListeners = function() {};
  f._listenKeyEventListeners = function() {};
  f._unlistenKeyEventListeners = function() {};
  f._onKeyBindingEvent = function() {};
  f._triggerKeyHandler = function() {};
  f._focusBlurHandler = function(a) {
    if (Polymer.Element) this._setFocused("focus" === a.type);
    else if (a.target === this) this._setFocused("focus" === a.type);
    else if (this.__handleEventRetargeting) {
      var b = Polymer.dom(a).localTarget;
      this.isLightDescendant(b) || this.fire(a.type, {
        sourceEvent: a
      }, {
        node: this,
        bubbles: a.bubbles,
        cancelable: a.cancelable
      })
    }
  };
  f._changedControlState = function() {
    this._controlStateChanged && this._controlStateChanged()
  };
  f._setFocused = function() {};
  (function() {
    var a = {
      ANIMATION_CUBIC_BEZIER: "cubic-bezier(.3,.95,.5,1)",
      MAX_ANIMATION_TIME_MS: 400
    };
    sn = Polymer({
      is: "paper-menu-button",
      behaviors: [Polymer.IronA11yKeysBehavior, Polymer.IronControlState],
      properties: {
        opened: {
          type: Boolean,
          value: !1,
          notify: !0,
          observer: "_openedChanged"
        },
        horizontalAlign: {
          type: String,
          value: "left",
          reflectToAttribute: !0
        },
        verticalAlign: {
          type: String,
          value: "top",
          reflectToAttribute: !0
        },
        dynamicAlign: {
          type: Boolean
        },
        horizontalOffset: {
          type: Number,
          value: 0,
          notify: !0
        },
        verticalOffset: {
          type: Number,
          value: 0,
          notify: !0
        },
        noOverlap: {
          type: Boolean
        },
        noAnimations: {
          type: Boolean,
          value: !1
        },
        ignoreSelect: {
          type: Boolean,
          value: !1
        },
        closeOnActivate: {
          type: Boolean,
          value: !1
        },
        openAnimationConfig: {
          type: Object,
          value: function() {
            return [{
              name: "fade-in-animation",
              timing: {
                delay: 100,
                duration: 200
              }
            }, {
              name: "paper-menu-grow-width-animation",
              timing: {
                delay: 100,
                duration: 150,
                easing: a.ANIMATION_CUBIC_BEZIER
              }
            }, {
              name: "paper-menu-grow-height-animation",
              timing: {
                delay: 100,
                duration: 275,
                easing: a.ANIMATION_CUBIC_BEZIER
              }
            }]
          }
        },
        closeAnimationConfig: {
          type: Object,
          value: function() {
            return [{
              name: "fade-out-animation",
              timing: {
                duration: 150
              }
            }, {
              name: "paper-menu-shrink-width-animation",
              timing: {
                delay: 100,
                duration: 50,
                easing: a.ANIMATION_CUBIC_BEZIER
              }
            }, {
              name: "paper-menu-shrink-height-animation",
              timing: {
                duration: 200,
                easing: "ease-in"
              }
            }]
          }
        },
        allowOutsideScroll: {
          type: Boolean,
          value: !1
        },
        restoreFocusOnClose: {
          type: Boolean,
          value: !0
        },
        _dropdownContent: {
          type: Object
        }
      },
      hostAttributes: {
        role: "group",
        "aria-haspopup": "true"
      },
      listeners: {
        "iron-activate": "_onIronActivate",
        "iron-select": "_onIronSelect"
      },
      get contentElement() {
        return Polymer.dom(this.$.content).getDistributedNodes()[0]
      },
      toggle: function() {
        this.opened ? this.close() : this.open()
      },
      open: function() {
        this.disabled || this.$.dropdown.open()
      },
      close: function() {
        this.$.dropdown.close()
      },
      _onIronSelect: function() {
        this.ignoreSelect || this.close()
      },
      _onIronActivate: function() {
        this.closeOnActivate && this.close()
      },
      _openedChanged: function(b, c) {
        b ? (this._dropdownContent = this.contentElement, this.fire("paper-dropdown-open")) : null != c && this.fire("paper-dropdown-close")
      },
      _disabledChanged: function(b) {
        Polymer.IronControlState._disabledChanged.apply(this, arguments);
        b && this.opened && this.close()
      },
      __onIronOverlayCanceled: function(b) {
        var c = b.detail;
        Polymer.dom(c);
        var d = this.$.trigger; - 1 < Polymer.dom(c).path.indexOf(d) && b.preventDefault()
      }
    });
    Object.keys(a).forEach(function(b) {
      sn[b] = a[b]
    });
    Polymer.PaperMenuButton = sn
  })();
  Polymer({
    is: "paper-dropdown-menu",
    behaviors: [Polymer.IronButtonState, Polymer.IronControlState, Polymer.IronFormElementBehavior, Polymer.IronValidatableBehavior],
    properties: {
      selectedItemLabel: {
        type: String,
        notify: !0,
        readOnly: !0
      },
      selectedItem: {
        type: Object,
        notify: !0,
        readOnly: !0
      },
      value: {
        type: String,
        notify: !0,
        readOnly: !0
      },
      label: {
        type: String
      },
      placeholder: {
        type: String
      },
      errorMessage: {
        type: String
      },
      opened: {
        type: Boolean,
        notify: !0,
        value: !1,
        observer: "_openedChanged"
      },
      allowOutsideScroll: {
        type: Boolean,
        value: !1
      },
      noLabelFloat: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0
      },
      alwaysFloatLabel: {
        type: Boolean,
        value: !1
      },
      noAnimations: {
        type: Boolean,
        value: !1
      },
      horizontalAlign: {
        type: String,
        value: "right"
      },
      verticalAlign: {
        type: String,
        value: "top"
      },
      dynamicAlign: {
        type: Boolean
      },
      restoreFocusOnClose: {
        type: Boolean,
        value: !0
      }
    },
    listeners: {
      tap: "_onTap"
    },
    keyBindings: {
      "up down": "open",
      esc: "close"
    },
    hostAttributes: {
      role: "combobox",
      "aria-autocomplete": "none",
      "aria-haspopup": "true"
    },
    observers: ["_selectedItemChanged(selectedItem)"],
    attached: function() {
      var a = this.contentElement;
      a && a.selectedItem && this._setSelectedItem(a.selectedItem)
    },
    get contentElement() {
      return Polymer.dom(this.$.content).getDistributedNodes()[0]
    },
    open: function() {
      this.$.menuButton.open()
    },
    close: function() {
      this.$.menuButton.close()
    },
    _onIronSelect: function(a) {
      this._setSelectedItem(a.detail.item)
    },
    _onIronDeselect: function() {
      this._setSelectedItem(null)
    },
    _onTap: function(a) {
      Polymer.Gestures.findOriginalTarget(a) === this && this.open()
    },
    _selectedItemChanged: function(a) {
      a = a ? a.label || a.getAttribute("label") || a.textContent.trim() : "";
      this._setValue(a);
      this._setSelectedItemLabel(a)
    },
    _computeMenuVerticalOffset: function(a) {
      return a ? -4 : 8
    },
    _getValidity: function() {
      return this.disabled || !this.required || this.required && !!this.value
    },
    _openedChanged: function() {
      var a = this.opened ? "true" : "false",
        b = this.contentElement;
      b && b.setAttribute("aria-expanded", a)
    }
  });
  Polymer({
    is: "paper-icon-button",
    hostAttributes: {
      role: "button",
      tabindex: "0"
    },
    behaviors: [Polymer.PaperInkyFocusBehavior],
    properties: {
      src: {
        type: String
      },
      icon: {
        type: String
      },
      alt: {
        type: String,
        observer: "_altChanged"
      }
    },
    _altChanged: function(a, b) {
      var c = this.getAttribute("aria-label");
      c && b != c || this.setAttribute("aria-label", a)
    }
  });
  Polymer({
    is: "paper-textarea",
    behaviors: [Polymer.PaperInputBehavior, Polymer.IronFormElementBehavior],
    properties: {
      _ariaLabelledBy: {
        observer: "_ariaLabelledByChanged",
        type: String
      },
      _ariaDescribedBy: {
        observer: "_ariaDescribedByChanged",
        type: String
      },
      value: {
        type: String
      },
      rows: {
        type: Number,
        value: 1
      },
      maxRows: {
        type: Number,
        value: 0
      }
    },
    _ariaLabelledByChanged: function(a) {
      this._focusableElement.setAttribute("aria-labelledby", a)
    },
    _ariaDescribedByChanged: function(a) {
      this._focusableElement.setAttribute("aria-describedby", a)
    },
    get _focusableElement() {
      return this.inputElement.textarea
    }
  });
  Polymer.PaperItemBehaviorImpl = {
    hostAttributes: {
      role: "option",
      tabindex: "0"
    }
  };
  Polymer.PaperItemBehavior = [Polymer.IronButtonState, Polymer.IronControlState, Polymer.PaperItemBehaviorImpl];
  Polymer({
    is: "paper-icon-item",
    behaviors: [Polymer.PaperItemBehavior]
  });
  Polymer({
    is: "paper-item-body"
  });
  Polymer({
    is: "paper-item",
    behaviors: [Polymer.PaperItemBehavior]
  });
  Polymer({
    is: "paper-listbox",
    behaviors: [Polymer.IronMenuBehavior],
    hostAttributes: {
      role: "listbox"
    }
  });
  Polymer({
    is: "paper-progress",
    behaviors: [Polymer.IronRangeBehavior],
    properties: {
      secondaryProgress: {
        type: Number,
        value: 0
      },
      secondaryRatio: {
        type: Number,
        value: 0,
        readOnly: !0
      },
      indeterminate: {
        type: Boolean,
        value: !1,
        observer: "_toggleIndeterminate"
      },
      disabled: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        observer: "_disabledChanged"
      }
    },
    observers: ["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],
    hostAttributes: {
      role: "progressbar"
    },
    _toggleIndeterminate: function(a) {
      this.toggleClass("indeterminate",
        a, this.$.primaryProgress)
    },
    _transformProgress: function(a, b) {
      a.style.transform = a.style.webkitTransform = "scaleX(" + b / 100 + ")"
    },
    _mainRatioChanged: function(a) {
      this._transformProgress(this.$.primaryProgress, a)
    },
    _progressChanged: function(a, b, c, d, e) {
      a = this._clampValue(a);
      b = this._clampValue(b);
      var g = 100 * this._calcRatio(a),
        h = 100 * this._calcRatio(b);
      this._setSecondaryRatio(g);
      this._transformProgress(this.$.secondaryProgress, g);
      this._transformProgress(this.$.primaryProgress, h);
      this.secondaryProgress = a;
      e ? this.removeAttribute("aria-valuenow") : this.setAttribute("aria-valuenow", b);
      this.setAttribute("aria-valuemin", c);
      this.setAttribute("aria-valuemax", d)
    },
    _disabledChanged: function(a) {
      this.setAttribute("aria-disabled", a ? "true" : "false")
    },
    _hideSecondaryProgress: function(a) {
      return 0 === a
    }
  });
  Polymer({
    is: "paper-radio-button",
    behaviors: [Polymer.PaperCheckedElementBehavior],
    hostAttributes: {
      role: "radio",
      "aria-checked": !1,
      tabindex: 0
    },
    properties: {
      ariaActiveAttribute: {
        type: String,
        value: "aria-checked"
      }
    },
    ready: function() {
      this._rippleContainer = this.$.radioContainer
    },
    attached: function() {
      Polymer.RenderStatus.afterNextRender(this, function() {
        if ("-1px" === this.getComputedStyleValue("--calculated-paper-radio-button-ink-size").trim()) {
          var a = parseFloat(this.getComputedStyleValue("--calculated-paper-radio-button-size").trim()),
            b = Math.floor(3 * a);
          b % 2 !== a % 2 && b++;
          this.updateStyles({
            "--paper-radio-button-ink-size": b + "px"
          })
        }
      })
    }
  });
  Polymer({
    is: "paper-radio-group",
    behaviors: [Polymer.IronMenubarBehavior],
    hostAttributes: {
      role: "radiogroup"
    },
    properties: {
      attrForSelected: {
        type: String,
        value: "name"
      },
      selectedAttribute: {
        type: String,
        value: "checked"
      },
      selectable: {
        type: String,
        value: "paper-radio-button"
      },
      allowEmptySelection: {
        type: Boolean,
        value: !1
      }
    },
    select: function(a) {
      var b = this._valueToItem(a);
      if (!b || !b.hasAttribute("disabled")) {
        if (this.selected) {
          b = this._valueToItem(this.selected);
          if (this.selected == a)
            if (this.allowEmptySelection) a = "";
            else {
              b &&
                (b.checked = !0);
              return
            } b && (b.checked = !1)
        }
        Polymer.IronSelectableBehavior.select.apply(this, [a]);
        this.fire("paper-radio-group-changed")
      }
    },
    _activateFocusedItem: function() {
      this._itemActivate(this._valueForItem(this.focusedItem), this.focusedItem)
    },
    _onUpKey: function(a) {
      this._focusPrevious();
      a.preventDefault();
      this._activateFocusedItem()
    },
    _onDownKey: function(a) {
      this._focusNext();
      a.preventDefault();
      this._activateFocusedItem()
    },
    _onLeftKey: function(a) {
      Polymer.IronMenubarBehaviorImpl._onLeftKey.apply(this, arguments);
      this._activateFocusedItem()
    },
    _onRightKey: function(a) {
      Polymer.IronMenubarBehaviorImpl._onRightKey.apply(this, arguments);
      this._activateFocusedItem()
    }
  });
  Polymer({
    is: "paper-slider",
    behaviors: [Polymer.IronA11yKeysBehavior, Polymer.IronFormElementBehavior, Polymer.PaperInkyFocusBehavior, Polymer.IronRangeBehavior],
    properties: {
      value: {
        type: Number,
        value: 0
      },
      snaps: {
        type: Boolean,
        value: !1,
        notify: !0
      },
      pin: {
        type: Boolean,
        value: !1,
        notify: !0
      },
      secondaryProgress: {
        type: Number,
        value: 0,
        notify: !0,
        observer: "_secondaryProgressChanged"
      },
      editable: {
        type: Boolean,
        value: !1
      },
      immediateValue: {
        type: Number,
        value: 0,
        readOnly: !0,
        notify: !0
      },
      maxMarkers: {
        type: Number,
        value: 0,
        notify: !0
      },
      expand: {
        type: Boolean,
        value: !1,
        readOnly: !0
      },
      ignoreBarTouch: {
        type: Boolean,
        value: !1
      },
      dragging: {
        type: Boolean,
        value: !1,
        readOnly: !0,
        notify: !0
      },
      transiting: {
        type: Boolean,
        value: !1,
        readOnly: !0
      },
      markers: {
        type: Array,
        readOnly: !0,
        value: function() {
          return []
        }
      }
    },
    observers: ["_updateKnob(value, min, max, snaps, step)", "_valueChanged(value)", "_immediateValueChanged(immediateValue)", "_updateMarkers(maxMarkers, min, max, snaps)"],
    hostAttributes: {
      role: "slider",
      tabindex: 0
    },
    keyBindings: {
      left: "_leftKey",
      right: "_rightKey",
      "down pagedown home": "_decrementKey",
      "up pageup end": "_incrementKey"
    },
    ready: function() {
      this.ignoreBarTouch && Polymer.Gestures.setTouchAction(this.$.sliderBar, "auto")
    },
    increment: function() {
      this.value = this._clampValue(this.value + this.step)
    },
    decrement: function() {
      this.value = this._clampValue(this.value - this.step)
    },
    _updateKnob: function(a, b, c) {
      this.setAttribute("aria-valuemin", b);
      this.setAttribute("aria-valuemax", c);
      this.setAttribute("aria-valuenow", a);
      this._positionKnob(100 * this._calcRatio(a))
    },
    _valueChanged: function() {
      this.fire("value-change", {
        composed: !0
      })
    },
    _immediateValueChanged: function() {
      this.dragging ? this.fire("immediate-value-change", {
        composed: !0
      }) : this.value = this.immediateValue
    },
    _secondaryProgressChanged: function() {
      this.secondaryProgress = this._clampValue(this.secondaryProgress)
    },
    _expandKnob: function() {
      this._setExpand(!0)
    },
    _resetKnob: function() {
      this.cancelDebouncer("expandKnob");
      this._setExpand(!1)
    },
    _positionKnob: function(a) {
      this._setImmediateValue(this._calcStep(this._calcKnobPosition(a)));
      this._setRatio(100 * this._calcRatio(this.immediateValue));
      this.$.sliderKnob.style.left = this.ratio + "%";
      this.dragging && (this._knobstartx = this.ratio * this._w / 100, this.translate3d(0, 0, 0, this.$.sliderKnob))
    },
    _calcKnobPosition: function(a) {
      return (this.max - this.min) * a / 100 + this.min
    },
    _onTrack: function(a) {
      a.stopPropagation();
      switch (a.detail.state) {
        case "start":
          this._trackStart(a);
          break;
        case "track":
          this._trackX(a);
          break;
        case "end":
          this._trackEnd()
      }
    },
    _trackStart: function() {
      this._setTransiting(!1);
      this._w = this.$.sliderBar.offsetWidth;
      this._knobstartx = this._startx = this._x = this.ratio * this._w / 100;
      this._minx = -this._startx;
      this._maxx = this._w - this._startx;
      this.$.sliderKnob.classList.add("dragging");
      this._setDragging(!0)
    },
    _trackX: function(a) {
      this.dragging || this._trackStart(a);
      this._x = this._startx + Math.min(this._maxx, Math.max(this._minx, a.detail.dx * (this._isRTL ? -1 : 1)));
      this._setImmediateValue(this._calcStep(this._calcKnobPosition(this._x / this._w * 100)));
      this.translate3d(this._calcRatio(this.immediateValue) * this._w - this._knobstartx + "px", 0, 0, this.$.sliderKnob)
    },
    _trackEnd: function() {
      var a = this.$.sliderKnob.style;
      this.$.sliderKnob.classList.remove("dragging");
      this._setDragging(!1);
      this._resetKnob();
      this.value = this.immediateValue;
      a.transform = a.webkitTransform = "";
      this.fire("change", {
        composed: !0
      })
    },
    _knobdown: function(a) {
      this._expandKnob();
      a.preventDefault();
      this.focus()
    },
    _bartrack: function(a) {
      this._allowBarEvent(a) && this._onTrack(a)
    },
    _barclick: function(a) {
      this._w = this.$.sliderBar.offsetWidth;
      var b = this.$.sliderBar.getBoundingClientRect();
      b = (a.detail.x - b.left) / this._w * 100;
      this._isRTL && (b = 100 - b);
      var c = this.ratio;
      this._setTransiting(!0);
      this._positionKnob(b);
      c === this.ratio && this._setTransiting(!1);
      this.async(function() {
        this.fire("change", {
          composed: !0
        })
      });
      a.preventDefault();
      this.focus()
    },
    _bardown: function(a) {
      this._allowBarEvent(a) && (this.debounce("expandKnob", this._expandKnob, 60), this._barclick(a))
    },
    _knobTransitionEnd: function(a) {
      a.target === this.$.sliderKnob && this._setTransiting(!1)
    },
    _updateMarkers: function(a, b, c, d) {
      d || this._setMarkers([]);
      b = Math.round((c - b) / this.step);
      b > a && (b = a);
      if (0 > b || !isFinite(b)) b = 0;
      this._setMarkers(Array(b))
    },
    _mergeClasses: function(a) {
      return Object.keys(a).filter(function(b) {
        return a[b]
      }).join(" ")
    },
    _getClassNames: function() {
      return this._mergeClasses({
        disabled: this.disabled,
        pin: this.pin,
        snaps: this.snaps,
        ring: this.immediateValue <= this.min,
        expand: this.expand,
        dragging: this.dragging,
        transiting: this.transiting,
        editable: this.editable
      })
    },
    _allowBarEvent: function(a) {
      return !this.ignoreBarTouch || a.detail.sourceEvent instanceof MouseEvent
    },
    get _isRTL() {
      void 0 === this.__isRTL && (this.__isRTL = "rtl" === window.getComputedStyle(this).direction);
      return this.__isRTL
    },
    _leftKey: function(a) {
      this._isRTL ? this._incrementKey(a) : this._decrementKey(a)
    },
    _rightKey: function(a) {
      this._isRTL ? this._decrementKey(a) : this._incrementKey(a)
    },
    _incrementKey: function(a) {
      this.disabled || ("end" === a.detail.key ? this.value = this.max : this.increment(), this.fire("change"), a.preventDefault())
    },
    _decrementKey: function(a) {
      this.disabled || ("home" === a.detail.key ? this.value = this.min : this.decrement(), this.fire("change"), a.preventDefault())
    },
    _changeValue: function(a) {
      this.value = a.target.value;
      this.fire("change", {
        composed: !0
      })
    },
    _inputKeyDown: function(a) {
      a.stopPropagation()
    },
    _createRipple: function() {
      this._rippleContainer = this.$.sliderKnob;
      return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)
    },
    _focusedChanged: function(a) {
      a && this.ensureRipple();
      this.hasRipple() && (this._ripple.style.display = a ? "" : "none", this._ripple.holdDown = a)
    }
  });
  Polymer.PaperSpinnerBehavior = {
    properties: {
      active: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        observer: "__activeChanged"
      },
      alt: {
        type: String,
        value: "loading",
        observer: "__altChanged"
      },
      __coolingDown: {
        type: Boolean,
        value: !1
      }
    },
    __computeContainerClasses: function(a, b) {
      return [a || b ? "active" : "", b ? "cooldown" : ""].join(" ")
    },
    __activeChanged: function(a, b) {
      this.__setAriaHidden(!a);
      this.__coolingDown = !a && b
    },
    __altChanged: function(a) {
      "loading" === a ? this.alt = this.getAttribute("aria-label") || a : (this.__setAriaHidden("" === a), this.setAttribute("aria-label", a))
    },
    __setAriaHidden: function(a) {
      a ? this.setAttribute("aria-hidden", "true") : this.removeAttribute("aria-hidden")
    },
    __reset: function() {
      this.__coolingDown = this.active = !1
    }
  };
  Polymer({
    is: "paper-spinner",
    behaviors: [Polymer.PaperSpinnerBehavior]
  });
  Polymer({
    is: "paper-spinner-lite",
    behaviors: [Polymer.PaperSpinnerBehavior]
  });
  (function() {
    var a = null;
    Polymer({
      is: "paper-toast",
      behaviors: [Polymer.IronOverlayBehavior],
      properties: {
        fitInto: {
          type: Object,
          value: window,
          observer: "_onFitIntoChanged"
        },
        horizontalAlign: {
          type: String,
          value: "left"
        },
        verticalAlign: {
          type: String,
          value: "bottom"
        },
        duration: {
          type: Number,
          value: 3E3
        },
        text: {
          type: String,
          value: ""
        },
        noCancelOnOutsideClick: {
          type: Boolean,
          value: !0
        },
        noAutoFocus: {
          type: Boolean,
          value: !0
        }
      },
      listeners: {
        transitionend: "__onTransitionEnd"
      },
      get visible() {
        Polymer.Base._warn("`visible` is deprecated, use `opened` instead");
        return this.opened
      },
      get _canAutoClose() {
        return 0 < this.duration && Infinity !== this.duration
      },
      created: function() {
        this._autoClose = null;
        Polymer.IronA11yAnnouncer.requestAvailability()
      },
      show: function(b) {
        "string" == typeof b && (b = {
          text: b
        });
        for (var c in b) 0 === c.indexOf("_") ? Polymer.Base._warn('The property "' + c + '" is private and was not set.') : c in this ? this[c] = b[c] : Polymer.Base._warn('The property "' + c + '" is not valid.');
        this.open()
      },
      hide: function() {
        this.close()
      },
      __onTransitionEnd: function(b) {
        b && b.target === this && "opacity" === b.propertyName && (this.opened ? this._finishRenderOpened() : this._finishRenderClosed())
      },
      _openedChanged: function() {
        null !== this._autoClose && (this.cancelAsync(this._autoClose), this._autoClose = null);
        this.opened ? (a && a !== this && a.close(), a = this, this.fire("iron-announce", {
          text: this.text
        }), this._canAutoClose && (this._autoClose = this.async(this.close, this.duration))) : a === this && (a = null);
        Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this, arguments)
      },
      _renderOpened: function() {
        this.classList.add("paper-toast-open")
      },
      _renderClosed: function() {
        this.classList.remove("paper-toast-open")
      },
      _onFitIntoChanged: function(b) {
        this.positionTarget = b
      }
    })
  })();
  Polymer({
    is: "paper-toggle-button",
    behaviors: [Polymer.PaperCheckedElementBehavior],
    hostAttributes: {
      role: "button",
      "aria-pressed": "false",
      tabindex: 0
    },
    properties: {},
    listeners: {
      track: "_ontrack"
    },
    attached: function() {
      Polymer.RenderStatus.afterNextRender(this, function() {
        this.setScrollDirection("y")
      })
    },
    _ontrack: function(a) {
      a = a.detail;
      "start" === a.state ? this._trackStart(a) : "track" === a.state ? this._trackMove(a) : "end" === a.state && this._trackEnd(a)
    },
    _trackStart: function() {
      this._width = this.$.toggleBar.offsetWidth / 2;
      this._trackChecked = this.checked;
      this.$.toggleButton.classList.add("dragging")
    },
    _trackMove: function(a) {
      a = a.dx;
      this._x = Math.min(this._width, Math.max(0, this._trackChecked ? this._width + a : a));
      this.translate3d(this._x + "px", 0, 0, this.$.toggleButton);
      this._userActivate(this._x > this._width / 2)
    },
    _trackEnd: function() {
      this.$.toggleButton.classList.remove("dragging");
      this.transform("", this.$.toggleButton)
    },
    _createRipple: function() {
      this._rippleContainer = this.$.toggleButton;
      var a = Polymer.PaperRippleBehavior._createRipple();
      a.id = "ink";
      a.setAttribute("recenters", "");
      a.classList.add("circle", "toggle-ink");
      return a
    }
  });
  Polymer({
    is: "paper-tooltip",
    hostAttributes: {
      role: "tooltip",
      tabindex: -1
    },
    behaviors: [Polymer.NeonAnimationRunnerBehavior],
    properties: {
      for: {
        type: String,
        observer: "_findTarget"
      },
      manualMode: {
        type: Boolean,
        value: !1,
        observer: "_manualModeChanged"
      },
      position: {
        type: String,
        value: "bottom"
      },
      fitToVisibleBounds: {
        type: Boolean,
        value: !1
      },
      offset: {
        type: Number,
        value: 14
      },
      marginTop: {
        type: Number,
        value: 14
      },
      animationDelay: {
        type: Number,
        value: 500
      },
      animationConfig: {
        type: Object,
        value: function() {
          return {
            entry: [{
              name: "fade-in-animation",
              node: this,
              timing: {
                delay: 0
              }
            }],
            exit: [{
              name: "fade-out-animation",
              node: this
            }]
          }
        }
      },
      _showing: {
        type: Boolean,
        value: !1
      }
    },
    listeners: {
      "neon-animation-finish": "_onAnimationFinish"
    },
    get target() {
      var a = Polymer.dom(this).parentNode,
        b = Polymer.dom(this).getOwnerRoot();
      return this.for ? Polymer.dom(b).querySelector("#" + this.for) : a ? a.nodeType == Node.DOCUMENT_FRAGMENT_NODE ? b.host : a : null
    },
    attached: function() {
      this._findTarget()
    },
    detached: function() {
      this.manualMode || this._removeListeners()
    },
    show: function() {
      if (!this._showing) {
        if ("" === Polymer.dom(this).textContent.trim()) {
          for (var a = !0, b = Polymer.dom(this).getEffectiveChildNodes(), c = 0; c < b.length; c++)
            if ("" !== b[c].textContent.trim()) {
              a = !1;
              break
            } if (a) return
        }
        this.cancelAnimation();
        this._showing = !0;
        this.toggleClass("hidden", !1, this.$.tooltip);
        this.updatePosition();
        this.animationConfig.entry[0].timing = this.animationConfig.entry[0].timing || {};
        this.animationConfig.entry[0].timing.delay = this.animationDelay;
        this._animationPlaying = !0;
        this.playAnimation("entry")
      }
    },
    hide: function() {
      this._showing && (this._animationPlaying ? (this.cancelAnimation(), this._showing = !1, this._onAnimationFinish()) : (this._showing = !1, this._animationPlaying = !0, this.playAnimation("exit")))
    },
    updatePosition: function() {
      if (this._target && this.offsetParent) {
        var a = this.offset;
        14 != this.marginTop && 14 == this.offset && (a = this.marginTop);
        var b = this.offsetParent.getBoundingClientRect(),
          c = this._target.getBoundingClientRect(),
          d = this.getBoundingClientRect(),
          e = (c.width - d.width) / 2,
          g = (c.height - d.height) / 2,
          h = c.left - b.left,
          k = c.top - b.top;
        switch (this.position) {
          case "top":
            var m = h + e;
            var l = k - d.height - a;
            break;
          case "bottom":
            m = h + e;
            l = k + c.height + a;
            break;
          case "left":
            m = h - d.width - a;
            l = k + g;
            break;
          case "right":
            m = h + c.width +
              a, l = k + g
        }
        this.fitToVisibleBounds ? (b.left + m + d.width > window.innerWidth ? (this.style.right = "0px", this.style.left = "auto") : (this.style.left = Math.max(0, m) + "px", this.style.right = "auto"), b.top + l + d.height > window.innerHeight ? (this.style.bottom = b.height + "px", this.style.top = "auto") : (this.style.top = Math.max(-b.top, l) + "px", this.style.bottom = "auto")) : (this.style.left = m + "px", this.style.top = l + "px")
      }
    },
    _addListeners: function() {
      this._target && (this.listen(this._target, "mouseenter", "show"), this.listen(this._target, "focus", "show"), this.listen(this._target, "mouseleave", "hide"), this.listen(this._target, "blur", "hide"), this.listen(this._target, "tap", "hide"));
      this.listen(this, "mouseenter", "hide")
    },
    _findTarget: function() {
      this.manualMode || this._removeListeners();
      this._target = this.target;
      this.manualMode || this._addListeners()
    },
    _manualModeChanged: function() {
      this.manualMode ? this._removeListeners() : this._addListeners()
    },
    _onAnimationFinish: function() {
      this._animationPlaying = !1;
      this._showing || this.toggleClass("hidden", !0, this.$.tooltip)
    },
    _removeListeners: function() {
      this._target && (this.unlisten(this._target, "mouseenter", "show"), this.unlisten(this._target, "focus", "show"), this.unlisten(this._target, "mouseleave", "hide"), this.unlisten(this._target, "blur", "hide"), this.unlisten(this._target, "tap", "hide"));
      this.unlisten(this, "mouseenter", "hide")
    }
  });
  /*

   The MIT License (MIT)

   Copyright (c) 2016 Christopher Turner

   Permission is hereby granted, free of charge, to any person obtaining a copy
   of this software and associated documentation files (the "Software"), to deal
   in the Software without restriction, including without limitation the rights
   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   copies of the Software, and to permit persons to whom the Software is
   furnished to do so, subject to the following conditions:

   The above copyright notice and this permission notice shall be included in
   all copies or substantial portions of the Software.

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   SOFTWARE.
  */
  var tn = function() {
    function a(c, d) {
      var e = [];
      null != c.properties && Object.keys(c.properties).forEach(function(g) {
        var h = c.properties[g];
        h.hasOwnProperty("statePath") && (h.notify && !h.readOnly && console.warn('Polymer Redux: <%s>.%s has "notify" enabled, two-way bindings goes against Redux\'s paradigm', c.is, g), e.push({
          name: g,
          path: h.statePath || d.getState,
          readOnly: h.readOnly,
          type: h.type
        }))
      });
      return function() {
        var g = d.getState();
        e.forEach(function(h) {
          var k = h.name,
            m = [];
          var l = h.path;
          l = "function" == typeof l ? l.call(c, g) : Polymer.Base.get(l, g);
          var q = c.get(h.name);
          if (l !== q) {
            if (h.type === Array) {
              l = l || [];
              q = q || [];
              if (!Array.isArray(l)) throw new TypeError("<" + c.is + ">." + k + " type is Array but given: " + typeof l);
              m = Polymer.ArraySplice.calculateSplices(l, q)
            }
            h.readOnly ? c.notifyPath(k, l) : c.set(k, l);
            m.length && c.notifySplices(k, m)
          }
        });
        c.fire("state-changed", g)
      }
    }

    function b(c, d) {
      if (!c._reduxUnsubscribe) {
        var e = a(c, d);
        e();
        c._reduxUnsubscribe = d.subscribe(e)
      }
    }
    return function(c) {
      if (!c) throw new TypeError("missing redux store");
      return {
        ready: function() {
          b(this, c)
        },
        attached: function() {
          b(this, c)
        },
        detached: function() {
          "function" === typeof this._reduxUnsubscribe && (this._reduxUnsubscribe(), delete this._reduxUnsubscribe)
        },
        dispatch: function(d) {
          var e = Array.prototype.slice.call(arguments);
          var g = e[0],
            h = this.actions;
          if (h && "string" === typeof g) {
            if ("function" !== typeof h[g]) throw new TypeError("Polymer Redux: <" + this.is + '> has no action "' + g + '"');
            e = c.dispatch(h[g].apply(this, e.slice(1)))
          } else e = "function" === typeof g && 0 === g.length ? c.dispatch(g()) : c.dispatch(g);
          return e
        },
        getState: function() {
          return c.getState()
        }
      }
    }
  };
  "object" === typeof exports && "object" === typeof module ? module.exports = tn() : "function" === typeof define && define.amd ? define(tn) : this.PolymerRedux = tn();
  /*

   The MIT License (MIT)

   Copyright (c) 2015-present Dan Abramov

   Permission is hereby granted, free of charge, to any person obtaining a copy
   of this software and associated documentation files (the "Software"), to deal
   in the Software without restriction, including without limitation the rights
   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   copies of the Software, and to permit persons to whom the Software is
   furnished to do so, subject to the following conditions:

   The above copyright notice and this permission notice shall be included in
   all copies or substantial portions of the Software.

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   SOFTWARE.
  */
  var un = function() {
    return function(a) {
      function b(d) {
        if (c[d]) return c[d].exports;
        var e = c[d] = {
          exports: {},
          id: d,
          loaded: !1
        };
        return a[d].call(e.exports, e, e.exports, b), e.loaded = !0, e.exports
      }
      var c = {};
      return b.m = a, b.c = c, b.p = "", b(0)
    }([function(a, b, c) {
        function d(m) {
          return m && m.__esModule ? m : {
            "default": m
          }
        }
        b.__esModule = !0;
        b.compose = b.applyMiddleware = b.bindActionCreators = b.combineReducers = b.createStore = void 0;
        a = c(2);
        a = d(a);
        var e = c(7);
        e = d(e);
        var g = c(6);
        g = d(g);
        var h = c(5);
        h = d(h);
        var k = c(1);
        k = d(k);
        c = c(3);
        d(c);
        b.createStore = a["default"];
        b.combineReducers = e["default"];
        b.bindActionCreators = g["default"];
        b.applyMiddleware = h["default"];
        b.compose = k["default"]
      },
      function(a, b) {
        b.__esModule = !0;
        b["default"] = function() {
          for (var c = arguments.length, d = Array(c), e = 0; c > e; e++) d[e] = arguments[e];
          if (0 === d.length) return function(g) {
            return g
          };
          c = function() {
            var g = d[d.length - 1],
              h = d.slice(0, -1);
            return {
              v: function() {
                return h.reduceRight(function(k, m) {
                  return m(k)
                }, g.apply(void 0, arguments))
              }
            }
          }();
          return "object" == typeof c ? c.v : void 0
        }
      },
      function(a, b, c) {
        function d(k, m, l) {
          function q(A) {
            if ("function" != typeof A) throw Error("Expected listener to be a function.");
            var H = !0;
            v === u && (v = u.slice());
            return v.push(A),
              function() {
                H && (H = !1, v === u && (v = u.slice()), v.splice(v.indexOf(A), 1))
              }
          }

          function p(A) {
            if (!(0, e["default"])(A)) throw Error("Actions must be plain objects. Use custom middleware for async actions.");
            if (void 0 === A.type) throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');
            if (x) throw Error("Reducers may not dispatch actions.");
            try {
              x = !0, t = r(t, A)
            } finally {
              x = !1
            }
            for (var H = u = v, I = 0; H.length > I; I++) H[I]();
            return A
          }
          var n;
          if ("function" == typeof m && void 0 === l && (l = m, m = void 0), void 0 !== l) {
            if ("function" != typeof l) throw Error("Expected the enhancer to be a function.");
            return l(d)(k, m)
          }
          if ("function" != typeof k) throw Error("Expected the reducer to be a function.");
          var r = k,
            t = m,
            u = [],
            v = u,
            x = !1;
          return p({
            type: h.INIT
          }), n = {
            dispatch: p,
            subscribe: q,
            getState: function() {
              return t
            },
            replaceReducer: function(A) {
              if ("function" != typeof A) throw Error("Expected the nextReducer to be a function.");
              r = A;
              p({
                type: h.INIT
              })
            }
          }, n[g["default"]] = function() {
            var A;
            return A = {
              subscribe: function(H) {
                function I() {
                  H.next && H.next(t)
                }
                if ("object" != typeof H) throw new TypeError("Expected the observer to be an object.");
                I();
                return {
                  unsubscribe: q(I)
                }
              }
            }, A[g["default"]] = function() {
              return this
            }, A
          }, n
        }
        b.__esModule = !0;
        b.ActionTypes = void 0;
        b["default"] = d;
        var e = (a = c(4)) && a.__esModule ? a : {
            "default": a
          },
          g = (c = c(11)) && c.__esModule ? c : {
            "default": c
          },
          h = b.ActionTypes = {
            INIT: "@@redux/INIT"
          }
      },
      function(a, b) {
        b.__esModule = !0;
        b["default"] = function(c) {
          "undefined" != typeof console && "function" == typeof console.error && console.error(c);
          try {
            throw Error(c);
          } catch (d) {}
        }
      },
      function(a, b, c) {
        var d = c(8),
          e = c(9),
          g = c(10);
        b = Object.prototype;
        var h = Function.prototype.toString,
          k = b.hasOwnProperty,
          m = h.call(Object),
          l = b.toString;
        a.exports = function(q) {
          if (!g(q) || "[object Object]" != l.call(q) || e(q)) return !1;
          q = d(q);
          if (null === q) return !0;
          q = k.call(q, "constructor") && q.constructor;
          return "function" == typeof q && q instanceof q && h.call(q) == m
        }
      },
      function(a, b, c) {
        b.__esModule = !0;
        var d = Object.assign || function(g) {
          for (var h = 1; arguments.length > h; h++) {
            var k = arguments[h],
              m;
            for (m in k) Object.prototype.hasOwnProperty.call(k, m) && (g[m] = k[m])
          }
          return g
        };
        b["default"] = function() {
          for (var g = arguments.length, h = Array(g), k = 0; g > k; k++) h[k] = arguments[k];
          return function(m) {
            return function(l, q, p) {
              l = m(l, q, p);
              var n = l.dispatch;
              q = [];
              var r = {
                getState: l.getState,
                dispatch: function(t) {
                  return n(t)
                }
              };
              return q = h.map(function(t) {
                return t(r)
              }), n = e["default"].apply(void 0, q)(l.dispatch), d({}, l, {
                dispatch: n
              })
            }
          }
        };
        var e = function(g) {
          return g && g.__esModule ? g : {
            "default": g
          }
        }(c(1))
      },
      function(a, b) {
        function c(d, e) {
          return function() {
            return e(d.apply(void 0, arguments))
          }
        }
        b.__esModule = !0;
        b["default"] = function(d, e) {
          if ("function" == typeof d) return c(d, e);
          if ("object" != typeof d || null === d) throw Error("bindActionCreators expected an object or a function, instead received " + (null === d ? "null" : typeof d) + '. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');
          for (var g = Object.keys(d), h = {}, k = 0; g.length > k; k++) {
            var m = g[k],
              l = d[m];
            "function" == typeof l && (h[m] = c(l, e))
          }
          return h
        }
      },
      function(a, b, c) {
        function d(g) {
          Object.keys(g).forEach(function(h) {
            var k = g[h];
            if (void 0 === k(void 0, {
                type: e.ActionTypes.INIT
              })) throw Error('Reducer "' + h + '" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');
            var m = "@@redux/PROBE_UNKNOWN_ACTION_" + Math.random().toString(36).substring(7).split("").join(".");
            if (void 0 === k(void 0, {
                type: m
              })) throw Error('Reducer "' + h + '" returned undefined when probed with a random type. ' +
              ("Don't try to handle " + e.ActionTypes.INIT + ' or other actions in "redux/*" ') + "namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.");
          })
        }
        b.__esModule = !0;
        b["default"] = function(g) {
          for (var h = Object.keys(g), k = {}, m = 0; h.length > m; m++) {
            var l = h[m];
            "function" == typeof g[l] && (k[l] = g[l])
          }
          var q = Object.keys(k);
          try {
            d(k)
          } catch (n) {
            var p = n
          }
          return function() {
            var n = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {},
              r = arguments[1];
            if (p) throw p;
            for (var t = !1, u = {}, v = 0; q.length > v; v++) {
              var x = q[v],
                A = n[x],
                H = (0, k[x])(A, r);
              if (void 0 === H) throw n = r && r.type, Error("Given action " + (n && '"' + n + '"' || "an action") + ', reducer "' + x + '" returned undefined. To ignore an action, you must explicitly return the previous state.');
              u[x] = H;
              t = t || H !== A
            }
            return t ? u : n
          }
        };
        var e = c(2);
        c(4);
        c(3)
      },
      function(a) {
        var b = Object.getPrototypeOf;
        a.exports = function(c) {
          return b(Object(c))
        }
      },
      function(a) {
        a.exports = function(b) {
          var c = !1;
          if (null != b && "function" != typeof b.toString) try {
            c = !!(b + "")
          } catch (d) {}
          return c
        }
      },
      function(a) {
        a.exports = function(b) {
          return !!b && "object" == typeof b
        }
      },
      function(a, b, c) {
        (function(d) {
          a.exports = c(12)(d || window || this)
        }).call(b, function() {
          return this
        }())
      },
      function(a) {
        a.exports = function(b) {
          var c;
          b = b.Symbol;
          return "function" == typeof b ? b.observable ? c = b.observable : (c = "function" == typeof b["for"] ? b["for"]("observable") : b("observable"), b.observable = c) : c = "@@observable", c
        }
      }
    ])
  };
  "object" == typeof exports && "object" == typeof module ? module.exports = un() : "function" == typeof define && define.amd ? define([], un) : "object" == typeof exports ? exports.Redux = un() : this.Redux = un();
  !0;
  /*

   The MIT License (MIT)

   Copyright (c) 2015-2016 Reselect Contributors

   Permission is hereby granted, free of charge, to any person obtaining a copy
   of this software and associated documentation files (the "Software"), to deal
   in the Software without restriction, including without limitation the rights
   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   copies of the Software, and to permit persons to whom the Software is
   furnished to do so, subject to the following conditions:

   The above copyright notice and this permission notice shall be included in all
   copies or substantial portions of the Software.

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   SOFTWARE.
  */
  var vn = function(a) {
    function b(k) {
      if (Array.isArray(k)) {
        for (var m = 0, l = Array(k.length); m < k.length; m++) l[m] = k[m];
        return l
      }
      return Array.from(k)
    }

    function c(k, m) {
      return k === m
    }

    function d(k) {
      var m = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : c,
        l = null,
        q = null,
        p = function(n, r) {
          return m(n, l[r])
        };
      return function() {
        for (var n = arguments.length, r = Array(n), t = 0; t < n; t++) r[t] = arguments[t];
        null !== l && l.length === r.length && r.every(p) || (q = k.apply(void 0, r));
        l = r;
        return q
      }
    }

    function e(k) {
      k = Array.isArray(k[0]) ? k[0] : k;
      if (!k.every(function(m) {
          return "function" === typeof m
        })) throw k = k.map(function(m) {
        return typeof m
      }).join(", "), Error("Selector creators expect all input-selectors to be functions, " + ("instead received the following types: [" + k + "]"));
      return k
    }

    function g(k) {
      for (var m = arguments.length, l = Array(1 < m ? m - 1 : 0), q = 1; q < m; q++) l[q - 1] = arguments[q];
      return function() {
        for (var p = arguments.length, n = Array(p), r = 0; r < p; r++) n[r] = arguments[r];
        var t = 0,
          u = n.pop(),
          v = e(n),
          x = k.apply(void 0, [function() {
            t++;
            return u.apply(void 0, arguments)
          }].concat(l));
        n = function(A, H) {
          for (var I = arguments.length, w = Array(2 < I ? I - 2 : 0), C = 2; C < I; C++) w[C - 2] = arguments[C];
          var B = v.map(function(J) {
            return J.apply(void 0, [A, H].concat(w))
          });
          return x.apply(void 0, b(B))
        };
        n.resultFunc = u;
        n.recomputations = function() {
          return t
        };
        n.resetRecomputations = function() {
          return t = 0
        };
        return n
      }
    }
    a.__esModule = !0;
    a.defaultMemoize = d;
    a.createSelectorCreator = g;
    a.createStructuredSelector = function(k) {
      var m = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : h;
      if ("object" !== typeof k) throw Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a " + typeof k);
      var l = Object.keys(k);
      return m(l.map(function(q) {
        return k[q]
      }), function() {
        for (var q = arguments.length, p = Array(q), n = 0; n < q; n++) p[n] = arguments[n];
        return p.reduce(function(r, t, u) {
          r[l[u]] = t;
          return r
        }, {})
      })
    };
    var h = a.createSelector = g(d)
  };
  if ("function" === typeof define && define.amd) define("Reselect", ["exports"], vn);
  else if ("undefined" !== typeof exports) vn(exports);
  else {
    var wn = {};
    vn(wn);
    this.Reselect = wn
  };
  /*

   Copyright Google Inc. All Rights Reserved.

   Use of this source code is governed by an MIT-style license that can be
   found in the LICENSE file at https://angular.io/license
  */
  function xn(a, b, c) {
    function d(g) {
      for (var h = [], k = 0; k < arguments.length; ++k) h[k - 0] = arguments[k];
      k = function(l, q, p) {
        for (q = Reflect.getMetadata("parameters", l) || []; q.length <= p;) q.push(null);
        q[p] = q[p] || [];
        q[p].push(m);
        Reflect.defineMetadata("parameters", q, l);
        return l
      };
      if (this instanceof d) return e.apply(this, h), this;
      var m = new(Function.prototype.bind.apply(d, [null].concat(la(h))));
      k.annotation = m;
      return k
    }
    var e = yn(b);
    c && (d.prototype = Object.create(c.prototype));
    d.prototype.toString = function() {
      return "@" + a
    };
    return d.annotationCls = d
  }

  function yn(a) {
    return function(b) {
      for (var c = [], d = 0; d < arguments.length; ++d) c[d - 0] = arguments[d];
      var e = this;
      a.forEach(function(g, h) {
        h = c[h];
        if (Array.isArray(g)) e[g[0]] = h && void 0 !== h ? h : g[1];
        else
          for (var k in g) e[k] = h && void 0 !== h[k] ? h[k] : g[k]
      })
    }
  };

  function zn(a) {
    return void 0 !== a && null !== a
  }

  function An(a) {
    if ("string" === typeof a) return a;
    if (void 0 === a || null === a) return "" + a;
    if (a.overriddenName) return a.overriddenName;
    if (a.name) return a.name;
    a = a.toString();
    var b = a.indexOf("\n");
    return -1 === b ? a : a.substring(0, b)
  };

  function Bn(a) {
    a.__forward_ref__ = Bn;
    a.toString = function() {
      return An(this())
    };
    return a
  }

  function Cn(a) {
    return "function" === typeof a && a.hasOwnProperty("__forward_ref__") && a.__forward_ref__ === Bn ? a() : a
  };
  xn("Injectable", []);
  var R = xn("Inject", [
      ["token", void 0]
    ]),
    Dn = xn("Optional", []);
  xn("Injectable", []);
  var En = xn("Self", []),
    Fn = xn("SkipSelf", []);
  xn("Host", []);
  var Gn = function(a) {
    this.name = a
  };
  Gn.prototype.toString = function() {
    return "Token " + this.name
  };
  Gn.ctorParameters = function() {
    return [{
      type: String
    }]
  };
  var Hn = {},
    In = function() {};
  In.prototype.get = function() {
    throw Error("unimplemented");
  };
  var Jn = Function;
  var Kn = /^function\s+\S+\(\)\s*{\s*("use strict";)?\s*(return\s+)?\S+\.apply\(this,\s*arguments\)/,
    Ln = function(a) {
      this._reflect = a || window.Reflect
    };
  f = Ln.prototype;
  f.isReflectionEnabled = function() {
    return !0
  };
  f.factory = function(a) {
    return function(b) {
      for (var c = [], d = 0; d < arguments.length; ++d) c[d - 0] = arguments[d];
      return new(Function.prototype.bind.apply(a, [null].concat(la(c))))
    }
  };
  f._zipTypesAndAnnotations = function(a, b) {
    var c = "undefined" === typeof a ? Array(b.length) : Array(a.length);
    for (var d = 0; d < c.length; d++) c[d] = "undefined" === typeof a ? [] : a[d] != Object ? [a[d]] : [], b && zn(b[d]) && (c[d] = c[d].concat(b[d]));
    return c
  };
  f._ownParameters = function(a, b) {
    if (Kn.exec(a.toString())) return null;
    if (a.parameters && a.parameters !== b.parameters) return a.parameters;
    var c = a.ctorParameters;
    return c && c !== b.ctorParameters ? (b = "function" === typeof c ? c() : c, a = b.map(function(d) {
        return d && d.type
      }), b = b.map(function(d) {
        return d && Mn(d.decorators)
      }), this._zipTypesAndAnnotations(a, b)) : zn(this._reflect) && zn(this._reflect.getOwnMetadata) && (b = this._reflect.getOwnMetadata("parameters", a), (c = this._reflect.getOwnMetadata("design:paramtypes", a)) || b) ?
      this._zipTypesAndAnnotations(c, b) : Array(a.length).fill(void 0)
  };
  f.parameters = function(a) {
    if (!a.prototype) return [];
    var b = Object.getPrototypeOf(a.prototype).constructor;
    (a = this._ownParameters(a, b)) || b === Object || (a = this.parameters(b));
    return a || []
  };
  f._ownAnnotations = function(a, b) {
    if (a.annotations && a.annotations !== b.annotations) return a = a.annotations, "function" === typeof a && a.annotations && (a = a.annotations), a;
    if (a.decorators && a.decorators !== b.decorators) return Mn(a.decorators);
    if (this._reflect && this._reflect.getOwnMetadata) return this._reflect.getOwnMetadata("annotations", a)
  };
  f.annotations = function(a) {
    var b = Object.getPrototypeOf(a.prototype).constructor;
    a = this._ownAnnotations(a, b) || [];
    return (b !== Object ? this.annotations(b) : []).concat(a)
  };
  f._ownPropMetadata = function(a, b) {
    if (a.propMetadata && a.propMetadata !== b.propMetadata) return a = a.propMetadata, "function" === typeof a && a.propMetadata && (a = a.propMetadata), a;
    if (a.propDecorators && a.propDecorators !== b.propDecorators) {
      var c = a.propDecorators,
        d = {};
      Object.keys(c).forEach(function(e) {
        d[e] = Mn(c[e])
      });
      return d
    }
    if (this._reflect && this._reflect.getOwnMetadata) return this._reflect.getOwnMetadata("propMetadata", a)
  };
  f.propMetadata = function(a) {
    var b = Object.getPrototypeOf(a.prototype).constructor,
      c = {};
    if (b !== Object) {
      var d = this.propMetadata(b);
      Object.keys(d).forEach(function(g) {
        c[g] = d[g]
      })
    }
    var e = this._ownPropMetadata(a, b);
    e && Object.keys(e).forEach(function(g) {
      var h = [];
      c.hasOwnProperty(g) && h.push.apply(h, la(c[g]));
      h.push.apply(h, la(e[g]));
      c[g] = h
    });
    return c
  };
  f.hasLifecycleHook = function(a, b) {
    return a instanceof Jn && b in a.prototype
  };
  f.getter = function(a) {
    return new Function("o", "return o." + a + ";")
  };
  f.setter = function(a) {
    return new Function("o", "v", "return o." + a + " = v;")
  };
  f.method = function(a) {
    return new Function("o", "args", "if (!o." + a + ") throw new Error('\"" + a + "\" is undefined');\n        return o." + a + ".apply(o, args);")
  };
  f.importUri = function(a) {
    return "object" === typeof a && a.filePath ? a.filePath : "./" + An(a)
  };
  f.resolveIdentifier = function(a, b, c) {
    return c
  };
  f.resolveEnum = function(a, b) {
    return a[b]
  };

  function Mn(a) {
    return a ? a.map(function(b) {
      return new(Function.prototype.bind.apply(b.type.annotationCls, [null].concat(la(b.args ? b.args : []))))
    }) : []
  };
  var Nn = function() {};
  var On = function(a) {
    this.reflectionCapabilities = a
  };
  z(On, Nn);
  f = On.prototype;
  f.updateCapabilities = function(a) {
    this.reflectionCapabilities = a
  };
  f.factory = function(a) {
    return this.reflectionCapabilities.factory(a)
  };
  f.parameters = function(a) {
    return this.reflectionCapabilities.parameters(a)
  };
  f.annotations = function(a) {
    return this.reflectionCapabilities.annotations(a)
  };
  f.propMetadata = function(a) {
    return this.reflectionCapabilities.propMetadata(a)
  };
  f.hasLifecycleHook = function(a, b) {
    return this.reflectionCapabilities.hasLifecycleHook(a, b)
  };
  f.getter = function(a) {
    return this.reflectionCapabilities.getter(a)
  };
  f.setter = function(a) {
    return this.reflectionCapabilities.setter(a)
  };
  f.method = function(a) {
    return this.reflectionCapabilities.method(a)
  };
  f.importUri = function(a) {
    return this.reflectionCapabilities.importUri(a)
  };
  f.resolveIdentifier = function(a, b, c) {
    return this.reflectionCapabilities.resolveIdentifier(a, b, c)
  };
  f.resolveEnum = function(a, b) {
    return this.reflectionCapabilities.resolveEnum(a, b)
  };
  var Pn = new On(new Ln);

  function Qn(a) {
    for (var b = [], c = 0; c < a.length; ++c) {
      if (-1 < b.indexOf(a[c])) {
        b.push(a[c]);
        break
      }
      b.push(a[c])
    }
    return b
  }

  function Rn(a) {
    return 1 < a.length ? " (" + Qn(a.slice().reverse()).map(function(b) {
      return An(b.token)
    }).join(" -> ") + ")" : ""
  }

  function Sn(a, b, c, d) {
    if (d) {
      var e = Error(" caused by: " + (d instanceof Error ? d.message : d));
      e.ngOriginalError = d
    } else e = Error();
    e.addKey = Tn;
    e.keys = [b];
    e.injectors = [a];
    e.constructResolvingMessage = c;
    e.message = e.constructResolvingMessage();
    e.ngOriginalError = d;
    return e
  }

  function Tn(a, b) {
    this.injectors.push(a);
    this.keys.push(b);
    this.message = this.constructResolvingMessage()
  }

  function Un(a, b) {
    return Sn(a, b, function() {
      return "No provider for " + An(this.keys[0].token) + "!" + Rn(this.keys)
    })
  }

  function Vn(a, b) {
    return Sn(a, b, function() {
      return "Cannot instantiate cyclic dependency!" + Rn(this.keys)
    })
  }

  function Wn(a, b, c, d) {
    return Sn(a, d, function() {
      return this.ngOriginalError.message + ": Error during instantiation of " + An(this.keys[0].token) + "!" + Rn(this.keys) + "."
    }, b)
  }

  function Xn(a, b) {
    for (var c = [], d = 0, e = b.length; d < e; d++) {
      var g = b[d];
      g && 0 != g.length ? c.push(g.map(An).join(" ")) : c.push("?")
    }
    return Error("Cannot resolve all parameters for '" + An(a) + "'(" + c.join(", ") + "). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '" + An(a) + "' is decorated with Injectable.")
  };
  var Yn = function(a, b) {
    this.token = a;
    this.id = b;
    if (void 0 === a || null === a) throw Error("Token must be defined!");
  };
  ca.Object.defineProperties(Yn.prototype, {
    displayName: {
      configurable: !0,
      enumerable: !0,
      get: function() {
        return An(this.token)
      }
    }
  });
  ca.Object.defineProperties(Yn, {
    numberOfKeys: {
      configurable: !0,
      enumerable: !0,
      get: function() {
        return Zn.numberOfKeys
      }
    }
  });
  var $n = function() {
    this._allKeys = new Map
  };
  $n.prototype.get = function(a) {
    if (a instanceof Yn) return a;
    if (this._allKeys.has(a)) return this._allKeys.get(a);
    var b = new Yn(a, Yn.numberOfKeys);
    this._allKeys.set(a, b);
    return b
  };
  ca.Object.defineProperties($n.prototype, {
    numberOfKeys: {
      configurable: !0,
      enumerable: !0,
      get: function() {
        return this._allKeys.size
      }
    }
  });
  var Zn = new $n;
  var ao = function(a, b, c) {
      this.key = a;
      this.optional = b;
      this.visibility = c
    },
    bo = [],
    co = function(a, b, c) {
      this.key = a;
      this.resolvedFactories = b;
      this.multiProvider = c
    };
  ca.Object.defineProperties(co.prototype, {
    resolvedFactory: {
      configurable: !0,
      enumerable: !0,
      get: function() {
        return this.resolvedFactories[0]
      }
    }
  });
  var eo = function(a, b) {
    this.factory = a;
    this.dependencies = b
  };

  function fo(a) {
    if (a && void 0 !== a.useClass) {
      var b = Cn(a.useClass);
      var c = Pn.factory(b);
      b = go(b)
    } else a && void 0 !== a.useExisting ? (c = function(d) {
      return d
    }, b = [new ao(Zn.get(Cn(a.useExisting)), !1, null)]) : a && void 0 !== a.useFactory ? (c = a.useFactory, b = ho(a.useFactory, a.deps)) : (c = function() {
      return a.useValue
    }, b = bo);
    return new eo(c, b)
  }

  function io(a) {
    return new co(Zn.get(Cn(a.provide)), [fo(a)], a.multi)
  }

  function jo(a) {
    a = ko(a, []).map(io);
    for (var b = new Map, c = 0; c < a.length; c++) {
      var d = a[c],
        e = b.get(d.key.id);
      if (e) {
        if (d.multiProvider !== e.multiProvider) throw Error("Cannot mix multi providers and regular providers, got: " + e + " " + d);
        if (d.multiProvider)
          for (var g = 0; g < d.resolvedFactories.length; g++) e.resolvedFactories.push(d.resolvedFactories[g]);
        else b.set(d.key.id, d)
      } else b.set(d.key.id, d.multiProvider ? new co(d.key, d.resolvedFactories.slice(), d.multiProvider) : d)
    }
    return Array.from(b.values())
  }

  function ko(a, b) {
    a.forEach(function(c) {
      if (c instanceof Jn) b.push({
        provide: c,
        useClass: c
      });
      else if (c && "object" == typeof c && void 0 !== c.provide) b.push(c);
      else if (c instanceof Array) ko(c, b);
      else throw Error("Invalid provider - only instances of Provider and Type are allowed, got: " + c);
    });
    return b
  }

  function ho(a, b) {
    if (b) {
      var c = b.map(function(d) {
        return [d]
      });
      return b.map(function(d) {
        return lo(a, d, c)
      })
    }
    return go(a)
  }

  function go(a) {
    var b = Pn.parameters(a);
    if (!b) return [];
    if (b.some(function(c) {
        return null == c
      })) throw Xn(a, b);
    return b.map(function(c) {
      return lo(a, c, b)
    })
  }

  function lo(a, b, c) {
    var d = null,
      e = !1;
    if (!Array.isArray(b)) return b instanceof R ? mo(b.token, e, null) : mo(b, e, null);
    for (var g = null, h = 0; h < b.length; ++h) {
      var k = b[h];
      k instanceof Jn ? d = k : k instanceof R ? d = k.token : k instanceof Dn ? e = !0 : k instanceof En || k instanceof Fn ? g = k : k instanceof Gn && (d = k)
    }
    d = Cn(d);
    if (null != d) return mo(d, e, g);
    throw Xn(a, c);
  }

  function mo(a, b, c) {
    return new ao(Zn.get(Cn(a)), b, c)
  };
  var no = {},
    oo = function(a, b) {
      this.constructedKeyIds = {};
      this.providers = [];
      this.keyIds = [];
      this.objs = [];
      this.parent = void 0 === b ? null : b;
      a = y(a);
      for (b = a.next(); !b.done; b = a.next()) this.addProvider(b.value)
    };
  f = oo.prototype;
  f.addProvider = function(a) {
    this.providers.push(a);
    this.keyIds.push(a.key.id);
    this.objs.push(no)
  };
  f.get = function(a, b) {
    b = void 0 === b ? Hn : b;
    return this._getByKey(Zn.get(Cn(a)), null, b)
  };
  f.resolveAndCreateChild = function(a) {
    a = jo(a);
    return this.createChildFromResolved(a)
  };
  f.createChildFromResolved = function(a) {
    a = new oo(a);
    a.parent = this;
    return a
  };
  f.resolveAndInstantiate = function(a) {
    return this.instantiateResolved(jo([a])[0])
  };
  f.instantiateResolved = function(a) {
    return this._instantiateProvider(a)
  };
  f.getProviderAtIndex = function(a) {
    if (0 > a || a >= this.providers.length) throw Error("Index " + a + " is out-of-bounds.");
    return this.providers[a]
  };
  f._new = function(a) {
    if (this.constructedKeyIds[a.key.id]) throw Vn(this, a.key);
    this.constructedKeyIds[a.key.id] = !0;
    return this._instantiateProvider(a)
  };
  f._getMaxNumberOfObjects = function() {
    return this.objs.length
  };
  f._instantiateProvider = function(a) {
    if (a.multiProvider) {
      for (var b = Array(a.resolvedFactories.length), c = 0; c < a.resolvedFactories.length; ++c) b[c] = this._instantiate(a, a.resolvedFactories[c]);
      return b
    }
    return this._instantiate(a, a.resolvedFactories[0])
  };
  f._instantiate = function(a, b) {
    var c = this,
      d = b.factory;
    try {
      var e = b.dependencies.map(function(h) {
        return c._getByReflectiveDependency(h)
      })
    } catch (h) {
      throw h.addKey && h.addKey(this, a.key), h;
    }
    try {
      var g = d.apply(null, la(e))
    } catch (h) {
      throw Wn(this, h, h.stack, a.key);
    }
    return g
  };
  f._getByReflectiveDependency = function(a) {
    return this._getByKey(a.key, a.visibility, a.optional ? null : Hn)
  };
  f._getByKey = function(a, b, c) {
    return a === po ? this : b instanceof En ? this._getByKeySelf(a, c) : this._getByKeyDefault(a, c, b)
  };
  f._getObjByKeyId = function(a) {
    for (var b = 0; b < this.keyIds.length; b++)
      if (this.keyIds[b] === a) return this.objs[b] === no && (this.objs[b] = this._new(this.providers[b])), this.objs[b];
    return no
  };
  f._throwOrNull = function(a, b) {
    if (b !== Hn) return b;
    throw Un(this, a);
  };
  f._getByKeySelf = function(a, b) {
    var c = this._getObjByKeyId(a.id);
    return c !== no ? c : this._throwOrNull(a, b)
  };
  f._getByKeyDefault = function(a, b, c) {
    for (var d = c = c instanceof Fn ? this.parent : this; c instanceof oo;) {
      var e = c._getObjByKeyId(a.id);
      if (e !== no) return e;
      c = c.parent
    }
    e = void 0;
    if (null !== c) try {
      var g = c.get(a.token, b);
      if (g !== no) return g
    } catch (h) {
      e = h
    }
    if (!(d instanceof oo && qo(a.token))) {
      if (e) throw e;
      return this._throwOrNull(a, b)
    }
    for (g = d; g.parent instanceof oo;) g = g.parent;
    g.addProvider(io({
      provide: a.token,
      useClass: a.token
    }));
    return g.get(a.token, b)
  };
  f.toString = function() {
    return this.displayName
  };
  ca.Object.defineProperties(oo.prototype, {
    displayName: {
      configurable: !0,
      enumerable: !0,
      get: function() {
        return "ReflectiveInjector(providers: [" + ro(this, function(a) {
          return ' "' + a.key.displayName + '" '
        }).join(", ") + "])"
      }
    }
  });
  var po = Zn.get(Cn(In));

  function ro(a, b) {
    for (var c = Array(a.providers.length), d = 0; d < a.providers.length; ++d) c[d] = b(a.getProviderAtIndex(d));
    return c
  }

  function qo(a) {
    return "function" === typeof a && Pn.parameters(a).every(function(b) {
      return !!b
    })
  };
  var so = function(a) {
    this.name_ = a;
    this.files_ = [];
    this.directories_ = [];
    this.directoryMap_ = {}
  };
  f = so.prototype;
  f.addFile = function(a) {
    this.files_.push(a)
  };
  f.addDirectory = function(a) {
    this.directoryMap_[a.getName()] = a;
    this.directories_.push(a)
  };
  f.getDirectory = function(a) {
    return this.directoryMap_[a]
  };
  f.getDirectories = function() {
    return this.directories_
  };
  f.getFiles = function() {
    return this.files_
  };
  f.getName = function() {
    return this.name_
  };
  var to = function(a, b) {
      this.callback_ = b;
      this.hasError_ = !1;
      this.unscannedDirectories_ = [];
      this.maxConcurrentScans_ = 5;
      this.fileOps_ = this.directoryOps_ = 0;
      this.rootDirectory_ = new so("");
      this.processEntries_(a, this.rootDirectory_);
      this.continueScan_()
    },
    uo = function(a, b) {
      this.entry = a;
      this.parent = b
    };
  f = to.prototype;
  f.processEntries_ = function(a, b) {
    for (var c = 0; c < a.length; c++) {
      var d = a[c];
      d.isFile ? (this.fileOps_++, d.file($a(this.handleFileSuccess_, this, b), $a(this.handleFileError_, this))) : this.unscannedDirectories_.push(new uo(d, b))
    }
  };
  f.continueScan_ = function() {
    if (0 < this.unscannedDirectories_.length && this.directoryOps_ < this.maxConcurrentScans_ && !this.hasError_) {
      this.directoryOps_++;
      var a = this.unscannedDirectories_.shift(),
        b = a.entry,
        c = new so(b.name);
      a.parent.addDirectory(c);
      a = b.createReader();
      a.readEntries($a(this.handleDirectorySuccess_, this, a, c), $a(this.handleDirectoryError_, this))
    }
    0 != this.directoryOps_ || 0 != this.fileOps_ || 0 != this.unscannedDirectories_.length && !this.hasError_ || this.callback_(this.rootDirectory_.getFiles(), this.rootDirectory_.getDirectories(),
      this.hasError_)
  };
  f.handleDirectorySuccess_ = function(a, b, c) {
    this.processEntries_(c, b);
    0 == c.length ? (this.directoryOps_--, this.continueScan_()) : a.readEntries($a(this.handleDirectorySuccess_, this, a, b), $a(this.handleDirectoryError_, this))
  };
  f.handleDirectoryError_ = function() {
    this.hasError_ = !0;
    this.directoryOps_--;
    this.continueScan_()
  };
  f.handleFileSuccess_ = function(a, b) {
    a.addFile(b);
    this.fileOps_--;
    this.continueScan_()
  };
  f.handleFileError_ = function() {
    this.hasError_ = !0;
    this.fileOps_--;
    this.continueScan_()
  };
  var vo = function(a) {
    lj.call(this);
    $i(a, "drop", this.onObjectsDropped_, !1, this);
    $i(a, "dragenter", this.onFilesDragged_, !1, this);
    $i(a, "dragover", this.onFilesDragged_, !1, this)
  };
  K(vo, lj);
  var wo = function(a, b) {
    Hi.call(this, "c");
    this.files = a;
    this.directories = b
  };
  K(wo, Hi);
  var xo = function(a) {
    Hi.call(this, "d");
    this.errorDescription = a
  };
  K(xo, Hi);
  vo.prototype.onObjectsDropped_ = function(a) {
    a.preventDefault();
    var b = a.getBrowserEvent().dataTransfer;
    if ((a = b && b.items) && 0 < a.length && a[0].webkitGetAsEntry) {
      b = [];
      for (var c = 0; c < a.length; c++) b.push(a[c].webkitGetAsEntry());
      var d = this;
      new to(b, function(e, g, h) {
        h ? d.dispatchEvent(new xo("Error occurred while reading from the file system.")) : d.dispatchEvent(new wo(e, g))
      })
    } else(a = b && b.files) && this.dispatchEvent(new wo(a, []))
  };
  vo.prototype.onFilesDragged_ = function(a) {
    a.preventDefault()
  };
  var yo = function(a, b) {
    this.uploadUrl_ = a;
    this.chunkGranularity_ = b
  };
  yo.prototype.getUploadUrl = function() {
    return this.uploadUrl_
  };
  yo.prototype.getChunkGranularity = function() {
    return this.chunkGranularity_
  };
  var zo = function() {
    lj.call(this)
  };
  K(zo, lj);
  var Ao = function(a) {
    Hi.call(this, a)
  };
  K(Ao, Hi);
  var Bo = function() {
    Gl.call(this)
  };
  K(Bo, Gl);
  Bo.prototype.createXhr = function() {
    var a = Gl.prototype.createXhr.call(this);
    a.upload && (a.upload.onprogress = $a(this.onProgress_, this));
    return a
  };
  Bo.prototype.onProgress_ = function(a) {
    this.dispatchEvent(a)
  };
  var Co = function() {
    this.attempt_ = -1;
    this.delayCallId_ = null;
    this.initialDelay_ = 250;
    this.maxDelay_ = 6E4;
    this.maxAttempts_ = -1;
    this.backoffMultiplier_ = 2
  };
  Co.prototype.runNext = function(a) {
    var b = this.attempt_ + 1;
    if (0 < this.maxAttempts_ && b > this.maxAttempts_) return !1;
    if (0 == b) a();
    else {
      var c = this;
      this.delayCallId_ = Lj(function() {
        c.delayCallId_ = null;
        a()
      }, this.getDelay_(), this)
    }
    this.attempt_ = b;
    return !0
  };
  Co.prototype.reset = function() {
    this.delayCallId_ && D.clearTimeout(this.delayCallId_);
    this.attempt_ = -1
  };
  Co.prototype.setMaxAttempts = function(a) {
    this.maxAttempts_ = a
  };
  Co.prototype.getDelay_ = function() {
    var a = this.initialDelay_ * Math.pow(this.backoffMultiplier_, this.attempt_);
    0 <= this.maxDelay_ && (a = Math.min(a, this.maxDelay_));
    return a
  };
  var Do = ["Content-Length", "Content-Type", "Content-Encoding", "Transfer-Encoding"],
    Eo = function(a, b) {
      for (var c in a)
        if (c.toLowerCase() === b.toLowerCase()) return a[c]
    },
    Fo = function(a, b) {
      for (var c in a)
        if (c.toLowerCase() === b.toLowerCase()) return delete a[c], !0;
      return !1
    },
    Go = function(a) {
      a = Hb(a);
      for (var b = 0; b < Do.length; ++b) {
        var c = Do[b],
          d = Eo(a, c);
        d && (a["X-Goog-Upload-Header-" + c] = d, Fo(a, c))
      }
      return a
    },
    Ho = function(a) {
      a = Hb(a);
      Fo(a, "X-Goog-Upload-Status");
      return a
    };
  var Io = function() {
    lj.call(this);
    this.request_ = this.state_ = null;
    this.withCredentials_ = !1;
    this.transferHandle_ = null;
    this.lastEndOffset_ = this.offset_ = this.bytesTransferred_ = 0;
    this.retryIterator_ = new Co;
    this.retryIterator_.setMaxAttempts(6);
    this.errorDescription_ = null;
    this.eventHandler_ = new Fk(this);
    this.registerDisposable(this.eventHandler_);
    this.url_ = this.blob_ = null;
    this.method_ = void 0;
    this.intermediateResponseHeaders_ = this.responseText_ = this.responseHeaders_ = this.responseCode_ = this.chunkSize_ = this.metadata_ =
      this.headers_ = null
  };
  K(Io, zo);
  f = Io.prototype;
  f.MAX_CHUNK_SIZE = 1073741824;
  f.initializeNewTransfer = function(a, b, c, d, e, g) {
    this.url_ = a;
    this.method_ = b;
    this.headers_ = c;
    this.blob_ = d;
    this.metadata_ = e;
    g && (this.withCredentials_ = g);
    this.state_ = "Start"
  };
  f.initializeResumeTransfer = function(a, b) {
    this.blob_ = a;
    this.transferHandle_ = b;
    a = b.getChunkGranularity();
    this.chunkSize_ = Math.floor(this.MAX_CHUNK_SIZE / a) * a;
    this.state_ = "Query"
  };
  f.run = function() {
    this.continueTransfer_()
  };
  f.getBytesTransferred = function() {
    return this.bytesTransferred_
  };
  f.getIntermediateResponseHeaders = function() {
    return this.intermediateResponseHeaders_
  };
  f.getResponseCode = function() {
    return this.responseCode_
  };
  f.getResponseHeaders = function() {
    return this.responseHeaders_
  };
  f.getResponseText = function() {
    return this.responseText_
  };
  f.getErrorDescription = function() {
    return this.errorDescription_
  };
  f.getTransferHandle = function() {
    return this.transferHandle_
  };
  f.isCancelSupported = function() {
    return !0
  };
  f.cancel = function() {
    if ("Response received" != this.state_ && "Error" != this.state_) {
      this.eventHandler_.removeAll();
      this.request_ && this.request_.abort();
      this.retryIterator_.reset();
      if ("Upload" === this.state_ || "Query" === this.state_) {
        var a = this.createXhrRequest();
        a.setWithCredentials(this.withCredentials_);
        a.send(this.transferHandle_.getUploadUrl(), "POST", "", {
          "X-Goog-Upload-Command": "cancel"
        })
      }
      this.state_ = "Cancel";
      this.bytesTransferred_ = 0;
      this.dispatchEvent(new Ao("i"))
    }
  };
  f.isPauseSupported = function() {
    return !1
  };
  f.pause = function() {};
  f.unpause = function() {};
  f.continueTransfer_ = function() {
    var a = $a(this.continueTransferInternal_, this);
    this.retryIterator_.runNext(a) || this.dispatchError_("Transfer encountered too many consecutive failures.")
  };
  f.continueTransferInternal_ = function() {
    switch (this.state_) {
      case "Start":
        this.start_();
        break;
      case "Upload":
        this.upload_();
        break;
      case "Query":
        this.query_();
        break;
      default:
        throw Error("Invalid upload state!");
    }
  };
  f.dispatchError_ = function(a) {
    this.state_ = "Error";
    this.errorDescription_ = a;
    this.dispatchEvent(new Ao("h"))
  };
  f.start_ = function() {
    this.request_ = this.createXhrRequest();
    var a = Hb(this.headers_);
    null != this.blob_.size && (a["Content-Length"] = this.blob_.size);
    a = Go(a);
    a["X-Goog-Upload-Protocol"] = "resumable";
    a["X-Goog-Upload-Command"] = "start";
    this.eventHandler_.removeAll();
    this.eventHandler_.listen(this.request_, "complete", this.onStartComplete_);
    this.request_.setWithCredentials(this.withCredentials_);
    this.request_.send(this.url_, this.method_, this.metadata_, a)
  };
  f.onStartComplete_ = function(a) {
    var b = a.target;
    if (this.isFinalResponse_(b)) this.setFinalResponse_(b);
    else if (this.isIntermediateSuccessResponse_(b)) {
      a = Ij(a.target.getAllResponseHeaders());
      b = {};
      for (var c in a) bc(c.toLowerCase(), "x-goog-upload-header-") && (b[c.substring(21)] = a[c]);
      this.intermediateResponseHeaders_ = b;
      this.dispatchEvent(new Ao("g"));
      c = Eo(a, "X-Goog-Upload-URL");
      a = (a = Eo(a, "X-Goog-Upload-Chunk-Granularity")) ? parseInt(a, 10) : 1;
      void 0 === c || isNaN(a) || 0 >= a ? this.dispatchError_("Server returned invalid headers.") :
        (this.chunkSize_ = Math.floor(this.MAX_CHUNK_SIZE / a) * a, this.transferHandle_ = new yo(c, a), this.dispatchEvent(new Ao("j")), this.state_ = "Upload", this.retryIterator_.reset(), this.continueTransfer_())
    } else this.continueTransfer_()
  };
  f.upload_ = function() {
    var a = this.transferHandle_.getUploadUrl(),
      b = this.blob_.size,
      c;
    if (Jj()) {
      var d = this.chunkSize_;
      d = (c = this.offset_ + d >= b) ? b : this.offset_ + d;
      b = rj(this.blob_, this.offset_, d)
    } else this.offset_ = 0, b = this.blob_, c = !0;
    this.request_ = this.createXhrRequest();
    this.request_.setWithCredentials(this.withCredentials_);
    this.eventHandler_.removeAll();
    this.eventHandler_.listen(this.request_, "progress", this.onUploadProgress_);
    d = this.offset_ + b.size;
    d = $a(this.onUploadComplete_, this, d, c);
    this.eventHandler_.listen(this.request_,
      "complete", d);
    c = this.createUploadHeaders_(this.offset_, c);
    this.request_.send(a, "POST", b, c)
  };
  f.onUploadProgress_ = function(a) {
    this.bytesTransferred_ = this.offset_ + a.loaded;
    this.dispatchEvent(new Ao("e"))
  };
  f.onUploadComplete_ = function(a, b, c) {
    c = c.target;
    this.isFinalResponse_(c) ? (this.bytesTransferred_ = a, this.setFinalResponse_(c)) : this.isIntermediateSuccessResponse_(c) ? b ? this.dispatchError_("Got a non-final success response after issuing a finalize command.") : (this.offset_ = this.bytesTransferred_ = a, this.retryIterator_.reset(), this.continueTransfer_()) : (this.state_ = "Query", this.continueTransfer_())
  };
  f.query_ = function() {
    this.request_ = this.createXhrRequest();
    this.eventHandler_.removeAll();
    this.eventHandler_.listen(this.request_, "complete", this.onQueryComplete_);
    var a = Object.assign({}, this.headers_ || {}, {
      "X-Goog-Upload-Command": "query"
    });
    this.request_.send(this.transferHandle_.getUploadUrl(), "POST", "", a)
  };
  f.onQueryComplete_ = function(a) {
    var b = a.target;
    this.isFinalResponse_(b) ? (200 === b.getStatus() && (this.bytesTransferred_ = this.blob_.size), this.setFinalResponse_(b)) : this.isIntermediateSuccessResponse_(b) ? (a = Ij(a.target.getAllResponseHeaders()), a = parseInt(Eo(a, "X-Goog-Upload-Size-Received"), 10), isNaN(a) ? this.dispatchError_("Server did not respond with current offset.") : (a < this.offset_ && this.dispatchError_("Server lost bytes! Expected an offset of at least " + this.offset_ + ", but got an offset of " + a + "."),
      this.offset_ < a && this.retryIterator_.reset(), this.offset_ = this.bytesTransferred_ = a, this.state_ = "Upload", this.continueTransfer_())) : this.continueTransfer_()
  };
  f.createUploadHeaders_ = function(a, b) {
    return Object.assign({}, this.headers_ || {}, {
      "X-Goog-Upload-Command": "upload" + (b ? ", finalize" : ""),
      "X-Goog-Upload-Offset": a
    })
  };
  f.setFinalResponse_ = function(a) {
    this.responseCode_ = a.getStatus();
    var b = Ij(a.getAllResponseHeaders());
    this.responseHeaders_ = Ho(b);
    this.responseText_ = a.getResponseText();
    this.state_ = "Response received";
    this.dispatchEvent(new Ao("f"))
  };
  f.isIntermediateSuccessResponse_ = function(a) {
    var b = a.getStatus();
    a = Ij(a.getAllResponseHeaders());
    a = Eo(a, "X-Goog-Upload-Status");
    return 200 === b && "active" === a
  };
  f.isFinalResponse_ = function(a) {
    var b = Ij(a.getAllResponseHeaders());
    a = a.getStatus();
    return "final" === Eo(b, "X-Goog-Upload-Status") || 400 <= a && 500 > a
  };
  f.createXhrRequest = function() {
    return new Bo
  };
  var Jo = function(a, b, c, d, e, g) {
    lj.call(this);
    this.payload_ = d;
    this.url_ = a;
    this.method_ = b;
    this.headers_ = c;
    this.metadata_ = e;
    this.metadataOverhead_ = 0;
    this.encoding_ = g || "binary";
    this.boundary_ = this.generateMultipartBoundary_();
    this.transferRequest_ = null;
    this.bytesTransferred_ = 0;
    this.responseText_ = this.responseHeaders_ = this.responseCode_ = null;
    this.state_ = "Ready";
    this.errorDescription_ = null;
    this.eventHandler_ = new Fk(this);
    this.registerDisposable(this.eventHandler_)
  };
  K(Jo, zo);
  f = Jo.prototype;
  f.run = function() {
    var a = Hb(this.headers_);
    null != this.payload_.length && (a["Content-Length"] = this.payload_.length);
    a = Go(a);
    a["X-Goog-Upload-Protocol"] = "multipart";
    a["Content-Type"] = "multipart/related; boundary=" + this.boundary_;
    this.state_ = "Transferring";
    this.transferRequest_ = this.createXhrRequest();
    this.eventHandler_.removeAll();
    this.eventHandler_.listen(this.transferRequest_, "progress", this.onTransferProgress_);
    this.eventHandler_.listen(this.transferRequest_, "complete", this.onTransferComplete_);
    this.transferRequest_.send(this.url_,
      this.method_, this.getMultipartBody_(), a)
  };
  f.getBytesTransferred = function() {
    return this.bytesTransferred_
  };
  f.getIntermediateResponseHeaders = function() {
    return null
  };
  f.getResponseCode = function() {
    return this.responseCode_
  };
  f.getResponseHeaders = function() {
    return this.responseHeaders_
  };
  f.getResponseText = function() {
    return this.responseText_
  };
  f.getErrorDescription = function() {
    return this.errorDescription_
  };
  f.getTransferHandle = function() {
    return null
  };
  f.isCancelSupported = function() {
    return !0
  };
  f.cancel = function() {
    "Complete" != this.state_ && "Error" != this.state_ && (this.eventHandler_.removeAll(), this.transferRequest_ && this.transferRequest_.abort(), this.state_ = "Cancel", this.dispatchEvent(new Ao("i")))
  };
  f.isPauseSupported = function() {
    return !1
  };
  f.pause = function() {};
  f.unpause = function() {};
  f.onTransferProgress_ = function(a) {
    this.bytesTransferred_ = Math.max(0, a.loaded - this.metadataOverhead_);
    this.dispatchEvent(new Ao("e"))
  };
  f.onTransferComplete_ = function(a) {
    var b = a.target.getStatus();
    void 0 === b || -1 === b ? (this.errorDescription_ = "Connection broken before response was received.", this.state_ = "Error", this.dispatchEvent(new Ao("h"))) : (this.responseCode_ = b, a = a.target, b = Ij(a.getAllResponseHeaders()), this.responseHeaders_ = Ho(b), this.responseText_ = a.getResponseText(), this.state_ = "Complete", this.dispatchEvent(new Ao("f")))
  };
  f.generateMultipartBoundary_ = function() {
    var a = new Gf;
    return "scotty-" + dd() + "-" + a.toIsoString()
  };
  f.getMultipartBody_ = function() {
    var a = "--" + this.boundary_ + "\r\n" + ('Content-Disposition: form-data; name="metadata"\r\n\r\n' + this.metadata_ + "\r\n") + "--" + this.boundary_ + "\r\n" + ('Content-Disposition: form-data; name="Filedata"\r\nContent-Transfer-Encoding: ' + this.encoding_ + "\r\n") + "\r\n" + this.payload_ + "\r\n--" + this.boundary_ + "--\r\n";
    this.metadataOverhead_ = a.length - this.payload_.length;
    return a
  };
  f.createXhrRequest = function() {
    return new Bo
  };
  var Ko = function() {};
  Ko.prototype.newTransfer = function(a, b, c, d, e, g) {
    if ("string" === typeof d || d instanceof String) return new Jo(a, b, c, d, e);
    var h = new Io;
    h.initializeNewTransfer(a, b, c, d, e, g);
    return h
  };
  Ko.prototype.resumeTransfer = function(a, b) {
    var c = new Io;
    c.initializeResumeTransfer(a, b);
    return c
  };
  Ko.prototype.newTransferFromBase64String = function(a, b, c, d, e) {
    return new Jo(a, b, c, d, e, "base64")
  };
  Ko.prototype.isFileOrBlob_ = function(a) {
    return a instanceof Blob || "[object File]" === a.toString() || "[object Blob]" === a.toString()
  };
  var Lo = function(a, b, c) {
    a.timeOfStartCall = (new Date).getTime();
    var d = c || D,
      e = d.document,
      g = Ka(d);
    g && (a.nonce = g);
    if ("help" == a.flow) {
      var h = G("document.location.href", d);
      !a.helpCenterContext && h && (a.helpCenterContext = h.substring(0, 1200));
      h = !0;
      if (b && JSON && JSON.stringify) {
        var k = JSON.stringify(b);
        (h = 1200 >= k.length) && (a.psdJson = k)
      }
      h || (b = {
        invalidPsd: !0
      })
    }
    b = [a, b, c];
    d.GOOGLE_FEEDBACK_START_ARGUMENTS = b;
    c = a.serverUri || "//www.google.com/tools/feedback";
    if (h = d.GOOGLE_FEEDBACK_START) h.apply(d, b);
    else {
      d = c + "/load.js?";
      for (var m in a) b = a[m], null != b && !Ta(b) && (d += encodeURIComponent(m) + "=" + encodeURIComponent(b) + "&");
      a = Pf(e).createElement("SCRIPT");
      g && a.setAttribute("nonce", g);
      Yc(a, Cg(d));
      e.body.appendChild(a)
    }
  };
  F("userfeedback.api.startFeedback", Lo, void 0);

  function Mo(a, b, c) {
    a && (a.dataset ? a.dataset[No(b)] = String(c) : a.setAttribute("data-" + b, c))
  }

  function Oo(a, b) {
    return a ? a.dataset ? a.dataset[No(b)] : a.getAttribute("data-" + b) : null
  }
  var Po = {};

  function No(a) {
    return Po[a] || (Po[a] = String(a).replace(/\-([a-z])/g, function(b, c) {
      return c.toUpperCase()
    }))
  };

  function Qo(a, b) {
    Sa(a) && (a = Pd(a));
    return window.setTimeout(a, b)
  }

  function Ro(a, b) {
    Sa(a) && (a = Pd(a));
    return window.setInterval(a, b)
  }

  function So(a) {
    window.clearTimeout(a)
  };
  var To = function(a) {
    return a
  };
  var Uo = G("ytPubsubPubsubInstance") || new Nl;
  Nl.prototype.subscribe = Nl.prototype.subscribe;
  Nl.prototype.unsubscribeByKey = Nl.prototype.unsubscribeByKey;
  Nl.prototype.publish = Nl.prototype.publish;
  Nl.prototype.clear = Nl.prototype.clear;
  F("ytPubsubPubsubInstance", Uo, void 0);
  var Vo = G("ytPubsubPubsubSubscribedKeys") || {};
  F("ytPubsubPubsubSubscribedKeys", Vo, void 0);
  var Wo = G("ytPubsubPubsubTopicToKeys") || {};
  F("ytPubsubPubsubTopicToKeys", Wo, void 0);
  var Xo = G("ytPubsubPubsubIsSynchronous") || {};
  F("ytPubsubPubsubIsSynchronous", Xo, void 0);

  function Yo(a, b, c) {
    var d = Zo();
    if (d) {
      var e = d.subscribe(a, function() {
        var g = arguments;
        var h = To(function() {
          Vo[e] && b.apply(c || window, g)
        }, "yt.pubsub.callFn");
        try {
          Xo[a] ? h() : Qo(h, 0)
        } catch (k) {
          O(k)
        }
      }, c);
      Vo[e] = !0;
      Wo[a] || (Wo[a] = []);
      Wo[a].push(e);
      return e
    }
    return 0
  }

  function $o(a) {
    var b = Zo();
    b && (Ha(a) ? a = [a] : Ga(a) && (a = [parseInt(a, 10)]), hb(a, function(c) {
      b.unsubscribeByKey(c);
      delete Vo[c]
    }))
  }

  function ap(a, b) {
    var c = Zo();
    return c ? c.publish.apply(c, arguments) : !1
  }

  function bp(a) {
    var b = Zo();
    if (b)
      if (b.clear(a), a) cp(a);
      else
        for (var c in Wo) cp(c)
  }

  function Zo() {
    return G("ytPubsubPubsubInstance")
  }

  function cp(a) {
    Wo[a] && (a = Wo[a], hb(a, function(b) {
      Vo[b] && delete Vo[b]
    }), a.length = 0)
  };
  var dp = /\.vflset|-vfl[a-zA-Z0-9_+=-]+/,
    ep = /-[a-zA-Z]{2,3}_[a-zA-Z]{2,3}(?=(\/|$))/;

  function fp(a, b, c) {
    c = void 0 === c ? null : c;
    if (window.spf) {
      c = "";
      if (a) {
        var d = a.indexOf("jsbin/"),
          e = a.lastIndexOf(".js"),
          g = d + 6; - 1 < d && -1 < e && e > g && (c = a.substring(g, e), c = c.replace(dp, ""), c = c.replace(ep, ""), c = c.replace("debug-", ""), c = c.replace("tracing-", ""))
      }
      spf.script.load(a, c, b);
      return null
    }
    return gp(a, b, c)
  }

  function gp(a, b, c) {
    c = void 0 === c ? null : c;
    var d = hp(a),
      e = document.getElementById(d),
      g = e && Oo(e, "loaded"),
      h = e && !g;
    if (g) return b && b(), e;
    b && (g = Yo(d, b), b = "" + Wa(b), ip[b] = g);
    return h ? e : e = jp(a, d, function() {
      Oo(e, "loaded") || (Mo(e, "loaded", "true"), ap(d), Qo(ab(bp, d), 0))
    }, c)
  }

  function jp(a, b, c, d) {
    d = void 0 === d ? null : d;
    var e = fg(document, "SCRIPT");
    e.id = b;
    e.onload = function() {
      c && setTimeout(c, 0)
    };
    e.onreadystatechange = function() {
      switch (e.readyState) {
        case "loaded":
        case "complete":
          e.onload()
      }
    };
    d && e.setAttribute("nonce", d);
    Yc(e, Cg(a));
    a = document.getElementsByTagName("head")[0] || document.body;
    a.insertBefore(e, a.firstChild);
    return e
  }

  function hp(a) {
    var b = document.createElement("a");
    Vc(b, a);
    a = b.href.replace(/^[a-zA-Z]+:\/\//, "//");
    return "js-" + ed(a)
  }
  var ip = {};
  var kp = function() {
    this.loading = !1;
    this.currentProgram_ = this.vm_ = null
  };
  f = kp.prototype;
  f.initialize = function(a, b, c, d, e) {
    var g = this;
    b ? (this.loading = !0, fp(b, function() {
      g.loading = !1;
      if (window.botguard) g.finishLoading_(c, d);
      else {
        var h = hp(b),
          k = document.getElementById(h);
        k && (bp(h), k.parentNode.removeChild(k));
        h = Error("Unable to load Botguard");
        h.params = "from " + b;
        Qd(h)
      }
    }, e)) : a && (eval(a), window.botguard ? this.finishLoading_(c, d) : Qd(Error("Unable to load Botguard from JS")))
  };
  f.isInitialized = function() {
    return !!this.vm_
  };
  f.isInitializedWithProgram = function(a) {
    return this.isInitialized() && !!a && this.currentProgram_ === a
  };
  f.finishLoading_ = function(a, b) {
    try {
      this.vm_ = new window.botguard.bg(a), this.currentProgram_ = a
    } catch (c) {
      Qd(c)
    }
    b && b(a)
  };
  f.invoke = function(a) {
    a = void 0 === a ? {} : a;
    return this.vm_ ? this.vm_.invoke(void 0, void 0, a) : null
  };
  f.dispose = function() {
    this.currentProgram_ = this.vm_ = null
  };
  var lp = function() {};
  f = lp.prototype;
  f.addIdlePriorityJob = function(a, b) {
    return this.addJob(a, 0, b)
  };
  f.addLowPriorityJob = function(a, b) {
    return this.addJob(a, 1, b)
  };
  f.addMediumPriorityJob = function(a, b) {
    return this.addJob(a, 2, b)
  };
  f.addHighPriorityJob = function(a, b) {
    return this.addJob(a, 3, b)
  };
  f.addInputPriorityJob = function(a, b) {
    return this.addJob(a, 4, b)
  };
  f.addImmediateJob = function(a) {
    var b = G("yt.scheduler.instance.addImmediateJob");
    b ? b(a) : a()
  };
  f.cancelJobList = function(a) {
    for (var b = 0, c = a.length; b < c; b++) this.cancelJob(a[b])
  };
  f.debounce = function(a, b, c) {
    var d = this,
      e = 0;
    return function() {
      e && d.cancelJob(e);
      e = d.addJob(a, b, c)
    }
  };
  f.throttle = function(a, b, c) {
    var d = this,
      e = 0,
      g = function() {
        a();
        e = 0
      };
    return function() {
      e || (e = d.addJob(g, b, c))
    }
  };
  var mp = function() {};
  z(mp, lp);
  f = mp.prototype;
  f.useAddJob = function() {
    return !!G("yt.scheduler.instance")
  };
  f.addJob = function(a, b, c) {
    isNaN(c) && (c = void 0);
    var d = G("yt.scheduler.instance.addJob");
    return d ? d(a, b, c) : void 0 === c ? (a(), NaN) : Qo(a, c || 0)
  };
  f.cancelJob = function(a) {
    if (!isNaN(a)) {
      var b = G("yt.scheduler.instance.cancelJob");
      b ? b(a) : So(a)
    }
  };
  f.cancelAllJobs = function() {
    G("yt.scheduler.instance.cancelAllJobs")()
  };
  f.start = function() {
    var a = G("yt.scheduler.instance.start");
    a && a()
  };
  f.pause = function() {
    var a = G("yt.scheduler.instance.pause");
    a && a()
  };
  f.setPriorityThreshold = function(a) {
    var b = G("yt.scheduler.instance.setPriorityThreshold");
    b && b(a)
  };
  f.enablePriorityThreshold = function(a) {
    var b = G("yt.scheduler.instance.enablePriorityThreshold");
    b && b(a)
  };
  f.enableInputPriorityThreshold = function() {
    this.enablePriorityThreshold(4)
  };
  f.enableHighPriorityThreshold = function() {
    this.enablePriorityThreshold(3)
  };
  f.enableMediumPriorityThreshold = function() {
    this.enablePriorityThreshold(2)
  };
  f.enableLowPriorityThreshold = function() {
    this.enablePriorityThreshold(1)
  };
  f.enableIdlePriorityThreshold = function() {
    this.enablePriorityThreshold(0)
  };
  f.setInputPriorityThreshold = function() {
    this.setPriorityThreshold(4)
  };
  f.setHighPriorityThreshold = function() {
    this.setPriorityThreshold(3)
  };
  f.setMediumPriorityThreshold = function() {
    this.setPriorityThreshold(2)
  };
  f.setLowPriorityThreshold = function() {
    this.setPriorityThreshold(1)
  };
  f.setIdlePriorityThreshold = function() {
    this.setPriorityThreshold(0)
  };
  f.clearPriorityThreshold = function() {
    var a = G("yt.scheduler.instance.clearPriorityThreshold");
    a ? a() : this.setIdlePriorityThreshold()
  };
  Na(mp);
  var S = mp.getInstance();

  function np() {
    return parseInt(M("DCLKSTAT", 0), 10)
  };
  var op = new kp,
    pp = !1,
    qp = 0,
    rp = "";

  function sp(a) {
    P("botguard_periodic_refresh") ? qp = Jd() : P("botguard_always_refresh") && (rp = a)
  }

  function tp(a) {
    if (a) {
      if (op.loading) return !1;
      if (P("botguard_periodic_refresh")) return 72E5 < Jd() - qp;
      if (P("botguard_always_refresh")) return rp != a
    } else return !1;
    return !pp
  }

  function up() {
    return op.isInitialized()
  }

  function vp(a) {
    a = void 0 === a ? {} : a;
    return op.invoke(a)
  };
  var wp = function(a) {
    F("yt.ads.biscotti.lastId_", a, void 0)
  };

  function xp(a, b) {
    var c = [];
    xb(a, function(d, e) {
      var g = encodeURIComponent(String(e));
      d = Pa(d) ? d : [d];
      hb(d, function(h) {
        "" == h ? c.push(g) : c.push(g + "=" + encodeURIComponent(String(h)))
      })
    });
    return c.join(b)
  }

  function yp(a) {
    "?" == a.charAt(0) && (a = a.substr(1));
    a = a.split("&");
    for (var b = {}, c = 0, d = a.length; c < d; c++) {
      var e = a[c].split("=");
      if (1 == e.length && e[0] || 2 == e.length) try {
        var g = $c(e[0] || ""),
          h = $c(e[1] || "");
        g in b ? Pa(b[g]) ? tb(b[g], h) : b[g] = [b[g], h] : b[g] = h
      } catch (m) {
        var k = Error("Error decoding URL component");
        k.params = "key: " + e[0] + ", value: " + e[1];
        "q" == e[0] ? Qd(k) : O(k)
      }
    }
    return b
  }

  function zp(a, b, c) {
    var d = a.split("#", 2);
    a = d[0];
    d = 1 < d.length ? "#" + d[1] : "";
    var e = a.split("?", 2);
    a = e[0];
    e = yp(e[1] || "");
    for (var g in b) !c && null !== e && g in e || (e[g] = b[g]);
    return Cj(a, e) + d
  }

  function Ap(a, b) {
    b || (b = window.location.href);
    var c = uj(a)[1] || null,
      d = wj(a);
    return c && d ? xj(a, b) : d ? wj(b) == d && (Number(uj(b)[4] || null) || null) == (Number(uj(a)[4] || null) || null) : !0
  };
  var Bp = function(a, b) {
    this.win_ = a;
    this.doc_ = b
  };
  f = Bp.prototype;
  f.getAdSignals = function(a) {
    a = void 0 === a ? G("yt.ads.biscotti.lastId_") || "" : a;
    var b = Object.assign(this.getCommonClientParams(), this.getPyvClientParams());
    b.ca_type = "image";
    a && (b.bid = a);
    return b
  };
  f.getAdSignalsString = function() {
    return xp(this.getAdSignals(), "&")
  };
  f.getCommonClientParams = function() {
    var a = {};
    a = (a.dt = Wg, a.flash = "0", a.frm = this.getIframeState_(), a);
    a.u_tz = -(new Date).getTimezoneOffset();
    var b = void 0;
    b = void 0 === b ? Xd : b;
    try {
      var c = b.history.length
    } catch (d) {
      c = 0
    }
    a.u_his = c;
    a.u_java = !!Xd.navigator && "unknown" !== typeof Xd.navigator.javaEnabled && !!Xd.navigator.javaEnabled && Xd.navigator.javaEnabled();
    Xd.screen && (a.u_h = Xd.screen.height, a.u_w = Xd.screen.width, a.u_ah = Xd.screen.availHeight, a.u_aw = Xd.screen.availWidth, a.u_cd = Xd.screen.colorDepth);
    Xd.navigator &&
      Xd.navigator.plugins && (a.u_nplug = Xd.navigator.plugins.length);
    Xd.navigator && Xd.navigator.mimeTypes && (a.u_nmime = Xd.navigator.mimeTypes.length);
    return a
  };
  f.getPyvClientParams = function() {
    var a = this.win_;
    try {
      var b = a.screenX;
      var c = a.screenY
    } catch (m) {}
    try {
      var d = a.outerWidth;
      var e = a.outerHeight
    } catch (m) {}
    try {
      var g = a.innerWidth;
      var h = a.innerHeight
    } catch (m) {}
    a = [a.screenLeft, a.screenTop, b, c, a.screen ? a.screen.availWidth : void 0, a.screen ? a.screen.availTop : void 0, d, e, g, h];
    b = this.win_.top;
    try {
      var k = Yf(b || window).round()
    } catch (m) {
      k = new Mf(-12245933, -12245933)
    }
    b = k;
    k = {};
    c = new qn;
    D.SVGElement && D.document.createElementNS && c.set(0);
    d = Hg();
    d["allow-top-navigation-by-user-activation"] &&
      c.set(1);
    d["allow-popups-to-escape-sandbox"] && c.set(2);
    D.crypto && D.crypto.subtle && c.set(3);
    D.TextDecoder && D.TextEncoder && c.set(4);
    c = c.packAsInt52();
    k.bc = c;
    k.bih = b.height;
    k.biw = b.width;
    k.brdim = a.join();
    a = this.doc_;
    return k.vis = {
      visible: 1,
      hidden: 2,
      prerender: 3,
      preview: 4,
      unloaded: 5
    } [a.visibilityState || a.webkitVisibilityState || a.mozVisibilityState || ""] || 0, k.wgl = !!Xd.WebGLRenderingContext, k
  };
  f.getIframeState_ = function() {
    try {
      var a = this.win_.top.location.href
    } catch (b) {
      return 2
    }
    return a ? a === this.doc_.location.href ? 0 : 1 : 2
  };
  var Cp = new Bp(window, window.document);

  function Dp(a) {
    return Cp.getAdSignalsString(a)
  }
  F("yt.ads_.signals_.getAdSignalsString", Dp, void 0);
  cb();
  var Ep = E(XMLHttpRequest) ? function() {
    return new XMLHttpRequest
  } : E(ActiveXObject) ? function() {
    return new ActiveXObject("Microsoft.XMLHTTP")
  } : null;

  function Fp() {
    if (!Ep) return null;
    var a = Ep();
    return "open" in a ? a : null
  }

  function Gp(a) {
    switch (a && "status" in a ? a.status : -1) {
      case 200:
      case 201:
      case 202:
      case 203:
      case 204:
      case 205:
      case 206:
      case 304:
        return !0;
      default:
        return !1
    }
  };
  var Hp = {
      Authorization: "AUTHORIZATION",
      "X-Goog-Visitor-Id": "SANDBOXED_VISITOR_ID",
      "X-YouTube-Client-Name": "INNERTUBE_CONTEXT_CLIENT_NAME",
      "X-YouTube-Client-Version": "INNERTUBE_CONTEXT_CLIENT_VERSION",
      "X-Youtube-Identity-Token": "ID_TOKEN",
      "X-YouTube-Page-CL": "PAGE_CL",
      "X-YouTube-Page-Label": "PAGE_BUILD_LABEL",
      "X-YouTube-Variants-Checksum": "VARIANTS_CHECKSUM"
    },
    Ip = "app debugcss debugjs expflag force_ad_params force_viral_ad_response_params forced_experiments internalcountrycode internalipoverride absolute_experiments conditional_experiments sbb sr_bns_address".split(" "),
    Jp = !1;

  function Kp(a, b) {
    b = void 0 === b ? {} : b;
    var c = Ap(a),
      d = P("web_ajax_ignore_global_headers_if_set"),
      e;
    for (e in Hp) {
      var g = M(Hp[e]);
      !g || !c && !Lp(a, e) || d && void 0 !== b[e] || (b[e] = g)
    }
    if (c || Lp(a, "X-YouTube-Utc-Offset")) b["X-YouTube-Utc-Offset"] = -(new Date).getTimezoneOffset();
    (P("pass_biscotti_id_in_header_ajax") || P("pass_biscotti_id_in_header_ajax_tv")) && (c || Lp(a, "X-YouTube-Ad-Signals")) && (b["X-YouTube-Ad-Signals"] = Dp());
    return b
  }

  function Mp(a, b) {
    var c = wj(a),
      d = vj(uj(a)[5] || null, !0);
    d = (c = c && c.endsWith("youtube.com")) && d && d.startsWith("/api/");
    if (!c || d) return a;
    var e = yp(b),
      g = {};
    hb(Ip, function(h) {
      e[h] && (g[h] = e[h])
    });
    return zp(a, g || {}, !1)
  }

  function Lp(a, b) {
    var c = M("CORS_HEADER_WHITELIST") || {};
    a = wj(a);
    return a ? (c = c[a]) ? pb(c, b) : !1 : !0
  }

  function Np(a, b) {
    if (!window.fetch || "XML" == b.format) return Op(a, b);
    var c = {
      method: b.method || "GET",
      credentials: "same-origin"
    };
    b.headers && (c.headers = b.headers);
    a = Pp(a, b);
    var d = Qp(a, b);
    d && (c.body = d);
    b.withCredentials && (c.credentials = "include");
    var e = !1,
      g;
    a = fetch(a, c);
    a.then(function(h) {
      if (!e) {
        e = !0;
        g && So(g);
        var k = h.ok,
          m = function(l) {
            l = l || {};
            var q = b.context || D;
            k ? b.onSuccess && b.onSuccess.call(q, l, h) : b.onError && b.onError.call(q, l, h);
            b.onFinish && b.onFinish.call(q, l, h)
          };
        "JSON" == (b.format || "JSON") && (k || 400 <= h.status && 500 > h.status) ? h.json().then(m, function() {
          m(null)
        }): m(null)
      }
    });
    b.onFetchTimeout && 0 < b.timeout && (g = Qo(function() {
      e || (e = !0, So(g), b.onFetchTimeout.call(b.context || D))
    }, b.timeout));
    return a
  }

  function Rp(a, b) {
    var c = M("XSRF_FIELD_NAME", void 0),
      d;
    b.headers && (d = b.headers["Content-Type"]);
    return !b.excludeXsrf && (!wj(a) || b.withCredentials || wj(a) == document.location.hostname) && "POST" == b.method && (!d || "application/x-www-form-urlencoded" == d) && !(b.postParams && b.postParams[c])
  }

  function Op(a, b) {
    var c = b.format || "JSON";
    a = Pp(a, b);
    var d = Qp(a, b),
      e = !1,
      g, h = Sp(a, function(k) {
          if (!e) {
            e = !0;
            g && So(g);
            var m = Gp(k),
              l = null,
              q = 400 <= k.status && 500 > k.status,
              p = 500 <= k.status && 600 > k.status;
            if (m || q || p) l = Tp(c, k, b.convertToSafeHtml);
            if (m) a: if (k && 204 == k.status) m = !0;
              else {
                switch (c) {
                  case "XML":
                    m = 0 == parseInt(l && l.return_code, 10);
                    break a;
                  case "RAW":
                    m = !0;
                    break a
                }
                m = !!l
              } l = l || {};
            q = b.context || D;
            m ? b.onSuccess && b.onSuccess.call(q, k, l) : b.onError && b.onError.call(q, k, l);
            b.onFinish && b.onFinish.call(q, k, l)
          }
        }, b.method,
        d, b.headers, b.responseType, b.withCredentials);
    b.onTimeout && 0 < b.timeout && (g = Qo(function() {
      e || (e = !0, h.abort(), So(g), b.onTimeout.call(b.context || D, h))
    }, b.timeout));
    return h
  }

  function Pp(a, b) {
    b.includeDomain && (a = document.location.protocol + "//" + document.location.hostname + (document.location.port ? ":" + document.location.port : "") + a);
    var c = M("XSRF_FIELD_NAME", void 0);
    if (b = b.urlParams) b[c] && delete b[c], a = zp(a, b || {}, !0);
    return a
  }

  function Qp(a, b) {
    var c = M("XSRF_FIELD_NAME", void 0),
      d = M("XSRF_TOKEN", void 0),
      e = b.postBody || "",
      g = b.postParams;
    Rp(a, b) && (g || (g = {}), g[c] = d);
    g && Ga(e) && (e = yp(e), Kb(e, g), e = b.postBodyFormat && "JSON" == b.postBodyFormat ? JSON.stringify(e) : Bj(e));
    g = e || g && !Eb(g);
    !Jp && g && "POST" != b.method && (Jp = !0, O(Error("AJAX request with postData should use POST")));
    return e
  }

  function Tp(a, b, c) {
    var d = null;
    switch (a) {
      case "JSON":
        a = b.responseText;
        b = b.getResponseHeader("Content-Type") || "";
        a && 0 <= b.indexOf("json") && (d = JSON.parse(a));
        break;
      case "XML":
        if (b = (b = b.responseXML) ? Up(b) : null) d = {}, hb(b.getElementsByTagName("*"), function(e) {
          d[e.tagName] = Vp(e)
        })
    }
    c && Wp(d);
    return d
  }

  function Wp(a) {
    if (Ta(a))
      for (var b in a) {
        var c;
        (c = "html_content" == b) || (c = b.length - 5, c = 0 <= c && b.indexOf("_html", c) == c);
        c ? a[b] = Nc(a[b], null) : Wp(a[b])
      }
  }

  function Up(a) {
    return a ? (a = ("responseXML" in a ? a.responseXML : a).getElementsByTagName("root")) && 0 < a.length ? a[0] : null : null
  }

  function Vp(a) {
    var b = "";
    hb(a.childNodes, function(c) {
      b += c.nodeValue
    });
    return b
  }
  var Xp = function(a, b) {
      b.method = "POST";
      b.postParams || (b.postParams = {});
      return Op(a, b)
    },
    Sp = function(a, b, c, d, e, g, h) {
      c = void 0 === c ? "GET" : c;
      d = void 0 === d ? "" : d;
      var k = Fp();
      if (!k) return null;
      var m = function() {
        4 == (k && "readyState" in k ? k.readyState : 0) && b && Pd(b)(k)
      };
      "onloadend" in k ? k.addEventListener("loadend", m, !1) : k.onreadystatechange = m;
      P("debug_forward_web_query_parameters") && (a = Mp(a, window.location.search));
      k.open(c, a, !0);
      g && (k.responseType = g);
      h && (k.withCredentials = !0);
      c = "POST" == c && (void 0 === window.FormData || !(d instanceof FormData));
      if (e = Kp(a, e))
        for (var l in e) k.setRequestHeader(l, e[l]), "content-type" == l.toLowerCase() && (c = !1);
      c && k.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
      k.send(d);
      return k
    },
    Yp = Rp;

  function Zp(a, b) {
    var c = Hb(b),
      d;
    return (new lh(function(e, g) {
      c.onSuccess = function(h) {
        Gp(h) ? e(h) : g(new $p("Request failed, status=" + h.status, "net.badstatus", h))
      };
      c.onError = function(h) {
        g(new $p("Unknown request error", "net.unknown", h))
      };
      c.onTimeout = function(h) {
        g(new $p("Request timed out", "net.timeout", h))
      };
      d = Op(a, c)
    })).thenCatch(function(e) {
      e instanceof wh && d.abort();
      return qh(e)
    })
  }
  var $p = function(a, b, c) {
    db.call(this, a + ", errorCode=" + b);
    this.errorCode = b;
    this.xhr = c;
    this.name = "PromiseAjaxError"
  };
  z($p, db);
  var aq = function(a) {
    this.wrappedPromise_ = void 0 === a ? null : a;
    this.state_ = 0;
    this.value_ = null
  };
  f = aq.prototype;
  f.then = function(a, b, c) {
    return this.wrappedPromise_ ? this.wrappedPromise_.then(a, b, c) : 1 === this.state_ && a ? (a = a.call(c, this.value_), kh(a) ? a : bq(a)) : 2 === this.state_ && b ? (a = b.call(c, this.value_), kh(a) ? a : cq(a)) : this
  };
  f.getValue = function() {
    return this.value_
  };
  f.isRejected = function() {
    return 2 == this.state_
  };
  f.rejectWith_ = function(a) {
    this.state_ = 2;
    this.value_ = void 0 === a ? null : a
  };
  f.fulfillWith_ = function(a) {
    this.state_ = 1;
    this.value_ = void 0 === a ? null : a
  };
  jh(aq);
  var cq = function(a) {
      var b = new aq;
      b.rejectWith_(void 0 === a ? null : a);
      return b
    },
    bq = function(a) {
      var b = new aq;
      b.fulfillWith_(void 0 === a ? null : a);
      return b
    };
  var eq = function(a) {
    db.call(this, a.message || a.description || a.name);
    this.isMissing = a instanceof dq;
    this.isTimeout = a instanceof $p && "net.timeout" == a.errorCode;
    this.isCanceled = a instanceof wh
  };
  z(eq, db);
  eq.prototype.name = "BiscottiError";
  var dq = function() {
    db.call(this, "Biscotti ID is missing from server")
  };
  z(dq, db);
  dq.prototype.name = "BiscottiMissingError";
  var fq = {
      format: "RAW",
      method: "GET",
      timeout: 5E3,
      withCredentials: !0
    },
    gq = null;

  function hq() {
    if ("1" === Cb(Md("PLAYER_CONFIG", {}), "args", "privembed")) return qh(Error("Biscotti ID is not available in private embed mode"));
    gq || (gq = Zp("//googleads.g.doubleclick.net/pagead/id", fq).then(iq).thenCatch(function(a) {
      return jq(2, a)
    }));
    return gq
  }

  function iq(a) {
    a = a.responseText;
    if (!bc(a, ")]}'")) throw new dq;
    a = JSON.parse(a.substr(4));
    if (1 < (a.type || 1)) throw new dq;
    a = a.id;
    wp(a);
    gq = bq(a);
    kq(18E5, 2);
    return a
  }

  function jq(a, b) {
    b = new eq(b);
    wp("");
    gq = cq(b);
    0 < a && kq(12E4, a - 1);
    throw b;
  }

  function kq(a, b) {
    Qo(function() {
      Zp("//googleads.g.doubleclick.net/pagead/id", fq).then(iq, function(c) {
        return jq(b, c)
      }).thenCatch(Ma)
    }, a)
  }
  var lq = function() {
    try {
      var a = G("yt.ads.biscotti.getId_");
      return a ? a() : hq()
    } catch (b) {
      return qh(b)
    }
  };
  var mq = 0,
    nq = he ? "webkit" : ge ? "moz" : de ? "ms" : ce ? "o" : "";

  function oq(a) {
    var b = a.__yt_uid_key;
    b || (b = pq(), a.__yt_uid_key = b);
    return b
  }

  function qq(a, b) {
    if (a in b) return b[a];
    a = nq + a.charAt(0).toUpperCase() + a.substr(1);
    if (a in b) return b[a]
  }
  var pq = G("ytDomDomGetNextId") || function() {
    return ++mq
  };
  F("ytDomDomGetNextId", pq, void 0);
  var rq = {
      stopImmediatePropagation: 1,
      stopPropagation: 1,
      preventMouseEvent: 1,
      preventManipulation: 1,
      preventDefault: 1,
      layerX: 1,
      layerY: 1,
      screenX: 1,
      screenY: 1,
      scale: 1,
      rotation: 1,
      webkitMovementX: 1,
      webkitMovementY: 1
    },
    sq = function(a) {
      this.type = "";
      this.state = this.source = this.data = this.currentTarget = this.relatedTarget = this.target = null;
      this.charCode = this.keyCode = 0;
      this.metaKey = this.shiftKey = this.ctrlKey = this.altKey = !1;
      this.rotation = this.clientY = this.clientX = 0;
      this.scale = 1;
      this.changedTouches = this.touches = null;
      try {
        a =
          a || window.event;
        if (!a) return;
        this.event = a
      } catch (c) {
        if (P("kevlar_js_fixes")) return;
        throw c;
      }
      for (var b in a) b in rq || (this[b] = a[b]);
      this.scale = a.scale;
      this.rotation = a.rotation;
      (b = a.target || a.srcElement) && 3 == b.nodeType && (b = b.parentNode);
      this.target = b;
      (b = a.relatedTarget) ? b = this.filterXulElement_(b): "mouseover" == this.type ? b = a.fromElement : "mouseout" == this.type && (b = a.toElement);
      this.relatedTarget = b;
      this.clientX = void 0 != a.clientX ? a.clientX : a.pageX;
      this.clientY = void 0 != a.clientY ? a.clientY : a.pageY;
      this.keyCode =
        a.keyCode ? a.keyCode : a.which;
      this.charCode = a.charCode || ("keypress" == this.type ? this.keyCode : 0);
      this.altKey = a.altKey;
      this.ctrlKey = a.ctrlKey;
      this.shiftKey = a.shiftKey;
      this.metaKey = a.metaKey;
      this.pageX_ = a.pageX;
      this.pageY_ = a.pageY
    };
  f = sq.prototype;
  f.filterXulElement_ = function(a) {
    try {
      return a.nodeName ? a : null
    } catch (b) {
      return null
    }
  };
  f.calculatePageXYForLegacyBrowser_ = function() {
    if (document.body && document.documentElement) {
      var a = document.body.scrollTop + document.documentElement.scrollTop;
      this.pageX_ = this.clientX + (document.body.scrollLeft + document.documentElement.scrollLeft);
      this.pageY_ = this.clientY + a
    }
  };
  f.getPageX = function() {
    E(this.pageX_) || this.calculatePageXYForLegacyBrowser_();
    return this.pageX_
  };
  f.getPageY = function() {
    E(this.pageY_) || this.calculatePageXYForLegacyBrowser_();
    return this.pageY_
  };
  f.getScreenX = function() {
    return this.event ? this.event.screenX : 0
  };
  f.getScreenY = function() {
    return this.event ? this.event.screenY : 0
  };
  f.preventDefault = function() {
    this.event && (this.event.returnValue = !1, this.event.preventDefault && this.event.preventDefault())
  };
  f.isDefaultPrevented = function() {
    return this.event ? !1 === this.event.returnValue : !1
  };
  f.stopPropagation = function() {
    this.event && (this.event.cancelBubble = !0, this.event.stopPropagation && this.event.stopPropagation())
  };
  f.stopImmediatePropagation = function() {
    this.event && (this.event.cancelBubble = !0, this.event.stopImmediatePropagation && this.event.stopImmediatePropagation())
  };
  f.hasModifierKey = function() {
    return this.altKey || this.ctrlKey || this.shiftKey || this.metaKey
  };
  var tq = G("ytEventsEventsListeners") || {};
  F("ytEventsEventsListeners", tq, void 0);
  var uq = G("ytEventsEventsCounter") || {
    count: 0
  };
  F("ytEventsEventsCounter", uq, void 0);

  function vq(a, b, c, d) {
    d = void 0 === d ? {} : d;
    a.addEventListener && ("mouseenter" != b || "onmouseenter" in document ? "mouseleave" != b || "onmouseenter" in document ? "mousewheel" == b && "MozBoxSizing" in document.documentElement.style && (b = "MozMousePixelScroll") : b = "mouseout" : b = "mouseover");
    return Db(tq, function(e) {
      var g = "boolean" == typeof e[4] && e[4] == !!d,
        h = Ta(e[4]) && Ta(d) && Gb(e[4], d);
      return !!e.length && e[0] == a && e[1] == b && e[2] == c && (g || h)
    })
  }

  function wq(a, b, c, d) {
    d = void 0 === d ? {} : d;
    if (!a || !a.addEventListener && !a.attachEvent) return "";
    var e = vq(a, b, c, d);
    if (e) return e;
    e = ++uq.count + "";
    var g = !("mouseenter" != b && "mouseleave" != b || !a.addEventListener || "onmouseenter" in document);
    var h = g ? function(k) {
      k = new sq(k);
      if (!zg(k.relatedTarget, function(m) {
          return m == a
        }, !0)) return k.currentTarget = a, k.type = b, c.call(a, k)
    } : function(k) {
      k = new sq(k);
      k.currentTarget = a;
      return c.call(a, k)
    };
    h = Pd(h);
    a.addEventListener ? ("mouseenter" == b && g ? b = "mouseover" : "mouseleave" == b && g ? b = "mouseout" : "mousewheel" == b && "MozBoxSizing" in document.documentElement.style && (b = "MozMousePixelScroll"), xq() || "boolean" == typeof d ? a.addEventListener(b, h, d) : a.addEventListener(b, h, !!d.capture)) : a.attachEvent("on" + b, h);
    tq[e] = [a, b, c, h, d];
    return e
  }

  function yq(a) {
    a && ("string" == typeof a && (a = [a]), hb(a, function(b) {
      if (b in tq) {
        var c = tq[b],
          d = c[0],
          e = c[1],
          g = c[3];
        c = c[4];
        d.removeEventListener ? xq() || "boolean" == typeof c ? d.removeEventListener(e, g, c) : d.removeEventListener(e, g, !!c.capture) : d.detachEvent && d.detachEvent("on" + e, g);
        delete tq[b]
      }
    }))
  }
  var zq = vb(function() {
      var a = !1;
      try {
        var b = Object.defineProperty({}, "passive", {
          get: function() {
            a = !0
          }
        });
        window.addEventListener("test", null, b)
      } catch (c) {}
      return a
    }),
    xq = vb(function() {
      var a = !1;
      try {
        var b = Object.defineProperty({}, "capture", {
          get: function() {
            a = !0
          }
        });
        window.addEventListener("test", null, b)
      } catch (c) {}
      return a
    }),
    Aq = function(a, b, c, d) {
      d = void 0 === d ? {} : d;
      var e;
      return e = wq(a, b, function() {
        yq(e);
        c.apply(a, arguments)
      }, d)
    };
  var Bq = function(a) {
    this.callback_ = a;
    this.position_ = null;
    this.previousTime_ = 0;
    this.previousPosition_ = null;
    this.previousVelocity_ = 0;
    this.cycles_ = [];
    for (a = 0; 4 > a; a++) this.cycles_.push(0);
    this.index_ = 0;
    this.mouseListenerKey_ = wq(window, "mousemove", $a(this.onMouseMove_, this));
    this.timerId_ = Ro($a(this.checkPosition_, this), 25)
  };
  K(Bq, Ei);
  Bq.prototype.onMouseMove_ = function(a) {
    this.position_ = new Lf(a.getPageX(), a.getPageY())
  };
  Bq.prototype.getPosition = function() {
    return this.position_ || new Lf
  };
  Bq.prototype.checkPosition_ = function() {
    if (this.position_) {
      var a = Jd();
      if (0 != this.previousTime_) {
        var b = this.previousPosition_,
          c = this.position_,
          d = b.x - c.x;
        b = b.y - c.y;
        d = Math.sqrt(d * d + b * b) / (a - this.previousTime_);
        this.cycles_[this.index_] = .5 < Math.abs((d - this.previousVelocity_) / this.previousVelocity_) ? 1 : 0;
        for (c = b = 0; 4 > c; c++) b += this.cycles_[c] || 0;
        3 <= b && this.callback_();
        this.previousVelocity_ = d
      }
      this.previousTime_ = a;
      this.previousPosition_ = this.position_;
      this.index_ = (this.index_ + 1) % 4
    }
  };
  Bq.prototype.disposeInternal = function() {
    window.clearInterval(this.timerId_);
    yq(this.mouseListenerKey_)
  };

  function Cq(a) {
    var b = a.deltaY,
      c = a.target,
      d = null;
    if (window.Polymer && window.Polymer.Element) {
      c = a.path || a.composedPath && a.composedPath();
      c = y(c);
      for (var e = c.next(); !e.done && (e = e.value, !Dq(e, b)); e = c.next())
        if (e.overscrollConfig) {
          d = e;
          break
        }
    } else
      for (; c && !Dq(c, b);) {
        if (c.overscrollConfig) {
          d = c;
          break
        }
        c = c.parentElement
      }
    d && (b = d.overscrollConfig, b.cooldown ? (d = a.deltaY, c = b.lastDeltaY || 0, b.lastDeltaY = d, e = b.lastStopped || 0, c && e && 0 < c == 0 < d ? Math.abs(c) >= Math.abs(d) ? (d = e + 1200, c = !1) : (d = e + 600, c = !0) : (d = cb() + 600, c = !0), d >
      cb() && (a.preventDefault(), c && (b.lastStopped = cb()))) : a.preventDefault())
  }

  function Dq(a, b) {
    return 0 > b && 0 < a.scrollTop || 0 < b && a.scrollTop < a.scrollHeight - a.clientHeight - 1 ? (a = getComputedStyle(a).overflowY, "auto" == a || "scroll" == a) : !1
  };
  var Eq = function(a) {
    Ei.call(this);
    this.eventHandlers_ = [];
    this.context_ = a || this
  };
  z(Eq, Ei);
  f = Eq.prototype;
  f.listenAll = function(a, b, c) {
    for (var d = 0; d < b.length; d++) this.listenTo(a, b[d], c)
  };
  f.listenTo = function(a, b, c, d, e) {
    c = Pd($a(c, d || this.context_));
    c = {
      target: a,
      name: b,
      callback: c
    };
    var g;
    e && zq() && (g = {
      passive: !0
    });
    a.addEventListener(b, c.callback, g);
    this.eventHandlers_.push(c);
    return c
  };
  f.unlisten = function(a) {
    for (var b = 0; b < this.eventHandlers_.length; b++)
      if (this.eventHandlers_[b] == a) {
        this.eventHandlers_.splice(b, 1);
        a.target.removeEventListener(a.name, a.callback);
        break
      }
  };
  f.unlistenAll = function() {
    for (; this.eventHandlers_.length;) {
      var a = this.eventHandlers_.pop();
      a.target.removeEventListener(a.name, a.callback)
    }
  };
  f.disposeInternal = function() {
    this.unlistenAll();
    Ei.prototype.disposeInternal.call(this)
  };
  var Fq = function(a) {
    a = a || {};
    var b = {
        enablejsapi: 1
      },
      c = {};
    this.url = a.url || "";
    this.args = a.args || Hb(b);
    this.assets = a.assets || {};
    this.attrs = a.attrs || Hb(c);
    this.fallback = a.fallback || null;
    this.fallbackMessage = a.fallbackMessage || null;
    this.html5 = !!a.html5;
    this.disable = a.disable || {};
    this.loaded = !!a.loaded;
    this.messages = a.messages || {}
  };
  Fq.prototype.clone = function() {
    var a = new Fq,
      b;
    for (b in this)
      if (this.hasOwnProperty(b)) {
        var c = this[b];
        "object" == Oa(c) ? a[b] = Hb(c) : a[b] = c
      } return a
  };

  function Gq(a, b, c) {
    b = void 0 === b ? {} : b;
    Sa(b) && (b = {
      callback: b
    });
    c || b._c && b._c.jsl && b._c.jsl.h || Kb(b, {
      _c: {
        jsl: {
          h: M("GAPI_HINT_PARAMS", void 0)
        }
      }
    });
    if (b.gapiHintOverride || M("GAPI_HINT_OVERRIDE")) c = document.location.href, -1 != c.indexOf("?") ? (c = (c || "").split("#")[0], c = c.split("?", 2), c = yp(1 < c.length ? c[1] : c[0])) : c = {}, (c = c.gapi_jsh) && Kb(b, {
      _c: {
        jsl: {
          h: c
        }
      }
    });
    Di(a, b)
  };
  var Hq = {
    MODE_UNSPECIFIED: "MODE_UNSPECIFIED",
    INSERT_AFTER_CURRENT_VIDEO: "INSERT_AFTER_CURRENT_VIDEO",
    INSERT_AT_END: "INSERT_AT_END"
  };
  var Iq = {},
    Jq = 0;

  function Kq(a, b, c, d, e, g) {
    g = g || {};
    g.name = c || M("INNERTUBE_CONTEXT_CLIENT_NAME", 1);
    g.version = d || M("INNERTUBE_CONTEXT_CLIENT_VERSION", void 0);
    b = void 0 === b ? "ERROR" : b;
    e = void 0 === e ? !1 : e;
    b = void 0 === b ? "ERROR" : b;
    e = window && window.yterr || (void 0 === e ? !1 : e) || !1;
    if (!(!a || !e || 5 <= Jq || (P("console_log_js_exceptions") && (e = a, c = [], c.push("Name: " + e.name), c.push("Message: " + e.message), e.hasOwnProperty("params") && c.push("Error Params: " + JSON.stringify(e.params)), c.push("File name: " + e.fileName), c.push("Stacktrace: " + e.stack),
        window.console.log(c.join("\n"), e)), e = a.stacktrace, c = a.columnNumber, a.hasOwnProperty("params") && (d = String(JSON.stringify(a.params)), g.params = d.substr(0, 500)), a = Bf(a), e = e || a.stack, d = a.lineNumber.toString(), isNaN(d) || isNaN(c) || (d = d + ":" + c), window.yterr && Sa(window.yterr) && window.yterr(a), Iq[a.message] || 0 <= e.indexOf("/YouTubeCenter.js") || 0 <= e.indexOf("/mytube.js")))) {
      b = {
        urlParams: {
          a: "logerror",
          t: "jserror",
          type: a.name,
          msg: a.message.substr(0, 250),
          line: d,
          level: b,
          "client.name": g.name
        },
        postParams: {
          url: M("PAGE_NAME",
            window.location.href),
          file: a.fileName
        },
        method: "POST"
      };
      g.version && (b["client.version"] = g.version);
      e && (b.postParams.stack = e);
      for (var h in g) b.postParams["client." + h] = g[h];
      if (h = M("LATEST_ECATCHER_SERVICE_TRACKING_PARAMS", void 0))
        for (var k in h) b.postParams[k] = h[k];
      Op(M("ECATCHER_REPORT_HOST", "") + "/error_204", b);
      Iq[a.message] = !0;
      Jq++
    }
  }

  function Lq(a, b, c) {
    b = void 0 === b ? "ERROR" : b;
    c = void 0 === c ? {} : c;
    var d = G("ytbin.polymer.shared.lib.tampering.info");
    d && (d = d()) && (c.tamperingInfo = JSON.stringify(d));
    Kq(a, b, void 0, void 0, !0, c)
  };
  var Mq = Math.pow(2, 16) - 1,
    Nq = null,
    Oq = 0,
    Pq = {
      log_event: "events",
      log_interaction: "interactions"
    },
    Qq = Object.create(null);
  Qq.log_event = "GENERIC_EVENT_LOGGING";
  Qq.log_interaction = "INTERACTION_LOGGING";
  var Rq = new Set(["log_event"]),
    Sq = {},
    Tq = 0,
    Uq = 0,
    Vq = G("ytLoggingTransportLogPayloadsQueue_") || {};
  F("ytLoggingTransportLogPayloadsQueue_", Vq, void 0);
  var Wq = G("ytLoggingTransportTokensToCttTargetIds_") || {};
  F("ytLoggingTransportTokensToCttTargetIds_", Wq, void 0);
  var Xq = G("ytLoggingTransportDispatchedStats_") || {};
  F("ytLoggingTransportDispatchedStats_", Xq, void 0);
  var Yq = G("ytLoggingTransportCapturedTime_") || {};
  F("ytytLoggingTransportCapturedTime_", Yq, void 0);

  function Zq() {
    So(Tq);
    So(Uq);
    Uq = 0;
    if (!Eb(Vq)) {
      for (var a in Vq) {
        var b = Sq[a];
        b && ($q(a, b), delete Vq[a])
      }
      Eb(Vq) || ar()
    }
  }

  function br() {
    var a = [];
    for (e in Vq) {
      var b = Xq[e] || {};
      Xq[e] = b;
      for (var c in Vq[e]) {
        var d = cr(e, c);
        b.storedEventsCount = b.storedEventsCount || 0;
        b.storedEventsCount += d.length
      }
    }
    var e = Math.round(Jd());
    for (var g in Xq) b = Xq[g], b.eventType = g in Qq ? Qq[g] : "UNKNOWN_TYPE", c = Yq[g], b.metricIntervalMs = c ? e - c : e - NaN, a.push(b), Yq[g] = e, delete Xq[g];
    return a
  }

  function ar() {
    P("web_gel_timeout_cap") && !Uq && (Uq = Qo(Zq, 3E4));
    So(Tq);
    Tq = Qo(Zq, M("LOGGING_BATCH_TIMEOUT", Ud("web_gel_debounce_ms", 1E4)))
  }

  function cr(a, b) {
    b = void 0 === b ? "" : b;
    Vq[a] = Vq[a] || {};
    Vq[a][b] = Vq[a][b] || [];
    return Vq[a][b]
  }

  function $q(a, b) {
    var c = Pq[a],
      d = Xq[a] || {};
    Xq[a] = d;
    var e = Math.round(Jd()),
      g;
    for (g in Vq[a]) {
      var h = Ib(b.buildSkeletonRequest());
      h[c] = cr(a, g);
      d.dispatchedEventCount = d.dispatchedEventCount || 0;
      d.dispatchedEventCount += h[c].length;
      var k = Wq[g];
      if (k) a: {
        var m = g;
        if (k.videoId) var l = "VIDEO";
        else if (k.playlistId) l = "PLAYLIST";
        else break a;h.credentialTransferTokenTargetId = k;h.context = h.context || {};h.context.user = h.context.user || {};h.context.user.credentialTransferTokens = [{
          token: m,
          scope: l
        }]
      }
      delete Wq[g];
      h.requestTimeMs =
        e;
      if (k = M("EVENT_ID", void 0)) l = (M("BATCH_CLIENT_COUNTER", void 0) || 0) + 1, l > Mq && (l = 1), Ld("BATCH_CLIENT_COUNTER", l), k = {
        serializedEventId: k,
        clientCounter: l
      }, h.serializedClientEventId = k, Nq && Oq && P("log_gel_rtt_web") && (h.previousBatchInfo = {
        serializedClientEventId: Nq,
        roundtripMs: Oq
      }), Nq = k, Oq = 0;
      b.postWithOptions(a, h, {
        retry: Rq.has(a),
        onSuccess: $a(dr, this, Jd())
      })
    }
    d.previousDispatchMs && (a = e - d.previousDispatchMs, b = d.diffCount || 0, d.averageTimeBetweenDispatchesMs = b ? (d.averageTimeBetweenDispatchesMs * b + a) / (b + 1) : a, d.diffCount =
      b + 1);
    d.previousDispatchMs = e
  }

  function dr(a) {
    Oq = Math.round(Jd() - a)
  };
  var er = {};

  function fr(a) {
    var b = void 0 === a ? {} : a;
    a = void 0 === b.inferFromNonUserEvents ? !0 : b.inferFromNonUserEvents;
    b = void 0 === b.preferMobileEvents ? !1 : b.preferMobileEvents;
    if (null == G("_lact", window)) {
      var c = parseInt(M("LACT"), 10);
      c = isFinite(c) ? cb() - Math.max(c, 0) : -1;
      F("_lact", c, window);
      F("_fact", c, window); - 1 == c && gr();
      wq(document, "keydown", gr);
      wq(document, "keyup", gr);
      wq(document, "mousedown", gr);
      wq(document, "mouseup", gr);
      a && (b ? wq(window, "touchmove", function() {
        hr("touchmove", 200)
      }, {
        passive: !0
      }) : (wq(window, "resize", function() {
        hr("resize",
          200)
      }), wq(window, "scroll", function() {
        hr("scroll", 200)
      })));
      new Bq(function() {
        hr("mouse", 100)
      });
      wq(document, "touchstart", gr, {
        passive: !0
      });
      wq(document, "touchend", gr, {
        passive: !0
      })
    }
  }

  function hr(a, b) {
    er[a] || (er[a] = !0, S.addLowPriorityJob(function() {
      gr();
      er[a] = !1
    }, b))
  }

  function gr() {
    null == G("_lact", window) && fr();
    var a = cb();
    F("_lact", a, window); - 1 == G("_fact", window) && F("_fact", a, window);
    (a = G("ytglobal.ytUtilActivityCallback_")) && a()
  }

  function ir() {
    var a = G("_lact", window);
    return null == a ? -1 : Math.max(cb() - a, 0)
  };

  function jr(a, b, c, d, e) {
    var g = {};
    g.eventTimeMs = Math.round(d || Jd());
    g[a] = b;
    g.context = {
      lastActivityMs: String(d ? -1 : ir())
    };
    e ? (a = {}, e.videoId ? a.videoId = e.videoId : e.playlistId && (a.playlistId = e.playlistId), Wq[e.token] = a, e = cr("log_event", e.token)) : e = cr("log_event");
    e.push(g);
    c && (Sq.log_event = new c);
    e.length >= (Ud("web_logging_max_batch") || 20) ? Zq() : ar()
  };

  function kr(a, b, c) {
    c = void 0 === c ? {} : c;
    var d = {
      "X-Goog-Visitor-Id": c.visitorData || M("VISITOR_DATA", "")
    };
    if (b && b.includes("www.youtube-nocookie.com")) return d;
    (b = c.authorization || M("AUTHORIZATION")) || (b = a ? "Bearer " + G("gapi.auth.getToken")().access_token : Yh([]));
    b && (d.Authorization = b, d["X-Goog-AuthUser"] = M("SESSION_INDEX", 0), P("pageid_as_header_web") && (d["X-Goog-PageId"] = M("DELEGATED_SESSION_ID")));
    return d
  }

  function lr(a) {
    a = Object.assign({}, a);
    delete a.Authorization;
    var b = Yh();
    if (b) {
      var c = new Oj;
      c.update(M("INNERTUBE_API_KEY", void 0));
      c.update(b);
      a.hash = Me(c.digest(), !0)
    }
    return a
  };

  function mr(a, b, c, d, e, g) {
    zf.set("" + a, b, c, d, void 0 === e ? "youtube.com" : e, void 0 === g ? !1 : g)
  };
  var nr = function(a, b) {
    b ? a = null : (b = new Xl, (b = b.isAvailable() ? a ? new bm(b, a) : b : null) || (a = new Zl(a || "UserDataSharedStore"), b = a.isAvailable() ? a : null), a = b);
    this.expiringStorage_ = a ? new Tl(a) : null;
    this.domain_ = document.domain || window.location.hostname
  };
  f = nr.prototype;
  f.hasLocalStorage = function() {
    return !!this.expiringStorage_
  };
  f.set = function(a, b, c, d) {
    c = c || 31104E3;
    this.remove(a);
    if (this.hasLocalStorage()) try {
      this.expiringStorage_.set(a, b, cb() + 1E3 * c);
      return
    } catch (g) {}
    var e = "";
    if (d) try {
      e = escape(nl(b))
    } catch (g) {
      return
    } else e = escape(b);
    mr(a, e, c, "/", this.domain_)
  };
  f.get = function(a, b) {
    var c = void 0,
      d = !this.hasLocalStorage();
    if (!d) try {
      c = this.expiringStorage_.get(a)
    } catch (e) {
      d = !0
    }
    if (d && (c = zf.get("" + a, void 0)) && (c = unescape(c), b)) try {
      c = JSON.parse(c)
    } catch (e) {
      this.remove(a), c = void 0
    }
    return c
  };
  f.remove = function(a) {
    this.hasLocalStorage() && this.expiringStorage_.remove(a);
    var b = this.domain_;
    zf.remove("" + a, "/", void 0 === b ? "youtube.com" : b)
  };
  f.getCreationTime = function(a) {
    return this.hasLocalStorage() && (a = (this.expiringStorage_.getWrapper(a) || {}).creation, Ha(a)) ? a : null
  };
  f.getExpirationTime = function(a) {
    return this.hasLocalStorage() && (a = (this.expiringStorage_.getWrapper(a) || {}).expiration, Ha(a)) ? a : null
  };
  var or = new nr("yt.innertube");

  function pr(a, b, c, d) {
    if (d) return null;
    d = or.get("nextId", !0) || 1;
    var e = or.get("requests", !0) || {};
    e[d] = {
      method: a,
      request: b,
      authState: lr(c),
      requestTime: Math.round(Jd())
    };
    or.set("nextId", d + 1, 86400, !0);
    or.set("requests", e, 86400, !0);
    return d
  }

  function qr(a) {
    var b = or.get("requests", !0) || {};
    delete b[a];
    or.set("requests", b, 86400, !0)
  }

  function rr(a) {
    var b = or.get("requests", !0);
    if (b) {
      for (var c in b) {
        var d = b[c];
        if (!(6E4 > Math.round(Jd()) - d.requestTime)) {
          var e = d.authState,
            g = lr(kr(!1));
          Gb(e, g) && (e = d.request, "requestTimeMs" in e && (e.requestTimeMs = Math.round(Jd())), a.postWithOptions(d.method, e, {}));
          delete b[c]
        }
      }
      or.set("requests", b, 86400, !0)
    }
  };
  var sr = function(a) {
    var b = this;
    this.config_ = a || {
      innertubeApiKey: M("INNERTUBE_API_KEY", void 0),
      innertubeApiVersion: M("INNERTUBE_API_VERSION", void 0),
      innertubeContextClientName: M("INNERTUBE_CONTEXT_CLIENT_NAME", "WEB"),
      innertubeContextClientVersion: M("INNERTUBE_CONTEXT_CLIENT_VERSION", void 0),
      innertubeContextHostLanguage: M("INNERTUBE_CONTEXT_HL", void 0),
      innertubeContextGeoLocation: M("INNERTUBE_CONTEXT_GL", void 0),
      innertubeHostOverride: M("INNERTUBE_HOST_OVERRIDE", void 0) || "",
      innertubeUseThirdPartyAuth: N("INNERTUBE_USE_THIRD_PARTY_AUTH",
        !1)
    };
    S.addIdlePriorityJob(function() {
      rr(b)
    }, 5E3)
  };
  sr.prototype.buildSkeletonRequest = function() {
    var a = this.config_;
    a = {
      client: {
        hl: a.innertubeContextHostLanguage,
        gl: a.innertubeContextGeoLocation,
        clientName: a.innertubeContextClientName,
        clientVersion: a.innertubeContextClientVersion
      }
    };
    var b = window.devicePixelRatio;
    b && 1 != b && (a.client.screenDensityFloat = String(b));
    M("DELEGATED_SESSION_ID") && !P("pageid_as_header_web") && (a.user = {
      onBehalfOfUser: M("DELEGATED_SESSION_ID")
    });
    return {
      context: a
    }
  };
  sr.prototype.postWithOptions = function(a, b, c) {
    var d = this;
    !M("VISITOR_DATA") && .01 > Math.random() && O(Error("Missing VISITOR_DATA when sending innertube request."), "WARNING");
    var e = {
        headers: {
          "Content-Type": "application/json"
        },
        method: "POST",
        postParams: b,
        postBodyFormat: "JSON",
        onTimeout: function() {
          c.onTimeout()
        },
        onFetchTimeout: c.onTimeout,
        onSuccess: function(n, r) {
          if (c.onSuccess) c.onSuccess(r)
        },
        onFetchSuccess: function(n) {
          if (c.onSuccess) c.onSuccess(n)
        },
        onError: function(n, r) {
          if (c.onError) c.onError(r)
        },
        onFetchError: function(n) {
          if (c.onError) c.onError(n)
        },
        timeout: c.timeout,
        withCredentials: !0
      },
      g = "",
      h = this.config_.innertubeHostOverride;
    h && (g = h);
    h = this.config_.innertubeUseThirdPartyAuth || !1;
    var k = kr(h, g, c);
    Object.assign(e.headers, k);
    e.headers.Authorization && !g && (e.headers["x-origin"] = window.location.origin);
    var m = "" + g + ("/youtubei/" + this.config_.innertubeApiVersion + "/" + a) + "?alt=json&key=" + this.config_.innertubeApiKey,
      l;
    if (c.retry && P("retry_web_logging_batches") && "www.youtube-nocookie.com" != g && (l = pr(a, b, k, h))) {
      var q = e.onSuccess,
        p = e.onFetchSuccess;
      e.onSuccess =
        function(n, r) {
          qr(l);
          q(n, r)
        };
      b.onFetchSuccess = function(n, r) {
        qr(l);
        p(n, r)
      }
    }
    try {
      P("use_fetch_for_op_xhr") ? Np(m, e) : Xp(m, e)
    } catch (n) {
      if ("InvalidAccessError" == n) l && (qr(l), l = 0), O(Error("An extension is blocking network request."), "WARNING");
      else throw n;
    }
    l && S.addIdlePriorityJob(function() {
      rr(d)
    }, 5E3)
  };

  function tr(a, b, c, d) {
    var e = sr;
    N("ytLoggingEventsDefaultDisabled", !1) && sr == sr && (e = null);
    jr(a, b, e, c, d)
  }

  function ur() {
    P("log_web_meta") && br().forEach(function(a) {
      tr("delayedEventMetricCaptured", a)
    })
  };
  var vr = function() {};
  vr.prototype.flush = function(a) {
    a = void 0 === a ? [] : a;
    if (P("enable_client_streamz_web")) {
      a = y(a);
      for (var b = a.next(); !b.done; b = a.next()) {
        b = b.value;
        var c = new hm;
        c.setStreamzName(b.getMetricName());
        c.setFieldNameList(b.getFieldNames());
        for (var d = [], e = b.getFieldValues(), g = 0; g < e.length; g++) {
          var h = e[g];
          var k = b.getCellType();
          for (var m = b.getCells(h) || [], l = [], q = 0; q < m.length; q++) {
            var p = m[q];
            p = p && p.getCellValue();
            var n = new rm;
            switch (k) {
              case 3:
                n.setInt64Val(Number(p));
                break;
              case 2:
                n.setDoubleVal(Number(p))
            }
            l.push(n)
          }
          k =
            l;
          for (m = 0; m < k.length; m++) {
            q = k[m];
            l = new nm;
            l.setIncBy(q);
            q = h;
            p = [];
            n = b.getFieldTypes();
            for (var r = 0; r < n.length; r++) {
              var t = n[r],
                u = q[r],
                v = new pm;
              switch (t) {
                case 3:
                  v.setStrVal(String(u));
                  break;
                case 2:
                  v.setIntVal(Number(u));
                  break;
                case 1:
                  v.setBoolVal("true" == u)
              }
              p.push(v)
            }
            l.setFieldList(p);
            d.push(l)
          }
        }
        c.setIncList(d);
        b = {
          serializedIncrementBatch: Me(c.serializeBinary(), !1)
        };
        tr("streamzIncremented", b)
      }
    }
  };
  var wr = function(a) {
      this.veData_ = a
    },
    xr = function(a) {
      return new wr({
        trackingParams: a
      })
    },
    Ar = function(a, b, c, d) {
      var e = zr++;
      return new wr({
        veType: a,
        veCounter: e,
        elementIndex: c,
        dataElement: b,
        youtubeData: d
      })
    };
  wr.prototype.getAsJson = function() {
    var a = {};
    void 0 !== this.veData_.trackingParams ? a.trackingParams = this.veData_.trackingParams : (a.veType = this.veData_.veType, null != this.veData_.veCounter && (a.veCounter = this.veData_.veCounter), null != this.veData_.elementIndex && (a.elementIndex = this.veData_.elementIndex));
    void 0 !== this.veData_.dataElement && (a.dataElement = this.veData_.dataElement.getAsJson());
    void 0 !== this.veData_.youtubeData && (a.youtubeData = this.veData_.youtubeData);
    return a
  };
  wr.prototype.toString = function() {
    return JSON.stringify(this.getAsJson())
  };
  wr.prototype.isClientVe = function() {
    return !this.veData_.trackingParams && !!this.veData_.veType
  };
  var zr = 1;
  var Cr = Br;

  function Dr(a, b, c, d, e) {
    var g = Cr();
    b = {
      csn: g,
      pageVe: (new wr({
        veType: b,
        youtubeData: void 0
      })).getAsJson()
    };
    c && (b.implicitGesture = {
      parentCsn: c.clientScreenNonce,
      gesturedVe: c.visualElement.getAsJson()
    });
    d && (b.cloneCsn = d);
    jr("screenCreated", b, a, void 0, e);
    return g
  }

  function Er(a, b, c, d, e) {
    b = {
      csn: b,
      parentVe: c.getAsJson(),
      childVes: jb(d, function(g) {
        return g.getAsJson()
      })
    };
    d = y(d);
    for (c = d.next(); !c.done; c = d.next()) c = c.value.getAsJson(), (Eb(c) || !c.trackingParams && !c.veType) && Kq(Error("Child VE logged with no data"), "WARNING");
    jr("visualElementAttached", b, a, void 0, e)
  }

  function Fr(a, b, c, d, e) {
    b = {
      csn: b,
      ve: c.getAsJson(),
      eventType: 1
    };
    d && (b.clientData = d);
    jr("visualElementShown", b, a, void 0, e)
  }

  function Gr(a, b, c, d, e, g) {
    b = {
      csn: b,
      ve: c.getAsJson(),
      gestureType: d || "INTERACTION_LOGGING_GESTURE_TYPE_GENERIC_CLICK"
    };
    e && (b.clientData = e);
    jr("visualElementGestured", b, a, void 0, g)
  }

  function Br() {
    for (var a = Math.random() + "", b = [], c = 0, d = 0; d < a.length; d++) {
      var e = a.charCodeAt(d);
      255 < e && (b[c++] = e & 255, e >>= 8);
      b[c++] = e
    }
    return Me(b, !0)
  };

  function Hr(a, b) {
    hb(b, function(c) {
      Fr(sr, a, c)
    })
  }

  function Ir(a, b) {
    hb(b, function(c) {
      jr("visualElementHidden", {
        csn: a,
        ve: c.getAsJson(),
        eventType: 2
      }, sr, void 0, void 0)
    })
  }

  function Jr(a, b) {
    hb(b, function(c) {
      jr("visualElementShown", {
        csn: a,
        ve: c.getAsJson(),
        eventType: 4
      }, sr, void 0, void 0)
    })
  }

  function Kr(a, b, c) {
    hb(b, function(d) {
      jr("visualElementHidden", {
        csn: a,
        ve: d.getAsJson(),
        eventType: c ? 16 : 8
      }, sr, void 0, void 0)
    })
  };
  var Lr = G("ytLoggingLatencyUsageStats_") || {};
  F("ytLoggingLatencyUsageStats_", Lr, void 0);
  var Mr = 0;

  function Nr(a, b) {
    var c = Object.keys(a).join("");
    Or("info_" + c + "_" + b) || (a.clientActionNonce = b, tr("latencyActionInfo", a))
  }

  function Or(a) {
    Lr[a] = Lr[a] || {
      count: 0
    };
    var b = Lr[a];
    b.count++;
    b.time = Jd();
    Mr || (Mr = S.addIdlePriorityJob(Pr, 5E3));
    if (5 < b.count) {
      if (6 == b.count && 1 > 1E5 * Math.random()) {
        b = 0 == a.indexOf("info") ? "WARNING" : "ERROR";
        var c = Error("CSI data exceeded logging limit with key");
        c.params = a;
        Kq(c, b)
      }
      return !0
    }
    return !1
  }

  function Pr() {
    var a = Jd(),
      b;
    for (b in Lr) 6E4 < a - Lr[b].time && delete Lr[b];
    Mr = 0
  };
  var Qr = cb().toString();

  function Rr(a) {
    a: {
      if (window.crypto && window.crypto.getRandomValues) try {
        var b = Array(a),
          c = new Uint8Array(a);
        window.crypto.getRandomValues(c);
        for (var d = 0; d < b.length; d++) b[d] = c[d];
        var e = b;
        break a
      } catch (g) {}
      e = Array(a);
      for (b = 0; b < a; b++) {
        c = cb();
        for (d = 0; d < c % 23; d++) e[b] = Math.random();
        e[b] = Math.floor(256 * Math.random())
      }
      if (Qr)
        for (b = 1, c = 0; c < Qr.length; c++) e[b % a] = e[b % a] ^ e[(b - 1) % a] / 4 ^ Qr.charCodeAt(c), b++
    }
    a = e;e = [];
    for (b = 0; b < a.length; b++) e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(a[b] & 63));
    return e.join("")
  };
  var Sr = !1,
    Tr = [],
    Ur = G("ytLoggingTimeDocumentNonce_") || Rr(16);
  F("ytLoggingTimeDocumentNonce_", Ur, void 0);
  var Vr = 0,
    Wr = null,
    Xr = null;

  function Yr() {
    if ("hidden" == qq("visibilityState", document)) var a = "FOREGROUND_HEARTBEAT_TRIGGER_ON_BACKGROUND";
    else Zr() && (a = "FOREGROUND_HEARTBEAT_TRIGGER_ON_FOREGROUND", Wr = null);
    a && $r(a)
  }

  function $r(a) {
    if ("FOREGROUND_HEARTBEAT_TRIGGER_ON_BACKGROUND" == a || "FOREGROUND_HEARTBEAT_TRIGGER_ON_FOREGROUND" == a) {
      if (Xr == a) return;
      Xr = a
    }
    var b = 9E4 + 2E3 * Math.random();
    if ("FOREGROUND_HEARTBEAT_TRIGGER_ON_INTERVAL" != a || !(ir() > b) && Zr()) {
      b = -1;
      Wr && (b = Math.round(Jd() - Wr));
      var c = String;
      var d = G("_fact", window);
      d = null == d || -1 == d ? -1 : Math.max(cb() - d, 0);
      a = {
        firstActivityMs: c(d),
        clientDocumentNonce: Ur,
        index: String(Vr),
        lastEventDeltaMs: String(b),
        trigger: a
      };
      jr("foregroundHeartbeat", a, sr);
      F("_fact", -1, window);
      Vr++;
      Wr =
        Jd()
    }
  }

  function Zr() {
    return "visible" == qq("visibilityState", document)
  }

  function as(a) {
    a && jr("foregroundHeartbeatScreenAssociated", {
      clientDocumentNonce: Ur,
      clientScreenNonce: a
    }, sr)
  };

  function bs(a) {
    a = void 0 === a ? 0 : a;
    return 0 == a ? "client-screen-nonce" : "client-screen-nonce." + a
  }

  function cs(a) {
    a = void 0 === a ? 0 : a;
    return 0 == a ? "ROOT_VE_TYPE" : "ROOT_VE_TYPE." + a
  }

  function ds(a) {
    return M(cs(void 0 === a ? 0 : a), void 0)
  }
  F("yt_logging_screen.getRootVeType", ds, void 0);

  function es(a) {
    return (a = ds(void 0 === a ? 0 : a)) ? new wr({
      veType: a,
      youtubeData: void 0
    }) : null
  }

  function fs(a) {
    a = void 0 === a ? 0 : a;
    var b = M(bs(a));
    b || 0 != a || (b = M("EVENT_ID"));
    return b ? b : null
  }
  F("yt_logging_screen.getCurrentCsn", fs, void 0);

  function gs(a, b, c) {
    c = void 0 === c ? 0 : c;
    if (a !== M(bs(c)) || b !== M(cs(c))) Ld(bs(c), a), Ld(cs(c), b), 0 == c && (b = function() {
      setTimeout(function() {
        as(a)
      }, 0)
    }, "requestAnimationFrame" in window ? window.requestAnimationFrame(b) : b())
  }
  F("yt_logging_screen.setCurrentScreen", gs, void 0);
  var hs;

  function is() {
    if (!hs) {
      hs = new Nm(new vr);
      var a = Ud("client_streamz_web_flush_count", -1); - 1 !== a && hs.setFlushCount(a);
      a = Ud("client_streamz_web_flush_interval_seconds", -1); - 1 !== a && hs.setFlushInterval(1E3 * a)
    }
    return hs
  };
  var js = function() {
    this.shownElements_ = new Set;
    this.hiddenElements_ = new Set;
    this.visibleState_ = new Map;
    this.csn_ = null
  };
  f = js.prototype;
  f.newScreen = function() {
    this.clear();
    this.csn_ = fs()
  };
  f.clear = function() {
    this.shownElements_.clear();
    this.hiddenElements_.clear();
    this.visibleState_.clear();
    this.csn_ = null
  };
  f.reportShown = function(a, b, c) {
    b = this.shownElements_.has(a);
    var d = this.visibleState_.get(a);
    this.shownElements_.add(a);
    this.visibleState_.set(a, !0);
    a.impressionLog && !b && a.impressionLog();
    var e = this.getTrackingParams(a);
    if (e || a.visualElement)
      if (c = this.getCurrentCsn_(a, c)) {
        var g = this.getVisibilityTypes_(a);
        if (g || !this.hasLoggingDirectives_(a)) e = a.visualElement ? a.visualElement : xr(e), g || b ? this.elementShouldLogVisibility(a, 4) ? d || Jr(c, [e]) : this.elementShouldLogVisibility(a, 1) && !b && Hr(c, [e]) : Fr(sr, c, e, void 0)
      }
  };
  f.reportHidden = function(a, b, c) {
    b = this.hiddenElements_.has(a);
    var d = this.visibleState_.get(a);
    this.hiddenElements_.add(a);
    this.visibleState_.set(a, !1);
    if (!1 === d) return !0;
    d = this.getTrackingParams(a);
    if (!d && !a.visualElement) return !1;
    c = this.getCurrentCsn_(a, c);
    if (!c || !this.getVisibilityTypes_(a) && this.hasLoggingDirectives_(a)) return !1;
    d = a.visualElement ? a.visualElement : xr(d);
    this.elementShouldLogVisibility(a, 8) ? Kr(c, [d]) : this.elementShouldLogVisibility(a, 2) && !b && Ir(c, [d]);
    return !0
  };
  f.reportChildrenHidden = function(a, b) {
    var c = Array.from(a.children);
    a.shadowRoot && (c = c.concat(a.shadowRoot.children));
    if (c && c.length) {
      a = c.length;
      for (var d = 0; d < a; d++) {
        var e = c[d],
          g = e.screenLayer || b;
        this.reportHidden(e, void 0, g) || this.reportChildrenHidden(e, g)
      }
    }
  };
  f.elementShouldLogGesture = function(a, b) {
    return !!(this.getGestureTypes_(a) & b)
  };
  f.elementShouldLogVisibility = function(a, b) {
    return !!(this.getVisibilityTypes_(a) & b)
  };
  f.getTrackingParams = function(a) {
    return a.data && a.data.loggingDirectives ? a.data.loggingDirectives.trackingParams || "" : a.data && a.data.trackingParams || ""
  };
  f.getCurrentCsn_ = function(a, b) {
    var c = fs(b);
    return null === this.csn_ || c == this.csn_ || b ? c : (b = Error("VETracker called before newScreen()"), b.params = "Caller: " + a.tagName + " Previous CSN: " + this.csn_ + (" Current CSN: " + c), Qd(b), null)
  };
  f.hasLoggingDirectives_ = function(a) {
    return !(!a.data || !a.data.loggingDirectives)
  };
  f.getVisibilityTypes_ = function(a) {
    return parseInt(a.data && a.data.loggingDirectives && a.data.loggingDirectives.visibility && a.data.loggingDirectives.visibility.types || "", 10) || 0
  };
  f.getGestureTypes_ = function(a) {
    return parseInt(a.data && a.data.loggingDirectives && a.data.loggingDirectives.gestures && a.data.loggingDirectives.gestures.types || "", 10) || 0
  };
  Na(js);

  function ks(a, b) {
    b = void 0 === b ? null : b;
    a = {
      youThereEventType: a
    };
    b || (b = fs());
    b && (a.clientScreenNonce = b);
    tr("youThere", a)
  };
  var ls = window.yt && window.yt.msgs_ || window.ytcfg && window.ytcfg.msgs || {};
  F("yt.msgs_", ls, void 0);

  function T(a, b, c) {
    b = void 0 === b ? {} : b;
    a = (a = a in ls ? ls[a] : c) || "";
    c = {};
    for (var d in b) c.$jscomp$loop$prop$ph$439 = d, a = a.replace(new RegExp("\\$" + c.$jscomp$loop$prop$ph$439, "gi"), function(e) {
      return function() {
        return b[e.$jscomp$loop$prop$ph$439]
      }
    }(c)), c = {
      $jscomp$loop$prop$ph$439: c.$jscomp$loop$prop$ph$439
    };
    return a
  }

  function ms(a, b) {
    return ns(a in ls ? ls[a] : {}, b)
  }

  function ns(a, b) {
    var c = M("I18N_PLURAL_RULES");
    c || (c = function(d) {
      return 1 == d ? "one" : "other"
    });
    return (a = a["case" + b] || a[c(b)]) ? a.replace("#", b.toString()) : b + ""
  };
  var os = De || Ee;
  var ps = {},
    qs = 0;

  function rs(a, b, c, d, e) {
    e = void 0 === e ? "" : e;
    a && (c && (c = Ec, c = !(c && 0 <= c.toLowerCase().indexOf("cobalt"))), c ? a && (a = tc(yc(a)), "about:invalid#zClosurez" === a ? a = "" : (a = Mc(Oc(a)), a = encodeURIComponent(String(nl(a)))), /^[\s\xa0]*$/.test(a) || (a = bg("IFRAME", {
      src: 'javascript:"<body><img src=\\""+' + a + '+"\\"></body>"',
      style: "display:none"
    }), Of(a).body.appendChild(a))) : e ? Sp(a, b, "POST", e, d) : M("USE_NET_AJAX_FOR_PING_TRANSPORT", !1) || d ? Sp(a, b, "GET", "", d) : (Nd("web_use_beacon_api_for_ad_click_server_pings") && -1 != vj(uj(a)[5] ||
      null, !0).indexOf("/aclk") && "1" === Fj(a, "ae") && "1" === Fj(a, "act") ? ss(a) ? (b && b(), d = !0) : d = !1 : d = !1, d || ts(a, b)))
  }

  function ss(a, b) {
    try {
      if (window.navigator && window.navigator.sendBeacon && window.navigator.sendBeacon(a, void 0 === b ? "" : b)) return !0
    } catch (c) {}
    return !1
  }

  function ts(a, b) {
    var c = new Image,
      d = "" + qs++;
    ps[d] = c;
    c.onload = c.onerror = function() {
      b && ps[d] && b();
      delete ps[d]
    };
    c.src = a
  };
  var us = /cssbin\/(?:debug-)?([a-zA-Z0-9_-]+?)(?:-2x|-web|-rtl|-vfl|.css)/;

  function vs(a, b) {
    a = a || "";
    if (window.spf) {
      var c = a.match(us);
      spf.style.load(a, c ? c[1] : "", b);
      return null
    }
    return ws(a, b)
  }

  function ws(a, b) {
    var c = xs(a),
      d = document.getElementById(c),
      e = d && Oo(d, "loaded"),
      g = d && !e;
    if (e) return b && b(), d;
    b && (Yo(c, b), Wa(b));
    return g ? d : d = ys(a, c, function() {
      Oo(d, "loaded") || (Mo(d, "loaded", "true"), ap(c), Qo(ab(bp, c), 0))
    })
  }

  function ys(a, b, c) {
    var d = document.createElement("link");
    d.id = b;
    d.onload = function() {
      c && setTimeout(c, 0)
    };
    a = Cg(a);
    Xc(d, a, "stylesheet");
    (document.getElementsByTagName("head")[0] || document.body).appendChild(d);
    return d
  }

  function xs(a) {
    var b = fg(document, "A");
    a = xc(a);
    Vc(b, a);
    b = b.href.replace(/^[a-zA-Z]+:\/\//, "//");
    return "css-" + ed(b)
  };
  var Bs = function(a, b) {
    for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
    if (!zs(a) || c.some(function(e) {
        return !zs(e)
      })) throw Error("Only objects may be merged.");
    c = y(c);
    for (d = c.next(); !d.done; d = c.next()) As(a, d.value);
    return a
  };

  function As(a, b) {
    for (var c in b)
      if (zs(b[c])) {
        if (c in a && !zs(a[c])) throw Error("Cannot merge an object into a non-object.");
        c in a || (a[c] = {});
        As(a[c], b[c])
      } else if (Cs(b[c])) {
      if (c in a && !Cs(a[c])) throw Error("Cannot merge an array into a non-array.");
      c in a || (a[c] = []);
      Ds(a[c], b[c])
    } else a[c] = b[c];
    return a
  }

  function Ds(a, b) {
    b = y(b);
    for (var c = b.next(); !c.done; c = b.next()) c = c.value, zs(c) ? a.push(As({}, c)) : Cs(c) ? a.push(Ds([], c)) : a.push(c);
    return a
  }
  var zs = function(a) {
      return "object" === typeof a && !Array.isArray(a)
    },
    Cs = function(a) {
      return "object" === typeof a && Array.isArray(a)
    };

  function Es(a, b, c) {
    var d = M("VALID_SESSION_TEMPDATA_DOMAINS", []),
      e = wj(window.location.href);
    e && d.push(e);
    e = wj(a);
    if (pb(d, e) || !e && bc(a, "/"))
      if (P("autoescape_tempdata_url") && (d = document.createElement("a"), Vc(d, a), a = d.href), a) {
        e = uj(a);
        a = e[5];
        d = e[6];
        e = e[7];
        var g = "";
        a && (g += a);
        d && (g += "?" + d);
        e && (g += "#" + e);
        a = g;
        d = a.indexOf("#");
        if (a = 0 > d ? a : a.substr(0, d)) {
          if (b.itct || b.ved) b.csn = b.csn || fs();
          c ? (c = parseInt(c, 10), isFinite(c) && 0 < c && (a = "ST-" + ed(a).toString(36), b = b ? Bj(b) : "", mr(a, b, c || 5, "/"))) : (c = "ST-" + ed(a).toString(36),
            b = b ? Bj(b) : "", mr(c, b, 5, "/"))
        }
      }
  };

  function Fs(a, b, c, d) {
    b = void 0 === b ? {} : b;
    c = void 0 === c ? "" : c;
    d = void 0 === d ? window : d;
    Zc(d.location, Cj(a, b) + c)
  }

  function Gs(a, b, c) {
    b = void 0 === b ? {} : b;
    c = void 0 === c ? !1 : c;
    var d = M("EVENT_ID");
    d && (b.ei || (b.ei = d));
    b && Es(a, b);
    if (c) return !1;
    (window.ytspf || {}).enabled ? spf.navigate(a) : Fs(a);
    return !0
  };
  var Hs = function(a, b) {
    Ei.call(this);
    this.containerElement_ = this.targetElement_ = a;
    this.playerId_ = b;
    this.isCurrentPlayerApiSetup_ = !1;
    this.api = {};
    this.playerRemoveEventListener_ = this.playerAddEventListener_ = null;
    this.pubsub_ = new Nl;
    this.registerDisposable(this.pubsub_);
    this.globalCallbacks_ = {};
    this.currentPlayerType_ = this.readyCallback_ = this.elementId_ = this.unmodifiedConfig_ = this.config_ = null;
    this.creatingPlayer_ = !1;
    this.bootstrapPlayer_ = this.createPlayerCallback_ = null;
    this.wrappedCallbacks_ = {};
    this.internalEvents_ = ["onReady"];
    this.lastError_ = null;
    this.readyPollTimer_ = NaN;
    this.globalCallbackTimerIds_ = {};
    this.resetApi_();
    this.addEventListeners_();
    this.mouseWheelListeners_ = new Eq(this);
    this.registerDisposable(this.mouseWheelListeners_)
  };
  z(Hs, Ei);
  f = Hs.prototype;
  f.getId = function() {
    return this.playerId_
  };
  f.loadNewVideoConfig = function(a) {
    this.isDisposed() || (a instanceof Fq || (a = new Fq(a)), this.setConfig_(a), this.writePlayer(), this.isReady_() && this.updatePlayerVars_())
  };
  f.setConfig_ = function(a) {
    this.unmodifiedConfig_ = a;
    this.config_ = a.clone();
    this.elementId_ = this.config_.attrs.id || this.elementId_;
    "video-player" == this.elementId_ && (this.elementId_ = this.playerId_, this.config_.attrs.id = this.playerId_);
    this.containerElement_.id == this.elementId_ && (this.elementId_ += "-player", this.config_.attrs.id = this.elementId_);
    this.config_.args.enablejsapi = "1";
    this.config_.args.playerapiid = this.playerId_;
    this.readyCallback_ || (this.readyCallback_ = this.createCallback_(this.config_.args.jsapicallback ||
      "onYouTubePlayerReady"));
    this.config_.args.jsapicallback = null;
    this.updateTargetStyle_()
  };
  f.getConfig_ = function() {
    return this.unmodifiedConfig_
  };
  f.updateTargetStyle_ = function() {
    var a = this.config_.attrs.width;
    a && (this.containerElement_.style.width = Og(Number(a) || a, !0));
    if (a = this.config_.attrs.height) this.containerElement_.style.height = Og(Number(a) || a, !0)
  };
  f.updatePlayerVars_ = function() {
    this.config_.loaded || (this.config_.loaded = !0, "0" != this.config_.args.autoplay ? this.api.loadVideoByPlayerVars(this.config_.args) : this.api.cueVideoByPlayerVars(this.config_.args))
  };
  f.isPlayerCodeAvailable_ = function() {
    var a = !0,
      b = this.getPlayerElement_();
    b && this.config_ && (a = this.config_, a = Oo(b, "version") == a.assets.js);
    return a && !!G("yt.player.Application.create")
  };
  f.createApplication_ = function(a, b) {
    G("yt.player.Application.create")(a, b)
  };
  f.writePlayer = function() {
    var a = this;
    if (!this.isDisposed() && !this.creatingPlayer_) {
      var b = this.isPlayerCodeAvailable_();
      if (b && "html5" == this.detectPlayerType_()) this.currentPlayerType_ = "html5", this.isReady_() || this.pollPlayerReady_();
      else if (this.destroyCurrentPlayer_(), this.currentPlayerType_ = "html5", b && this.bootstrapPlayer_) this.targetElement_.appendChild(this.bootstrapPlayer_), this.pollPlayerReady_();
      else {
        this.config_.loaded = !0;
        var c = !1;
        this.createPlayerCallback_ = function() {
          c = !0;
          a.createApplication_(a.targetElement_,
            a.config_.clone());
          a.pollPlayerReady_()
        };
        this.creatingPlayer_ = !0;
        b ? this.createPlayerCallback_() : (fp(this.config_.assets.js, this.createPlayerCallback_), vs(this.config_.assets.css), this.shouldDestroyOldPlayerOnVersionUpgrade_() && !c && F("yt.player.Application.create", null, void 0))
      }
    }
  };
  f.getPlayerElement_ = function() {
    var a = Qf(document, this.elementId_);
    !a && this.containerElement_ && this.containerElement_.querySelector && (a = this.containerElement_.querySelector("#" + this.elementId_));
    return a
  };
  f.pollPlayerReady_ = function() {
    var a = this;
    if (!this.isDisposed()) {
      var b = this.getPlayerElement_(),
        c = !1;
      b && b.getApiInterface && b.getApiInterface() && (c = !0);
      c ? (this.creatingPlayer_ = !1, b.isNotServable && b.isNotServable(this.config_.args.video_id) || this.setupApi_()) : this.readyPollTimer_ = Qo(function() {
        a.pollPlayerReady_()
      }, 50)
    }
  };
  f.setupApi_ = function() {
    this.resetApi_();
    this.isCurrentPlayerApiSetup_ = !0;
    var a = this.getPlayerElement_();
    a.addEventListener && (this.playerAddEventListener_ = this.bindApi_(a, "addEventListener"));
    a.removeEventListener && (this.playerRemoveEventListener_ = this.bindApi_(a, "removeEventListener"));
    var b = a.getApiInterface();
    b = b.concat(a.getInternalApiInterface());
    for (var c = 0; c < b.length; c++) {
      var d = b[c];
      this.api[d] || (this.api[d] = this.bindApi_(a, d))
    }
    for (var e in this.globalCallbacks_) this.playerAddEventListener_(e,
      this.globalCallbacks_[e]);
    this.updatePlayerVars_();
    this.readyCallback_ && this.readyCallback_(this.api);
    this.pubsub_.publish("onReady", this.api)
  };
  f.bindApi_ = function(a, b) {
    var c = a[b],
      d = this;
    return function() {
      try {
        return d.lastError_ = null, c.apply(a, arguments)
      } catch (e) {
        "sendAbandonmentPing" != b && (e.message += " (" + b + ")", d.lastError_ = e, Qd(e))
      }
    }
  };
  f.resetApi_ = function() {
    this.isCurrentPlayerApiSetup_ = !1;
    if (this.playerRemoveEventListener_)
      for (var a in this.globalCallbacks_) this.playerRemoveEventListener_(a, this.globalCallbacks_[a]);
    for (var b in this.globalCallbackTimerIds_) So(parseInt(b, 10));
    this.globalCallbackTimerIds_ = {};
    this.playerRemoveEventListener_ = this.playerAddEventListener_ = null;
    for (var c in this.api) this.api[c] = null;
    this.api.addEventListener = this.addEventListener_.bind(this);
    this.api.removeEventListener = this.removeEventListener_.bind(this);
    this.api.destroy = this.dispose.bind(this);
    this.api.getLastError = this.getLastError_.bind(this);
    this.api.getPlayerType = this.getPlayerType_.bind(this);
    this.api.getCurrentVideoConfig = this.getConfig_.bind(this);
    this.api.loadNewVideoConfig = this.loadNewVideoConfig.bind(this);
    this.api.isReady = this.isReady_.bind(this)
  };
  f.isReady_ = function() {
    return this.isCurrentPlayerApiSetup_
  };
  f.addEventListeners_ = function() {
    this.addEventListener_("WATCH_LATER_VIDEO_ADDED", this.onPlayerWatchLaterVideoAdded_.bind(this));
    this.addEventListener_("WATCH_LATER_VIDEO_REMOVED", this.onPlayerWatchLaterVideoRemoved_.bind(this));
    this.addEventListener_("onAdAnnounce", this.a11yAnnounce_.bind(this))
  };
  f.addEventListener_ = function(a, b) {
    var c = this,
      d = this.createCallback_(b);
    d && (pb(this.internalEvents_, a) || this.globalCallbacks_[a] || (b = this.createGlobalCallback_(a), this.playerAddEventListener_ && this.playerAddEventListener_(a, b)), this.pubsub_.subscribe(a, d), "onReady" == a && this.isReady_() && Qo(function() {
      d(c.api)
    }, 0))
  };
  f.removeEventListener_ = function(a, b) {
    this.isDisposed() || (b = this.createCallback_(b)) && this.pubsub_.unsubscribe(a, b)
  };
  f.createCallback_ = function(a) {
    var b = a;
    if ("string" == typeof a) {
      if (this.wrappedCallbacks_[a]) return this.wrappedCallbacks_[a];
      b = function() {
        var c = G(a);
        c && c.apply(D, arguments)
      };
      this.wrappedCallbacks_[a] = b
    }
    return b ? b : null
  };
  f.createGlobalCallback_ = function(a) {
    var b = this,
      c = "ytPlayer" + a + this.playerId_;
    this.globalCallbacks_[a] = c;
    D[c] = function(d) {
      var e = Qo(function() {
        if (!b.isDisposed()) {
          b.pubsub_.publish(a, d);
          var g = b.globalCallbackTimerIds_,
            h = String(e);
          h in g && delete g[h]
        }
      }, 0);
      Fb(b.globalCallbackTimerIds_, String(e), !0)
    };
    return c
  };
  f.removeGlobalCallbacks_ = function() {
    for (var a in this.globalCallbacks_) D[this.globalCallbacks_[a]] = null
  };
  f.a11yAnnounce_ = function(a) {
    ap("a11y-announce", a)
  };
  f.onPlayerWatchLaterVideoAdded_ = function(a) {
    ap("WATCH_LATER_VIDEO_ADDED", a)
  };
  f.onPlayerWatchLaterVideoRemoved_ = function(a) {
    ap("WATCH_LATER_VIDEO_REMOVED", a)
  };
  f.getPlayerType_ = function() {
    return this.currentPlayerType_ || this.detectPlayerType_()
  };
  f.getLastError_ = function() {
    return this.lastError_
  };
  f.detectPlayerType_ = function() {
    return this.getPlayerElement_() ? "html5" : null
  };
  f.destroyCurrentPlayer_ = function() {
    this.cancel();
    this.resetApi_();
    this.currentPlayerType_ = null;
    this.config_ && (this.config_.loaded = !1);
    var a = this.getPlayerElement_();
    a && (this.isPlayerCodeAvailable_() || !this.shouldDestroyOldPlayerOnVersionUpgrade_() ? this.bootstrapPlayer_ = a : (a && a.destroy && a.destroy(), this.bootstrapPlayer_ = null));
    gg(this.targetElement_)
  };
  f.cancel = function() {
    if (this.createPlayerCallback_) {
      var a = this.createPlayerCallback_;
      this.config_.assets.js && a && (a = "" + Wa(a), (a = ip[a]) && $o(a))
    }
    So(this.readyPollTimer_);
    this.creatingPlayer_ = !1
  };
  f.disposeInternal = function() {
    this.destroyCurrentPlayer_();
    if (this.bootstrapPlayer_ && this.config_ && this.bootstrapPlayer_.destroy) try {
      this.bootstrapPlayer_.destroy()
    } catch (a) {
      O(a)
    }
    this.wrappedCallbacks_ = null;
    this.removeGlobalCallbacks_();
    this.unmodifiedConfig_ = this.config_ = this.api = null;
    delete this.targetElement_;
    delete this.containerElement_;
    Ei.prototype.disposeInternal.call(this)
  };
  f.shouldDestroyOldPlayerOnVersionUpgrade_ = function() {
    return this.config_ && this.config_.args && this.config_.args.fflags ? -1 != this.config_.args.fflags.indexOf("player_destroy_old_version=true") : !1
  };
  var Is = {},
    Js = "player_uid_" + (1E9 * Math.random() >>> 0);

  function Ks(a, b) {
    a = Ga(a) ? Qf(document, a) : a;
    var c = Js + "_" + Wa(a),
      d = Is[c];
    if (d) return d.loadNewVideoConfig(b), d.api;
    d = new Hs(a, c);
    Is[c] = d;
    ap("player-added", d.api);
    d.addOnDisposeCallback(ab(Ls, d));
    Qo(function() {
      d.loadNewVideoConfig(b)
    }, 0);
    return d.api
  }

  function Ls(a) {
    delete Is[a.getId()]
  };
  var Ms = function(a, b, c, d) {
      this.actionName = a;
      this.optionalAction = void 0 === b ? !1 : b;
      this.args = void 0 === c ? null : c;
      this.disableBroadcast = void 0 === d ? !1 : d;
      this.returnValue = []
    },
    Ns = function(a, b, c) {
      this.actionName = a;
      this.context = b;
      this.handler = c
    },
    Os = function(a, b) {
      this.actionName = a;
      this.context = b
    };
  window.Ms = Ms
  var Ps = new Map,
    Qs = new Map,
    Rs = function(a, b, c) {
      var d = Wa(a);
      !c && Ps.has(d) && S.addIdlePriorityJob(function() {
        var e = Error("Unable to register component, already registered");
        e.params = "Name: " + (b.is || b) + " Definition: " + a;
        Lq(e, "WARNING")
      }, 5E3);
      Ps.set(d, b);
      Qs.set(b.is, d)
    },
    Ss = function(a) {
      a = Wa(a);
      return Ps.get(a)
    },
    Ts = function(a) {
      a = Qs.get(a);
      return Ps.get(a)
    };

  function Us(a, b) {
    for (var c in b)
      if (b.hasOwnProperty(c)) {
        var d = c,
          e = b[c];
        a = Hj(a, d);
        e = null != e ? "=" + encodeURIComponent(String(e)) : "";
        a = zj(a, d + e)
      } return a
  }

  function Vs(a, b, c) {
    b.urlEndpoint && "TARGET_NEW_WINDOW" == b.urlEndpoint.target ? a.target = "_blank" : c ? a.target = c : a.removeAttribute("target")
  }

  function Ws(a, b, c) {
    c = void 0 === c ? !1 : c;
    if (!a) return null;
    if (a.adInfoDialogEndpoint || a.confirmDialogEndpoint || a.guideBuilderEndpoint || a.modalEndpoint || a.shareEndpoint || a.shareEntityEndpoint || a.subscriptionManagerEndpoint || a.videoEditorEndpoint || a.backstageImageUploadEndpoint || a.createBackstagePostDialogEndpoint || a.createCommentReplyDialogEndpoint || a.updateCommentDialogEndpoint || a.updateCommentReplyDialogEndpoint || a.flowEndpoint || a.liveChatDialogEndpoint || a.showLiveChatItemEndpoint || a.unlimitedCreateFamilyEndpoint ||
      a.unlimitedFamilyFlowEndpoint || a.userFeedbackEndpoint || a.ypcCancelSurveyEndpoint || a.clientActionEndpoint) return b = Ud("polymer_report_client_url_requested_rate"), !c && Math.random() < b && (b = Error("urlForEndpoint used on client endpoint"), b.params = a, Qd(b)), null;
    var d = Ud("polymer_report_missing_web_navigation_endpoint_rate");
    !a.commandMetadata && !a.clickTrackingParams && Math.random() < d && (c = Error("Missing navigation data"), c.params = a, O(c, "WARNING"));
    c = "";
    if (a.commandMetadata && a.commandMetadata.webCommandMetadata &&
      a.commandMetadata.webCommandMetadata.url) c = a.commandMetadata.webCommandMetadata.url;
    else if (a.searchEndpoint) Math.random() < d && (c = Error("Should not manually handle search"), c.params = a, O(c, "WARNING")), c = "/results?search_query=" + encodeURIComponent(a.searchEndpoint.query).replace(/%20/g, "+"), a.searchEndpoint.params && (c += "&sp=" + a.searchEndpoint.params);
    else if (a.watchEndpoint) Math.random() < d && (c = Error("Should not manually handle watch"), c.params = a, O(c, "WARNING")), c = "/watch?v=" + a.watchEndpoint.videoId,
      a.watchEndpoint.playlistId && (c += "&list=" + a.watchEndpoint.playlistId), a.watchEndpoint.index && (c += "&index=" + a.watchEndpoint.index), a.watchEndpoint.startTimeSeconds && (c += "&t=" + a.watchEndpoint.startTimeSeconds);
    else if (a.browseEndpoint) {
      d = a.browseEndpoint.browseId;
      var e = a.browseEndpoint.canonicalBaseUrl;
      e ? c = e : d && (c = d.substr(0, 2), c = "FE" == c ? "FEwhat_to_watch" == d ? "/" : "FEmy_videos" == d ? "/my_videos" : "/feed/" + d.substr(2) : "VL" == c ? "/playlist?list=" + d.substr(2) : "/channel/" + d);
      c && a.browseEndpoint.query && (c = Us(c +
        "/search", {
          query: a.browseEndpoint.query
        }));
      c && a.browseEndpoint.params && (c = Us(c, {
        params: a.browseEndpoint.params
      }))
    } else {
      if (a.urlEndpoint) return a.urlEndpoint.url;
      a.signInEndpoint ? (c = "https://accounts.google.com/ServiceLogin", d = {}, Kb(d, b || {}, {
          "continue": window.location.href.split("#")[0],
          action_handle_signin: !0,
          passive: !0
        }), b = d) : a.uploadEndpoint ? c = "//www.youtube.com/upload" : a.liveChatEndpoint ? (c = Hb(a.liveChatEndpoint), Ta(a.liveChatEndpoint.continuation) && (d = Object.keys(a.liveChatEndpoint.continuation)[0],
          c.continuation = a.liveChatEndpoint.continuation[d].continuation), c = Us("/live_chat/get_live_chat", c)) : a.liveChatReplayEndpoint ? (c = Hb(a.liveChatReplayEndpoint), c.currentPlayerState && (Kb(c, c.currentPlayerState), delete c.currentPlayerState), c = Us("/live_chat_replay/get_live_chat_replay", c)) : a.liveChatItemContextMenuEndpoint ? c = Us("/live_chat/get_live_chat_item_context_menu", a.liveChatItemContextMenuEndpoint) : a.liveChatPurchaseMessageEndpoint ? c = Us("/live_chat/get_live_chat_message_buy_flow", a.liveChatPurchaseMessageEndpoint) :
        a.openSuperStickerBuyFlowCommand ? c = Us("/live_chat/get_live_chat_super_sticker_buy_flow", a.openSuperStickerBuyFlowCommand) : a.videoEditEndpoint ? c = Us("/edit", {
          video_id: a.videoEditEndpoint.videoId
        }) : a.liveDashboardEndpoint ? c = a.liveDashboardEndpoint.videoId ? Us("/live_dashboard", {
          v: a.liveDashboardEndpoint.videoId
        }) : "/live_dashboard" : a.signalNavigationEndpoint && a.signalNavigationEndpoint.signal && "WEBCAM" == a.signalNavigationEndpoint.signal && (c = "/webcam")
    }
    return c ? Us(c, b || {}) : (b = Error("Error: Can't construct url for endpoint"),
      b.params = a, O(b), null)
  }

  function Xs(a) {
    if (a) {
      if (a.browseEndpoint) return !!a.browseEndpoint.nofollow;
      if (a.watchEndpoint) return !!a.watchEndpoint.nofollow;
      if (a.urlEndpoint) return !!a.urlEndpoint.nofollow
    }
    return !1
  };
  var Ys = function() {};
  Ys.prototype.getUrl = function() {};
  Ys.prototype.getNavigationEventDetails = function() {};
  var Zs = function() {};
  Zs.prototype.getUrl = function(a, b) {
    b = void 0 === b ? !1 : b;
    return a.hasOwnProperty("shareEndpoint") ? null : Ws(a, null, b)
  };
  Zs.prototype.setTarget = function(a, b, c) {
    Vs(a, b, c)
  };
  Zs.prototype.getNavigationEventDetails = function(a, b) {
    a = {
      endpoint: a,
      actions: []
    };
    b = (b.path ? b.path[0] : b.target).icon || "";
    var c = b.indexOf(":");
    0 < c && (b = b.substr(c + 1));
    b && a.actions.push(b);
    return a
  };
  var $s = /Command$/,
    at = /Endpoint$/,
    bt = new Map,
    ct = null;

  function dt(a) {
    return {
      runs: [{
        text: a
      }]
    }
  }

  function et(a, b) {
    if (!a) return null;
    a = Object.keys(a);
    a = y(a);
    for (var c = a.next(); !c.done; c = a.next()) {
      c = c.value;
      var d = c.toLowerCase();
      if (-1 < d.indexOf(b, d.length - b.length)) return c
    }
    return null
  }

  function ft(a, b) {
    var c = b + a,
      d = bt.get(c);
    if (d) return d;
    a = b + "-" + a.replace(/([A-Z])/g, "-$1").toLowerCase();
    bt.set(c, a);
    return a
  }

  function gt(a) {
    for (var b = Object.keys(a), c = 0, d = b.length; c < d; c++) {
      var e = b[c];
      if (at.test(e) || $s.test(e)) return ht(a[e])
    }
    return []
  }

  function ht(a) {
    return a.command ? [a.command] : a.clientActions || a.actions || a.commands || []
  }

  function it(a) {
    if (a && a.simpleText) return a.simpleText;
    var b = "";
    if (a && a.runs)
      for (var c = 0, d = a.runs.length; c < d; c++) a.runs[c].text && (b += a.runs[c].text);
    return b
  }

  function jt() {
    ct || (ct = Ss(Ys)) || (ct = new Zs);
    return ct
  }

  function kt(a, b) {
    b = void 0 === b ? !1 : b;
    var c = jt();
    return c && a && !Eb(a) ? c.getUrl(a, b) : ""
  };
  var lt = function() {
    this.actionRoutingMap = new Map
  };
  f = lt.prototype;
  f.triggerAction = function(a, b) {
    for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
    c = new Ms(a, !1, c);
    this.handleAction(c);
    return c.returnValue
  };
  f.triggerOptionalAction = function(a, b) {
    for (var c = [], d = 1; d < arguments.length; ++d) c[d - 1] = arguments[d];
    c = new Ms(a, !0, c);
    this.handleAction(c);
    return c.returnValue
  };
  f.triggerInnerTubeActions = function(a, b, c) {
    var d = this;
    a.forEach(function(e) {
      var g = et(e, "action") || et(e, "command") || et(e, "endpoint");
      g && (g = ft(g, "yt"), e.signalAction && (g += "-" + e.signalAction.signal.toLowerCase().replace(/_/g, "-")), d.triggerOptionalAction(g, e, b, c))
    })
  };
  f.handleAction = function(a) {
    var b = this.actionRoutingMap.get(a.actionName);
    a.optionalAction || b ? b && this.executeActionHandlers_(a, b) : (b = Error("Unhandled action"), b.params = a.actionName, Qd(b))
  };
  f.executeActionHandlers_ = function(a, b) {
    b.forEach(function(c) {
      var d = null;
      c ? d = c.apply(null, a.args) : (c = Error("Missing handler for action"), c.params = a.actionName, O(c));
      a.returnValue.push(d)
    })
  };
  Na(lt);

  function mt(a, b, c) {
    b = new CustomEvent(b, {
      bubbles: !0,
      cancelable: !1,
      composed: !0,
      detail: c
    });
    a.dispatchEvent(b);
    return b
  }

  function nt(a, b, c, d) {
    // call 'nt', (ytmusic-app, yt-open-popup-action, [debug.json, ytmusic-app])
    return mt(a, "yt-action", new Ms(b, !(void 0 === d || !d), c)).detail.returnValue
  }
  window.nt = nt

  function ot(a, b, c, d) {
    b.forEach(function(e) {
      var g = et(e, "action") || et(e, "command") || et(e, "endpoint");
      g && (g = ft(g, "yt"), e.signalAction && (g += "-" + e.signalAction.signal.toLowerCase().replace(/_/g, "-")), nt(a, g, [e, c, d], !0))
    })
  }

  function pt(a, b) {
    var c = [a];
    b && c.push.apply(c, b);
    b = nt(a, "yt-service-request", c);
    return 0 < b.length && (b = b[0], mt(a, "yt-service-request-sent", b), b && b.ajaxPromise) ? (b.ajaxPromise.then(function(d) {
      mt(a, "yt-service-request-completed", d)
    }, function(d) {
      mt(a, "yt-service-request-error", {
        error: d,
        params: c
      })
    }, a), b.ajaxPromise) : ph()
  };
  var qt = {},
    rt = (qt["subs-guide-item"] = {
        bodyText: "SUBS_GUIDE_ITEM_EDU_TEXT",
        position: "OPEN_POPUP_POSITION_RIGHT"
      }, qt["subs-filter-by-channel"] = {
        bodyText: "SUBS_FILTER_EDU_TEXT",
        position: "OPEN_POPUP_POSITION_RIGHT",
        setKey: "subs-filter-by-channel-set"
      }, qt["subs-filtered-by-channel"] = {
        bodyText: "SUBS_FILTER_EDU_CHANNEL_TEXT",
        position: "OPEN_POPUP_POSITION_RIGHT",
        setKey: "subs-filter-by-channel-set"
      }, qt["membership-join"] = {
        titleText: "JOIN_MEMBERSHIP_EDU_TITLE",
        bodyText: "JOIN_MEMBERSHIP_EDU_TEXT",
        position: "OPEN_POPUP_POSITION_LEFT"
      },
      qt["membership-manage"] = {
        bodyText: "MANAGE_MEMBERSHIP_EDU_TEXT",
        position: "OPEN_POPUP_POSITION_LEFT"
      }, qt["library-guide-item"] = {
        titleText: "LIBRARY_GUIDE_ITEM_EDU_TITLE",
        bodyText: "LIBRARY_GUIDE_ITEM_EDU_TEXT",
        position: "OPEN_POPUP_POSITION_RIGHT"
      }, qt),
    st = new nr("yt-edu"),
    tt = function() {
      this.eduDisplayedThisLoad_ = {}
    };
  f = tt.prototype;
  f.dismissEdu = function(a) {
    st.set("" + a + "-dismissed", !0)
  };
  f.getEduDismissed = function(a) {
    return st.get("" + a + "-dismissed")
  };
  f.getEduImpressionCount_ = function(a) {
    return parseInt(st.get("" + a + "-impression") || 0, 10)
  };
  f.recordEduImpression = function(a) {
    this.eduDisplayedThisLoad_[rt[a].setKey || a] = !0;
    st.set("" + a + "-impression", this.getEduImpressionCount_(a) + 1)
  };
  f.shouldShowEduPopup = function(a) {
    var b = Ud("kevlar_tooltip_impression_cap");
    return b && this.getEduImpressionCount_(a) >= b || this.getEduDismissed(a) ? !1 : (b = rt[a]) && !this.eduDisplayedThisLoad_[b.setKey || a] && (b.titleText && T(b.titleText) || b.bodyText && T(b.bodyText)) ? !0 : !1
  };
  f.generateEduPopup = function(a) {
    if (!this.shouldShowEduPopup(a)) return null;
    var b = rt[a];
    if (!b) return null;
    var c = b.bodyText ? T(b.bodyText) : void 0,
      d = b.titleText ? T(b.titleText) : void 0;
    return [{
      openPopupAction: {
        popupType: "HINT",
        position: b.position,
        popup: {
          bubbleHintRenderer: {
            text: d ? dt(d) : void 0,
            detailsText: c ? dt(c) : void 0,
            style: "BUBBLE_HINT_STYLE_BLUE_TOOLTIP",
            confirmButton: {
              buttonRenderer: {
                style: "STYLE_BLUE_TEXT",
                size: "SIZE_DEFAULT",
                text: dt(T("EDU_GOT_IT")),
                serviceEndpoint: {
                  signalServiceEndpoint: {
                    signal: "CLIENT_SIGNAL",
                    actions: [{
                      eduDismissAction: {
                        key: a
                      }
                    }]
                  }
                }
              }
            }
          }
        }
      }
    }, {
      eduImpressionAction: {
        key: a
      }
    }]
  };
  Na(tt);
  var ut = !1;

  function vt() {
    if (!ut) {
      if (Polymer.Base) {
        var a = Polymer.Base.createdCallback;
        Polymer.Base.createdCallback = function() {
          try {
            a.apply(this, arguments)
          } catch (p) {
            O(p)
          }
        };
        var b = Polymer.Base.attachedCallback;
        Polymer.Base.attachedCallback = function() {
          try {
            b.apply(this, arguments)
          } catch (p) {
            O(p)
          }
        };
        var c = Polymer.Base.detachedCallback;
        Polymer.Base.detachedCallback = function() {
          try {
            c.apply(this, arguments)
          } catch (p) {
            O(p)
          }
        };
        var d = Polymer.Base.attributeChangedCallback;
        Polymer.Base.attributeChangedCallback = function() {
          try {
            d.apply(this, arguments)
          } catch (p) {
            O(p)
          }
        };
        var e = Polymer.Base._listen,
          g = new WeakMap;
        Polymer.Base._listen = function(p, n, r) {
          var t = function() {
            try {
              r.apply(this, arguments)
            } catch (u) {
              O(u)
            }
          };
          g.set(r, t);
          e.call(this, p, n, t)
        };
        var h = Polymer.Base._unlisten;
        Polymer.Base._unlisten = function(p, n, r) {
          h.call(this, p, n, g.get(r))
        }
      }
      if (Polymer.Async) {
        var k = Polymer.Async,
          m = k._atEndOfMicrotask;
        k._atEndOfMicrotask = function() {
          try {
            m.apply(k, arguments)
          } catch (p) {
            O(p)
          }
        }
      }
      if (Polymer.RenderStatus) {
        var l = Polymer.RenderStatus,
          q = l.afterNextRender;
        l.afterNextRender = function(p, n, r) {
          q.call(l, p, function() {
            try {
              n.apply(this, arguments)
            } catch (t) {
              O(t)
            }
          }, r)
        }
      }
      ut = !0
    }
  };
  var wt = function(a) {
    this.actionRouter_ = a = void 0 === a ? lt.getInstance() : a;
    this.targetMap_ = new Map;
    this.visibilityMonitor_ = null;
    this.triggeredTargets_ = new Set
  };
  f = wt.prototype;
  f.setVisibilityMonitor = function(a) {
    this.visibilityMonitor_ = a;
    $i(this.visibilityMonitor_, "yt-visibility-monitor-refreshed", this.handleVisibilityRefreshed_, !1, this)
  };
  f.dispose = function() {
    this.visibilityMonitor_ && gj(this.visibilityMonitor_, "yt-visibility-monitor-refreshed", this.handleVisibilityRefreshed_, !1, this)
  };
  f.handleVisibilityRefreshed_ = function() {
    var a = this;
    this.targetMap_.forEach(function(b, c) {
      a.maybeTriggerTarget_(c, b)
    })
  };
  f.registerTargetAction = function(a, b) {
    if (!this.triggeredTargets_.has(a)) {
      var c = this.getTargetInfo_(a);
      c.action = b;
      this.maybeTriggerTarget_(a, c)
    }
  };
  f.registerTargetElement = function(a, b) {
    var c = this.getTargetInfo_(a);
    c.element = b;
    this.maybeTriggerTarget_(a, c)
  };
  f.maybeTriggerTarget_ = function(a, b) {
    var c = b.action;
    (b = b.element) && c && this.visibilityMonitor_ && this.visibilityMonitor_.isNodeVisible(b) && (this.actionRouter_.triggerInnerTubeActions([c], b), this.targetMap_.delete(a), this.triggeredTargets_.add(a))
  };
  f.getTargetInfo_ = function(a) {
    this.targetMap_.get(a) || this.targetMap_.set(a, {});
    return this.targetMap_.get(a)
  };
  Na(wt);
  var xt = function(a, b, c, d) {
    this.taskManager_ = a;
    this.onFulfilled_ = Sa(b) ? b : null;
    this.onRejected_ = Sa(c) ? c : null;
    this.context_ = d
  };
  xt.prototype.enqueueSuccessJob = function(a) {
    var b = this;
    this.onFulfilled_ && this.taskManager_.addMediumPriorityJob(function() {
      b.onFulfilled_.call(b.context_, a)
    })
  };
  xt.prototype.enqueueFailureJob = function(a) {
    var b = this;
    this.onRejected_ && this.taskManager_.addMediumPriorityJob(function() {
      b.onRejected_.call(b.context_, a)
    })
  };
  var zt = function(a) {
    this.taskManager_ = a;
    this.callbacks_ = []
  };
  zt.prototype.then = function(a, b, c) {
    this.callbacks_.push(new xt(this.taskManager_, a, b, c));
    return this
  };
  zt.prototype.onSuccess = function(a) {
    this.callbacks_.forEach(function(b) {
      b.enqueueSuccessJob(a)
    })
  };
  zt.prototype.onFailure = function(a) {
    this.callbacks_.forEach(function(b) {
      b.enqueueFailureJob(a)
    })
  };
  zt.prototype.cancel = function() {
    this.callbacks_.length = 0
  };
  jh(zt);
  var At = function() {};
  f = At.prototype;
  f.endpointToXhrUrl = function() {};
  f.fetchData = function() {};
  f.postData = function() {};
  f.requestDataForEndpoint = function() {};
  f.requestDataForServiceEndpoint = function() {};
  var Ct = function(a, b, c) {
    this.popupConfig = c || Bt;
    this.forwardedEvents = a || [];
    this.prefix = b;
    this.SHARED_RENDERERS_ = {
      bubbleHintRenderer: !0,
      confirmDialogRenderer: !0,
      fancyDismissibleDialogRenderer: !0,
      notificationActionRenderer: !0,
      reportFormModalRenderer: !0,
      sharingEmbedRenderer: !0,
      sharingRenderer: !0,
      sortFilterSubMenuPopupRenderer: !0,
      tooltipRenderer: !0,
      unlimitedFamilyMessageInterstitialRenderer: !0,
      unlimitedFamilyProfileInterstitialRenderer: !0,
      unpluggedPauseMembershipDialogRenderer: !0,
      ypcUpgradeDialogRenderer: !0,
      loadingRenderer: !0
    }
  };
  Ct.prototype.getPrefixForElement = function(a) {
    return this.SHARED_RENDERERS_.hasOwnProperty(a) ? "yt" : this.prefix
  };
  var Dt = {
    DIALOG: {
      component: "paper-dialog",
      properties: {
        withBackdrop: !0
      },
      preventAutonav: !0
    },
    FULLSCREEN_OVERLAY: {
      component: null,
      properties: {
        withBackdrop: !0
      }
    },
    DROPDOWN: {
      component: "iron-dropdown",
      properties: {
        noOverlap: !0,
        horizontalAlign: "auto",
        verticalAlign: "top",
        dynamicAlign: !0,
        withBackdrop: !1
      },
      forceFocus: !0,
      slotName: "dropdown-content",
      preventAutonav: !0
    },
    HINT: {
      component: "iron-dropdown",
      properties: {
        allowOutsideScroll: !0,
        dynamicAlign: !1,
        horizontalAlign: "center",
        noOverlap: !0,
        scrollAction: "refit",
        verticalAlign: "bottom",
        verticalOffset: 15,
        withBackdrop: !1
      },
      positionalProperties: {
        OPEN_POPUP_POSITION_TOPLEFT: {
          horizontalAlign: "right",
          horizontalOffset: -12,
          shiftedHorizontalOffset: 24,
          verticalAlign: "bottom",
          verticalOffset: 15
        },
        OPEN_POPUP_POSITION_TOPRIGHT: {
          horizontalAlign: "left",
          horizontalOffset: -12,
          shiftedHorizontalOffset: 24,
          verticalAlign: "bottom",
          verticalOffset: 15
        },
        OPEN_POPUP_POSITION_LEFT: {
          horizontalAlign: "right",
          horizontalOffset: 12,
          verticalAlign: "middle",
          verticalOffset: 0
        },
        OPEN_POPUP_POSITION_RIGHT: {
          horizontalAlign: "left",
          horizontalOffset: 12,
          verticalAlign: "middle",
          verticalOffset: 0
        },
        OPEN_POPUP_POSITION_BOTTOM: {
          horizontalAlign: "center",
          horizontalOffset: 0,
          verticalAlign: "top",
          verticalOffset: 12
        },
        OPEN_POPUP_POSITION_BOTTOMLEFT: {
          horizontalAlign: "right",
          horizontalOffset: 12,
          shiftedHorizontalOffset: 24,
          verticalAlign: "top",
          verticalOffset: 12
        },
        OPEN_POPUP_POSITION_BOTTOMRIGHT: {
          horizontalAlign: "left",
          horizontalOffset: -12,
          verticalAlign: "top",
          verticalOffset: 12
        }
      },
      forceCloseOnOutsideClick: !0,
      forceFocus: !0,
      slotName: "dropdown-content"
    }
  };
  Dt.MEALBAR = {
    component: "paper-dialog",
    properties: {
      keepBelowPlayer: !P("kevlar_mealbar_above_player"),
      noAutoFocus: !0,
      noCancelOnOutsideClick: !0,
      withBackdrop: !1
    },
    styles: {
      position: "fixed",
      top: "auto",
      left: "0",
      right: "auto",
      bottom: "0",
      margin: "16px"
    },
    rtlStyles: {
      position: "fixed",
      top: "auto",
      right: "0",
      left: "auto",
      bottom: "0",
      margin: "16px"
    }
  };
  Dt.MODAL = {
    component: "paper-dialog",
    properties: {
      modal: !0
    },
    forceFocus: !0,
    preventAutonav: !0
  };
  Dt.MOLE = {
    component: null,
    styles: {
      position: "fixed",
      top: "auto",
      left: "auto",
      right: "0",
      bottom: "0",
      zIndex: "var(--ytd-z-index-miniplayer)"
    },
    rtlStyles: {
      position: "fixed",
      top: "auto",
      left: "0",
      right: "auto",
      bottom: "0",
      zIndex: "var(--ytd-z-index-miniplayer)"
    }
  };
  Dt.NOTIFICATION = {
    component: null,
    styles: {
      position: "fixed",
      top: "0",
      left: "auto",
      right: "0",
      bottom: "auto",
      marginTop: "60px",
      zIndex: "var(--ytd-z-index-notification)"
    },
    rtlStyles: {
      position: "fixed",
      top: "0",
      left: "0",
      right: "auto",
      bottom: "auto",
      marginTop: "60px",
      zIndex: "var(--ytd-z-index-notification)"
    },
    preventAutonav: !0
  };
  Dt.OVERLAY_DROPDOWN = {
    component: "iron-dropdown",
    properties: {
      noOverlap: !1,
      horizontalAlign: "auto",
      verticalAlign: "top",
      dynamicAlign: !0,
      withBackdrop: !1
    },
    forceFocus: !0,
    slotName: "dropdown-content",
    preventAutonav: !0
  };
  Dt.RESPONSIVE_DROPDOWN = {
    component: "iron-dropdown",
    properties: {
      noOverlap: !0,
      horizontalAlign: "auto",
      verticalAlign: "top",
      dynamicAlign: !0,
      withBackdrop: !1
    },
    narrowProperties: {
      horizontalAlign: null,
      verticalAlign: null,
      dynamicAlign: !1,
      withBackdrop: !0
    },
    forceFocus: !0,
    slotName: "dropdown-content",
    preventAutonav: !0
  };
  Dt.SURVEY = {
    component: "paper-dialog",
    properties: {
      withBackdrop: !1,
      noCancelOnOutsideClick: !0,
      noAutoFocus: !0
    },
    styles: {
      position: "fixed",
      top: "auto",
      left: "auto",
      right: "0",
      bottom: "0"
    },
    rtlStyles: {
      position: "fixed",
      top: "auto",
      left: "0",
      right: "auto",
      bottom: "0"
    },
    preventAutonav: P("web_survey_popup_prevent_autonav")
  };
  Dt.TOAST = {
    component: null,
    properties: {}
  };
  var Bt = Dt;
  var Et = function(a) {
    var b = a.openPopupAction,
      c = a.target,
      d = a.container,
      e = a.popupContainerConfig;
    a = a.getElement;
    this.popupContent = this.popup = void 0;
    this.openPopupAction = b;
    this.target = c;
    this.container_ = d;
    this.popupContainerConfig_ = e;
    this.naturalHeight_ = void 0;
    this.getElement_ = a;
    this.popupConfig_ = this.popupContainerConfig_.popupConfig[this.openPopupAction.popupType];
    this.rendererName = this.getRendererName_();
    this.createPopup_()
  };
  f = Et.prototype;
  window.popupProto = Et
  f.updatePopup = function(a) {
    this.openPopupAction = a;
    this.configureAction_();
    this.togglePositionalProperties_()
  };
  f.configurePopup = function(a, b) {
    this.target = b;
    this.setPosition_();
    this.configurePopupType_();
    this.toggleConfigProperties(a);
    this.setConfigStyles();
    this.openPopupAction.shouldStopParentSignal || this.forwardEvents_()
  };
  f.setRefitVisibility = function() {
    if ("refit" == this.popup.scrollAction) {
      var a = this.popup.positionTarget.getBoundingClientRect();
      this.popup.hidden = !(a.top >= this.getNaturalHeight_() + 60);
      0 == this.popupContent.clientHeight && this.popup.refit()
    }
  };
  f.refit = function() {
    this.popup.opened && this.popup.refit()
  };
  f.toggleConfigProperties = function(a) {
    this.toggleProperties_(a && this.popupConfig_.narrowProperties ? this.popupConfig_.narrowProperties : this.popupConfig_.properties);
    this.isRtl_() && this.toggleProperties_(this.popupConfig_.rtlProperties);
    this.togglePositionalProperties_()
  };
  f.setConfigStyles = function() {
    this.setStyles_(this.popupConfig_.styles);
    this.isRtl_() && this.setStyles_(this.popupConfig_.rtlStyles)
  };
  f.createPopup_ = function() {
    var a = this.popupConfig_.component;
    this.popupContent = this.assertElement_(this.rendererName);
    a ? (this.popup = this.assertElement_(a), this.popupConfig_.slotName && (Polymer.Element ? this.popupContent.setAttribute("slot", this.popupConfig_.slotName) : this.popupContent.toggleClass(this.popupConfig_.slotName, !0)), Polymer.dom(this.popup).appendChild(this.popupContent), Polymer.Element ? document.body.appendChild(this.popup) : Polymer.dom.flush()) : this.popup = this.popupContent;
    Polymer.dom(this.container_.root).appendChild(this.popup)
  };
  f.setPosition_ = function() {
    var a = this.target.popupPositionTarget || this.target;
    this.popup.positionTarget = a;
    this.popupContent.positionTarget = a
  };
  f.forwardEvents_ = function() {
    this.popupContent.startForwardingEvents && this.target.parentComponent != this.popupContent && this.popupContent != this.target && this.popupContent.startForwardingEvents(this.popupContainerConfig_.forwardedEvents, this.target)
  };
  f.configureAction_ = function() {
    var a = this;
    this.popupContent.set("data", Ib(this.openPopupAction.popup[this.getName_()]));
    this.popupContent.duration = this.getPopupDurationMs_();
    this.popupContent.positionType = this.openPopupAction.position;
    var b = this.openPopupAction.properties;
    b && Object.keys(b).forEach(function(c) {
      a.popupContent[c] = b[c]
    })
  };
  f.configurePopupType_ = function() {
    this.popupConfig_.forceFocus && (this.popupContent.tabIndex = 0, this.popupContent.style.outline = "none");
    this.popupConfig_.narrowProperties && (this.popup.style.position = "static");
    this.popupConfig_.preventAutonav && this.popup.setAttribute("prevent-autonav", !0);
    this.popupConfig_.forceCloseOnOutsideClick && this.popup.setAttribute("force-close-on-outside-click", !0)
  };
  f.toggleProperties_ = function(a) {
    if (a)
      for (var b in a) this.popup[b] = a[b]
  };
  f.togglePositionalProperties_ = function() {
    if (this.openPopupAction.position) {
      var a = this.popupConfig_.positionalProperties && this.popupConfig_.positionalProperties[this.openPopupAction.position],
        b = this.popupConfig_.rtlPositionalProperties && this.popupConfig_.rtlPositionalProperties[this.openPopupAction.position];
      a = this.isRtl_() && b ? b : a;
      a.shiftedHorizontalOffset && (b = this.popup.style.display, this.popup.style.display = "block", this.popupContent && this.popup.positionTarget && this.popupContent.clientWidth > this.popup.positionTarget.clientWidth &&
        (a.horizontalOffset = this.popup.positionTarget.clientWidth / 2 - a.shiftedHorizontalOffset), this.popup.style.display = b);
      this.toggleProperties_(a)
    }
  };
  f.setStyles_ = function(a) {
    if (a)
      for (var b in a) this.popup.style[b] = a[b]
  };
  f.getName_ = function() {
    return et(this.openPopupAction.popup, "renderer") || et(this.openPopupAction.popup, "dialog") || void 0
  };
  f.getRendererName_ = function() {
    var a = this.getName_();
    return a ? ft(a, this.popupContainerConfig_.getPrefixForElement(a, this.target)) : ""
  };
  f.getPopupDurationMs_ = function() {
    var a = this.openPopupAction.durationHintMs;
    return 0 === a ? a : Math.max(4E3, a || 4E3)
  };
  f.isRtl_ = function() {
    return "rtl" == M("HTML_DIR")
  };
  f.getNaturalHeight_ = function() {
    if (!this.naturalHeight_) {
      this.popup.hidden = !1;
      this.popup.style.position = "fixed";
      this.popup.style.top = "0px";
      this.popup.style.left = "0px";
      var a = this.popup.getBoundingClientRect();
      this.naturalHeight_ = a.bottom - a.top;
      this.popup.refit()
    }
    return this.naturalHeight_
  };
  f.assertElement_ = function(a) {
    return this.getElement_(a, this.target)
  };
  var Ft = G("ytglobal.prefsUserPrefsPrefs_") || {};
  F("ytglobal.prefsUserPrefsPrefs_", Ft, void 0);
  var Gt = function() {
    this.cookieName_ = M("ALT_PREF_COOKIE_NAME", "PREF");
    var a = zf.get("" + this.cookieName_, void 0);
    a && this.parse_(a)
  };
  f = Gt.prototype;
  f.get = function(a, b) {
    this.throwOnInvalidKey_(a);
    a = this.getString_(a);
    return null != a ? a : b ? b : ""
  };
  f.set = function(a, b) {
    this.throwOnInvalidKey_(a);
    this.throwOnNull_(b);
    this.setValue_(a, b)
  };
  f.getFlag = function(a) {
    return this.getFlag_("f" + (Math.floor(a / 31) + 1), 1 << a % 31)
  };
  f.setFlag = function(a, b) {
    this.setFlag_("f" + (Math.floor(a / 31) + 1), 1 << a % 31, b)
  };
  f.remove = function(a) {
    this.throwOnInvalidKey_(a);
    this.deleteValue_(a)
  };
  f.save = function() {
    mr(this.cookieName_, this.dump(), 63072E3, "/")
  };
  f.clear = function() {
    for (var a in Ft) delete Ft[a]
  };
  f.dump = function() {
    var a = [],
      b;
    for (b in Ft) a.push(b + "=" + encodeURIComponent(String(Ft[b])));
    return a.join("&")
  };
  f.throwOnNull_ = function(a) {
    if (null == a) throw Error("ExpectedNotNull");
  };
  f.throwOnRegexMatch_ = function(a, b) {
    if (b.test(a)) throw Error("ExpectedRegexMatch: " + a);
  };
  f.throwOnRegexMismatch_ = function(a, b) {
    if (!b.test(a)) throw Error("ExpectedRegexMismatch: " + a);
  };
  f.throwOnInvalidKey_ = function(a) {
    this.throwOnRegexMismatch_(a, /^\w+$/);
    this.throwOnRegexMatch_(a, /^f([1-9][0-9]*)$/)
  };
  f.setValue_ = function(a, b) {
    Ft[a] = b.toString()
  };
  f.getNumber_ = function(a) {
    a = this.getString_(a);
    return null != a && /^[A-Fa-f0-9]+$/.test(a) ? parseInt(a, 16) : null
  };
  f.getString_ = function(a) {
    return void 0 !== Ft[a] ? Ft[a].toString() : null
  };
  f.setFlag_ = function(a, b, c) {
    var d = this.getNumber_(a) || 0;
    d = c ? d | b : d & ~b;
    0 == d ? this.deleteValue_(a) : this.setValue_(a, d.toString(16))
  };
  f.getFlag_ = function(a, b) {
    return !!((this.getNumber_(a) || 0) & b)
  };
  f.deleteValue_ = function(a) {
    delete Ft[a]
  };
  f.parse_ = function(a) {
    a = decodeURIComponent(a).split("&");
    for (var b = 0; b < a.length; b++) {
      var c = a[b].split("="),
        d = c[0];
      (c = c[1]) && this.setValue_(d, c)
    }
  };
  Na(Gt);
  var Ht = function(a, b) {
    this.version = a;
    this.args = b
  };
  Ht.prototype.serialize = function() {
    return {
      version: this.version,
      args: this.args
    }
  };
  var It = function(a, b) {
    this.topic = a;
    this.dataClass = b
  };
  It.prototype.toString = function() {
    return this.topic
  };
  var Jt = G("ytPubsub2Pubsub2Instance") || new Nl;
  Nl.prototype.subscribe = Nl.prototype.subscribe;
  Nl.prototype.unsubscribeByKey = Nl.prototype.unsubscribeByKey;
  Nl.prototype.publish = Nl.prototype.publish;
  Nl.prototype.clear = Nl.prototype.clear;
  F("ytPubsub2Pubsub2Instance", Jt, void 0);
  F("ytPubsub2Pubsub2SubscribedKeys", G("ytPubsub2Pubsub2SubscribedKeys") || {}, void 0);
  F("ytPubsub2Pubsub2TopicToKeys", G("ytPubsub2Pubsub2TopicToKeys") || {}, void 0);
  F("ytPubsub2Pubsub2IsAsync", G("ytPubsub2Pubsub2IsAsync") || {}, void 0);
  F("ytPubsub2Pubsub2SkipSubKey", null, void 0);

  function Kt(a, b) {
    var c = G("ytPubsub2Pubsub2Instance");
    return c ? c.publish.call(c, a.toString(), a, b) : !1
  };
  var Lt = function() {
    this.isEnabled_ = P("enable_signals");
    this.softSignals_ = Object.create(null);
    this.signals_ = Object.create(null);
    this.compoundSignals_ = Object.create(null);
    this.inProgressSignals_ = Object.create(null);
    this.parkedJobs_ = Object.create(null);
    this.parkedProcessors_ = Object.create(null)
  };
  f = Lt.prototype;
  f.onAny = function(a) {
    return this.getCompoundSignal_(a, 2)
  };
  f.onAll = function(a) {
    return this.getCompoundSignal_(a, 1)
  };
  f.parkOrScheduleJob = function(a, b, c, d, e) {
    this.isSignalProcessed(c) ? S.addJob(a, b, d) : (e && (a = this.getExecutor_(a), this.setTimeout_(a, b, c, e)), (e = this.parkedJobs_[c]) || (e = this.parkedJobs_[c] = []), e.push({
      job: a,
      priority: b,
      delay: d
    }))
  };
  f.parkOrScheduleConditionalPriorityJob = function(a, b, c, d, e) {
    var g = Bb(b);
    1 == g.length ? (e = g[0], g = b.get(e), this.parkOrScheduleJob(a, g, e, c, d)) : 1 < g.length && (g = this.onAny(g), d && (a = this.getExecutor_(a), this.setTimeout_(a, void 0 === e ? 0 : e, g, d)), this.parkOrScheduleJob(function() {
      var h = 0,
        k;
      for (k in b) this.isSignalProcessedOrBeingProcessed(k) && (h = Math.max(h, b[k]));
      S.addJob(a, h, c)
    }.bind(this), 10, g))
  };
  f.addListener = function(a, b, c) {
    this.isEnabled_ && (c && (b = this.getExecutor_(b), this.setTimeout_(b, 0, a, c)), (c = this.parkedProcessors_[a]) || (c = this.parkedProcessors_[a] = []), c.push(b))
  };
  f.processSignal = function(a) {
    if (!this.isSignalProcessed(a)) {
      this.inProgressSignals_[a] = !0;
      var b = this.parkedJobs_[a];
      if (b) {
        for (var c = 0, d; d = b[c++];) S.addJob(d.job, d.priority, d.delay);
        b.length = 0
      }
      if (b = this.parkedProcessors_[a]) {
        for (c = 0; d = b[c++];) d();
        b.length = 0
      }
      this.signals_[a] = !0;
      this.inProgressSignals_[a] = !1
    }
  };
  f.isSignalProcessed = function(a) {
    return this.areSignalStateInquiriesBypassed_() ? !0 : void 0 !== this.signals_[a]
  };
  f.isSignalProcessedOrBeingProcessed = function(a) {
    return this.areSignalStateInquiriesBypassed_() ? !0 : this.isSignalProcessed(a) || !!this.inProgressSignals_[a]
  };
  f.isRegistered = function(a) {
    return this.isSignalProcessed(a)
  };
  f.onComponent = function(a, b, c) {
    this.parkOrScheduleJob(b, c, a)
  };
  f.onComponents = function(a, b, c) {
    a = this.onAll(a);
    this.parkOrScheduleJob(b, c, a)
  };
  f.markComponentAsRegistered = function(a) {
    this.processSignal(a)
  };
  f.areSignalStateInquiriesBypassed_ = function() {
    return this.isEnabled_ && (N("IS_HOMEPAGE_COLD") || N("IS_RESULTS_PAGE_COLD") || N("IS_WATCH_PAGE_COLD")) ? !1 : !0
  };
  f.getExecutor_ = function(a) {
    var b = !1;
    return function() {
      b || (b = !0, a())
    }
  };
  f.setTimeout_ = function(a, b, c, d) {
    if (this.isSoftSignal_(c)) S.addJob(a, b, d);
    else {
      var e = this.compoundSignals_[c];
      e && S.addJob(function() {
        this.isSignalProcessed(c) || (e.isTimeoutConditionSatisfied ? S.addJob(a, b) : e.timeoutConditionObservers.push(function() {
          S.addJob(a, b)
        }))
      }.bind(this), b, d)
    }
  };
  f.getCompoundSignal_ = function(a, b) {
    if (!this.isEnabled_) return "n/a";
    if (1 < a.length) {
      for (var c = [], d = Object.create(null), e = 0, g; g = a[e++];) d[g] || (c.push(g), d[g] = !0);
      a = c
    }
    if (1 == a.length) return a[0];
    c = this.canonicalize_(a, b);
    if (!this.compoundSignals_[c]) {
      d = 0;
      e = [];
      g = 0;
      for (var h; h = a[g++];) d++, this.isSignalProcessed(h) || e.push(h);
      (b = 2 == b) && d > e.length || !b && !e.length ? this.signals_[c] = !0 : this.createAndAddCompoundSignalListener_(c, b, a, e)
    }
    return c
  };
  f.canonicalize_ = function(a, b) {
    var c = "";
    b = 2 === b ? "|" : "&";
    a.sort();
    for (var d = 0, e; e = a[d++];) c += e + b;
    return c
  };
  f.createAndAddCompoundSignalListener_ = function(a, b, c, d) {
    for (var e = d.length, g = function() {
        b || 0 == --e ? this.processSignal(a) : this.evaluateTimeoutCondition_(a)
      }.bind(this), h = 0, k = void 0; k = d[h++];) this.addListener(k, g);
    this.compoundSignals_[a] = {
      signals: c,
      isOnAny: b,
      isInitialized: !1,
      isTimeoutConditionSatisfied: !1,
      timeoutConditionObservers: []
    };
    this.evaluateTimeoutCondition_(a)
  };
  f.evaluateTimeoutCondition_ = function(a) {
    if (!this.isSignalProcessed(a)) {
      var b = this.compoundSignals_[a];
      if (!b.isTimeoutConditionSatisfied) {
        for (var c = !1, d = 0, e = 0, g = 0, h; h = b.signals[g++];) {
          var k = !this.isSignalProcessed(h);
          this.isSoftSignal_(h) ? c = !0 : (h = this.compoundSignals_[h]) ? k && !h.isTimeoutConditionSatisfied && (e++, b.isInitialized || h.timeoutConditionObservers.push(this.evaluateTimeoutCondition_.bind(this, a))) : k && d++
        }
        b.isInitialized = !0;
        b.isOnAny ? c && (b.isTimeoutConditionSatisfied = !0) : 0 == d && 0 == e && (b.isTimeoutConditionSatisfied = !0);
        if (b.isTimeoutConditionSatisfied)
          for (a = 0; c = b.timeoutConditionObservers[a++];) c()
      }
    }
  };
  f.isSoftSignal_ = function(a) {
    if (Eb(this.softSignals_))
      for (var b = 0, c; c = Mt[b++];) this.softSignals_[c] = !0;
    return this.softSignals_[a]
  };
  Lt.prototype.processSignal = Lt.prototype.processSignal;
  Lt.prototype.parkOrScheduleJob = Lt.prototype.parkOrScheduleJob;
  Lt.prototype.onAny = Lt.prototype.onAny;
  Na(Lt);
  F("ytsignals.getInstance", Lt.getInstance, void 0);
  Lt.prototype.onAny = Lt.prototype.onAny;
  Lt.prototype.parkOrScheduleJob = Lt.prototype.parkOrScheduleJob;
  Lt.prototype.processSignal = Lt.prototype.processSignal;
  var Mt = ["eop", "eocs", "dl", "pcl"];
  var Nt = function(a, b, c) {
    c = void 0 === c ? S : c;
    this.priority_ = a;
    this.signal_ = b;
    this.parkedJobs_ = null;
    this.nextJobDescriptor_ = 0;
    this.scheduledJobs_ = Object.create(null);
    this.signals_ = Lt.getInstance();
    this.scheduler_ = c
  };
  f = Nt.prototype;
  f.queueJob = function(a) {
    if (a)
      if (this.signal_ && !this.signals_.isSignalProcessed(this.signal_)) {
        var b = this.parkedJobs_;
        b || (b = this.parkedJobs_ = [], this.signals_.addListener(this.signal_, this.processSignal_.bind(this)));
        b.push(a)
      } else this.scheduleJob_(a)
  };
  f.updatePriority = function(a) {
    if (a != this.priority_) {
      this.priority_ = a;
      for (var b in this.scheduledJobs_) {
        var c = this.scheduledJobs_[b];
        this.scheduler_.cancelJob(c.jobId);
        c.jobId = this.scheduler_.addJob(c.jobWrapper, a)
      }
    }
  };
  f.executeOnNextFrame = function() {
    this.updatePriorityAndProcessSignal_(4)
  };
  f.flushJobs = function() {
    this.updatePriorityAndProcessSignal_(10)
  };
  f.updatePriorityAndProcessSignal_ = function(a) {
    this.updatePriority(a);
    this.processSignal_()
  };
  f.cancel = function() {
    for (var a in this.scheduledJobs_) this.scheduler_.cancelJob(this.scheduledJobs_[a].jobId), delete this.scheduledJobs_[a];
    this.parkedJobs_ && (this.parkedJobs_.length = 0)
  };
  f.processSignal_ = function() {
    if (this.parkedJobs_) {
      for (var a = 0, b; b = this.parkedJobs_[a++];) this.scheduleJob_(b);
      this.parkedJobs_.length = 0
    }
  };
  f.scheduleJob_ = function(a) {
    var b = this;
    if (10 == this.priority_) this.scheduler_.addImmediateJob(a);
    else {
      var c = this.nextJobDescriptor_++,
        d = function() {
          a();
          b.markExecuted_(c)
        },
        e = this.scheduler_.addJob(d, this.priority_);
      this.scheduledJobs_[c] = {
        jobWrapper: d,
        jobId: e
      }
    }
  };
  f.markExecuted_ = function(a) {
    delete this.scheduledJobs_[a]
  };
  var Ot = [],
    Pt = ["ytd-section-list-renderer", "yt-horizontal-list-renderer", "ytd-item-section-renderer", "ytd-watch-next-secondary-results-renderer", "ytd-video-primary-info-renderer"],
    Qt = function(a, b) {
      this.usableComponents_ = new Map;
      this.experimentMode_ = Vd("polymer_task_manager_status");
      "disabled" != this.experimentMode_ && this.populateUsableComponentMaps_(a || Ot, b || Pt)
    };
  Qt.prototype.canUseComponent = function(a) {
    if ("disabled" == this.experimentMode_) return !1;
    a = !!this.usableComponents_.get(a);
    return "counterfactual" == this.experimentMode_ ? !1 : a
  };
  Qt.prototype.populateUsableComponentMaps_ = function(a, b) {
    var c = this,
      d = Wd("polymer_task_manager_blacklisted_components") || [],
      e = "experimental" == this.experimentMode_,
      g = "production" == this.experimentMode_,
      h = "counterfactual" == this.experimentMode_;
    e && a.forEach(function(k) {
      c.usableComponents_.set(k, !0)
    });
    (g || e || h) && b.forEach(function(k) {
      c.usableComponents_.set(k, !0)
    });
    d.forEach(function(k) {
      c.usableComponents_.set(k, !1)
    })
  };
  Na(Qt);
  var Rt = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance || {};

  function St(a) {
    if (Rt.getEntriesByType) {
      var b = Rt.getEntriesByType("paint");
      if (b = ob(b, function(d) {
          return "first-paint" == d.name
        })) return Math.round(a.navigationStart + b.startTime)
    }
    if (a.msFirstPaint) return Math.max(0, a.msFirstPaint);
    if (b = window.chrome)
      if (b = b.loadTimes, Sa(b)) {
        b = b();
        var c = 1E3 * Math.min(b.requestTime || Infinity, b.startLoadTime || Infinity);
        c = Infinity === c ? 0 : a.navigationStart - c;
        return Math.max(0, Math.round(1E3 * b.firstPaintTime + c) || 0)
      } return 0
  };

  function Tt() {
    var a = M("TIMING_TICK_EXPIRATION");
    a || (a = {}, Ld("TIMING_TICK_EXPIRATION", a));
    return a
  }

  function Ut() {
    var a = Tt(),
      b;
    for (b in a) S.cancelJob(a[b]);
    Ld("TIMING_TICK_EXPIRATION", {})
  };
  var Vt = function(a, b) {
    Ht.call(this, 1, arguments);
    this.aft = a;
    this.timer = b
  };
  z(Vt, Ht);
  var Wt = function(a, b) {
    Ht.call(this, 1, arguments);
    this.aft = a;
    this.timer = b
  };
  z(Wt, Ht);
  var Xt = new It("aft-recorded", Vt),
    Yt = new It("timing-sent", Wt);
  var Zt = {
      vc: !0
    },
    $t = {
      'script[name="scheduler/scheduler"]': "sj",
      'script[name="player/base"]': "pj",
      'link[rel="stylesheet"][name="www-player"]': "pc",
      'link[rel="stylesheet"][name="player/www-player"]': "pc",
      'script[name="desktop_polymer/desktop_polymer"]': "dpj",
      'link[rel="import"][name="desktop_polymer"]': "dph",
      'link[rel="import"][name="desktop_polymer_sel_auto_svg_home_v2"]': "dph",
      'script[name="mobile-c3/mobile-c3"]': "mcj",
      'link[rel="stylesheet"][name="mobile-c3"]': "mcc",
      'script[name="player-plasma-phone/base"]': "mcppj",
      'script[name="player-plasma-tablet/base"]': "mcptj",
      'link[rel="stylesheet"][name="mobile-polymer-player"]': "mcpc",
      'script[name="mobile_blazer_core_mod"]': "mbcj",
      'link[rel="stylesheet"][name="mobile_blazer_css"]': "mbc",
      'script[name="mobile_blazer_logged_in_users_mod"]': "mbliuj",
      'script[name="mobile_blazer_logged_out_users_mod"]': "mblouj",
      'script[name="mobile_blazer_noncore_mod"]': "mbnj",
      "#player_css": "mbpc",
      'script[name="mobile_blazer_desktopplayer_mod"]': "mbpj",
      'link[rel="stylesheet"][name="mobile_blazer_tablet_css"]': "mbtc",
      'script[name="mobile_blazer_watch_mod"]': "mbwj"
    },
    U = {},
    au = (U.ad_allowed = "adTypesAllowed", U.yt_abt = "adBreakType", U.ad_cpn = "adClientPlaybackNonce", U.ad_docid = "adVideoId", U.yt_ad_an = "adNetworks", U.ad_at = "adType", U.browse_id = "browseId", U.p = "httpProtocol", U.t = "transportProtocol", U.cpn = "clientPlaybackNonce", U.csn = "clientScreenNonce", U.docid = "videoId", U.is_continuation = "isContinuation", U.is_nav = "isNavigation", U.b_p = "kabukiInfo.browseParams", U.is_prefetch = "kabukiInfo.isPrefetch", U.is_secondary_nav = "kabukiInfo.isSecondaryNav",
      U.prev_browse_id = "kabukiInfo.prevBrowseId", U.query_source = "kabukiInfo.querySource", U.voz_type = "kabukiInfo.vozType", U.yt_lt = "loadType", U.yt_ad = "isMonetized", U.nr = "webInfo.navigationReason", U.ncnp = "webInfo.nonPreloadedNodeCount", U.paused = "playerInfo.isPausedOnLoad", U.yt_pt = "playerType", U.fmt = "playerInfo.itag", U.yt_pl = "watchInfo.isPlaylist", U.yt_pre = "playerInfo.preloadType", U.yt_ad_pr = "prerollAllowed", U.pa = "previousAction", U.yt_red = "isRedSubscriber", U.st = "serverTimeMs", U.aq = "tvInfo.appQuality", U.br_trs =
      "tvInfo.bedrockTriggerState", U.label = "tvInfo.label", U.is_mdx = "tvInfo.isMdx", U.preloaded = "tvInfo.isPreloaded", U.query = "unpluggedInfo.query", U.upg_chip_ids_string = "unpluggedInfo.upgChipIdsString", U.yt_vst = "videoStreamType", U.vph = "viewportHeight", U.vpw = "viewportWidth", U.yt_vis = "isVisible", U),
    bu = "ap c cver cbrand cmodel ei srt yt_fss yt_li plid vpil vpni vpst yt_eil vpni2 vpil2 icrc icrt pa GetBrowse_rid GetPlayer_rid GetSearch_rid GetWatchNext_rid cmt d_vpct d_vpnfi d_vpni pc pfa pfeh pftr prerender psc rc start tcrt tcrc ssr vpr vps yt_abt yt_fn yt_fs yt_pft yt_pre yt_pt yt_pvis yt_ref yt_sts".split(" "),
    cu = {
      ad_to_ad: "LATENCY_ACTION_AD_TO_AD",
      ad_to_video: "LATENCY_ACTION_AD_TO_VIDEO",
      app_startup: "LATENCY_ACTION_APP_STARTUP",
      browse: "LATENCY_ACTION_BROWSE",
      channels: "LATENCY_ACTION_CHANNELS",
      channel: "LATENCY_ACTION_CREATOR_CHANNEL_DASHBOARD",
      "channel.analytics": "LATENCY_ACTION_CREATOR_CHANNEL_ANALYTICS",
      "channel.comments": "LATENCY_ACTION_CREATOR_CHANNEL_COMMENTS",
      "channel.copyright": "LATENCY_ACTION_CREATOR_CHANNEL_COPYRIGHT",
      "channel.monetization": "LATENCY_ACTION_CREATOR_CHANNEL_MONETIZATION",
      "channel.translations": "LATENCY_ACTION_CREATOR_CHANNEL_TRANSLATIONS",
      "channel.videos": "LATENCY_ACTION_CREATOR_CHANNEL_VIDEOS",
      chips: "LATENCY_ACTION_CHIPS",
      embed: "LATENCY_ACTION_EMBED",
      home: "LATENCY_ACTION_HOME",
      library: "LATENCY_ACTION_LIBRARY",
      live: "LATENCY_ACTION_LIVE",
      prebuffer: "LATENCY_ACTION_PREBUFFER",
      prefetch: "LATENCY_ACTION_PREFETCH",
      results: "LATENCY_ACTION_RESULTS",
      search: "LATENCY_ACTION_RESULTS",
      search_ui: "LATENCY_ACTION_SEARCH_UI",
      search_zero_state: "LATENCY_ACTION_SEARCH_ZERO_STATE",
      tenx: "LATENCY_ACTION_TENX",
      video_to_ad: "LATENCY_ACTION_VIDEO_TO_AD",
      watch: "LATENCY_ACTION_WATCH",
      "watch,watch7": "LATENCY_ACTION_WATCH",
      "watch,watch7_html5": "LATENCY_ACTION_WATCH",
      "watch,watch7ad": "LATENCY_ACTION_WATCH",
      "watch,watch7ad_html5": "LATENCY_ACTION_WATCH",
      wn_comments: "LATENCY_ACTION_LOAD_COMMENTS",
      "video.analytics": "LATENCY_ACTION_CREATOR_VIDEO_ANALYTICS",
      "video.comments": "LATENCY_ACTION_CREATOR_VIDEO_COMMENTS",
      "video.edit": "LATENCY_ACTION_CREATOR_VIDEO_EDIT",
      "video.translations": "LATENCY_ACTION_CREATOR_VIDEO_TRANSLATIONS",
      "video.video_editor": "LATENCY_ACTION_CREATOR_VIDEO_VIDEO_EDITOR",
      "video.video_editor_async": "LATENCY_ACTION_CREATOR_VIDEO_VIDEO_EDITOR_ASYNC",
      "video.monetization": "LATENCY_ACTION_CREATOR_VIDEO_MONETIZATION"
    },
    du = "isContinuation isNavigation kabukiInfo.isPrefetch kabukiInfo.isSecondaryNav isMonetized playerInfo.isPausedOnLoad prerollAllowed isRedSubscriber tvInfo.isMdx tvInfo.isPreloaded isVisible watchInfo.isPlaylist".split(" "),
    eu = {},
    fu = (eu.pa = "LATENCY_ACTION_", eu.yt_pt = "LATENCY_PLAYER_", eu.yt_vst = "VIDEO_STREAM_TYPE_", eu),
    gu = !1;

  function hu(a) {
    iu(a);
    ju();
    ku(!1, a);
    a || (M("TIMING_ACTION") && Ld("PREVIOUS_ACTION", M("TIMING_ACTION")), Ld("TIMING_ACTION", ""))
  }

  function lu(a, b, c) {
    if (!b && "_" != a[0]) {
      var d = a;
      Rt.mark && (bc(d, "mark_") || (d = "mark_" + d), c && (d += " (" + c + ")"), Rt.mark(d))
    }
    d = mu(c);
    var e = b || Jd();
    d[a] && (d["_" + a] = d["_" + a] || [d[a]], d["_" + a].push(e));
    d[a] = e;
    e = Tt();
    var g = e[a];
    g && (S.cancelJob(g), e[a] = 0);
    nu(a, b, c) || ou(!1, c);
    return d[a]
  }

  function pu(a, b, c) {
    qu("yt_sts", a, c);
    lu("_start", b, c)
  }

  function ru(a, b, c) {
    var d = mu(c);
    return a in d ? !1 : (lu(a, b, c), !0)
  }

  function qu(a, b, c) {
    su(c)[a] = b;
    tu(a, b, c)
  }

  function uu(a, b, c) {
    var d = M("TIMING_WAIT");
    d && a in d || ((d = M("TIMING_WAIT", void 0)) ? d.push(a) : Ld("TIMING_WAIT", [a]));
    b && c && (d = Tt(), S.cancelJob(d[a]), d[a] = S.addIdlePriorityJob(c, b))
  }

  function vu(a) {
    var b = mu(a);
    if (b.aft) return b.aft;
    a = M((a || "") + "TIMING_AFT_KEYS", ["ol"]);
    for (var c = a.length, d = 0; d < c; d++) {
      var e = b[a[d]];
      if (e) return e
    }
    return NaN
  }

  function ou(a, b) {
    if (!wu(b)) {
      var c = M((b || "") + "TIMING_ACTION", void 0),
        d = mu(b);
      if (G("ytglobal.timing" + (b || "") + "ready_") && c && d._start && (c = vu(b)))
        if (gu || (Kt(Xt, new Vt(Math.round(c - d._start), b)), gu = !0), a || b) xu(b);
        else {
          a = !0;
          c = M("TIMING_WAIT", []);
          if (c.length)
            for (var e = 0, g = c.length; e < g; ++e)
              if (!(c[e] in d)) {
                a = !1;
                break
              } a && xu(b)
        }
    }
  }

  function yu() {
    switch (qq("visibilityState", document)) {
      case "hidden":
        return 0;
      case "visible":
        return 1;
      case "prerender":
        return 2;
      case "unloaded":
        return 3
    }
    return -1
  }

  function zu(a, b) {
    if (!wu(b)) {
      var c = M("CSI_SERVICE_NAME", "youtube");
      M((b || "") + "TIMING_ACTION", void 0) && c && (lu("aa", void 0, b), qu("ap", 1, b), qu("yt_fss", a, b), xu(b))
    }
  }
  var ju = $a(Rt.clearResourceTimings || Rt.webkitClearResourceTimings || Rt.mozClearResourceTimings || Rt.msClearResourceTimings || Rt.oClearResourceTimings || Ma, Rt);

  function nu(a, b, c) {
    Au(c)["tick_" + a] = b;
    c || b || Jd();
    return Bu(c) ? (c = Cu(c), "_start" == a ? Or("baseline_" + c) || tr("latencyActionBaselined", {
      clientActionNonce: c
    }, b) : Or("tick_" + a + "_" + c) || tr("latencyActionTicked", {
      tickName: a,
      clientActionNonce: c
    }, b), !0) : !1
  }

  function tu(a, b, c) {
    Au(c)["info_" + a] = b;
    if (Bu(c))
      if (a in au) {
        var d = au[a];
        pb(du, d) && (b = !!b);
        a in fu && (b = fu[a] + b.toUpperCase());
        if (Bu(c)) {
          a = {};
          d = d.split(".");
          for (var e = a, g = 0; g < d.length - 1; g++) e[d[g]] = e[d[g]] || {}, e = e[d[g]];
          e[d[d.length - 1]] = b;
          c = Cu(c);
          Nr(a, c)
        }
      } else pb(bu, a) || O(Error("Unknown label " + a + " logged with GEL CSI."))
  }

  function Du(a) {
    if (Bu(a)) {
      var b = {};
      b.actionType = cu[M((a || "") + "TIMING_ACTION", void 0)] || "LATENCY_ACTION_UNKNOWN";
      a = Cu(a);
      Nr(b, a)
    }
  }

  function Eu(a) {
    return Math.round(Rt.timing.navigationStart + a)
  }

  function Fu() {
    var a = window.location.protocol,
      b = Rt.getEntriesByType("resource");
    b = ib(b, function(c) {
      return 0 == c.name.indexOf(a + "//fonts.gstatic.com/s/")
    });
    (b = kb(b, function(c, d) {
      return d.duration > c.duration ? d : c
    }, {
      duration: 0
    })) && 0 < b.startTime && 0 < b.responseEnd && (lu("wffs", Eu(b.startTime)), lu("wffe", Eu(b.responseEnd)))
  }

  function Gu(a, b) {
    a = document.querySelector(a);
    if (!a) return !1;
    var c = "",
      d = a.nodeName;
    "SCRIPT" == d ? (c = a.src, c || (c = a.getAttribute("data-timing-href")) && (c = window.location.protocol + c)) : "LINK" == d && (c = a.href);
    return c ? (a = Rt.getEntriesByName(c)) && a[0] && (a = a[0], c = window.performance.timing.navigationStart, lu("rsf_" + b, c + Math.round(a.fetchStart)), lu("rse_" + b, c + Math.round(a.responseEnd)), void 0 !== a.transferSize && ("rc" in su(void 0) || qu("rc", ""), 0 === a.transferSize)) ? !0 : !1 : !1
  }

  function Hu(a, b) {
    F("ytglobal.timing" + (b || "") + "ready_", a, void 0)
  }

  function Cu(a) {
    var b = Iu(a).nonce;
    b || (b = Rr(16), Iu(a).nonce = b);
    return b
  }

  function mu(a) {
    return Iu(a).tick
  }

  function su(a) {
    return Iu(a).info
  }

  function Au(a) {
    a = Iu(a);
    "gel" in a || (a.gel = {});
    return a.gel
  }

  function Iu(a) {
    return G("ytcsi." + (a || "") + "data_") || iu(a)
  }

  function iu(a) {
    var b = {
      tick: {},
      info: {}
    };
    F("ytcsi." + (a || "") + "data_", b, void 0);
    return b
  }

  function wu(a) {
    return !!G("yt.timing." + (a || "") + "pingSent_")
  }

  function ku(a, b) {
    F("yt.timing." + (b || "") + "pingSent_", a, void 0)
  }

  function Ju(a) {
    var b = mu(a),
      c = b.pbr,
      d = b.vc;
    b = b.pbs;
    return c && d && b && c < d && d < b && 1 == su(a).yt_pvis
  }

  function Bu(a) {
    return P("csi_on_gel") || !!Iu(a).useGel
  }
  var Ku = qu,
    xu = function(a) {
      Ut();
      if (!Bu(a)) {
        var b = mu(a),
          c = su(a),
          d = b._start;
        for (h in b)
          if (bc(h, "_") && Pa(b[h])) {
            var e = h.slice(1);
            if (e in Zt) {
              var g = jb(b[h], function(q) {
                return Math.round(q - d)
              });
              c["all_" + e] = g.join()
            }
            delete b[h]
          } g = M("CSI_SERVICE_NAME", "youtube");
        var h = {
          v: 2,
          s: g,
          action: M((a || "") + "TIMING_ACTION", void 0)
        };
        e = qu.srt;
        void 0 !== b.srt && delete c.srt;
        if (c.h5jse) {
          var k = window.location.protocol + G("ytplayer.config.assets.js");
          (k = Rt.getEntriesByName ? Rt.getEntriesByName(k)[0] : null) ? c.h5jse = Math.round(c.h5jse - k.responseEnd): delete c.h5jse
        }
        b.aft = vu(a);
        Ju(a) && "youtube" == g && (qu("yt_lt", "hot_bg", a), g = b.vc, k = b.pbs, delete b.aft, c.aft = Math.round(k - g));
        for (var m in c) "_" != m.charAt(0) && (h[m] = c[m]);
        b.ps = Jd();
        m = {};
        g = [];
        for (var l in b) "_" != l.charAt(0) && (k = Math.round(b[l] - d), m[l] = k, g.push(l + "." + k));
        h.rt = g.join(",");
        (b = G("ytdebug.logTiming")) && b(h, m);
        Lu(h, !!c.ap, a);
        Kt(Yt, new Wt(m.aft + (e || 0), a))
      }
    },
    Lu = function(a, b, c) {
      if (P("debug_csi_data")) {
        var d = G("yt.timing.csiData");
        d || (d = [], F("yt.timing.csiData", d, void 0));
        d.push({
          page: location.href,
          time: new Date,
          args: a
        })
      }
      d = "";
      for (var e in a) d += "&" + e + "=" + a[e];
      a = "/csi_204?" + d.substring(1);
      window.navigator && window.navigator.sendBeacon && b ? (b = void 0, b = void 0 === b ? "" : b, ss(a, b) || rs(a, void 0, void 0, void 0, b)) : rs(a);
      ku(!0, c)
    };
  var Mu = function(a) {
      a &= 16777215;
      var b = [(a & 16711680) >> 16, (a & 65280) >> 8, a & 255];
      a = b[0];
      var c = b[1];
      b = b[2];
      a = Number(a);
      c = Number(c);
      b = Number(b);
      if (a != (a & 255) || c != (c & 255) || b != (b & 255)) throw Error('"(' + a + "," + c + "," + b + '") is not a valid RGB color');
      c = a << 16 | c << 8 | b;
      return 16 > a ? "#" + (16777216 | c).toString(16).substr(1) : "#" + c.toString(16)
    },
    Nu = function(a) {
      a = [(a & 16711680) >>> 16,
        (a & 65280) >>> 8, a & 255, (a & 4278190080) >>> 24
      ];
      var b = mb(a, function(c) {
        return c == (c & 255)
      });
      a[3] = (a[3] / 255).toFixed(3);
      if (!b) throw Error('"(' + a.join(",") + '") is not a valid RGBA color');
      return "rgba(" + a.join(",") + ")"
    };

  function Ou(a) {
    if (a.simpleText) return a.simpleText;
    if (a.runs) {
      var b = [];
      a = y(a.runs);
      for (var c = a.next(); !c.done; c = a.next()) c = c.value, c.text && b.push(c.text);
      return b.join("")
    }
    return ""
  };
  var Pu = function() {
    if (this.constructor === Pu) throw new TypeError("VisibilityObserver cannot be instantiated directly.");
  };
  f = Pu.prototype;
  f.dispose = function() {};
  f.disconnect = function() {};
  f.reconnect = function() {};
  f.observe = function() {};
  f.unobserveAll = function() {};
  f.unobserveByKey = function() {};
  var Qu = function(a, b) {
    b = void 0 === b ? 0 : b;
    Pu.call(this);
    this.observer_ = new IntersectionObserver(this.handleObserveEvent_.bind(this), a ? {
      root: a,
      rootMargin: "-0.1px"
    } : {
      rootMargin: "-0.1px"
    });
    b = "-0.1px -0.1px " + b + "px -0.1px";
    this.prescanObserver_ = new IntersectionObserver(this.handlePrescanEvent_.bind(this), a ? {
      root: a,
      rootMargin: b
    } : {
      rootMargin: b
    });
    this.handlers_ = new Map;
    this.isConnected_ = !0
  };
  z(Qu, Pu);
  f = Qu.prototype;
  f.dispose = function() {
    this.isConnected_ = !1;
    this.observer_.disconnect();
    this.prescanObserver_.disconnect();
    this.handlers_.clear()
  };
  f.disconnect = function() {
    this.isConnected_ = !1;
    this.observer_.disconnect();
    this.prescanObserver_.disconnect()
  };
  f.reconnect = function() {
    if (!this.isConnected_) {
      this.isConnected_ = !0;
      for (var a = y(this.handlers_), b = a.next(); !b.done; b = a.next()) {
        var c = y(b.value);
        b = c.next().value;
        var d = c.next().value;
        c = !1;
        d = y(d.keys());
        for (var e = d.next(); !e.done; e = d.next())
          if ("prescan" == e.value.state) {
            c = !0;
            break
          } c && this.prescanObserver_.observe(b);
        this.observer_.observe(b)
      }
    }
  };
  f.unobserveAll = function() {
    this.observer_.disconnect();
    this.prescanObserver_.disconnect();
    this.handlers_.clear()
  };
  f.handleObserveEvent_ = function(a) {
    var b = this;
    a.forEach(function(c) {
      var d = b.handlers_.get(c.target);
      if (d) {
        var e = c.isIntersecting;
        d = y(d);
        for (var g = d.next(); !g.done; g = d.next()) {
          var h = y(g.value);
          g = h.next().value;
          h = h.next().value;
          if ("visible" == g.state && e || "hidden" == g.state && !e) h(c.target, g.state), g.calledOnce && b.unobserveByKey({
            element: c.target,
            option: g
          })
        }
      }
    })
  };
  f.handlePrescanEvent_ = function(a) {
    var b = this;
    a.forEach(function(c) {
      var d = b.handlers_.get(c.target);
      if (d && c.isIntersecting) {
        d = y(d);
        for (var e = d.next(); !e.done; e = d.next()) {
          var g = y(e.value);
          e = g.next().value;
          g = g.next().value;
          "prescan" == e.state && (g(c.target, e.state), e.calledOnce && b.unobserveByKey({
            element: c.target,
            option: e
          }))
        }
      }
    })
  };
  f.observe = function(a, b, c) {
    var d = this.findHandlerKey_(a, c);
    if (d) return d;
    d = {
      element: a,
      option: c
    };
    this.handlers_.has(a) || this.handlers_.set(a, new Map);
    var e = this.handlers_.get(a);
    e.has(c) || e.set(c, b);
    "prescan" == c.state && this.prescanObserver_.observe(a);
    this.observer_.observe(a);
    return d
  };
  f.unobserveByKey = function(a) {
    var b = this.handlers_.get(a.element);
    b && b.has(a.option) && (b.delete(a.option), "prescan" == a.option && this.prescanObserver_.unobserve(a.element), 0 == b.size && (this.handlers_.delete(a.element), this.observer_.unobserve(a.element)))
  };
  f.findHandlerKey_ = function(a, b) {
    var c = this.handlers_.get(a);
    if (c && c.has(b)) return {
      element: a,
      option: b
    }
  };

  function Ru(a, b) {
    if (window.IntersectionObserver) return new Qu(a, void 0 === b ? 400 : b);
    throw new TypeError("Non-IntersectionObserver version of VisibilityObserver is not yet implemented");
  };
  var Tu = function(a) {
      if ("1" !== Cb(Md("PLAYER_CONFIG", {}), "args", "privembed")) {
        a && (G("yt.ads.biscotti.getId_") || F("yt.ads.biscotti.getId_", hq, void 0));
        try {
          lq().then(function(b) {
            P("pass_biscotti_id_in_header_ajax_tv") || P("pass_biscotti_id_in_header_ajax") || (b = Cp.getAdSignals(b), b.bsq = Su++, Xp("//www.youtube.com/ad_data_204", {
              includeDomain: !1,
              postParams: b,
              withCredentials: !0
            }))
          }, function() {}), Qo(Tu, 18E5)
        } catch (b) {
          O(b)
        }
      }
    },
    Su = 0;
  var Uu, Vu = [],
    Xu = function(a) {
      Wu("keyboard");
      27 == a.keyCode && !a.isDefaultPrevented() && document.activeElement && document.activeElement.blur()
    },
    Yu = function(a) {
      0 >= a.event.clientX && 0 >= a.event.clientY || Wu("mouse")
    },
    Wu = function(a) {
      Uu !== a && (Uu = a, yq(Vu), Vu.length = 0, "keyboard" == Uu ? (Zu(!0), Vu = [wq(window, "click", Yu),
        wq(window, "mousemove", Yu)
      ]) : "mouse" == Uu && (Zu(!1), Vu = [wq(window, "keydown", Xu)]))
    },
    Zu = function(a) {
      var b = document.documentElement;
      a ? sk(b, "no-focus-outline") : qk(b, "no-focus-outline")
    };
  var av = function() {
      navigator.serviceWorker.getRegistrations().then(function(a) {
        a.forEach($u)
      })
    },
    $u = function(a) {
      a && navigator.serviceWorker.register("/sw.js?0", {
        scope: a.scope || Vd("service_worker_scope") || "/"
      })
    };

  function bv(a, b, c, d, e) {
    var g = {};
    b && (g[b] = c);
    d ? g.errorType = d : e && (g.errorReason = e);
    tr(a, g);
    ur();
    Zq()
  }

  function cv(a, b, c, d, e) {
    var g = {};
    b && (g.serializedYpcFamilyCreateLoggingParams = b);
    c && (g.inviteStatus = c);
    d ? g.createErrorType = d : e && (g.inviteErrorType = e);
    tr(a, g);
    ur();
    Zq()
  }

  function dv(a) {
    a && bv("transactionFlowStarted", "serializedTransactionFlowLoggingParams", a)
  }

  function ev(a) {
    a && bv("transactionFlowCancelled", "serializedTransactionFlowLoggingParams", a)
  }

  function fv(a, b) {
    b && bv("transactionFlowFailed", "serializedTransactionFlowLoggingParams", b, a)
  }

  function gv(a, b) {
    b && bv("ypcCancelFlowFailed", "serializedYpcCancelFlowLoggingParams", b, void 0, a)
  };
  var hv = function(a, b) {
    var c = {};
    Kb(c, {
      label: a,
      pageName: M("PAGE_NAME")
    });
    b && Kb(c, b);
    a = Bj(c);
    rs("/gen_204?a=ypc-checkout" + (a ? "&" + a : ""), void 0)
  };
  var iv = function() {
    this.megabloxUrl_ = null
  };
  Na(iv);
  f = iv.prototype;
  f.load = function(a) {
    hv("mb-api-loading");
    this.megabloxUrl_ = M("YPC_MB_URL", void 0);
    fp(this.megabloxUrl_, $a(function() {
      a && a()
    }, this))
  };
  f.openBuyDialog = function(a, b, c, d, e, g, h, k, m, l, q) {
    dv(q);
    this.load($a(function() {
      this.openBuyDialog_(a, b, c, d, e, g, h, k, m, l, q)
    }, this))
  };
  f.openFixFlowDialog = function(a, b, c, d) {
    this.load($a(function() {
      this.openFixFlowDialog_(a, b, c, d)
    }, this))
  };
  f.getBootstrapper_ = function(a, b, c, d) {
    var e = a.mashupMode.popup("buyFlowDivId").usingDraggableDialog().usingPreferredWidth(600);
    P("enable_window_constrained_buy_flow_dialog") && (e = e.usingPopupStyle(G("payments.business.integration").PopupStyle.WINDOW_CONSTRAINED));
    d && (e = e.usingCloseCallback(d));
    a.bootstrap.fromPaymentsUrl(this.megabloxUrl_);
    a = a.bootstrap.asMashupMode(e);
    b = b ? b : M("YPC_GB_LANGUAGE");
    a.usingGaiaIndex(c ? c : M("SESSION_INDEX")).usingLocale(b).usingDefaultActivityStatusChangeHandler().usingStyle(":md;pc=#444;ac=#065fd4").usingBaseZIndex(2E9);
    return a
  };
  f.openBuyDialog_ = function(a, b, c, d, e, g, h, k, m, l, q) {
    try {
      h && h("orchestration-script-init");
      var p = G("payments.business.integration"),
        n = p.standaloneContextAuthId.forUserId(),
        r = m;
      l && (r = function() {
        try {
          v.unload()
        } catch (x) {
          O(x, void 0, void 0, void 0, !0)
        }
        m && m()
      });
      var t = this.getBootstrapper_(p, g, e, r);
      k && t.usingServerAnalyticsEventHandler(k);
      var u = t.inStandaloneContext(n);
      h && h("orchestration-script-bootstrapper");
      var v = u.buyFlow(function(x) {
        !x || x.integratorData && "" !== x.integratorData && !x.error || (null != x.error ? "-1" === String(x.error) ? ev(q) : (fv("TRANSACTION_ERROR_TYPE_YPC_BUYFLOW_COMPLETE_FAILURE", q), O(Error("PAYMENT_ERROR_MESSAGE::" + x.userVisibleErrorMessage + "  PAYMENT_ERROR_DETAILS::" + x.internalErrorDetails), void 0, void 0, void 0, !0)) : (fv("TRANSACTION_ERROR_TYPE_YPC_BUYFLOW_COMPLETE_EMPTY",
          q), O(Error("IntegratorData not present in BuyFlow Complete Callback"))));
        b && b(x)
      }).withEncryptedParameters(a);
      h && h("orchestration-script-buy-flow-enc-params");
      v.load(c, function(x) {
        fv("TRANSACTION_ERROR_TYPE_LOAD_FAILURE", q);
        O(x, void 0, void 0, void 0, !0);
        d && d(x)
      });
      h && h("orchestration-script-buy-flow-load")
    } catch (x) {
      throw O(x, void 0, void 0, void 0, !0), x;
    }
  };
  f.openFixFlowDialog_ = function(a, b, c, d) {
    try {
      this.getBootstrapper_(G("payments.business.integration")).forWidget().fixInstrument().withEncryptedParameters(a).withIntegratorCallback(b).load(c, d)
    } catch (e) {
      throw O(e, void 0, void 0, void 0, !0), e;
    }
  };
  var jv = function(a) {
      if (!Qf(document, "gtm")) {
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
          "gtm.start": (new Date).getTime(),
          event: "gtm.js"
        });
        var b = fg(document, "SCRIPT");
        b.async = !0;
        Yc(b, ac(new Nb(Lb, "//www.googletagmanager.com/gtm.js?id=%{id}"), {
          id: a
        }));
        b.id = "gtm";
        a = document.getElementsByTagName("script");
        0 == a.length ? document.head.appendChild(b) : (a = a[0], a.parentNode.insertBefore(b, a))
      }
    },
    kv = function(a) {
      if (a = JSON.parse(a)) window.dataLayer = window.dataLayer || [], window.dataLayer.push(a)
    };
  var lv = function(a, b) {
    this.payloadName = "transactionFlowFailed";
    this.payload = {
      errorType: a,
      serializedTransactionFlowLoggingParams: b
    }
  };
  F("yt.ypc.shared.YpcTransactionFlowError", lv, void 0);
  var V = {},
    mv = {
      YtActionSenderBehavior: {
        _noAccessors: !0,
        sendAction: function(a, b) {
          return nt(this, a, b)
        },
        sendOptionalAction: function(a, b) {
          return nt(this, a, b, !0)
        },
        sendSingletonAction: function(a, b) {
          return nt(this, a, b)[0]
        },
        sendInnerTubeActions: function(a, b, c) {
          ot(this, a, b, c)
        },
        sendServiceRequestAction: function(a) {
          return pt(this, a)
        }
      }
    };
  var nv = {};
  nv.YtActionHandlerBehavior = [mv.YtActionSenderBehavior, {
    actionMap: {},
    attached: function() {
      this.registerActionMap(this.actionMap)
    },
    detached: function() {
      this.unregisterActionMap(this.actionMap)
    },
    registerActionMap: function(a) {
      for (var b = y(Object.keys(a)), c = b.next(); !c.done; c = b.next()) c = c.value, (c = this.createRegisterActionDetail_(c, a[c])) && this.registerAction_(c)
    },
    unregisterActionMap: function(a) {
      a = y(Object.keys(a));
      for (var b = a.next(); !b.done; b = a.next()) this.unregisterAction_(new Os(b.value, this))
    },
    registerAction_: function(a) {
      this.fire("yt-register-action", a)
    },
    unregisterAction_: function(a) {
      this.fire("yt-unregister-action", a, {
        node: document
      })
    },
    createRegisterActionDetail_: function(a, b) {
      var c = this[b];
      if (c) return new Ns(a, this, c);
      a = Error("Unable to register undefined function");
      a.params = b;
      O(a);
      return null
    }
  }];
  var ov = {},
    pv = "accountDisconnectionEndpoint accountIntegrationEndpoint accountLinkCommand accountUnlinkCommand addToRemoteQueueEndpoint clearRemoteQueueEndpoint insertInRemoteQueueEndpoint pingingEndpoint removeFromRemoteQueueEndpoint".split(" "),
    qv = ["updatedMetadataEndpoint"],
    rv = ["GET_UNSEEN_CONVERSATION_COUNT", "GET_UNSEEN_NOTIFICATION_COUNT", "REGISTER_USER_TANGO_INVALIDATION"],
    sv = function() {},
    tv = function(a, b) {
      this.data = a;
      this.actions = b
    };
  ov.YtEndpointHandlerBehavior = [nv.YtActionHandlerBehavior, mv.YtActionSenderBehavior, {
    _noAccessors: !0,
    created: function() {
      this.endpointHandlerActionMap_ = {
        "yt-service-request": "handleServiceRequest_"
      };
      this.serviceEndpointHandlers_ = []
    },
    attached: function() {
      this.registerActionMap(this.endpointHandlerActionMap_)
    },
    detached: function() {
      this.unregisterActionMap(this.endpointHandlerActionMap_)
    },
    registerServiceEndpointHandler: function(a) {
      this.serviceEndpointHandlers_.push(a)
    },
    handleServiceRequest_: function(a, b, c) {
      var d = new sv;
      d.endpoint = b;
      var e = gt(b);
      e && (this.sendInnerTubeActions(e, a, c), d.actions = e);
      !P("kevlar_logging_urls_killswitch") && b.loggingUrls && b.loggingUrls.forEach(function(h) {
        h.baseUrl && rs(h.baseUrl)
      });
      (e = fs(P("log_web_endpoint_to_layer") && a.getScreenLayer ? a.getScreenLayer() : void 0)) && b.clickTrackingParams && !this.isPollingEndpoint_(b) && !this.hasNavigationLogging_(a) && Gr(sr, e, xr(b.clickTrackingParams), void 0, void 0, void 0);
      e = !1;
      for (var g = 0; g < this.serviceEndpointHandlers_.length; g++)
        if ((0, this.serviceEndpointHandlers_[g])(a, b, c)) {
          e = !0;
          break
        }! e && this.shouldSendNetworkRequest_(b) && (d.ajaxPromise = this.sendServiceAjax_(a, b, c));
      return d
    },
    hasNavigationLogging_: function(a) {
      return (a = a.data && a.data.navigationEndpoint) && !!a.clickTrackingParams
    },
    isPollingEndpoint_: function(a) {
      if (a.signalServiceEndpoint) {
        var b = a.signalServiceEndpoint.signal;
        if (b && 0 <= rv.indexOf(b)) return !0
      }
      for (var c in a)
        if (0 <= qv.indexOf(c)) return !0;
      return !1
    },
    shouldSendNetworkRequest_: function(a) {
      if (a.signalServiceEndpoint && "CLIENT_SIGNAL" == a.signalServiceEndpoint.signal) return !1;
      for (var b in a)
        if (0 <= pv.indexOf(b)) return !1;
      a = Object.keys(a);
      return 1 == a.length && "loggingUrls" == a[0] ? !1 : !0
    },
    getCancellableNetworkPromise_: function(a, b, c, d) {
      var e = this,
        g = a.requestDataForServiceEndpoint(c, d),
        h = vh();
      h.promise.thenCatch(function() {
        e.handleOnFailureAction_(c, b);
        g.cancel("Resolver promise rejected")
      });
      g.then(function(k) {
        if (k) {
          if (k.data) {
            k.data.trackingParams && !P("kevlar_attach_service_response_killswitch") && e.logServiceAjaxResponse_(b, k.data.trackingParams);
            var m = ht(k.data);
            m && e.sendInnerTubeActions(m, b);
            h.resolve(new tv(k.data, m))
          }
          k.error && h.reject(Error(k.error))
        } else e.handleOnFailureAction_(c, b), h.reject(Error("Invalid service endpoint provided: " + JSON.stringify(c)))
      }, function(k) {
        h.reject(k)
      }, this);
      return h.promise
    },
    sendServiceAjax_: function(a, b, c) {
      var d;
      return (d = a.getNetworkManager && a.getNetworkManager() ? a.getNetworkManager() : this.getInterface(At)) ? this.getCancellableNetworkPromise_(d, a, b, c) : qh("No network manager.")
    },
    logServiceAjaxResponse_: function(a, b) {
      var c = a.getScreenLayer ? a.getScreenLayer() : void 0;
      a = fs(c);
      c = es(c);
      a && c && (b = xr(b), Er(sr, a, c, [b], void 0), this.sendOptionalAction("yt-store-grafted-ve-action", [b]))
    },
    handleOnFailureAction_: function(a, b) {
      var c = et(a, "action") || et(a, "command") || et(a, "endpoint");
      c && a[c].hasOwnProperty("onFailureAction") && this.sendInnerTubeActions([a[c].onFailureAction], b)
    }
  }];
  var uv = {};
  
  uv.YtOpenPopupBehavior = [{
      properties: {
        popupPositionTarget: Object
      },
      listeners: {
        "yt-service-request-completed": "onOpenPopupServiceRequestCompleted_"
      },
      created: function() {
        this.openPopupConfig = null
      },
      openPopup: function(a) {
        this.sendAction("yt-open-popup-action", [a, this])
      },
      getNavigationEndpointPopupAction: function(a) {
        var b = et(a, "endpoint"),
          c = et(a, "action");
        if (b = c ? c : b)
          if (b = this.openPopupConfig && this.openPopupConfig.navigationEndpointPopupMap[b])
            if (a = this.get(b, a), (b = et(a, "renderer")) && this.openPopupConfig.supportedPopups.hasOwnProperty(b)) return {
              openPopupAction: {
                popupType: this.openPopupConfig.popupTypeMap[b],
                popup: a
              }
            };
        return null
      },
      onOpenPopupServiceRequestCompleted_: function(a, b) {
        b = this.get("data.contents", b);
        b instanceof Array && b.length && (b = b[0]);
        if (b) {
          var c = et(b, "renderer");
          this.openPopupConfig.supportedPopups.hasOwnProperty(c) && (a.stopPropagation(), this.openPopup({
            openPopupAction: {
              popupType: this.openPopupConfig.popupTypeMap[c],
              popup: b
            }
          }))
        }
      }
    },
    mv.YtActionSenderBehavior
  ];
  
  var vv = [uv.YtOpenPopupBehavior, {
    _noAccessors: !0,
    created: function() {
      this.openPopupConfig = M("openPopupConfig")
    }
  }];
  var wv = {};
  wv.YtEndpointBehavior = [uv.YtOpenPopupBehavior, {
    properties: {
      openPopupConfig: Object,
      endpointHandlerTarget: Object
    },
    ready: function() {
      this.openPopupConfig = M("openPopupConfig");
      this.endpointHandlerTarget || (this.endpointHandlerTarget = this);
      this.listen(this.endpointHandlerTarget, "tap", "onEndpointTap_");
      this.listen(this.endpointHandlerTarget, "touchstart", "onEndpointTapStart_");
      this.listen(this.endpointHandlerTarget, "touchend", "onEndpointTouchEnd_");
      this.listen(this.endpointHandlerTarget, "mousedown", "onEndpointTapStart_")
    },
    getEndpointFromEvent_: function(a) {
      a = Polymer.dom(a).path;
      for (var b, c = 0; c < a.length; c++) {
        b = a[c];
        if ("yt-endpoint" == b.is) break;
        if ("A" == b.tagName && b.classList.contains("yt-simple-endpoint")) {
          if (!b.data) break;
          return b
        }
      }
      return null
    },
    onEndpointTap_: function(a) {
      var b = this.getEndpointFromEvent_(a);
      if (b) {
        var c = 0 === Ud("pbj_navigate_limit", -1),
          d = a.detail.sourceEvent,
          e = void 0 !== d.button;
        d = 0 == d.button && !(d.shiftKey || d.altKey || d.metaKey || d.ctrlKey);
        b.data && (!e || e && d) && (this.setClickTrackingData_(b), e = this.getEndpointHandler_(), (d = this.getNavigationEndpointPopupAction(b.data)) ? (a.preventDefault(), a.stopPropagation(), this.openPopup(d)) : (e = e.getNavigationEventDetails(b.data, a), c || (a.preventDefault(), a.stopPropagation(), this.fire("yt-navigate",
          e, {
            node: b
          }))))
      }
    },
    onEndpointTouchEnd_: function(a) {
      this.getEndpointFromEvent_(a) && a.preventDefault()
    },
    onEndpointTapStart_: function(a) {
      var b = this.getEndpointFromEvent_(a);
      b && (P("sonic_disable_async_click_on_non_regular_clicks") && this.maybeDisableAdsAsyncClickTracking_(a), this.setClickTrackingData_(b), P("polymer_endpoint_tap_start_stop_propagation") && a.stopPropagation())
    },
    setClickTrackingData_: function(a) {
      a.href && Es(a.href, {
        itct: a.data.clickTrackingParams
      })
    },
    maybeDisableAdsAsyncClickTracking_: function(a) {
      if ((1 != a.which || a.shiftKey || a.altKey || a.metaKey || a.ctrlKey) && (a = this.getEndpointFromEvent_(a)) && a.data && a.data.loggingUrls) {
        var b = nb(a.data.loggingUrls, function(d) {
          return d.baseUrl && "1" == Fj(d.baseUrl, "ae")
        });
        if (-1 != b && a instanceof HTMLAnchorElement) {
          var c = a.data.loggingUrls[b].baseUrl;
          c = Hj(c, "ae");
          c = Hj(c, "act");
          c = Hj(c, "ri");
          Vc(a, c);
          a.data.loggingUrls.splice(b)
        }
      }
    }
  }];
  var xv = {},
    yv = null,
    zv = {
      isVisibilityRoot: !1,
      observeVisibleOption: null,
      observeHiddenOption: null,
      observePrescanOption: null,
      properties: {
        viewroot: Object
      },
      created: function() {
        this.prescanHandlerKey_ = this.hiddenHandlerKey_ = this.visibleHandlerKey_ = this.visibilityObserverForChild_ = this.localVisibilityObserver_ = null;
        this.visibilityOptionVisible_ = this.observeVisibleOption ? {
          calledOnce: "observe_once" == this.observeVisibleOption,
          state: "visible"
        } : null;
        this.visibilityOptionHidden_ = this.observeHiddenOption ? {
          calledOnce: "observe_once" ==
            this.observeHiddenOption,
          state: "hidden"
        } : null;
        this.visibilityOptionPrescan_ = this.observePrescanOption ? {
          calledOnce: "observe_once" == this.observePrescanOption,
          state: "prescan"
        } : null
      },
      attached: function() {
        this.isVisibilityRoot && (this.visibilityObserverForChild_ = Ru(this.viewroot));
        this.async(this.initVisibilityObserver_)
      },
      initVisibilityObserver_: function() {
        this.visibilityObserver && this.configureVisibilityObserver_()
      },
      configureVisibilityObserver_: function() {
        var a = this;
        this.visibilityOptionVisible_ && (this.visibleHandlerKey_ = this.visibilityObserver.observe(this, function() {
          return a.onVisible()
        }, this.visibilityOptionVisible_));
        this.visibilityOptionHidden_ && (this.hiddenHandlerKey_ = this.visibilityObserver.observe(this, function() {
          return a.onHidden()
        }, this.visibilityOptionHidden_));
        this.visibilityOptionPrescan_ && (this.prescanHandlerKey_ = this.visibilityObserver.observe(this, function() {
          a.onPrescanVisible()
        }, this.visibilityOptionPrescan_))
      },
      detached: function() {
        this.visibleHandlerKey_ && (this.visibilityObserver.unobserveByKey(this.visibleHandlerKey_), this.visibleHandlerKey_ = null);
        this.hiddenHandlerKey_ && (this.visibilityObserver.unobserveByKey(this.hiddenHandlerKey_), this.hiddenHandlerKey_ = null);
        this.prescanHandlerKey_ && (this.visibilityObserver.unobserveByKey(this.prescanHandlerKey_), this.prescanHandlerKey_ = null);
        this.visibilityObserverForChild_ = this.localVisibilityObserver_ = null
      },
      markDirtyVisibilityObserver: function() {
        this.localVisibilityObserver_ && this.configureVisibilityObserver_()
      },
      getVisibilityObserverForChild: function() {
        return this.visibilityObserverForChild_ ? this.visibilityObserverForChild_ : this.localVisibilityObserver_
      },
      get visibilityObserver() {
        if (this.localVisibilityObserver_) return this.localVisibilityObserver_;
        var a = zg(this.parentNode, function(b) {
          return !!b.getVisibilityObserverForChild && b.getVisibilityObserverForChild()
        }, !0);
        a ? a = a.getVisibilityObserverForChild() : (yv || (yv = Ru()), a = yv);
        return this.localVisibilityObserver_ = a
      },
      onVisible: function() {},
      onHidden: function() {},
      onPrescanVisible: function() {}
    };
  P("kevlar_import_vimio_behavior") || P("gaming_vimio_behavior_onshow") || (zv = {});
  zv && !P("kevlar_attach_vimio_behavior") && (delete zv.attached, delete zv.detached);
  xv.YtVisibilityObserverBehavior = [zv];
  var Av = {};
  Av.YtVisualElementBehavior = [xv.YtVisibilityObserverBehavior, {
    properties: {
      visualElement: Object
    },
    observeVisibleOption: "observe_multiple",
    observeHiddenOption: "observe_multiple",
    onVisible: function() {
      if (P("kevlar_enable_vimio_callback") && this.onShow) this.onShow();
      var a = this.getVETracker();
      a && a.reportShown(this)
    },
    onHidden: function() {
      if (P("kevlar_enable_vimio_callback") && this.onHide) this.onHide();
      var a = this.getVETracker();
      a && a.reportHidden(this)
    },
    getVETracker: function() {
      return P("kevlar_enable_vimio_callback") && P("kevlar_enable_vimio_logging") ? js.getInstance() : null
    }
  }];
  var Bv = new Map;

  function Cv(a) {
    if (Bv.has(a)) return Bv.get(a);
    var b = a.toLowerCase();
    var c = "yt-icons",
      d = b.replace(/_/g, "-");
    switch (a) {
      case "MY_CHANNEL":
        b = "account_circle";
        break;
      case "ACCOUNT_LINKED":
      case "ACCOUNT_UNLINKED":
        c = "icons";
        b = d;
        break;
      case "ADD_TO_LIBRARY":
        b = "add";
        break;
      case "ALERT_WARN_RED":
        b = "warning";
        break;
      case "BLOCK_USER":
        b = "block";
        break;
      case "CLOSED_CAPTION":
        c = "av";
        b = "closed-caption";
        break;
      case "COLLECTION":
        c = "maps";
        b = "layers";
        break;
      case "CONTACT":
        c = "icons";
        b = "business";
        break;
      case "CREATOR_STUDIO_ERROR_ON_LOAD":
      case "CREATOR_STUDIO_NO_COMMENTS":
      case "CREATOR_STUDIO_NO_HELD_COMMENTS":
      case "CREATOR_STUDIO_NO_SEARCH_MATCH":
        c = "ytcp-icons";
        b = d.split("creator-studio-")[1];
        break;
      case "DISMISSAL":
        b = "close";
        break;
      case "DO_NOT_DISTURB":
        b = "block";
        break;
      case "DOGFOOD":
        c = "icons";
        b = "pets";
        break;
      case "EMPTY_LIKE":
        b = "like_outline";
        break;
      case "EXIT_APP":
        b = "exit_to_app";
        break;
      case "GAMES":
        c = "ytg";
        b = "my-games";
        break;
      case "GO_TO_PAGE":
        b = "arrow-forward";
        break;
      case "GROUP":
        c = "social";
        break;
      case "HIDE":
        b = "not_interested";
        break;
      case "INPUT_COMPONENT":
        c = "icons";
        b = "settings-input-component";
        break;
      case "MEMBERSHIP_LIMITED_PRE_PURCHASE":
      case "MEMBERSHIP_OFFER":
        c =
          "ytg";
        b = "membership-pre-purchase";
        break;
      case "MEMBERSHIP_LIMITED_POST_PURCHASE":
        c = "ytg";
        b = "membership-post-purchase";
        break;
      case "MY_LOCATION":
        c = "maps";
        b = d;
        break;
      case "NOTIFICATIONS_INBOX":
        b = "NOTIFICATIONS";
        break;
      case "NEXT":
        b = "chevron_right";
        break;
      case "OFFLINE":
        b = "power-settings-new";
        break;
      case "PAUSE":
        c = "miniplayer";
        break;
      case "PAYMENT":
        c = "icons";
        break;
      case "PHONE_DOWNLOAD":
        b = "phone_download";
        break;
      case "QUESTION_ANSWER":
        b = "question_answer";
        break;
      case "REDEEM":
        c = "icons";
        b = "redeem";
        break;
      case "REMOVE":
      case "REMOVE_FROM_HISTORY":
      case "REMOVE_FROM_PLAYLIST":
        b =
          "remove-circle-outline";
        break;
      case "SAVE_PLAYLIST":
        b = "library_add";
        break;
      case "SETTINGS_LIGHT":
        b = "settings_applications";
        break;
      case "SETTINGS_MATERIAL":
        b = "settings";
        break;
      case "SEARCH_HISTORY":
        b = "watch_history";
        break;
      case "SOCIAL":
      case "PEOPLE":
        c = "social";
        b = "people";
        break;
      case "STAFF_PICK":
        c = "ytg";
        b = "spotlight";
        break;
      case "START_DVR":
        b = "add";
        break;
      case "STOP_DVR":
        c = "av";
        b = "stop";
        break;
      case "SUBSCRIPTIONS":
        c = "av";
        break;
      case "TAB_LIKED":
        b = "like";
        break;
      case "TERMS_OF_SERVICE":
        c = "icons";
        b = "description";
        break;
      case "TRENDING_UP":
        c = "icons";
        b = d;
        break;
      case "UNBLOCK_USER":
        b = "remove";
        break;
      case "UNPLUGGED_DARK_THEME":
        c = "image";
        b = "brightness-3";
        break;
      case "UNPLUGGED_LIVE_GUIDE":
      case "LIVE":
        b = "live";
        break;
      case "UNPLUGGED_SPORTS":
        c = "ytu";
        b = "visibility-off";
        break;
      case "VIDEOS":
        c = "av";
        b = "play-circle-filled";
        break;
      case "VOLUME_UP":
        c = "miniplayer";
        b = d;
        break;
      case "YOUTUBE":
        c = "yt-logos", b = "lozenge"
    }
    b = "" + c + ":" + b;
    Bv.set(a, b);
    return b
  };
  var Dv = {};
  Dv.ComponentBehavior = {
    _noAccessors: !0,
    ready: function() {
      this.provides && Rs(this.provides, this, !1)
    },
    getInterface: function(a) {
      return Ss(a)
    },
    getInterfaceForTs: function(a) {
      return Ts(a)
    },
    asyncFrame: function(a, b) {
      return setTimeout(function() {
        requestAnimationFrame(a)
      }, b)
    },
    getSimpleString: it,
    getEndpointHandler_: jt,
    computeHref_: function(a, b) {
      return a ? (a = kt(a, void 0 === b ? !1 : b)) ? P("enable_polymer_resin") ? yc(a).getTypedStringValue() : a : null : null
    },
    computeNofollow_: function(a) {
      return a ? Xs(a) ? "nofollow" : null : null
    },
    computeIcon_: function(a) {
      return a && a.iconType ? Cv(a.iconType) : ""
    }
  };
  var W = {},
    Ev = 0;

  function Fv(a) {
    var b = Polymer.Element ? Polymer.Async.animationFrame.cancel.bind(Polymer.Async.animationFrame) : Polymer.Async.cancel.bind(Polymer.Async),
      c = Polymer.Element ? Polymer.Async.animationFrame.run.bind(Polymer.Async.animationFrame) : Polymer.Async.run.bind(Polymer.Async);
    Ev && b(Ev);
    Ev = c(function() {
      a.fire("yt-visibility-refresh");
      Ev = 0
    })
  }
  var Gv = {
    _noAccessors: !0,
    properties: {
      data: Object
    },
    observers: ["ytRendererBehaviorDataObserver_(data)", "ytRendererBehaviorTargetIdObserver_(data.targetId)"],
    dirtyTree: !1,
    childCache_: null,
    parentComponent: null,
    wasVisible: !1,
    wasPrescan: !1,
    lastHandledScroll_: 0,
    isRenderer_: !0,
    screenLayer: null,
    created: function() {
      this.childCache_ = new Set
    },
    detached: function() {
      this.monitorScroll && this.unlisten(this, "scroll", "onScroll");
      this.parentComponent && (this.parentComponent.childCache_.delete(this), this.parentComponent = null);
      this.markDirty()
    },
    registerRenderer_: function(a) {
      a.parentComponent = this;
      this.childCache_.add(a);
      this.markDirty()
    },
    unregisterRenderer_: function(a) {
      this.childCache_.delete(a);
      this.markDirty()
    },
    attached: function() {
      var a = this.getParentRenderer_();
      a && a.registerRenderer_(this);
      this.monitorScroll && this.listen(this, "scroll", "onScroll")
    },
    getParentRenderer_: function() {
      for (var a = this.parentNode; a && !a.isRenderer_;) a = a.parentNode || a.host;
      return a
    },
    ytRendererBehaviorDataObserver_: function() {
      this.data && (this.wasVisible = !1, P("kevlar_attach_vimio_behavior") && this.markDirtyVisibilityObserver(), N("ADD_SCRAPER_ATTRIBUTES") && this.data.trackingParams && (this.dataset.ved = this.data.trackingParams))
    },
    ytRendererBehaviorTargetIdObserver_: function() {
      if (this.data && this.data.targetId) {
        var a = this.data.targetId;
        P("kevlar_nitrate_driven_tooltips") && wt.getInstance().registerTargetElement(a, this)
      }
    },
    onScroll: function() {
      var a = Date.now();
      50 > a - this.lastHandledScroll_ || (this.lastHandledScroll_ = a, this.markDirty())
    },
    markDirty: function() {
      P("kevlar_use_vimio_behavior") || Fv(this);
      P("kevlar_attach_vimio_behavior") && this.markDirtyVisibilityObserver()
    },
    getScreenLayer: function() {
      if (this.screenLayer) return this.screenLayer;
      var a = this.getParentRenderer_();
      if (a) return a.getScreenLayer()
    },
    invalidate: function(a) {
      this.markDirty();
      this.wasPrescan = this.wasVisible = !1;
      a && (this.dirtyTree = !0)
    },
    getNodes: function() {
      return this.childCache_ ? Array.from(this.childCache_) : []
    },
    impressionLog: function() {
      if (this.data && this.data.impressionEndpoints)
        for (var a = 0; a < this.data.impressionEndpoints.length; a++) {
          var b = this.data.impressionEndpoints[a];
          b.clickTrackingParams && delete b.clickTrackingParams;
          this.sendServiceRequestAction([b])
        }
    },
    logExplicitClick: function(a) {
      var b = fs();
      null != b && a.trackingParams && Gr(sr, b, xr(a.trackingParams), void 0, void 0, void 0)
    },
    getEndpointHandler_: jt
  };
  P("kevlar_use_vimio_behavior") && (delete Gv.created, delete Gv.attached, delete Gv.detached, delete Gv.getNodes, delete Gv.registerRenderer_, delete Gv.unregisterRenderer_);
  W.YtRendererBehavior = [Dv.ComponentBehavior, mv.YtActionSenderBehavior, Av.YtVisualElementBehavior, Gv];
  var Hv = function(a) {
    this.ofInjectionId = a
  };

  function Iv(a, b) {
    a = y(a);
    for (var c = a.next(); !c.done; c = a.next())
      if (c = c.value, c.constructor === Array) Iv(c, b);
      else {
        var d = b;
        d.has(c) || (c.inject && d.add(c), c.behaviors && Iv(c.behaviors, d))
      }
  };
  var Jv = !1;

  function Kv() {
    var a = Polymer,
      b = a.Base._registerHost;
    a.Base._registerHost = function(c) {
      b.call(this, c);
      this.initializeInjection && this.initializeInjection()
    }
  }

  function Lv() {
    function a(g, h, k, m) {
      var l = g[h];
      g[h] = function() {
        this._host = c.currentHost();
        this.initializeInjection && this.initializeInjection();
        if (l) return l.apply(this, arguments)
      };
      var q = g[k];
      g[k] = function() {
        c.push(m ? this._host : this);
        var p = q.apply(this, arguments);
        c.pop();
        return p
      }
    }
    var b = Polymer,
      c = {
        stack: [],
        push: function(g) {
          this.stack.push(g)
        },
        pop: function() {
          this.stack.pop()
        },
        currentHost: function() {
          if (this.stack.length) return this.stack[this.stack.length - 1]
        }
      },
      d = b._polymerFn.Class ? b._polymerFn : b,
      e = d.Class;
    d.Class = function(g) {
      g = e(g);
      a(g.prototype, "created", "_stampTemplate", !1);
      return g
    };
    a(b.DomRepeat.prototype, "_initializeProperties", "__stampInstance", !0);
    a(b.DomIf.prototype, "_initializeProperties", "__ensureInstance", !0);
    b.legacyOptimizations && a(b.Templatizer, "created", "stamp", !0);
    customElements.get("iron-list") && a(customElements.get("iron-list").prototype, "_initializeProperties", "stamp", !0);
    b.dedupingMixin(function(g) {
      var h = function() {
        return g.apply(this, arguments) || this
      };
      z(h, g);
      h.prototype._initializeProperties = function() {
        this._host = c.currentHost();
        this.initializeInjection && this.initializeInjection();
        g.prototype._initializeProperties.call(this)
      };
      h.prototype._stampTemplate = function(k) {
        for (var m = [], l = 0; l < arguments.length; ++l) m[l - 0] = arguments[l];
        c.push(this);
        m = g.prototype._stampTemplate.call.apply(g.prototype._stampTemplate, [this].concat(la(m)));
        c.pop();
        return m
      };
      return h
    })
  };
  var Mv, Nv = [];

  function Ov(a) {
    for (; a = Polymer.Element ? a._host : a.dataHost && a.dataHost._rootDataHost ? a.dataHost._rootDataHost : a.dataHost;)
      if (a.injector) return a.injector
  };
  var Pv = {},
    Qv;
  if (window.hasOwnProperty("Polymer")) {
    var Rv = Polymer;
    Qv = Rv && Rv.Base
  } else Qv = !1;
  Qv && !Jv && (Polymer.Element ? Lv() : Kv(), Jv = !0);
  Pv.InjectBehavior = {
    initializeInjection: function() {
      var a = this.isInjectionRoot,
        b = this.provide,
        c = Mv || Ov(this) || Nv[Nv.length - 1];
      Mv = void 0;
      if (c || a) {
        if (!c || b && 0 < b.length) a = b || [], c = void 0 === c ? null : c, a = jo(a), c = new oo(a, void 0 === c ? null : c);
        this.injector = c;
        a = new Set;
        Iv(this.behaviors || [], a);
        c = {};
        a = y(a);
        for (b = a.next(); !b.done; b = a.next()) b = b.value, b.inject && Object.assign(c, b.inject);
        this.inject && Object.assign(c, this.inject);
        a = y(Object.keys(c));
        for (b = a.next(); !b.done; b = a.next()) {
          b = b.value;
          var d = c[b],
            e = d instanceof
          Hv ? {
            injectionId: d.ofInjectionId,
            isOptional: !0
          } : {
            injectionId: d,
            isOptional: !1
          };
          d = e.injectionId;
          e = e.isOptional;
          try {
            this[b] = this.injector.get(d)
          } catch (g) {
            if (e) this[b] = void 0;
            else throw g;
          }
        }
        this.tempInjectionInitialized && this.tempInjectionInitialized()
      } else throw Error("Inject failed on " + this.tagName.toLocaleLowerCase());
    }
  };

  function Sv(a, b) {
    if (!(b instanceof HTMLElement)) return Mv = b, document.createElement(a);
    Mv = b.injector || Ov(b);
    a = document.createElement(a);
    if (Mv) throw Mv = void 0, Error("Element " + a.tagName.toLowerCase() + " was created with createElementWithInjectionParent but did not use adopting injector. Most likely the element does not include InjectBehavior");
    return a
  }

  function Tv(a) {
    if ("string" === typeof a) {
      var b = Polymer.telemetry.registrations.find(function(c) {
        return c.is === a
      });
      return b ? Uv(b.behaviors || []) : (b = customElements && customElements.get(a)) ? !!b.prototype.initializeInjection : !1
    }
    return !!a.injector
  }

  function Uv(a) {
    return a.some(function(b) {
      return Array.isArray(b) ? Uv(b) : !!b.initializeInjection
    })
  };
  var X = {};
  X.InjectBehavior = [Pv.InjectBehavior];
  var Yv = function(a, b) {
      var c = Vv.get(a);
      if (c && (c = c.pop())) {
        if (b && Tv(b) && Tv(c)) {
          if (!c.injector) throw Error("");
          if (!b.injector) throw Error("");
          c.injector !== b.injector && c.initializeInjection && (Mv = b.injector, c.initializeInjection())
        }
        Wv++;
        return c
      }
      Xv++;
      return b && Tv(b) ? Sv(a, b) : document.createElement(a)
    },
    Zv = function(a) {
      var b = a.is;
      if (!b) return O(Error("Element pool should only handle custom elements. Element name: " + a.nodeName), "WARNING"), !1;
      var c = Vv.get(b);
      c || (c = [], Vv.set(b, c));
      if (c.length >= ((M("ELEMENT_POOL_CONFIG") || {})[b] || M("ELEMENT_POOL_DEFAULT_CAP", 0))) return !1;
      c.push(a);
      return !0
    },
    Vv = new Map,
    Xv = 0,
    Wv = 0;
  Polymer({
    is: "yt-icon",
    properties: {
      icon: String,
      targetContainer: {
        type: String,
        value: ""
      }
    },
    observers: ["iconChanged_(icon, targetContainer, isAttached)"],
    meta_: new Polymer.IronMeta({
      type: "iconset"
    }),
    created: function() {
      this.iconName_ = "";
      this.iconsetName_ = "yt-icons";
      this.iconset_ = null;
      this.missingIconSet_ = !1
    },
    iconChanged_: function(a, b, c) {
      (a || this.iconName_) && c && (a ? (!P("default_to_innertube_icon") || 0 < a.indexOf(":") || (a = Cv(a)), a = (a || "").split(":"), 1 == a.length && a.unshift("yt-icons"), a[1] = a[1].toLowerCase(), a.length && (this.iconsetName_ = a[0], this.iconName_ = a[1])) : this.iconName_ = this.iconsetName_ = "", b ? this.classList.add("external-container") : this.classList.remove("external-container"), this.updateIcon_(b))
    },
    onIconsetAdded_: function() {
      this.updateIcon_(this.targetContainer)
    },
    updateIcon_: function(a) {
      var b = this;
      if (a) {
        if (!this.domHost || !this.domHost.$) return;
        b = this.domHost.$[a] || this.domHost.$$("#" + a)
      }
      "" == this.iconName_ ? this.iconset_ && this.iconset_.removeIcon(b) : this.iconsetName_ && this.meta_ && ((this.iconset_ = this.meta_.byKey(this.iconsetName_)) ? (this.iconset_.applyIcon(b, this.iconName_), this.missingIconSet_ && (this.missingIconSet_ = !1, this.unlisten(window, "iron-iconset-added", "onIconsetAdded_"))) : (this.missingIconSet_ = !0, this.listen(window, "iron-iconset-added", "onIconsetAdded_")))
    }
  });
  /*

   '--yt-lightsource-section1-color',
   '--yt-lightsource-section2-color',
   '--yt-lightsource-section3-color',
   '--yt-lightsource-navBarColor',
   '--yt-lightsource-primary-title-color',
   '--yt-lightsource-secondary-title-color',
   '--yt-lightsource-body-text-color',
   '--yt-lightsource-iron-activated-color',
   '--yt-lightsource-iron-inactive-color',
   '--yt-basic-background-color',
   '--yt-basic-foreground-title-color',
   '--yt-basic-foreground-body-color',
   '--yt-basic-foreground-activated-color'
  */
  var $v = "section1Color section2Color section3Color navBarColor primaryTitleColor secondaryTitleColor bodyTextColor ironActivatedColor ironInactiveColor".split(" "),
    aw = ["backgroundColor", "foregroundTitleColor", "foregroundBodyColor", "foregroundActivatedColor"],
    cw = function(a, b) {
      if (b) {
        var c = {};
        $v.forEach(function(d) {
          d = bw(b, d, "--yt-lightsource-");
          Object.assign(c, d)
        });
        aw.forEach(function(d) {
          d = bw(b, d, "--yt-basic-");
          Object.assign(c, d)
        });
        a.updateStyles(c)
      }
    },
    bw = function(a, b, c) {
      c += Polymer.CaseMap.camelToDashCase(b);
      var d = {};
      a && a[b] ? (a = Mu(a[b]), d[c] = a) : d[c] = "";
      return d
    };
  V.YtPlaintextBehavior_ = {
    properties: {
      plaintextOnly: {
        type: Boolean,
        value: !1
      }
    },
    detached: function() {
      this.plaintextOnly && (this.removeEventListener("paste", this.onPaste_), this.removeOwnKeyBindings())
    },
    ready: function() {
      this.plaintextOnly && (this.addEventListener("paste", this.onPaste_), this.addOwnKeyBinding("ctrl+b meta+b ctrl+i meta+i", "preventRichTextFormatting_"))
    },
    onPaste_: function(a) {
      a.preventDefault();
      a = a.clipboardData.getData("text/plain");
      document.execCommand("insertText", !1, a)
    },
    preventRichTextFormatting_: function(a) {
      Ge && (a = a.detail.keyboardEvent, a.stopImmediatePropagation(), a.preventDefault())
    }
  };
  V.YtPlaintextBehavior = [Polymer.IronA11yKeysBehavior, V.YtPlaintextBehavior_];
  var dw = 0,
    ew = new WeakMap,
    fw = 0,
    gw = new Set;

  function hw(a, b, c, d) {
    d || (d = "width");
    if (!a || !a.length) return null;
    var e = dw;
    e || (e = dw = window.devicePixelRatio);
    1 < e && (b *= e);
    e = a.length;
    if (c)
      for (var g = 0; g < e; g++)
        if (0 <= a[g].url.indexOf(c)) return a[g].url || null;
    for (c = 0; c < e; c++)
      if (a[c][d] >= b) return a[c].url || null;
    for (b = e - 1; 0 < b; b--)
      if (a[b][d]) return a[b].url || null;
    return a[0].url || null
  }

  function iw() {
    gw.size ? setTimeout(function() {
      S.addImmediateJob(jw)
    }, 0) : fw = 0
  }

  function jw() {
    var a = Jd(),
      b = null;
    gw.forEach(function(c) {
      c.loaded = !0;
      c.loadTime = a;
      c.pendingPaint = !1;
      var d = ew.get(c);
      d && d.resolve(a);
      b = c
    });
    b && b.markDirty();
    gw.clear();
    fw = 0
  }

  function kw(a) {
    var b = ew.get(a);
    b || (b = vh(), ew.set(a, b));
    Infinity > a.loadTime && 0 < a.loadTime && b.resolve(a.loadTime);
    return b.promise
  };
  Polymer({
    is: "yt-formatted-string",
    properties: {
      text: {
        type: Object,
        observer: "textChanged_"
      },
      noEndpoints: Boolean,
      noStyles: Boolean,
      splitLines: {
        type: Boolean,
        reflectToAttribute: !0
      },
      forceDefaultStyle: {
        type: Boolean,
        reflectToAttribute: !0
      },
      ellipsisTruncate: {
        type: Boolean,
        reflectToAttribute: !0,
        observer: "ellipsisTruncateChanged_"
      },
      ariaLabel: {
        type: String,
        reflectToAttribute: !0,
        computed: "computeAriaLabel_(text.accessibility.accessibilityData.label)"
      },
      hasLinkOnly_: {
        type: String,
        reflectToAttribute: !0,
        computed: "computeHasLinkOnly_(text.runs)"
      },
      emojiSize: {
        type: Number,
        value: 24
      },
      target: {
        type: String
      },
      enableContentEditable: {
        type: Boolean,
        observer: "enableContentEditableChanged_"
      },
      overrideAriaLabel: {
        type: String,
        observer: "overrideAriaLabelChanged_"
      },
      respectHtmlDir: Boolean
    },
    behaviors: [Dv.ComponentBehavior, V.YtPlaintextBehavior, mv.YtActionSenderBehavior, W.YtRendererBehavior],
    created: function() {
      this.hasSetTitle_ = this.hasChange_ = !1
    },
    ready: function() {
      Polymer.Settings.useShadow && this.toggleClass("use-shadow", !0);
      "rtl" != M("HTML_DIR", void 0) || this.respectHtmlDir || this.setAttribute("dir", "auto");
      this.enableContentEditableChanged_()
    },
    attached: function() {
      this.hasChange_ && this.textChanged_(this.text)
    },
    clearContents_: function() {
      for (var a = this.getRoot(), b = a.lastChild; b && "STYLE" != b.tagName;) a.removeChild(b), "yt-endpoint" == b.is && (Zv(b), b.innerHTML = ""), b = a.lastChild
    },
    textChanged_: function(a) {
      if (void 0 === this.isAttached) this.hasChange_ = !0;
      else {
        this.hasChange_ = !1;
        for (var b = this.firstChild; b && "FONT" == b.nodeName;) {
          var c = b;
          b = b.nextSibling;
          this.removeChild(c)
        }
        b = this.getRoot();
        if (a && (a.runs || a.simpleText))
          if (this.ellipsisTruncateChanged_(this.ellipsisTruncate), c = a.simpleText, !c && 1 == a.runs.length && this.isSimpleString_(a.runs[0]) && (c = a.runs[0].text), void 0 !== c) {
            if (c != b.textContent)
              if (P("kevlar_js_fixes")) {
                a = Polymer.Settings.useShadow;
                if (!a) try {
                  b.textContent = c
                } catch (d) {
                  a = !0
                }
                a && (this.clearContents_(), a = document.createElement("span"), c = document.createTextNode(c), a.appendChild(c), b.appendChild(a))
              } else Polymer.Settings.useShadow ? (this.clearContents_(), a = document.createElement("span"), c = document.createTextNode(c), a.appendChild(c), b.appendChild(a)) : b.textContent = c
          } else this.ellipsisTruncate ? this.classList.add("complex-string") : this.classList.remove("complex-string"), a.runs && this.updateText_(a.runs);
        else this.clearContents_()
      }
    },
    ellipsisTruncateChanged_: function(a) {
      !a || this.hasAttribute("title") && !this.hasSetTitle_ ? this.hasSetTitle_ && (this.removeAttribute("title"), this.hasSetTitle_ = !1) : (this.setAttribute("title", this.getRawText()), this.hasSetTitle_ = !0)
    },
    computeAriaLabel_: function(a) {
      return a
    },
    setNodeStyle_: function(a, b) {
      this.noStyles || (a.bold && b.classList.add("bold"), a.deemphasize && b.classList.add("deemphasize"), a.italics && b.classList.add("italic"), a.strikethrough && b.classList.add("strikethrough"), a.textColor && (b.style.color = Mu(a.textColor)))
    },
    setNodeTrackingParams_: function(a, b) {
      b.data || (b.data = {});
      if ((a = a.loggingDirectives ? a.loggingDirectives.trackingParams : null) || b.data.trackingParams) b.data.trackingParams = a
    },
    computeHasLinkOnly_: function(a) {
      return !(!a || 1 != a.length || this.noEndpoints || !a[0].navigationEndpoint)
    },
    getRoot: function() {
      var a = Polymer.dom(this.root);
      this.enableContentEditable && Polymer.Element && (a = a.firstChild);
      return a
    },
    fixContenteditableScope: function() {
      this.getRoot().childNodes.forEach(function(a) {
        1 == a.nodeType && (a.classList.add("style-scope"), a.classList.add("yt-formatted-string"))
      })
    },
    updateText_: function(a) {
      for (var b = a.length, c = this.getRoot(), d = c.firstChild; d && "STYLE" == d.nodeName;) d = d.nextSibling;
      for (var e = 0; e < b && d;) {
        var g = a[e];
        if (this.isSimpleString_(g) && !Polymer.Settings.useShadow)
          if ("#text" == d.nodeName) {
            d.textContent != g.text && (d.textContent = g.text);
            e++;
            d = d.nextSibling;
            continue
          } else break;
        if (g.emoji) break;
        else if (!this.noEndpoints && g.navigationEndpoint) {
          if ("A" != d.nodeName) break;
          this.setDataOnAnchor_(d, g.navigationEndpoint)
        } else if ("SPAN" != d.nodeName) break;
        this.setNodeStyle_(g,
          d);
        this.setNodeTrackingParams_(g, d);
        d.textContent != g.text && (d.textContent = g.text);
        e++;
        d = d.nextSibling
      }
      if (d)
        for (g = c.lastChild, d = e ? d.previousSibling : null; g && g != d;) c.removeChild(g), "yt-endpoint" == g.is && (Zv(g), g.innerHTML = ""), g = c.lastChild;
      e != b && this.addTextNodes_(a, e)
    },
    addTextNodes_: function(a, b) {
      for (var c = document.createDocumentFragment(), d = a.length; b < d; b++) {
        var e = a[b];
        if (this.isSimpleString_(e) && !Polymer.Settings.useShadow) c.appendChild(document.createTextNode(e.text));
        else if (e.emoji) {
          if (e.emoji.image) {
            var g = document.createElement("img");
            g.classList.add("emoji");
            g.src = hw(e.emoji.image.thumbnails, this.emojiSize);
            var h = this.get("image.accessibility.accessibilityData.label", e.emoji);
            g.alt = h ? h : e.emoji.isCustomEmoji ? e.emoji.shortcuts[0] : e.emoji.emojiId;
            c.appendChild(g)
          }
        } else !this.noEndpoints &&
          e.navigationEndpoint ? (g = document.createElement("a"), g.classList.add("yt-simple-endpoint"), g.setAttribute("spellcheck", "false"), this.setDataOnAnchor_(g, e.navigationEndpoint)) : g = document.createElement("span"), this.setNodeStyle_(e, g), this.setNodeTrackingParams_(e, g), g.appendChild(document.createTextNode(e.text)), c.appendChild(g)
      }
      this.getRoot().appendChild(c)
    },
    isSimpleString_: function(a) {
      return (this.noEndpoints || !a.navigationEndpoint) && !a.emoji && (this.noStyles || !(a.bold || a.deemphasize || a.italics || a.strikethrough || a.textColor)) && !a.loggingDirectives
    },
    getRawText: function() {
      return it(this.text)
    },
    getFirstRunText: function() {
      if (this.text && this.text.runs[0]) return this.text.runs[0].text
    },
    setFirstRunText: function(a) {
      this.text.runs[0] && (this.text.runs[0].text = a, this.textChanged_(this.text))
    },
    setDataOnAnchor_: function(a, b) {
      if (!P("yf_formatted_string_service_endpoint_killswitch") && this.isServiceEndpoint_(b)) a.onclick = this.serviceEndpointHandler_(b), a.href = "#";
      else {
        var c = this.target;
        c = void 0 === c ? "" : c;
        if (b) {
          a.data = b;
          var d = kt(b);
          d ? (Vc(a, d), Xs(b) || !Ap(d) ? a.rel = "nofollow" : a.removeAttribute("rel"), Vs(a, b, c)) : (a.removeAttribute("href"), a.removeAttribute("rel"), a.removeAttribute("target"))
        }
      }
    },
    isServiceEndpoint_: function(a) {
      return null != (a.commandMetadata && a.commandMetadata.webCommandMetadata && a.commandMetadata.webCommandMetadata.sendPost)
    },
    serviceEndpointHandler_: function(a) {
      var b = this;
      return function(c) {
        b.sendServiceRequestAction([a]);
        c.preventDefault()
      }
    },
    overrideAriaLabelChanged_: function() {
      if (Polymer.Element) {
        var a = this.getRoot();
        this.enableContentEditable && a && a.setAttribute("aria-label", this.overrideAriaLabel)
      } else this.overrideAriaLabel && this.setAttribute("aria-label", this.overrideAriaLabel)
    },
    enableContentEditableChanged_: function() {
      if (this.enableContentEditable)
        if (Polymer.Element) {
          this.removeAttribute("dir");
          var a = Polymer.dom(this.root);
          if (!a.lastChild || a.lastChild && "contenteditable-root" != a.lastChild.id) {
            var b = document.createElement("div");
            b.id = "contenteditable-root";
            b.setAttribute("contenteditable", !0);
            b.setAttribute("dir", "auto");
            a.appendChild(b);
            this.overrideAriaLabel && b.setAttribute("aria-label", this.overrideAriaLabel)
          }
        } else this.setAttribute("contenteditable", !0);
      else a = Polymer.dom(this.root),
        a.firstChild && "contenteditable-root" == a.firstChild.id && a.removeChild(a.firstChild)
    },
    getNodesForVisibilityLogging_: function() {
      var a = [];
      this.getRoot().childNodes.forEach(function(b) {
        b.data && b.data.trackingParams && a.push(b)
      });
      return a
    },
    getNodes: function() {
      return this.getNodesForVisibilityLogging_()
    },
    onShow: function() {
      var a = this.getVETracker();
      a && this.getNodesForVisibilityLogging_().forEach(function(b) {
        return a.reportShown(b)
      })
    },
    onHide: function() {
      var a = this.getVETracker();
      a && this.getNodesForVisibilityLogging_().forEach(function(b) {
        return a.reportHidden(b)
      })
    }
  });
  Polymer({
    is: "yt-icon-button",
    behaviors: [Polymer.PaperRippleBehavior],
    properties: {
      label: String,
      disabled: {
        type: Boolean,
        reflectToAttribute: !0
      },
      pressed: Boolean,
      toggleable: Boolean,
      untabbable: Boolean
    },
    listeners: {
      down: "rippleDown_",
      up: "rippleUp_"
    },
    ready: function() {
      var a = this.$.button;
      a.addEventListener("focus", this.rippleDown_.bind(this));
      a.addEventListener("blur", this.rippleUp_.bind(this))
    },
    computeTabIndex_: function(a) {
      return a ? -1 : 0
    },
    computeButtonAriaPressed_: function(a) {
      if (this.toggleable) return a ? "true" : "false"
    },
    rippleDown_: function() {
      this.getRipple().downAction()
    },
    rippleUp_: function() {
      this.getRipple().upAction()
    },
    ensureRipple: function(a) {
      var b = this._ripple;
      Polymer.PaperRippleBehavior.ensureRipple.apply(this, arguments);
      this._ripple && this._ripple !== b && (this._ripple.center = !0, this._ripple.classList.add("circle"))
    }
  });
  var lw = {};
  lw.YtRenderButtonBehaviorImpl_ = {
    properties: {
      alignByText: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0
      },
      startJustified: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0
      },
      forceIconButton: {
        type: Boolean,
        value: !1
      },
      forceIconOnly: {
        type: Boolean,
        value: !1
      },
      noink: {
        type: Boolean,
        value: !1
      },
      showTooltips: {
        type: Boolean,
        value: !1
      },
      buttonRaised: {
        type: Boolean,
        value: !1
      },
      disabled: {
        type: Boolean,
        observer: "disabledChanged_",
        reflectToAttribute: !0
      },
      sendServiceEndpointWhenDisabled: {
        type: Boolean,
        value: !1
      },
      ellipsisTruncate: Boolean,
      buttonTooltipPosition: {
        type: String,
        value: "bottom"
      },
      buttonSize: {
        type: String,
        reflectToAttribute: !0
      },
      endpoint: {
        type: Object,
        readOnly: !0
      },
      serviceEndpoint: {
        type: Object,
        readOnly: !0
      },
      command: {
        type: Object,
        readOnly: !0
      },
      buttonIcon: {
        type: String,
        readOnly: !0,
        observer: "buttonIconChanged_"
      },
      buttonText: {
        type: Object,
        readOnly: !0
      },
      buttonAccessibility: {
        type: Object,
        readOnly: !0
      },
      buttonTooltip: {
        type: String,
        readOnly: !0
      },
      buttonClass: {
        type: String,
        readOnly: !0,
        observer: "buttonClassChanged_"
      },
      iconPositionType: {
        type: String,
        readOnly: !0,
        observer: "iconPositionTypeChanged_"
      },
      newSubscribeColor: {
        type: Boolean,
        value: P("kevlar_new_subscribe_button_color"),
        reflectToAttribute: !0
      },
      stampType_: {
        type: String,
        computed: "computeStampType_(forceIconButton, buttonText, buttonIcon, endpoint)",
        observer: "stampTypeChanged_"
      },
      componentReady_: Boolean
    },
    listeners: {
      focus: "addTooltips_",
      mouseenter: "addTooltips_",
      tap: "onYtButtonTap_"
    },
    observers: ["isDisabledChanged_(data.isDisabled)", "observeBasicPalette_(data.colorData.basicColorPaletteData)", "dataChanged_(data, componentReady_)"],
    created: function() {
      this.elements_ = {};
      this.hasChange_ = !1
    },
    attached: function() {
      this.hasChange_ && this.stampTypeChanged_(this.stampType_)
    },
    get container() {
      return this.root
    },
    onYtButtonTapHandler: function() {},
    ytButtonServiceEndpointHandler: function() {},
    updateRenderedElements: function() {
      if (this.elements_.endpoint) {
        this.elements_.endpoint.data = this.endpoint;
        var a = this.computeHref_(this.endpoint, !0);
        a ? this.elements_.endpoint.setAttribute("href", a) : this.elements_.endpoint.removeAttribute("href")
      }
      if (this.buttonClass) {
        a = y(this.buttonClass.split(" "));
        for (var b = a.next(); !b.done; b = a.next()) b = b.value, this.toggleClass(b, !0), this.toggleClass(b, !0, this.elements_.button), this.toggleClass(b, !0, this.elements_.text)
      }
      this.elements_.icon && (this.elements_.icon.icon =
        this.buttonIcon);
      this.elements_.text && (this.elements_.text.text = this.buttonText);
      this.elements_.button && (a = null, this.buttonAccessibility && (a = this.buttonAccessibility.label), "yt-icon-button" == this.elements_.button.is ? this.elements_.button.label = a : a ? this.elements_.button.setAttribute("aria-label", a) : this.elements_.button.removeAttribute("aria-label"))
    },
    dataChanged_: function() {
      this.updateRenderedElements()
    },
    addTooltips_: function() {
      this.elements_.endpoint && this.showTooltips && this.buttonTooltip && (this.elements_.tooltip || (this.elements_.tooltip = this.reuseEnabled_() ? Yv("paper-tooltip") : document.createElement("paper-tooltip"), this.elements_.tooltip.position = this.buttonTooltipPosition, this.elements_.tooltip.offset = 8, this.elements_.tooltip.fitToVisibleBounds = !0, Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.tooltip)), Polymer.dom(this.elements_.tooltip).textContent = this.buttonTooltip)
    },
    buttonClassChanged_: function(a, b) {
      if (b)
        for (a = y(b.split(" ")), b = a.next(); !b.done; b = a.next()) b = b.value, this.toggleClass(b, !1), this.toggleClass(b, !1, this.elements_.button), this.toggleClass(b, !1, this.elements_.text)
    },
    buttonIconChanged_: function(a) {
      this.elements_.icon ? a ? this.elements_.icon.icon = a : (this.elements_.button && Polymer.dom(this.elements_.button).removeChild(this.elements_.icon), this.elements_.icon = null, this.toggleAttribute("is-paper-button-with-icon", !1)) : a && this.stampType_ && "paper_button" == this.stampType_ && this.addIconElementToPaperButton_()
    },
    addIconElementToPaperButton_: function() {
      this.elements_.icon = this.getIcon_();
      this.elements_.button && (this.iconPositionType && "BUTTON_ICON_POSITION_TYPE_LEFT_OF_TEXT" != this.iconPositionType ? "BUTTON_ICON_POSITION_TYPE_RIGHT_OF_TEXT" == this.iconPositionType && Polymer.dom(this.elements_.button).appendChild(this.elements_.icon) : Polymer.dom(this.elements_.button).insertBefore(this.elements_.icon, this.elements_.text), this.toggleAttribute("is-paper-button-with-icon", !0))
    },
    stampTypeChanged_: function(a) {
      if (void 0 === this.isAttached) this.hasChange_ = !0;
      else if (this.hasChange_ = !1, this.emptyContainer_(), this.elements_ = {}, this.componentReady_ = !1, a) {
        var b = !1;
        this.elements_.endpoint = document.createElement("a");
        this.elements_.endpoint.classList.add("yt-simple-endpoint");
        this.elements_.endpoint.tabIndex = -1;
        switch (a) {
          case "yt_icon_button_with_label":
            b = !0;
            this.toggleClass("force-icon-button", !0);
            this.elements_.button = this.getYtIconButton_();
            a = Polymer.dom(this.elements_.button).firstElementChild;
            this.elements_.icon = a;
            this.elements_.text = this.getFormattedString_();
            this.elements_.text.id = "text";
            this.elements_.text.ellipsisTruncate = this.ellipsisTruncate;
            Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.button);
            Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.text);
            break;
          case "paper_button":
            this.elements_.button = this.reuseEnabled_() ? Yv("paper-button") : document.createElement("paper-button");
            this.elements_.text = this.getFormattedString_();
            this.elements_.text.id = "text";
            this.elements_.text.ellipsisTruncate = this.ellipsisTruncate;
            this.elements_.button.raised = this.buttonRaised;
            Polymer.dom(this.elements_.button).appendChild(this.elements_.text);
            Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.button);
            this.buttonIcon && this.addIconElementToPaperButton_();
            break;
          case "yt-icon-button":
            b = !0, this.elements_.button = this.getYtIconButton_(), a = Polymer.dom(this.elements_.button).firstElementChild, this.elements_.icon = a, Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.button)
        }
        this.toggleAttribute("is-icon-button",
          b);
        this.toggleAttribute("is-paper-button", !b);
        this.toggleAttribute("has-no-text", !this.elements_.text);
        this.elements_.button.id = "button";
        this.elements_.button.noink = this.noink;
        this.elements_.button.disabled = this.disabled;
        Polymer.dom(this.container).appendChild(this.elements_.endpoint);
        this.componentReady_ = !0
      }
    },
    iconPositionTypeChanged_: function() {
      this.iconPositionType && (this.elements_.button && this.elements_.icon && Polymer.dom(this.elements_.button).removeChild(this.elements_.icon), this.addIconElementToPaperButton_(), this.elements_.icon.icon = this.buttonIcon)
    },
    isDisabledChanged_: function(a) {
      if (void 0 != a || this.disabled) this.disabled = a, this.elements_.button && (this.elements_.button.disabled = a)
    },
    observeBasicPalette_: function(a) {
      cw(this, a)
    },
    disabledChanged_: function(a) {
      this.data && this.set("data.isDisabled", a)
    },
    onYtButtonTap_: function(a) {
      if (this.disabled) a.stopImmediatePropagation(), this.sendServiceEndpointWhenDisabled && this.serviceEndpoint && this.sendServiceRequestAction([this.serviceEndpoint]);
      else {
        if (this.serviceEndpoint) this.sendServiceRequestAction([this.serviceEndpoint]), this.fire("yt-execute-service-endpoint", {
          serviceEndpoint: this.serviceEndpoint
        });
        else this.onYtButtonTapHandler();
        this.data && this.data.command && (a = this.data.command, a.accountUnlinkCommand || a.accountLinkCommand || a.insertAdCommand || a.createLivestreamHighlightClipCommand ||
          a.getVideoUploadFeedbackCommand ? this.sendServiceRequestAction([a]) : this.sendInnerTubeActions([a], this))
      }
    },
    computeStampType_: function(a, b, c) {
      return a && b && c ? "yt_icon_button_with_label" : b ? "paper_button" : c ? "yt-icon-button" : null
    },
    emptyContainer_: function() {
      for (var a = Polymer.dom(this.container); a.lastChild && "STYLE" != a.lastChild.tagName;) a.removeChild(a.lastChild)
    },
    getYtIconButton_: function() {
      var a = this.reuseEnabled_() ? Yv("yt-icon-button") : document.createElement("yt-icon-button"),
        b = Polymer.dom(a).firstElementChild;
      if (b && "yt-icon" != b.is) {
        for (b = Polymer.dom(a); b.lastChild;) b.removeChild(b.lastChild);
        b = null
      }
      b || (b = this.getIcon_(), Polymer.dom(a).appendChild(b));
      return a
    },
    reuseEnabled_: function() {
      return P("enable_button_behavior_reuse")
    },
    getIcon_: function() {
      return this.reuseEnabled_() ? Yv("yt-icon") : document.createElement("yt-icon")
    },
    getFormattedString_: function() {
      return this.reuseEnabled_() ? Yv("yt-formatted-string") : document.createElement("yt-formatted-string")
    }
  };
  lw.YtRenderButtonBehavior = [W.YtRendererBehavior, mv.YtActionSenderBehavior, wv.YtEndpointBehavior, lw.YtRenderButtonBehaviorImpl_];
  lw.YtButtonBehaviorImpl_ = {
    properties: {
      data: Object
    },
    observers: ["stateChanged_(data)", "stateChanged_(data.style)", "stateChanged_(forceIconOnly)"],
    stateChanged_: function() {
      var a = this.data;
      a && (this._setEndpoint(this.computeEndpoint_(a)), this._setServiceEndpoint(this.computeServiceEndpoint_(a)), this._setCommand(this.computeCommand_(a)), this._setButtonIcon(this.computeButtonIcon_(a)), this._setButtonText(this.computeButtonText_(a, this.forceIconOnly)), this._setButtonAccessibility(this.computeAccessibility_(a)),
        this._setButtonTooltip(this.computeTooltip_(a)), this._setButtonClass(this.computeButtonClass_(a)), this._setIconPositionType(this.computeIconPositionType_(a)), this.updateRenderedElements())
    },
    computeIconPositionType_: function(a) {
      return a && a.iconPosition || null
    },
    computeEndpoint_: function(a) {
      var b = a && a.navigationEndpoint,
        c = this.get("data.command.commandMetadata.webCommandMetadata.url"),
        d = this.get("data.command.commandMetadata.webCommandMetadata.sendPost");
      return b ? b : c && !d && a.command ? a.command : null
    },
    computeServiceEndpoint_: function(a) {
      var b = a && a.serviceEndpoint,
        c = this.get("data.command.commandMetadata.webCommandMetadata.sendPost");
      return b ? b : c && a.command ? a.command : null
    },
    computeCommand_: function(a) {
      return a && a.command || null
    },
    computeButtonIcon_: function(a) {
      return a && a.icon && a.icon.iconType ? Cv(a.icon.iconType) : null
    },
    computeButtonText_: function(a, b) {
      return !b && a && a.text || null
    },
    computeAccessibility_: function(a) {
      return this.get("accessibilityData.accessibilityData", a) || a && a.accessibility || (a && a.text ? {
        label: this.getSimpleString(a.text)
      } : null)
    },
    computeTooltip_: function(a) {
      return a && a.tooltip || null
    },
    computeButtonClass_: function(a) {
      var b = a && a.style ? a.style.toLowerCase().replace(/_/g, "-") + " " : "";
      b += a && a.size ? a.size.toLowerCase().replace(/_/g, "-") + " " : "";
      return b.trim()
    }
  };
  lw.YtButtonBehavior = [lw.YtRenderButtonBehavior, lw.YtButtonBehaviorImpl_];
  var mw = {};

  function nw(a, b, c) {
    mw[a] || (mw[a] = {});
    mw[a][b] = c
  }

  function ow(a) {
    mw[a] || (mw[a] = {});
    return mw[a]
  };
  nw("itemSectionRenderer", "buttonRenderer", "ytd-button-renderer");
  nw("sharingRendererButtons", "buttonRenderer", "ytd-button-renderer");
  Polymer({
    is: "ytd-button-renderer",
    behaviors: [lw.YtButtonBehavior, vv],
    hostAttributes: {
      "button-renderer": !0
    },
    listeners: {
      "yt-navigate": "onYtNavigate_",
      "yt-service-request-sent": "onYtServiceRequestSent_",
      "yt-service-request-completed": "onServiceRequestCompleted_"
    },
    observers: ["onHintIdChanged_(data.hint.hintRenderer)"],
    created: function() {
      this.showTooltips = !0
    },
    onHintIdChanged_: function(a) {
      var b = this;
      if (a && a.hintId) {
        var c = this.sendOptionalAction("yt-get-opened-popups-action");
        c = 0 < (c && 1 == c.length ? c[0] : []).length;
        var d = [];
        "sponsor-pre-purchase" != a.hintId || c ? a.hintId.startsWith("sponsor-post-purchase") && !c && (d = tt.getInstance().generateEduPopup("membership-manage")) : d = tt.getInstance().generateEduPopup("membership-join");
        d && S.addLowPriorityJob(function() {
          b.sendInnerTubeActions(d, b)
        })
      }
    },
    onYtNavigate_: function(a) {
      var b = this.getNavigationEndpointPopupAction(a.detail.endpoint);
      b && (a.stopPropagation(), this.openPopup(b))
    },
    onYtServiceRequestSent_: function(a, b) {
      this.handleServiceRequestActions_(b)
    },
    onServiceRequestCompleted_: function(a, b) {
      this.handleServiceRequestActions_(b)
    },
    handleServiceRequestActions_: function(a) {
      if (a = a.actions)
        for (var b = 0; b < a.length; b++) {
          var c = a[b];
          c.updateButtonAction && c.updateButtonAction.updatedButton && (this.data = c.updateButtonAction.updatedButton.buttonRenderer)
        }
    }
  });
  lw.YtToggleButtonBehaviorImpl_ = {
    _noAccessors: !0,
    properties: {
      data: Object
    },
    observers: ["stateChanged_(data)", "stateChanged_(data.isToggled)", "stateChanged_(data.defaultText)", "stateChanged_(data.toggledText)", "stateChanged_(forceIconOnly)"],
    created: function() {
      this.toggleButtonActionMap_ = {
        "yt-update-toggle-button-text-action": "handleUpdateToggleButtonTextAction_",
        "yt-update-account-link-button-command": "handleUpdateAccountLinkButtonCommand_",
        "yt-update-toggle-button-state-command": "handleUpdateToggleButtonStateCommand_"
      }
    },
    attached: function() {
      this.registerActionMap(this.toggleButtonActionMap_)
    },
    detached: function() {
      this.unregisterActionMap(this.toggleButtonActionMap_)
    },
    onYtToggleButtonTapHandler: function() {},
    onYtButtonTapHandler: function() {
      if (!this.isModal_()) {
        var a = this.data.isToggled;
        if (!this.data.preventAutoToggle) {
          this.toggle();
          var b = {
            toggled: this.data.isToggled,
            actions: {}
          };
          b.actions[this.buttonIcon] = this.data.isToggled;
          this.fire("yt-toggle-button", b)
        }
        b = this.data.defaultServiceEndpoint || null;
        var c = this.data.toggledServiceEndpoint || null;
        if (b && c || b && this.data.preventAutoToggle) a = a ? c : b, this.sendServiceRequestAction([a]), this.fire("yt-execute-service-endpoint", {
          serviceEndpoint: a
        })
      }
    },
    stateChanged_: function() {
      var a = this.data;
      if (a) {
        var b = a.isToggled;
        this._setEndpoint(this.computeEndpoint_(a));
        this._setServiceEndpoint(this.computeServiceEndpoint_(a));
        this._setButtonIcon(this.computeButtonIcon_(a, b));
        this._setButtonText(this.computeButtonText_(a, b));
        this._setButtonAccessibility(this.computeAccessibility_(a, b));
        this._setButtonTooltip(this.computeTooltip_(a, b));
        this._setButtonClass(this.computeButtonClass_(a, b));
        this._setIconPositionType(this.computeIconPositionType_(a));
        this.updateRenderedElements();
        this.elements_.button && this.elements_.button.setAttribute("aria-pressed", this.data.isToggled)
      }
    },
    toggle: function(a) {
      this.set("data.isToggled", void 0 !== a ? a : !this.data.isToggled)
    },
    isModal_: function() {
      return !!this.endpoint && (!!this.endpoint.modalEndpoint || !!this.endpoint.shareEndpoint || !!this.endpoint.shareEntityEndpoint)
    },
    computeEndpoint_: function(a) {
      return a && a.defaultNavigationEndpoint || null
    },
    computeButtonIcon_: function(a, b) {
      var c = a && a.defaultIcon ? a.defaultIcon.iconType.toLowerCase() : null;
      a = a && a.toggledIcon ? a.toggledIcon.iconType.toLowerCase() : c;
      return b ? a : c
    },
    handleUpdateToggleButtonStateCommand_: function(a) {
      a = a.updateToggleButtonStateCommand;
      this.get("toggleButtonSupportedData.toggleButtonIdData.id", this.data) == a.buttonId && this.toggle(a.toggled)
    },
    computeButtonText_: function(a, b) {
      return a ? b && a.toggledText || a.defaultText || null : null
    },
    computeAccessibility_: function(a, b) {
      return a ? (b ? this.get("toggledAccessibilityData.accessibilityData", a) : this.get("accessibilityData.accessibilityData", a)) || a.accessibility || null : null
    },
    computeTooltip_: function(a, b) {
      return a ? b && a.toggledTooltip || a.defaultTooltip || null : null
    },
    computeButtonClass_: function(a, b) {
      if (!a) return "";
      var c = "",
        d = a.toggledStyle || a.style;
      if (b = b ? d : a.style) b.styleType && (b = b.styleType), c += b.toLowerCase().replace(/_/g, "-") + " ";
      if (a = a.size) a.sizeType && (a = a.sizeType), c += a.toLowerCase().replace(/_/g, "-") + " ";
      return c.trim()
    },
    computeIconPositionType_: function(a) {
      return a && a.iconPosition || null
    },
    computeServiceEndpoint_: function(a) {
      var b = a && a.serviceEndpoint,
        c = this.get("data.command.commandMetadata.webCommandMetadata.sendPost");
      return b ? b : c && a.command ? a.command : null
    },
    handleUpdateToggleButtonTextAction_: function(a) {
      a = a.updateToggleButtonTextAction;
      this.get("toggleButtonSupportedData.toggleButtonIdData.id", this.data) == a.buttonId && (this.set("data.defaultText", a.defaultText), this.set("data.toggledText", a.toggledText))
    },
    handleUpdateAccountLinkButtonCommand_: function(a) {
      if ((a = this.get("updateAccountLinkButtonCommand.toggleButtonRenderer.toggleButtonRenderer", a)) && "TOGGLE_BUTTON_ID_TYPE_ACCOUNT_LINKING" == this.get("toggleButtonSupportedData.toggleButtonIdData.id", this.data)) {
        for (var b in a) this.data[b] = a[b];
        this.data = a
      }
    }
  };
  lw.YtToggleButtonBehavior = [nv.YtActionHandlerBehavior, lw.YtRenderButtonBehavior, lw.YtToggleButtonBehaviorImpl_];
  nw("sharingToggleButtonAndDefaultButton", "toggleButtonRenderer", "ytd-toggle-button-renderer");
  Polymer({
    is: "ytd-toggle-button-renderer",
    behaviors: [nv.YtActionHandlerBehavior, mv.YtActionSenderBehavior, lw.YtToggleButtonBehavior, vv],
    actionMap: {
      "yt-signal-action-show-account-link-dialog": "handleShowAccountLinkDialog_"
    },
    hostAttributes: {
      "button-renderer": !0
    },
    listeners: {
      "yt-navigate": "onYtNavigate_"
    },
    created: function() {
      this.showTooltips = !0
    },
    onYtButtonTapHandler: function() {
      if (!this.isModal_()) {
        var a = this.data.isToggled;
        if (!this.data.preventAutoToggle) {
          this.toggle();
          var b = {
            toggled: this.data.isToggled,
            actions: {}
          };
          b.actions[this.buttonIcon] = this.data.isToggled;
          this.fire("yt-toggle-button", b)
        }
        if (a = a ? this.data.toggledServiceEndpoint : this.data.defaultServiceEndpoint) {
          b = this.get("commandMetadata.webCommandMetadata.url", a);
          var c = this.get("commandMetadata.webCommandMetadata.sendPost", a);
          b && c ? this.sendServiceRequestAction([a]) : this.sendInnerTubeActions([a],
            this)
        }
      }
    },
    onYtNavigate_: function(a) {
      var b = this.getNavigationEndpointPopupAction(a.detail.endpoint);
      b && (a.stopPropagation(), this.openPopup(b))
    },
    handleShowAccountLinkDialog_: function() {
      if ("TOGGLE_BUTTON_ID_TYPE_ACCOUNT_LINKING" == this.get("data.toggleButtonSupportedData.toggleButtonIdData.id")) {
        var a = this.get("data.defaultServiceEndpoint");
        a && (this.get("data.defaultServiceEndpoint.signalServiceEndpoint.actions.0.openPopupAction.popup.gamingAccountLinkConfirmDialogRenderer") || this.sendServiceRequestAction([a]))
      }
    }
  });
  var pw = {
    YtTaskEmitterBehavior: {
      created: function() {
        this.cachedProviderNode_ = null
      },
      detached: function() {
        this.cachedProviderNode_ = null
      },
      getTaskManager: function() {
        var a = this.getContext_();
        return a ? a.getTaskManager() : S
      },
      getContext_: function() {
        if (this.shouldUseTaskManager()) {
          if (!this.cachedProviderNode_) {
            var a = this.fire("yt-get-context-provider");
            a.detail && a.detail.contextProvider ? this.cachedProviderNode_ = a.detail.contextProvider : this.parentElement && (this.cachedProviderNode_ = this)
          }
          if (this.cachedProviderNode_ && this.cachedProviderNode_.getProvidedContext && this.cachedProviderNode_.getProvidedContext()) return this.cachedProviderNode_.getProvidedContext()
        }
      },
      shouldUseTaskManager: function() {
        return Qt.getInstance().canUseComponent(this.localName)
      },
      getNetworkManager: function() {
        var a = this.getContext_();
        if (a) return a.getNetworkManager()
      }
    }
  };
  var qw = new WeakMap,
    rw = function(a, b) {
      for (var c in a)
        if (a.hasOwnProperty(c) && b[c]) return c;
      return null
    },
    sw = function(a) {
      var b = a.match(/\[\[([\w\.]+)\]\]/);
      if (b && 1 < b.length) return b[1];
      O(Error("Failed to parse binding: " + a));
      return null
    },
    tw = function(a) {
      return void 0 === a ? N("REUSE_COMPONENTS", !1) : a || !1
    },
    uw = function(a, b, c) {
      c && (b.is ? Zv(b) : b.__proto__ == HTMLElement.prototype && (c = Error("Rendererstamper removed a non custom element"), c.params = "Stamper: " + a + " element: " + (b && b.nodeName), Qd(c)))
    },
    vw = function(a, b, c, d) {
      var e = b.node ? b.node : b;
      Polymer.dom(c).parentNode == e && (b.removeChild(c), uw(a, c, d));
      if (a = qw.get(c)) qw.delete(c), S.cancelJob(a);
      c.hidden = !1
    },
    ww = function(a, b, c, d) {
      var e = b.children[c];
      if (e)
        if (N("DEFERRED_DETACH"))
          for (c = e; c && !qw.has(c);) {
            var g = a,
              h = b;
            e = c;
            var k = d;
            e.hidden = !0;
            g = S.addIdlePriorityJob(vw.bind(null, g, h, e, k), 0);
            qw.set(e, g);
            c = c.nextElementSibling
          } else
            for (;
              (c = b.lastElementChild) && (b.removeChild(c), uw(a, c, d), c != e););
    };
  var xw = [pw.YtTaskEmitterBehavior, {
    mappings: null,
    stampDom: null,
    rendererStamperLogger_: null,
    beforeRegister: function() {
      this.configureRendererStamper && "function" === typeof this.configureRendererStamper && (this.stampDom = this.configureRendererStamper());
      this.stampDom && this.addStampDomObservers_()
    },
    created: function() {
      this.deferredBindingTasks_ = [];
      this.renderJobsMap_ = Object.create(null);
      this.hasDataPath_ = Object.create(null);
      this.stampDom && this.addStampDomObserverFns_();
      this.telemetry_ = {};
      this.resetTelemetry_()
    },
    resetTelemetry_: function() {
      this.telemetry_.create = 0;
      this.telemetry_.reuse = 0
    },
    addStampDomObservers_: function() {
      var a = (this.constructor.generatedFrom || this).observers;
      a || (a = []);
      for (var b in this.stampDom) {
        var c = "stamp" + this.stampDom[b].id.replace("-", "_") + "_";
        a.push(c + "(" + b + ".*)")
      }
      Polymer.Element ? this.constructor.generatedFrom.observers = a : this.observers = a
    },
    addStampDomObserverFns_: function() {
      for (var a in this.stampDom) {
        var b = this.stampDom[a];
        b.id ? (this["stamp" + b.id.replace("-", "_") + "_"] = this.rendererStamperObserver_.bind(this, a, b.id), this.hasDataPath_[a] = !1) : O(Error("Bad rendererstamper config " + this.is + ":" + a))
      }
    },
    rendererStamperObserver_: function(a, b, c) {
      if (c.path == a) {
        if (void 0 === c.value && !this.hasDataPath_[a]) return;
        this.hasDataPath_[a] = void 0 !== c.value
      }
      this.rendererStamperApplyChangeRecord_(a, b, c)
    },
    rendererStamperApplyChangeRecord_: function(a, b, c) {
      var d = this.renderJobsMap_[b],
        e = null;
      a == c.path ? (c = c.value, Ra(c) || (c = void 0 === c || null === c ? [] : [c]), a = this.stampDom[a], a.mapping && (e = this.stampDomArray_.bind(this, c, b, a.mapping, a.reuseComponents, a.events, a.stamperStableList)), d && d.cancel(), c = a.usePageScheduler ? this.getTaskManager() : void 0, d || void 0 == a.initialRenderPriority) ? void 0 == a.renderPriority || d || (d = new Nt(a.renderPriority, a.waitForSignal, c), this.renderJobsMap_[b] = d) : (d = new Nt(a.initialRenderPriority,
        a.waitForSignal, c), this.renderJobsMap_[b] = d, e = function(g, h) {
        g();
        h.updatePriority(10)
      }.bind(this, e, d)) : e = a + ".splices" == c.path ? this.stampDomArraySplices_.bind(this, a, b, c.value) : this.forwardRendererStamperChanges_.bind(this, a, b, c);
      d ? d.queueJob(e) : e()
    },
    forwardRendererStamperChanges_: function(a, b, c) {
      var d = c.path.slice(a.length + 1),
        e = this.getStampContainer_(b),
        g = d.indexOf("."),
        h = d.substring(0, g),
        k = !1,
        m = 0,
        l = parseInt(h, 0);
      "#" == h[0] ? (k = parseInt(h.substring(1), 0), m = this.get(a), l = this.get([a, h]), m = m[k] == l ? k : m.indexOf(l), k = !0) : isNaN(l) || (m = l, k = !0);
      k && (d = d.substring(h.length + 1), g = d.indexOf("."));
      if (e = Polymer.dom(e).children[m]) d = "data" + d.slice(g), P("kevlar_js_fixes") && "function" != typeof e.notifyPath ? (c = Error("notifyPath missing"), c.params = this.is + ": " + a +
        ", " + b, Qd(c)) : c.value ? e.notifyPath(d, c.value) : e.notifyPath(d)
    },
    stampDomArraySplices_: function(a, b, c) {
      if (c && c.indexSplices) {
        var d = this.getStampContainer_(b);
        if (d) {
          b = Polymer.dom(d);
          for (var e = tw(this.stampDom[a].reuseComponents), g = c.indexSplices.length, h = 0; h < g; h++) {
            for (var k = c.indexSplices[h], m = b.children[k.index], l = k.removed.length; 0 < l; l--) m && m.parentElement && (Polymer.dom(m.parentElement).removeChild(m), e && Zv(m), m = b.children[k.index]);
            l = this.stampDom[a].mapping;
            for (var q = k.index + k.addedCount, p = document.createDocumentFragment(), n = e, r = k.index; r < q; r++) {
              var t = k.object[r],
                u = rw(l, t);
              if (u) {
                var v = l[u];
                t = t[u];
                u = this.getComponentName_(v, t);
                var x = m ? qw.has(m) : !1;
                n && m && m.is == u && x ? (u = m, this.telemetry_.reuse++, m = m.nextElementSibling) : n && m && x ? (u = this.createComponent_(v, t, e), x = Polymer.dom(m).nextElementSibling, b.insertBefore(u, x), vw(this.is, b, m, e), m = x) : (n = !1, u = this.createComponent_(v, t, e), p.appendChild(u));
                this.deferRenderStamperBinding_(u, v, t)
              } else v = Error("Unimplemented type"), v.params = Object.keys(t)[0], O(v)
            }
            b.insertBefore(p, m)
          }
          this.flushRenderStamperComponentBindings_();
          this.stampDom[a].events &&
            this.fire("yt-rendererstamper-finished", {
              container: d
            })
        } else a = Error("Container object not found"), a.params = b, O(a)
      }
    },
    stampDomArray_: function(a, b, c, d, e, g) {
      var h = this.getStampContainer_(b);
      if (h)
        if (b = Polymer.dom(h), d = tw(d), a) {
          var k = 0,
            m = 0,
            l;
          if (g = void 0 === g ? N("STAMPER_STABLE_LIST", !1) : g || !1)
            for (l = b.firstElementChild; l && !qw.has(l) && a.length > m;) {
              g = a[m];
              var q = rw(c, g);
              if (q) {
                if (this.getComponentName_(c[q], g[q]) != l.is) {
                  var p = this.createComponent_(c[q], g[q], d),
                    n = Polymer.dom(l).nextElementSibling;
                  n ? b.insertBefore(p, n) : b.appendChild(p);
                  vw(this.is, b, l, d);
                  l = p
                } else this.telemetry_.reuse++;
                this.deferRenderStamperBinding_(l, c[q],
                  g[q]);
                k++;
                m++;
                l = Polymer.dom(l).nextElementSibling
              } else m++
            }
          ww(this.is, b, k, d);
          k = l;
          if (a.length > m) {
            g = document.createDocumentFragment();
            for (q = a.length; m < q; m++)
              if (p = a[m], n = rw(c, p)) l = this.createComponent_(c[n], p[n], d), this.deferRenderStamperBinding_(l, c[n], p[n]), g.appendChild(l);
            k && Polymer.dom(k).parentNode && l && !qw.has(l) ? b.insertBefore(g, k) : b.appendChild(g)
          }
          this.flushRenderStamperComponentBindings_();
          this.markDirty && this.markDirty();
          e && this.fire("yt-rendererstamper-finished", {
            container: h
          })
        } else ww(this.is,
          b, 0, d);
      else O(Error("Container object not found" + b))
    },
    getStampContainer_: function(a) {
      return this.$[a] || this.$$("#" + a)
    },
    getComponentName_: function(a, b) {
      return "string" === typeof a ? a : a.matcher ? a.matcher.call(this, b) : a.component
    },
    createComponent_: function(a, b, c) {
      b = this.getComponentName_(a, b);
      if (c) {
        var d = this.isInjectionEnabled_(a) ? this : void 0;
        d = Yv(b, d);
        d.updateStyles ? d.updateStyles() : (a = Error("Unregistered element"), a.params = b, Qd(a))
      } else try {
        d = a && this.isInjectionEnabled_(a) ? Sv(b, this) : document.createElement(b)
      } catch (e) {
        throw b = "YtRendererStamperBehavior failed to create " + b + ".", e.message && (b += " Original description: " + e.message), e.message = b, e;
      }
      this.telemetry_.create++;
      return d
    },
    deferRenderStamperBinding_: function(a, b, c) {
      this.deferredBindingTasks_.push({
        component: a,
        typeOrConfig: b,
        data: c
      })
    },
    flushRenderStamperComponentBindings_: function() {
      for (var a = 0, b = this.deferredBindingTasks_.length; a < b; a++) {
        var c = this.deferredBindingTasks_[a],
          d = void 0,
          e = void 0,
          g = c.component,
          h = c.typeOrConfig;
        c = c.data;
        if ("string" !== typeof h) {
          for (e in h.attributes) !0 === h.attributes[e] ? g.setAttribute(e, "") : !1 === h.attributes[e] ? g.removeAttribute(e) : g.setAttribute(e, h.attributes[e]);
          for (d in h.params) g[d] = h.params[d];
          for (d in h.properties)(e = h.properties[d]) ? (e = sw(e), g[d] = this.get(e), "on-tap" == d && g.listen(g, "tap", "on-tap")) :
            O(Error("Undefined property binding for " + d));
          if (h.classListBinding && (e = sw(h.classListBinding), d = this[e]))
            for (h = 0; h < d.length; h++) g.toggleClass(d[h], !0)
        }
        g.data = c;
        if (c = qw.get(g)) g.hidden = !1, qw.delete(g), S.cancelJob(c)
      }
      this.deferredBindingTasks_.length = 0
    },
    isInjectionEnabled_: function(a, b) {
      return !Tv(this) || a.noInjection ? !1 : !b || Tv(b)
    }
  }];
  nw("menuRenderer", "menuRenderer", "ytd-menu-renderer");
  Polymer({
    is: "ytd-menu-renderer",
    behaviors: [vv, W.YtRendererBehavior, mv.YtActionSenderBehavior, xw],
    properties: {
      data: Object,
      icon: {
        type: String,
        value: "yt-icons:more_vert"
      },
      menuActive: {
        type: Boolean,
        reflectToAttribute: !0,
        computed: "computeMenuActive_(menuFocused_, overlayOpen_)"
      },
      menuFocused_: Boolean,
      buttonTooltipPosition: {
        type: String,
        value: "bottom"
      },
      noInkOnDropdownButton: Boolean,
      overlayOpen_: Boolean
    },
    stampDom: {
      "data.topLevelButtons": {
        id: "top-level-buttons",
        mapping: {
          buttonRenderer: {
            component: "ytd-button-renderer",
            params: {
              forceIconButton: !0
            },
            properties: {
              buttonTooltipPosition: "[[buttonTooltipPosition]]"
            }
          },
          toggleButtonRenderer: {
            component: "ytd-toggle-button-renderer",
            params: {
              forceIconButton: !0
            },
            properties: {
              buttonTooltipPosition: "[[buttonTooltipPosition]]"
            }
          }
        }
      }
    },
    listeners: {
      "yt-popup-opened": "onPopupOpened_",
      "yt-popup-closed": "onPopupClosed_",
      "yt-popup-canceled": "onPopupCanceled_"
    },
    ready: function() {
      var a = this.$.button;
      a.addEventListener("focus", this.onMenuFocus_.bind(this));
      a.addEventListener("blur", this.onMenuBlur_.bind(this));
      this.popupPositionTarget = a
    },
    detached: function() {
      this.icon = "yt-icons:more_vert"
    },
    computeMenuActive_: function(a, b) {
      return a || b
    },
    onPopupOpened_: function() {
      this.overlayOpen_ = !0;
      this.fire("yt-menu-overlay-changed", this.overlayOpen_);
      null == this.menuFocused_ && (this.menuFocused_ = !1)
    },
    onPopupClosed_: function() {
      this.overlayOpen_ = !1;
      this.fire("yt-menu-overlay-changed", this.overlayOpen_)
    },
    onPopupCanceled_: function() {
      this.overlayOpen_ = !1;
      this.fire("yt-menu-overlay-changed", this.overlayOpen_)
    },
    onMenuFocus_: function() {
      this.menuFocused_ = !0;
      null == this.overlayOpen_ && (this.overlayOpen_ = !1)
    },
    onMenuBlur_: function() {
      this.menuFocused_ = !1
    },
    computeAccessibilityLabel_: function(a) {
      return this.get("accessibility.accessibilityData.label", a)
    },
    isHidden_: function(a) {
      return null != a ? null != a.fetchMenuCommand ? !1 : null == a.items : !0
    },
    onOverflowTap_: function() {
      if (this.data.fetchMenuCommand) this.sendServiceRequestAction([this.data.fetchMenuCommand]);
      else {
        var a = this.createMenuRendererVe_();
        this.openPopup({
          openPopupAction: {
            popupType: "DROPDOWN",
            popup: {
              menuPopupRenderer: this.data
            },
            veData: a
          }
        })
      }
    },
    createMenuRendererVe_: function() {
      if (!P("kevlar_menu_logging")) return null;
      var a = this.data.trackingParams,
        b = fs(),
        c = es();
      return a && b && c ? (a = xr(a), c = Ar(7591), Er(sr, b, a, [c], void 0), c) : null
    }
  });
  var yw = function() {
    var a = Zm.apply(this, arguments) || this;
    a.json = function() {};
    return a
  };
  z(yw, Zm);
  yw.prototype.equals = function(a, b) {
    return a === b
  };
  yw.prototype.isEmpty = function(a) {
    var b;
    (b = !a) || (b = Ra(a) && 0 === a.length);
    return b
  };
  yw.prototype.isDefined = function(a) {
    return void 0 !== a
  };
  var zw = yw,
    Aw = zw = Om([function(a) {
      if (Object.getPrototypeOf(a.prototype).constructor !== Zm) throw Error("Custom behaviors must inherit directly from PolymerBehavior.");
      cn(a.prototype, a)
    }], zw);

  function Bw(a) {
    return function(b) {
      jn(Aw.prototype)(b.prototype, "__templateHelpers");
      bn({
        is: a.is,
        notifyObserversOnUndefined: !1
      })(b)
    }
  };
  var Cw = function(a) {
    db.call(this, a)
  };
  K(Cw, db);
  var Dw = function(a) {
    db.call(this, a)
  };
  K(Dw, Cw);
  var Ew = function(a) {
    db.call(this, a)
  };
  K(Ew, Cw);
  var Fw = function() {
    return Ym.apply(this, arguments) || this
  };
  z(Fw, Ym);
  Fw.prototype.onTap = function() {
    var a = !1,
      b = this.get("serviceEndpoint.selectActiveIdentityEndpoint.supportedTokens", this.data);
    b && b.forEach(function(c) {
      c.accountSigninToken && (a = !0, Fs(c.accountSigninToken.signinUrl, void 0, void 0, window.top))
    });
    a || O(new Dw("Did not handle account switch tap. No token."))
  };
  var Gw = Fw;
  Gw.prototype.onTap = Gw.prototype.onTap;
  Om([jn(W.YtRendererBehavior), Pm("design:type", Object)], Gw.prototype, "ytRendererBehavior", void 0);
  Om([kn(), Pm("design:type", Object)], Gw.prototype, "data", void 0);
  Om([ln("tap"), Pm("design:type", Function), Pm("design:paramtypes", []), Pm("design:returntype", void 0)], Gw.prototype, "onTap", null);
  Gw = Om([Bw({
    is: "ytd-account-item-renderer"
  })], Gw);
  var Hw = {
    _noAccessors: !0,
    properties: {
      disablePrescanVisibility: Boolean
    },
    onShow: function() {
      if (this.onShow_) this.onShow_()
    }
  };
  var Iw = M("DORMANT_IMAGE_TIMEOUT", 1E3),
    Jw = function() {
      this.loadTimeResolver_ = this.makeLoadTimeResolver_();
      this.sessionResolved_ = !1;
      this.collectionJobId_ = 0;
      this.visibleSet_ = new Set;
      this.elementLoadPromises_ = new Map;
      this.collectionPromise_ = null;
      this.dormantJobId_ = 0
    };
  f = Jw.prototype;
  f.onDormantLoad_ = function() {
    this.collectionPromise_ && this.loadTimeResolver_.reject()
  };
  f.isVisibleSetLoaded_ = function() {
    for (var a = y(this.visibleSet_), b = a.next(); !b.done; b = a.next())
      if (b = b.value, !b.loadTime || Infinity == b.loadTime) return !1;
    return !0
  };
  f.startDormantLoadTimer_ = function() {
    S.cancelJob(this.dormantJobId_);
    this.isVisibleSetLoaded_() || (this.dormantJobId_ = S.addIdlePriorityJob(this.onDormantLoad_.bind(this), Iw))
  };
  f.elementUpdateCheck_ = function(a) {
    if (this.sessionResolved_) return !1;
    this.collectionJobId_ && this.scheduleCollection_();
    return "loadTime" in a && !a.excludeFromVpl ? !0 : !1
  };
  f.hidden = function(a) {
    this.elementUpdateCheck_(a) && (this.visibleSet_.delete(a), this.elementLoadPromises_.delete(a), this.startDormantLoadTimer_())
  };
  f.watchElementLoad_ = function(a) {
    var b = this,
      c = kw(a).then(function() {
        if (!b.visibleSet_.has(a)) return null;
        b.startDormantLoadTimer_();
        return a
      }, function() {});
    this.elementLoadPromises_.set(a, c);
    return c
  };
  f.shown = function(a) {
    if (!this.elementUpdateCheck_(a)) return !1;
    this.visibleSet_.add(a);
    this.startDormantLoadTimer_();
    this.watchElementLoad_(a);
    return !0
  };
  f.cancelCollection_ = function() {
    S.cancelJob(this.collectionJobId_);
    this.collectionJobId_ = 0;
    this.collectionPromise_ && (this.collectionPromise_.cancel(), this.collectionPromise_ = null)
  };
  f.scheduleCollection_ = function() {
    this.cancelCollection_();
    this.collectionJobId_ = S.addIdlePriorityJob(this.collectLoadTime_.bind(this), Ud("viewport_load_collection_wait_time", 0))
  };
  f.collectLoadTime_ = function() {
    var a = this;
    this.cancelCollection_();
    this.startDormantLoadTimer_();
    var b = Infinity;
    this.collectionPromise_ = th([].concat(la(this.elementLoadPromises_.values())));
    this.collectionPromise_.then(function(c) {
      var d = c.filter(function(h) {
        return !!h && !!h.parentNode && a.visibleSet_.has(h)
      });
      Ku("d_vpni", c.length);
      Ku("d_vpnfi", d.length);
      Ku("d_vpct", Jd());
      c = null;
      for (var e = 0; e < d.length; e++) {
        var g = d[e];
        if (!c || c.loadTime < g.loadTime) c = g
      }
      b = c ? c.loadTime : -1;
      S.cancelJob(a.dormantJobId_);
      a.loadTimeResolver_.resolve(b)
    }, function() {
      Ku("vpr", 1)
    })
  };
  f.getLoadTime = function() {
    this.elementLoadPromises_.size || this.loadTimeResolver_.resolve(0);
    this.scheduleCollection_();
    return this.loadTimeResolver_.promise
  };
  f.getLastImageLoadTime = function() {
    for (var a = 0, b = y(this.visibleSet_), c = b.next(); !c.done; c = b.next()) c = c.value.loadTime, Infinity != c && c > a && (a = c);
    return a
  };
  f.makeLoadTimeResolver_ = function() {
    var a = this,
      b = vh(),
      c = function() {
        a.sessionResolved_ = !0
      };
    b.promise.then(c, c);
    return b
  };
  f.reset = function() {
    var a = this;
    this.cancelCollection_();
    S.cancelJob(this.dormantJobId_);
    this.elementLoadPromises_.clear();
    this.loadTimeResolver_.reject();
    this.sessionResolved_ = !1;
    this.loadTimeResolver_.promise.thenAlways(function() {
      a.sessionResolved_ = !1
    });
    this.loadTimeResolver_ = this.makeLoadTimeResolver_();
    this.visibleSet_.clear()
  };
  Na(Jw);
  Polymer({
    is: "yt-img-shadow",
    behaviors: [Hw, W.YtRendererBehavior],
    properties: {
      delayedSrc: {
        type: String,
        observer: "delayedSrcChanged_"
      },
      thumbnail: {
        type: Object,
        observer: "thumbnailChanged_"
      },
      loaded: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0
      },
      notifyOnLoaded: Boolean,
      height: Number,
      width: Number,
      dimension: {
        type: {
          WIDTH: "width",
          HEIGHT: "height"
        },
        value: function() {
          return "width"
        }
      },
      fit: {
        type: Boolean,
        reflectToAttribute: !0
      },
      objectFit: {
        type: String,
        reflectToAttribute: !0
      },
      objectPosition: {
        type: String,
        reflectToAttribute: !0
      },
      preferredThumbnail: String,
      alt_: {
        type: String,
        value: "",
        computed: "computeAlt_(thumbnail.accessibility.accessibilityData.label, loaded)"
      },
      sharedTooltipText: {
        type: String,
        reflectToAttribute: !0
      }
    },
    observeHiddenOption: null,
    observePrescanOption: "observe_once",
    observers: ["observePlaceholderColor_(thumbnail.placeholderColor)"],
    EMPTY_GIF: N("NO_EMPTY_DATA_IMG") ? "" : "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
    created: function() {
      this.empty_ = !0;
      this.loadTime = Infinity;
      this.hasChange_ = this.pendingPaint = this.excludeFromVpl = !1;
      this.oldThumbnail_ = null;
      this.oldDelayedSrc_ = ""
    },
    attached: function() {
      this.hasChange_ && this.thumbnailChanged_()
    },
    ready: function() {
      var a = this.shouldShowPlaceholder_();
      (a || N("DISABLE_YT_IMG_DELAY_LOADING", !1) || !N("ENABLE_IMG_TRANSITION", !1)) && this.toggleClass("no-transition", !0);
      a && this.classList.add("with-placeholder")
    },
    isPreloaded: function() {
      return this.isThumbPreloaded_(this.thumbnail)
    },
    isThumbPreloaded_: function(a) {
      return !!this.get("webThumbnailDetailsExtensionData.isPreloaded", a)
    },
    computeSrc_: function() {
      return this.delayedSrc || this.computeThumbnailSrc_(this.thumbnail) || this.EMPTY_GIF
    },
    computeThumbnailSrc_: function(a) {
      return a && a.thumbnails ? hw(a.thumbnails, "width" == this.dimension ? this.width : this.height, this.preferredThumbnail, this.dimension) : null
    },
    computeAlt_: function() {
      var a = this.thumbnail && this.thumbnail.accessibility && this.thumbnail.accessibility.accessibilityData && this.thumbnail.accessibility.accessibilityData.label;
      return this.loaded && a || ""
    },
    thumbnailChanged_: function() {
      var a = y([this.thumbnail, this.oldThumbnail_]),
        b = a.next().value;
      a = a.next().value;
      this.oldThumbnail_ = b;
      if (void 0 === this.isAttached) this.hasChange_ = !0;
      else {
        this.hasChange_ = !1;
        if (this.loaded && (a = this.computeThumbnailSrc_(a), this.computeThumbnailSrc_(b) == a)) return;
        P("kevlar_attach_vimio_behavior") && this.markDirtyVisibilityObserver();
        this.excludeFromVpl = !!this.get("webThumbnailDetailsExtensionData.excludeFromVpl", b);
        this.isThumbPreloaded_(b) ? (this.loadTime = Infinity, this.setSrc_(this.thumbnail.thumbnails[0].url),
          this.empty_ = !1) : b && N("DISABLE_YT_IMG_DELAY_LOADING", !1) ? this.loaded && !this.empty_ ? Polymer.RenderStatus.afterNextRender(this, this.onReload_) : Polymer.RenderStatus.afterNextRender(this, this.onShow_) : this.resetImage_()
      }
    },
    delayedSrcChanged_: function() {
      var a = this.oldDelayedSrc_;
      this.oldDelayedSrc_ = this.delayedSrc;
      this.loaded && this.delayedSrc == a || this.resetImage_()
    },
    setSrc_: function(a) {
      a ? (this.$.img.src || this.classList.remove("empty"), this.$.img.src = a) : (this.$.img.removeAttribute("src"), this.classList.add("empty"))
    },
    resetImage_: function() {
      this.loaded = !1;
      this.loadTime = Infinity;
      var a = ew.get(this);
      a && (a.reject(), ew.delete(this));
      this.pendingPaint && (gw.delete(this), this.pendingPaint = !1);
      this.empty_ = !0;
      this.setSrc_(this.EMPTY_GIF);
      this.invalidate(!1)
    },
    observePlaceholderColor_: function() {
      var a = this.thumbnail && this.thumbnail.placeholderColor;
      a ? this.style.backgroundColor = Mu(a) : this.shouldShowPlaceholder_() || (this.style.backgroundColor = "transparent")
    },
    onLoad_: function() {
      this.$.img.src && this.$.img.src != this.EMPTY_GIF && (gw.add(this), this.pendingPaint = !0, fw || (fw = S.addInputPriorityJob(iw)), this.notifyOnLoaded && this.fire("yt-img-shadow-loaded"))
    },
    onError_: function() {
      this.onLoad_()
    },
    onPrescanVisible: function() {
      this.onShow_()
    },
    onVisible: function() {
      Jw.getInstance().shown(this)
    },
    onShow_: function() {
      if (!this.loaded || this.empty_) {
        this.empty_ = !1;
        var a = this.computeSrc_();
        a != this.$.img.src && (this.loaded = !1, this.setSrc_(a))
      }
    },
    onReload_: function() {
      this.empty_ = !1;
      var a = this.computeSrc_();
      a != this.$.img.src && (this.loaded = !1, this.setSrc_(a))
    },
    shouldShowPlaceholder_: function() {
      return P("kevlar_thumbnail_bg")
    }
  });
  var Kw = function() {
    return Ym.apply(this, arguments) || this
  };
  z(Kw, Ym);
  var Lw = Kw;
  Om([jn(W.YtRendererBehavior), Pm("design:type", Object)], Lw.prototype, "ytRendererBehavior", void 0);
  Om([kn(), Pm("design:type", Object)], Lw.prototype, "data", void 0);
  Om([kn({
    notify: !0
  }), Pm("design:type", String)], Lw.prototype, "page", void 0);
  Lw = Om([Bw({
    is: "ytd-account-item-section-header-renderer"
  })], Lw);
  nw("multiPageMenuSectionItems", "compactLinkRenderer", "ytd-compact-link-renderer");
  Polymer({
    is: "ytd-compact-link-renderer",
    behaviors: [W.YtRendererBehavior, mv.YtActionSenderBehavior],
    listeners: {
      tap: "onTap_"
    },
    properties: {
      data: Object,
      componentStyle: {
        type: String,
        reflectToAttribute: !0
      },
      active: {
        type: Boolean,
        reflectToAttribute: !0,
        computed: "isActiveEndpoint_(data.navigationEndpoint)"
      },
      compactLinkStyle: {
        type: String,
        reflectToAttribute: !0,
        computed: "computeCompactLinkStyle_(data.style)"
      },
      icon_: {
        type: String,
        computed: "computeIcon_(data.icon)"
      },
      secondaryIcon_: {
        type: String,
        computed: "computeIcon_(data.secondaryIcon)"
      },
      hasSecondary_: {
        type: Boolean,
        computed: "computeHasSecondary_(data)",
        reflectToAttribute: !0
      }
    },
    computeHasPrimaryIcon_: function(a) {
      return !(!a.icon && !a.thumbnail)
    },
    computeHasSecondary_: function(a) {
      return !(!a.secondaryIcon && !a.secondaryNotificationText)
    },
    computeCompactLinkStyle_: function(a) {
      return a ? a.toLowerCase().replace(/_/g, "-") : ""
    },
    isActiveEndpoint_: function(a) {
      return (a = this.get("commandMetadata.webCommandMetadata.url", a)) ? vj(uj(window.location.href)[5] || null, !0) === a : !1
    },
    onTap_: function() {
      this.data.serviceEndpoint && this.sendServiceRequestAction([this.data.serviceEndpoint])
    }
  });
  V.YtRendererStamperBehavior = xw;
  Polymer({
    is: "ytd-account-item-section-renderer",
    behaviors: [W.YtRendererBehavior, V.YtRendererStamperBehavior],
    properties: {
      data: Object
    },
    stampDom: {
      "data.contents": {
        id: "contents",
        mapping: {
          accountItem: "ytd-account-item-renderer",
          compactLinkRenderer: "ytd-compact-link-renderer"
        }
      }
    }
  });
  Polymer({
    is: "ytd-account-section-list-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior],
    properties: {
      data: Object,
      page: {
        type: String,
        notify: !0
      }
    },
    stampDom: {
      "data.contents": {
        id: "contents",
        mapping: {
          accountItemSectionRenderer: "ytd-account-item-section-renderer",
          compactLinkRenderer: {
            component: "ytd-compact-link-renderer",
            params: {
              componentStyle: "disclaimer"
            }
          }
        }
      }
    }
  });
  var Mw = function() {
    return Ym.apply(this, arguments) || this
  };
  z(Mw, Ym);
  Mw.prototype.dataChanged = function() {
    if (this.data) this.avatar.onShow()
  };
  var Nw = Mw;
  Nw.prototype.dataChanged = Nw.prototype.dataChanged;
  Om([jn(W.YtRendererBehavior), Pm("design:type", Object)], Nw.prototype, "ytRendererBehavior", void 0);
  Om([jn(mv.YtActionSenderBehavior), Pm("design:type", Object)], Nw.prototype, "ytActionSenderBehavior", void 0);
  Om([kn(), Pm("design:type", Object)], Nw.prototype, "data", void 0);
  Om([nn("#avatar"), Pm("design:type", Object)], Nw.prototype, "avatar", void 0);
  Om([mn("data"), Pm("design:type", Function), Pm("design:paramtypes", []), Pm("design:returntype", void 0)], Nw.prototype, "dataChanged", null);
  Nw = Om([Bw({
    is: "ytd-active-account-header-renderer"
  })], Nw);
  Polymer({
    is: "ytd-simple-menu-header-renderer",
    behaviors: [W.YtRendererBehavior, V.YtRendererStamperBehavior],
    properties: {
      data: Object
    },
    stampDom: {
      "data.buttons": {
        id: "buttons",
        mapping: {
          buttonRenderer: "ytd-button-renderer"
        }
      }
    },
    onBackTap_: function() {
      this.fire("yt-menu-back-tapped")
    }
  });
  Polymer({
    is: "ytd-add-connection-renderer",
    behaviors: [mv.YtActionSenderBehavior, W.YtRendererBehavior],
    properties: {
      data: Object
    },
    listeners: {
      tap: "onTap_"
    },
    onTap_: function() {
      this.sendServiceRequestAction([this.data.addConnectionButton.buttonRenderer.navigationEndpoint])
    }
  });
  Polymer({
    is: "ytd-connection-renderer",
    behaviors: [V.YtRendererStamperBehavior, mv.YtActionSenderBehavior, W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "onDataChanged_"
      }
    },
    stampDom: {
      "data.menu": {
        id: "menu",
        mapping: {
          menuRenderer: {
            component: "ytd-menu-renderer",
            params: {
              noInkOnDropdownButton: !0
            }
          }
        }
      }
    },
    onDataChanged_: function() {
      if (this.$.avatar) this.$.avatar.onShow();
      this.classList.add("c" + this.data.connectionId)
    },
    onTapOpenConversation_: function() {
      this.data.sendShareToContactsEndpoint && this.sendServiceRequestAction([this.data.sendShareToContactsEndpoint])
    }
  });
  var Ow = function() {
    return Ym.apply(this, arguments) || this
  };
  z(Ow, Ym);
  var Pw = Ow;
  Om([jn(W.YtRendererBehavior), Pm("design:type", Object)], Pw.prototype, "ytRendererBehavior", void 0);
  Om([kn(), Pm("design:type", Object)], Pw.prototype, "data", void 0);
  Pw = Om([Bw({
    is: "ytd-contacts-list-header-renderer"
  })], Pw);
  var Qw = function() {
    var a = Ym.apply(this, arguments) || this;
    a.actionMap = {
      "yt-signal-action-copy-connection-invite-url": "onCopyConnectionInviteUrl"
    };
    return a
  };
  z(Qw, Ym);
  Qw.prototype.ready = function() {
    this.shareUrl.addEventListener("tap", this.onTapShareUrl.bind(this))
  };
  Qw.prototype.onCopyConnectionInviteUrl = function() {
    this.shareUrl.select();
    document.execCommand("copy")
  };
  Qw.prototype.onTapShareUrl = function() {
    this.shareUrl.select()
  };
  var Rw = Qw;
  Om([jn(W.YtRendererBehavior), Pm("design:type", Object)], Rw.prototype, "ytRendererBehavior", void 0);
  Om([jn(nv.YtActionHandlerBehavior), Pm("design:type", Object)], Rw.prototype, "ytActionHandlerBehavior", void 0);
  Om([kn(), Pm("design:type", Object)], Rw.prototype, "data", void 0);
  Om([nn("#share-url"), Pm("design:type", HTMLInputElement)], Rw.prototype, "shareUrl", void 0);
  Rw = Om([Bw({
    is: "ytd-copy-connection-invite-url-renderer"
  })], Rw);
  var Sw = function() {
    return Ym.apply(this, arguments) || this
  };
  z(Sw, Ym);
  Sw.prototype.configureRendererStamper = function() {
    return {
      "data.menu": {
        id: "menu",
        mapping: {
          menuRenderer: {
            component: "ytd-menu-renderer",
            params: {
              icon: "yt-icons:more_vert",
              noInkOnDropdownButton: !0
            },
            noInjection: !0
          }
        }
      }
    }
  };
  Sw.prototype.onDataChanged = function() {
    if (this.data) {
      if (this.avatar) this.avatar.onShow();
      this.classList.toggle("invited", !!this.data.invited);
      this.classList.add("c" + this.data.connectionId)
    }
  };
  var Tw = Sw;
  Tw.prototype.onDataChanged = Tw.prototype.onDataChanged;
  Om([jn(W.YtRendererBehavior), Pm("design:type", Object)], Tw.prototype, "ytRendererBehavior", void 0);
  Om([jn(xw), Pm("design:type", Object)], Tw.prototype, "ytRendererstamperBehavior", void 0);
  Om([kn(), Pm("design:type", Object)], Tw.prototype, "data", void 0);
  Om([nn("#avatar"), Pm("design:type", Object)], Tw.prototype, "avatar", void 0);
  Om([mn("data"), Pm("design:type", Function), Pm("design:paramtypes", []), Pm("design:returntype", void 0)], Tw.prototype, "onDataChanged", null);
  Tw = Om([Bw({
    is: "ytd-suggested-connection-renderer"
  })], Tw);
  Polymer({
    is: "ytd-contacts-list-renderer",
    behaviors: [V.YtRendererStamperBehavior, nv.YtActionHandlerBehavior, W.YtRendererBehavior],
    properties: {
      data: Object
    },
    actionMap: {
      "yt-update-contact-invite-status-command": "handleToggleInvite_",
      "yt-remove-contact-action": "handleRemoveContact_",
      "yt-show-invite-url-action": "handleInviteShown_"
    },
    stampDom: {
      "data.header": {
        id: "header",
        mapping: {
          contactsListHeaderRenderer: "ytd-contacts-list-header-renderer"
        }
      },
      "data.contents": {
        id: "contents",
        mapping: {
          addConnectionRenderer: "ytd-add-connection-renderer",
          connectionRenderer: "ytd-connection-renderer",
          suggestedConnectionRenderer: "ytd-suggested-connection-renderer",
          copyConnectionInviteUrlRenderer: "ytd-copy-connection-invite-url-renderer"
        }
      }
    },
    handleToggleInvite_: function(a) {
      if (a && a.updateContactInviteStatusCommand && (a = a.updateContactInviteStatusCommand, a.contactId && void 0 != a.invited)) {
        var b = this.getElementsByClassName("c" + a.contactId);
        b && b.length && b[0].classList.toggle("invited", a.invited)
      }
    },
    handleRemoveContact_: function(a) {
      a && a.removeContactAction && a.removeContactAction.contactId && (a = this.getElementsByClassName("c" + a.removeContactAction.contactId)) && a.length && a[0].classList.add("removed")
    },
    handleInviteShown_: function(a) {
      var b = Xa(this.data),
        c = b.contents;
      c.some(function(d) {
        return !!d.addConnectionRenderer
      }) && (c = c.filter(function(d) {
        return !d.addConnectionRenderer
      }), c.splice(0, 0, a.showInviteUrlAction.inviteUrlRenderer), b.contents = c, this.data = b)
    }
  });
  var Uw = function() {
    return Ym.apply(this, arguments) || this
  };
  z(Uw, Ym);
  var Vw = Uw;
  Om([jn(W.YtRendererBehavior), Pm("design:type", Object)], Vw.prototype, "ytRendererBehavior", void 0);
  Om([kn(), Pm("design:type", Object)], Vw.prototype, "data", void 0);
  Vw = Om([Bw({
    is: "ytd-comment-video-thumbnail-header-renderer"
  })], Vw);
  nw("multiPageMenuSectionItems", "toggleItemRenderer", "ytd-toggle-item-renderer");
  Polymer({
    is: "ytd-toggle-item-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object,
      enabled: {
        type: Boolean,
        computed: "isEnabled_(data)"
      }
    },
    onChange_: function(a) {
      (a = Polymer.dom(a).rootTarget.checked ? this.data.toggleOnActions : this.data.toggleOffActions) && this.sendInnerTubeActions(a, this)
    },
    isEnabled_: function() {
      return !!this.data.toggleOnActions || !!this.data.toggleOffActions
    }
  });
  var Ww = {
    EMPTY_SEARCH: "promo-full-height"
  };
  Polymer({
    is: "ytd-background-promo-renderer",
    behaviors: [V.YtRendererStamperBehavior, nv.YtActionHandlerBehavior, W.YtRendererBehavior],
    actionMap: {
      "yt-show-invite-url-action": "handleConnectionInviteShown_"
    },
    properties: {
      data: Object,
      rendererStyle: {
        type: String,
        computed: "computeRendererStyle_(data)",
        reflectToAttribute: !0
      }
    },
    stampDom: {
      "data.ctaButton": {
        id: "button",
        mapping: {
          buttonRenderer: "ytd-button-renderer"
        }
      }
    },
    computeRendererStyle_: function(a) {
      return a.style ? a.style.value.split("TYPE_")[1].replace(/_/g, "-").toLowerCase() :
        a.icon ? "" : "no-icon"
    },
    getIconName_: function(a) {
      a = this.get("icon.iconType", a);
      var b = Ww[a];
      b || (b = "yt-icons");
      return [b, a].join(":")
    },
    handleConnectionInviteShown_: function(a) {
      if (a = this.get("showInviteUrlAction.inviteUrlRenderer.copyConnectionInviteUrlRenderer", a)) {
        Polymer.dom(this.$.button).firstElementChild.hidden = !0;
        var b = Polymer.dom(this.$.dynamicContent),
          c = document.createElement("ytd-copy-connection-invite-url-renderer");
        c.data = a;
        b.appendChild(c)
      }
    }
  });
  nw("itemSectionRenderer", "messageRenderer", "ytd-message-renderer");
  Polymer({
    is: "ytd-message-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior],
    properties: {
      data: Object,
      shelf: {
        type: Boolean,
        reflectToAttribute: !0
      },
      componentStyle_: {
        type: Boolean,
        reflectToAttribute: !0,
        computed: "computeMessageStyle_(data.style.value)"
      }
    },
    stampDom: {
      "data.button": {
        id: "message-button",
        mapping: {
          buttonRenderer: "ytd-button-renderer"
        }
      },
      "data.icon": {
        id: "icon",
        mapping: {
          iconType: {
            component: "yt-icon",
            properties: {
              icon: "[[data.icon.iconType]]"
            }
          }
        }
      }
    },
    computeMessageStyle_: function(a) {
      return a
    }
  });
  var Xw = {
    YtEventForwardingBehavior: {
      created: function() {
        this.eventSink_ = null;
        this.eventList_ = []
      },
      forwardEvent_: function(a, b) {
        a.stopPropagation();
        this.eventSink_.fire(a.type, b)
      },
      startForwardingEvents: function(a, b) {
        this.eventSink_ && this.stopForwardingEvents();
        for (var c = 0; c < a.length; c++) this.listen(this, a[c], "forwardEvent_");
        this.eventSink_ = b;
        this.eventList_ = a
      },
      stopForwardingEvents: function() {
        for (var a = 0; a < this.eventList_.length; a++) this.unlisten(this, this.eventList_[a], "forwardEvent_");
        this.eventSink_ = null;
        this.eventList_ = []
      }
    }
  };
  var Yw = [pw.YtTaskEmitterBehavior, mv.YtActionSenderBehavior, {
    _noAccessors: !0,
    listeners: {
      "yt-load-next-continuation": "onLoadNextContinuation_"
    },
    nextContinuation: void 0,
    pendingContinuationRequest_: void 0,
    listeningForNavigate_: !1,
    created: function() {
      this.continuationStartNavCount_ = -1
    },
    detached: function() {
      this.stopListeningForNavigate_()
    },
    canUseContextualNetworkManager_: function() {
      return P("polymer_task_manager_proxied_promise") && this.shouldUseTaskManager() && !!this.getNetworkManager()
    },
    startListeningForNavigate_: function() {
      this.canUseContextualNetworkManager_() || !P("kevlar_abort_continuation_handler_on_navigate_and_refetch") || this.listeningForNavigate_ || (this.listen(document, "yt-navigate-start", "onYtNavigateStart_"), this.listeningForNavigate_ = !0)
    },
    stopListeningForNavigate_: function() {
      !this.canUseContextualNetworkManager_() && P("kevlar_abort_continuation_handler_on_navigate_and_refetch") && (this.unlisten(document, "yt-navigate-start", "onYtNavigateStart_"), this.listeningForNavigate_ = !1)
    },
    onLoadNextContinuation_: function(a, b) {
      a.stopPropagation();
      if (this.nextContinuation.requestPath) {
        a = this.nextContinuation.requestPath;
        var c = {};
        P("direct_innertube_click_tracking_reporting") && (c = {
          context: {
            clickTracking: {
              clickTrackingParams: this.nextContinuation.clickTrackingParams
            }
          }
        });
        this.makeNextContinuationRequest_(a, b, c)
      } else this.fire("yt-retrieve-location", {
        locationRetrieved: function(d, e) {
          var g = {};
          P("direct_innertube_click_tracking_reporting") && e.clickTrackingParams && Object.assign(g, {
            context: {
              clickTracking: {
                clickTrackingParams: e.clickTrackingParams
              }
            }
          });
          this.makeNextContinuationRequest_(d, b, g)
        }.bind(this)
      })
    },
    makeNextContinuationRequest_: function(a, b, c) {
      P("csi_wait_for_continuation") && uu("ncl");
      ru("nct");
      this.continuationStartNavCount_ = M("NAV_COUNT", void 0);
      P("kevlar_abort_continuation_handler_on_navigate_and_refetch") && this.pendingContinuationRequest_ && this.pendingContinuationRequest_.cancel();
      a = b(a);
      var d;
      this.canUseContextualNetworkManager_() && (d = this.getNetworkManager());
      d || (d = this.getInterface(At));
      c = this.nextContinuation.usePost ? d.postData(a, c) : d.fetchData(a, c);
      c.then(this.updateNextContinuationData_.bind(this,
        a));
      this.pendingContinuationRequest_ = c;
      this.startListeningForNavigate_()
    },
    updateNextContinuationData_: function(a, b) {
      ru("ncl");
      this.continuationStartNavCount_ != M("NAV_COUNT", void 0) && Ku("ncpm", 1);
      this.pendingContinuationRequest_ = void 0;
      if (b) {
        var c = {};
        this.nextContinuation && (c = this.nextContinuation);
        if (b.response && b.response.continuationContents) {
          a = b.response.continuationContents[c.continuationType];
          var d = c.header || "data.header",
            e = a[c.responseHeaderKey || "header"];
          e && this.set(d, e);
          d = c.contentsArray || "data.contents";
          e = a[c.responseContentsKey || "contents"] || [];
          this.pathExists_(d) ?
            (e.unshift(d), this.push.apply(this, e)) : this.set(d, e);
          if (e) {
            var g = this.getScreenLayer();
            e = fs(g);
            g = es(g);
            var h = this.get("response.trackingParams", b);
            h && e && g && (h = xr(h), Er(sr, e, g, [h], void 0), this.sendAction("yt-store-grafted-ve-action", [h]));
            this.fire("yt-next-continuation-data-updated", {
              continuationData: b,
              page: this,
              contentsArray: d
            })
          }
          this.set(c.continuationsArray || "data.continuations", a[c.responseContinuationsKey || "continuations"] || [])
        } else b.reload ? O(Error("Reloading from continuation is unsupported"),
          "WARNING") : (delete b.xsrf_token, delete b.spfUrl, delete b.endpoint, d = Error("Malformed continuation"), e = zp(a, {
          ctoken: "redacted",
          continuation: "redacted"
        }, !0), d.params = {
          request: e,
          response: JSON.stringify(b).substr(0, 2048)
        }, this.nextContinuation && this.nextContinuation.continuationType && (d.params.continuationType = this.nextContinuation.continuationType.substr(0, 256)), 0 == a.indexOf("/comment_service_ajax") ? Qd(d) : O(d)), this.set(c.continuationsArray || "data.continuations", [])
      } else O(Error("Missing continuation response: " +
        a))
    },
    pathExists_: function(a) {
      var b = this;
      a = a.toString().split(".");
      for (var c = 0; c < a.length; c++)
        if (b = b[a[c]], void 0 === b) return !1;
      return !0
    },
    onYtNavigateStart_: function() {
      P("kevlar_abort_continuation_handler_on_navigate_and_refetch") && this.pendingContinuationRequest_ && (this.pendingContinuationRequest_.cancel(), this.pendingContinuationRequest_ = void 0);
      this.stopListeningForNavigate_()
    }
  }];
  Polymer({
    is: "yt-multi-page-menu-section-renderer",
    behaviors: [W.YtRendererBehavior, xw, nv.YtActionHandlerBehavior, mv.YtActionSenderBehavior],
    listeners: {
      "yt-service-request-completed": "onServiceRequestCompleted_",
      "yt-remove-conversation-switcher-invite-item": "removeConversation_"
    },
    properties: {
      data: Object,
      hasAccountSettings: {
        type: Boolean,
        reflectToAttribute: !0,
        computed: "computeHasAccountSettings_(data)"
      }
    },
    actionMap: {
      "yt-broadcast-user-invalidation-action": "updateMenu_",
      "yt-hide-enclosing-action": "handleHideEnclosingAction_",
      "yt-remove-conversation-action": "removeConversationItem_",
      "yt-update-chat-menu-action": "updateAndMergeChatItems_"
    },
    stampDom: {
      "data.items": {
        id: "items",
        mapping: ow("multiPageMenuSectionItems")
      },
      data: {
        id: "settings",
        mapping: ow("multiPageMenuSectionSettings")
      }
    },
    computeHasAccountSettings_: function(a) {
      return !!this.get("webMultiPageMenuSectionRendererExtension", a)
    },
    handleHideEnclosingAction_: function(a) {
      if (this.data && this.data.items)
        for (var b = 0; b < this.data.items.length; b++) {
          var c = this.data.items[b].notificationRenderer;
          if (c && c.notificationId == a.hideEnclosingAction.notificationId) {
            this.splice("data.items", b, 1);
            this.sendAction("yt-close-popup-action", ["ytd-menu-popup-renderer"]);
            this.maybeHideNotificationSection_();
            break
          }
        }
    },
    maybeHideNotificationSection_: function() {
      this.data && this.data.items && 0 == this.data.items.length && this.toggleAttribute("hidden", !0)
    },
    updateMenu_: function(a) {
      if (this.parentComponent.isPopUpOpen && this.data && this.data.continuations && a && !a.doNotRefreshInbox) {
        for (a = 0; a < this.data.continuations.length; a++)
          if (this.data.continuations[a].invalidationContinuationData) {
            var b = this.data.continuations[a].invalidationContinuationData.continuation;
            break
          } a = Hb(this.data.continuationUpdateEndpoint);
        a.continuation = b;
        a.click_tracking_params = this.data.trackingParams;
        this.sendServiceRequestAction([a])
      }
    },
    onServiceRequestCompleted_: function(a, b) {
      if (this.data && (a = b.actions)) {
        b = 0;
        for (var c = a.length; b < c; b++) {
          var d = a[b];
          if (!d.appendContinuationItemsAction) break;
          var e = "CONTINUATION_TARGET_NOTIFICATION_MENU" == d.appendContinuationItemsAction.target || "CONTINUATION_TARGET_CONVERSATION_MENU" == d.appendContinuationItemsAction.target;
          d.appendContinuationItemsAction && e && d.appendContinuationItemsAction.continuationItems && this.data.items && (e = this.data.items.length - 1, this.data.items[e].continuationItemRenderer && this.splice.apply(this,
            ["data.items", e, 1].concat(d.appendContinuationItemsAction.continuationItems)))
        }
      }
    },
    updateAndMergeChatItems_: function(a) {
      if (this.data && this.data.items) {
        var b = {},
          c = this.data.items,
          d = c.some(function(h) {
            return !!h.conversationSwitcherInviteItemRenderer
          }),
          e = c.some(function(h) {
            return !!h.conversationSwitcherItemRenderer
          });
        if (d || e) {
          var g;
          c[c.length - 1].continuationItemRenderer && (g = c.pop());
          c = c.filter(function(h) {
            return !h.conversationSwitcherInviteItemRenderer
          });
          for (e = 0; e < c.length; e++) d = c[e].conversationSwitcherItemRenderer, E(d) && (b[d.conversationId] = c[e]);
          c = a.updateChatMenuAction.items;
          for (e = 0; e < c.length; e++) d = c[e].conversationSwitcherItemRenderer, b[d.conversationId] = c[e];
          b = Ab(b);
          b.sort(function(h, k) {
            return k.conversationSwitcherItemRenderer.lastPostTimestamp - h.conversationSwitcherItemRenderer.lastPostTimestamp
          });
          E(g) && b.push(g);
          a.updateChatMenuAction.inviteItems && 0 < a.updateChatMenuAction.inviteItems.length && (b = a.updateChatMenuAction.inviteItems.concat(b));
          this.set("data.items", b)
        }
      }
    },
    removeConversation_: function(a) {
      var b = a.detail;
      a = this.data.items.filter(function(c) {
        c = c.conversationSwitcherInviteItemRenderer;
        return !(c && c.connectionId === b.connectionId)
      });
      this.set("data.items", a)
    },
    removeConversationItem_: function(a) {
      if (this.data && this.data.items) {
        var b = nb(this.data.items, function(c) {
          return c.conversationSwitcherItemRenderer ? c.conversationSwitcherItemRenderer.conversationId == a.removeConversationAction.conversationId : !1
        }); -
        1 != b && this.splice("data.items", b, 1)
      }
    }
  });
  Polymer({
    is: "ytd-multi-page-menu-renderer",
    behaviors: [W.YtRendererBehavior, nv.YtActionHandlerBehavior, Xw.YtEventForwardingBehavior, V.YtRendererStamperBehavior],
    listeners: {
      "yt-account-settings-covered-changed": "onAccountSettingsCoveredChanged_",
      "yt-menu-back-tapped": "onMenuBackTap_",
      "yt-navigate": "onYtNavigate_",
      "yt-retrieve-location": "onRetrieveLocation_",
      "yt-service-request-completed": "onServiceRequestSentOrCompleted_",
      "yt-service-request-sent": "onServiceRequestSentOrCompleted_",
      "yt-submenu-closed": "onSubmenuClosed_",
      "yt-popup-closed": "onPopupClosed_",
      "yt-popup-opened": "onPopupOpened_"
    },
    actionMap: {
      "yt-check-conversation-inbox-open-action": "handleCheckConversationInboxOpenAction_"
    },
    screenLayer: 2,
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      covered: Boolean,
      menuStyle: {
        type: String,
        reflectToAttribute: !0,
        computed: "computeMenuStyle_(data.style)"
      },
      isPopUpOpen: Boolean,
      hasYourDataEntryButton: {
        type: Boolean,
        value: P("your_data_entrypoint"),
        reflectToAttribute: !0
      }
    },
    HIGH_PRIORITY_NOTIFICATION_DISPLAY_TIMEOUT_MS: 4E3,
    stampDom: {
      "data.header": {
        id: "header",
        mapping: {
          activeAccountHeaderRenderer: "ytd-active-account-header-renderer",
          simpleMenuHeaderRenderer: "ytd-simple-menu-header-renderer"
        }
      },
      "data.sections": {
        id: "sections",
        mapping: {
          accountSectionListRenderer: {
            component: "ytd-account-section-list-renderer",
            registration: ["defer-on-all"]
          },
          backgroundPromoRenderer: "ytd-background-promo-renderer",
          commentVideoThumbnailHeaderRenderer: "ytd-comment-video-thumbnail-header-renderer",
          contactsListRenderer: "ytd-contacts-list-renderer",
          itemSectionRenderer: "ytd-comments",
          messageRenderer: "ytd-message-renderer",
          multiPageMenuNotificationSectionRenderer: "yt-multi-page-menu-section-renderer",
          multiPageMenuSectionRenderer: "yt-multi-page-menu-section-renderer",
          toggleItemRenderer: "ytd-toggle-item-renderer"
        }
      },
      "data.footer": {
        id: "footer",
        mapping: {
          multiPageMenuSectionRenderer: "yt-multi-page-menu-section-renderer"
        }
      }
    },
    created: function() {
      this.readyForInteractionLogging_ = !1
    },
    ready: function() {
      this.$.container.addEventListener("scroll", this.markDirty.bind(this))
    },
    dataChanged_: function() {
      !this.readyForInteractionLogging_ && this.isListOfConversations_() && this.initConversationListInteractionLogging_()
    },
    reset: function() {
      this.closeJobId_ && (S.cancelJob(this.closeJobId_), this.closeJobId_ = 0);
      this.covered = !1;
      this.$.header && (this.$.header.hidden = !1);
      var a = this.$$("yt-multi-page-menu-section-renderer");
      a && (a.hidden = !1);
      (a = this.$$("[has-account-settings]")) && (a = a.$$("ytd-account-settings")) && a.reset()
    },
    computeMenuStyle_: function(a) {
      return a ? a.toLowerCase().replace(/_/g, "-") : ""
    },
    onPopupClosed_: function() {
      this.isPopUpOpen = !1;
      if (!this.isHighPriorityNotification_()) {
        var a;
        if (a = Polymer.Element ? Polymer.dom(this.root).querySelectorAll("yt-multi-page-menu-section-renderer") : this.querySelectorAll("yt-multi-page-menu-section-renderer")) {
          a = y(a);
          for (var b = a.next(); !b.done; b = a.next())(b = b.value) && (b = Polymer.Element ? Polymer.dom(b.root).querySelectorAll("ytd-notification-renderer") : b.querySelectorAll("ytd-notification-renderer")) && this.setNotificationsSeen_(b)
        }
      }
    },
    onPopupOpened_: function(a, b) {
      var c = this;
      this.isPopUpOpen = !0;
      "ytd-multi-page-menu-renderer" == b.is && (this.reset(), this.fire("yt-refit"), this.isHighPriorityNotification_() && (this.closeJobId_ && (S.cancelJob(this.closeJobId_), this.closeJobId_ = 0), this.closeJobId_ = S.addMediumPriorityJob(function() {
        c.isHighPriorityNotification_() && c.sendAction("yt-close-popup-action", ["ytd-multi-page-menu-renderer"])
      }, this.HIGH_PRIORITY_NOTIFICATION_DISPLAY_TIMEOUT_MS)))
    },
    onAccountSettingsCoveredChanged_: function(a) {
      var b = this;
      a = a.detail;
      this.toggleClass("account-settings-covered", !!a);
      this.$.header.hidden = a;
      Polymer.RenderStatus.afterNextRender(this, function() {
        b.fire("yt-refit")
      });
      for (var c = this.querySelectorAll("yt-multi-page-menu-section-renderer:not([has-account-settings])"), d = 0; d < c.length; d++) c[d].hidden = a
    },
    onYtNavigate_: function(a, b) {
      this.shouldCloseOnNavigateEvent_(b.endpoint) && this.sendAction("yt-close-all-popups-action")
    },
    onServiceRequestSentOrCompleted_: function(a, b) {
      a.detail && a.detail.endpoint && (a = a.detail.endpoint, a.signalServiceEndpoint && "GET_CONNECTION_SUB_MENU" == a.signalServiceEndpoint.signal || a.getCommentsFromInboxCommand) && (this.$.spinner.hidden = !1, this.$.header.hidden = !0, this.$.container.hidden = !0, this.$.submenu.hidden = !0);
      if (b.actions) {
        b = b.actions;
        a = 0;
        for (var c = b.length; a < c; a++) {
          var d = b[a];
          d.getMultiPageMenuAction && this.handleGetMultiPageMenuAction_(d.getMultiPageMenuAction)
        }
      }
    },
    handleGetMultiPageMenuAction_: function(a) {
      var b = document.createElement("ytd-multi-page-menu-renderer");
      Polymer.RenderStatus.afterNextRender(this, function() {
        this.fire("yt-refit")
      });
      this.emptySubmenuContainer_();
      Polymer.dom(this.$.submenu).appendChild(b);
      (a = a.menu.multiPageMenuRenderer) && this.logSubmenu_(a);
      b.data = a;
      b.covered = !1;
      this.covered = !0;
      this.$.spinner.hidden = !0
    },
    logSubmenu_: function(a) {
      if (!P("kevlar_multi_page_menu_sub_page_loggin_killswitch")) {
        var b = Dr(sr, 56219, void 0, void 0);
        if (b) {
          var c = this.getScreenLayer();
          gs(b, 56219, c);
          (c = es(c)) && (a = a.trackingParams) && Er(sr, b, c, [xr(a)], void 0)
        }
      }
    },
    emptySubmenuContainer_: function() {
      for (var a = Polymer.dom(this.$.submenu); a.firstChild;) a.removeChild(a.firstChild)
    },
    onMenuBackTap_: function(a) {
      this.fire("yt-submenu-closed");
      a.stopPropagation()
    },
    onSubmenuClosed_: function(a) {
      Polymer.dom(a).rootTarget != this && (this.covered = !1, this.fire("yt-refit"), a.stopPropagation())
    },
    onRetrieveLocation_: function(a, b) {
      b.hasComments && (b.locationRetrieved("/comment_service_ajax?action_get_comments=1&pbj=1", void 0), a.stopPropagation())
    },
    setNotificationsSeen_: function(a) {
      for (var b = 0; b < a.length; b++) a[b].set("data.seen", !0)
    },
    handleCheckConversationInboxOpenAction_: function() {
      return this.isListOfConversations_() && this.isPopUpOpen
    },
    isListOfConversations_: function() {
      return !!this && !!this.data && "MULTI_PAGE_MENU_STYLE_TYPE_CONVERSATIONS" == this.data.style
    },
    isHighPriorityNotification_: function() {
      return !!this && !!this.data && "MULTI_PAGE_MENU_STYLE_TYPE_HIGH_PRIORITY_NOTIFICATION" == this.data.style
    },
    initConversationListInteractionLogging_: function() {
      if (this && this.data && this.data.trackingParams) {
        var a = this.data.trackingParams,
          b = Dr(sr, 56219, void 0, void 0);
        if (b) {
          gs(b, 56219, 2);
          var c = es(2);
          c && (a = xr(a)) && (Er(sr, b, c, [a], void 0), this.readyForInteractionLogging_ = !0)
        }
      }
    },
    shouldCloseOnNavigateEvent_: function(a) {
      return a ? a.updateCommentDialogEndpoint || a.updateCommentReplyDialogEndpoint || a.createCommentReplyDialogEndpoint || a.commandMetadata && a.commandMetadata.webCommandMetadata && a.commandMetadata.webCommandMetadata.ignoreNavigation ? !1 : !0 : !0
    }
  });
  var Zw = new function(a, b, c) {
      this.supportedPopups = a;
      this.navigationEndpointPopupMap = b;
      this.popupTypeMap = c
    }({
      addToPlaylistRenderer: !0,
      confirmDialogRenderer: !0,
      menuPopupRenderer: !0,
      modalWithTitleAndButtonRenderer: !0,
      multiPageMenuRenderer: !0,
      reportFormModalRenderer: !0,
      sharingRenderer: !0,
      unlimitedFamilyMessageInterstitialRenderer: !0,
      unlimitedFamilyProfileInterstitialRenderer: !0,
      unpluggedPauseMembershipDialogRenderer: !0
    }, {
      confirmDialogEndpoint: "confirmDialogEndpoint.content",
      modalEndpoint: "modalEndpoint.modal",
      openPopupAction: "openPopupAction.popup",
      unlimitedFamilyFlowEndpoint: "unlimitedFamilyFlowEndpoint.unlimitedFamilyFlowEndpointSupportedRenderers",
      unlimitedCreateFamilyEndpoint: "unlimitedCreateFamilyEndpoint.successRenderer"
    }, {
      addToPlaylistRenderer: "DROPDOWN",
      confirmDialogRenderer: "DIALOG",
      menuPopupRenderer: "DROPDOWN",
      modalWithTitleAndButtonRenderer: "RESPONSIVE_DROPDOWN",
      multiPageMenuRenderer: "DROPDOWN",
      reportFormModalRenderer: "DIALOG",
      sharingRenderer: "DROPDOWN",
      unlimitedFamilyMessageInterstitialRenderer: "DIALOG",
      unlimitedFamilyProfileInterstitialRenderer: "DIALOG",
      unpluggedPauseMembershipDialogRenderer: "DIALOG"
    }),
    $w = new Ct(["yt-popup-closed",
      "yt-popup-opened", "yt-service-request-sent"
    ], "ytmusic");

  function ax(a) {
    var b = M(a);
    if ("string" == typeof b) try {
      Ld(a, JSON.parse(b))
    } catch (c) {
      O(c)
    }
  };
  var bx = window.Redux;
  var cx = bx.combineReducers({
    albumReleases: function(a, b) {
      a = a || {};
      switch (b.type) {
        case "ADD_ALBUM_RELEASE":
          var c = {};
          return Object.assign({}, a, (c[b.payload.id] = b.payload, c));
        default:
          return a
      }
    },
    albumReleaseDetails: function(a, b) {
      a = a || {};
      switch (b.type) {
        case "ADD_ALBUM_RELEASE_DETAIL":
          var c = {};
          return Object.assign({}, a, (c[b.payload.id] = b.payload, c));
        default:
          return a
      }
    },
    albumReleaseUserDetails: function(a, b) {
      a = a || {};
      switch (b.type) {
        case "ADD_ALBUM_RELEASE_USER_DETAIL":
          var c = {};
          return Object.assign({}, a, (c[b.payload.id] = b.payload, c));
        case "UPDATE_ALBUM_RELEASE_IN_LIBRARY":
          c = Object.assign({}, a[b.payload.id], {
            inLibrary: b.payload.inLibrary
          });
          var d = {};
          return Object.assign({}, a, (d[b.payload.id] = c, d));
        default:
          return a
      }
    }
  });
  var dx = bx.combineReducers({
    artistEntities: function(a, b) {
      a = a || {};
      switch (b.type) {
        case "ADD_ARTIST":
          var c = {};
          return Object.assign({}, a, (c[b.payload.id] = b.payload, c));
        default:
          return a
      }
    }
  });
  var ex = bx.combineReducers({
    videos: function(a, b) {
      a = a || {};
      switch (b.type) {
        case "SET_VIDEO_LIKE_STATUS":
          var c = {};
          return Object.assign({}, a, (c[b.payload.id] = b.payload.status, c));
        default:
          return a
      }
    },
    playlists: function(a, b) {
      a = a || {};
      switch (b.type) {
        case "SET_PLAYLIST_LIKE_STATUS":
          var c = {};
          return Object.assign({}, a, (c[b.payload.id] = b.payload.status, c));
        default:
          return a
      }
    }
  });
  var fx = xr(""),
    gx = [],
    hx = 0;

  function ix(a, b) {
    var c = fs();
    var d = a.getVisualElement();
    c = c && d && d !== fx ? {
      clientScreenNonce: c,
      visualElement: d
    } : void 0;
    0 < hx && !c && O(Error("Logging unparented screen due to missing parent element for endpoint: " + JSON.stringify(a)));
    a = a.getVeType();
    c = Dr(sr, a, c, void 0);
    gs(c, a);
    hx++;
    b && jx(xr(b));
    b = y(gx);
    for (a = b.next(); !a.done; a = b.next()) jx(a.value)
  }

  function jx(a) {
    Er(sr, fs(), es(), [a], void 0)
  }

  function kx(a) {
    gx.push(a);
    jx(a)
  }

  function lx(a) {
    gx.splice(gx.indexOf(a), 1)
  }

  function mx(a) {
    var b = fs();
    b ? Gr(sr, b, a, void 0, void 0, void 0) : O(Error("No CSN, unable to record click for VE: " + JSON.stringify(a.getAsJson())))
  };

  function nx(a, b) {
    return function(c, d) {
      c = void 0 === c ? b : c;
      switch (d.type) {
        case a:
          return d.payload;
        default:
          return c
      }
    }
  };
  var ox = bx.combineReducers({
    isLoadingIndicatorShowing: nx("SET_LOADING_INDICATOR_SHOWING", !1),
    libraryTabBrowseId: nx("SET_LIBRARY_TAB_BROWSE_ID", "FEmusic_liked_playlists"),
    libraryTabIndex: nx("SET_LIBRARY_TAB_INDEX", 0),
    mainContent: nx("SET_MAIN_CONTENT", null),
    playerUiState: nx("SET_PLAYER_UI_STATE", "INACTIVE"),
    playerPageInfo: nx("SET_PLAYER_PAGE_INFO", {
      open: !1,
      triggerElement: fx
    })
  });
  var px = bx.combineReducers({
    playerOverlay: nx("SET_PLAYER_OVERLAY", null),
    playerPageWatchNextMetadata: nx("SET_PLAYER_PAGE_WATCH_NEXT_METADATA", null),
    watchNextOverlay: nx("SET_WATCH_NEXT_OVERLAY", null)
  });
  var qx = bx.combineReducers({
    adPlaying: nx("SET_AD_PLAYING", !1),
    fullscreened: nx("SET_FULLSCREENED", !1),
    miniPlayerEnabled: nx("SET_MINI_PLAYER_ENABLED", !1),
    playerResponse: nx("SET_PLAYER_RESPONSE", null),
    preloadedEndpoint_: nx("SET_PRELOADED_ENDPOINT", null),
    volume: nx("SET_VOLUME", 100)
  });

  function rx(a, b, c) {
    return [].concat(la(a.slice(0, c)), la(sx(b)), la(a.slice(c)))
  }
  var tx = 0;

  function sx(a) {
    for (var b = y(a), c = b.next(); !c.done; c = b.next()) c.value.navigationEndpoint.watchEndpoint.index = tx++;
    return a
  }

  function ux(a, b) {
    var c = a.slice(b + 1);
    return [].concat(la(a.slice(0, b)), la(c))
  }

  function vx(a, b) {
    return a.map(function(c, d) {
      return c.selected && d !== b ? Object.assign({}, c, {
        selected: !1
      }) : d !== b || c.selected ? c : Object.assign({}, c, {
        selected: !0
      })
    })
  }
  var wx = bx.combineReducers({
    automixItems: function(a, b) {
      a = a || [];
      switch (b.type) {
        case "ADD_AUTOMIX_ITEMS":
          return rx([], b.payload, 0);
        case "CLEAR":
          return [];
        case "SHIFT_AUTOPLAY_ITEM":
          var c = a.findIndex(function(d) {
            return d.navigationEndpoint.watchEndpoint.index === b.payload.navigationEndpoint.watchEndpoint.index
          });
          return ux(a, c);
        default:
          return a
      }
    },
    autoplay: nx("SET_AUTOPLAY_ENABLED", !0),
    items: function(a, b) {
      a = a || [];
      switch (b.type) {
        case "ADD_ITEMS":
          return rx(a, b.payload.items, b.payload.index);
        case "CLEAR":
          return [];
        case "MOVE_ITEM":
          var c = b.payload.toIndex;
          a = a.slice(0);
          b = a.splice(b.payload.fromIndex, 1);
          a.splice.apply(a, [c, 0].concat(la(b)));
          return a;
        case "REMOVE_ITEM":
          return ux(a, b.payload);
        case "SET_INDEX":
          return vx(a, b.payload);
        case "SHIFT_AUTOPLAY_ITEM":
          return rx(a, [b.payload], a.length);
        case "SHUFFLE":
          b = b.payload;
          c = a[b];
          a = a.slice(0);
          a.splice(b,
            1);
          b = Math.random;
          for (var d = a.length - 1; 0 < d; d--) {
            var e = Math.floor(b() * (d + 1)),
              g = a[d];
            a[d] = a[e];
            a[e] = g
          }
          a.unshift(c);
          return a;
        default:
          return a
      }
    },
    isGenerating: nx("SET_IS_GENERATING", !1),
    repeatMode: nx("SET_REPEAT", "NONE")
  });

  function xx(a) {
    return function(b, c) {
      switch (c.type) {
        case "RESET":
          b = void 0
      }
      return a(b, c)
    }
  };
  var yx = bx.combineReducers({
    trackEntities: function(a, b) {
      a = a || {};
      switch (b.type) {
        case "ADD_TRACKS":
          var c = {};
          b = y(b.payload || []);
          for (var d = b.next(); !d.done; d = b.next()) d = d.value, c[d.id] = d;
          return Object.assign({}, a, c);
        default:
          return a
      }
    },
    trackUserDetails: function(a, b) {
      a = a || {};
      switch (b.type) {
        case "ADD_TRACK_USER_DETAILS":
          var c = {};
          b = y(b.payload || []);
          for (var d = b.next(); !d.done; d = b.next()) d = d.value, c[d.id] = d;
          return Object.assign({}, a, c);
        default:
          return a
      }
    }
  });
  var zx = bx.combineReducers({
    viewportInfo: nx("SET_VIEWPORT_INFO", null)
  });

  function Ax(a, b, c) {
    var d = a.findIndex(function(e) {
      return e.id === b
    });
    c = Object.assign({}, a[d], c);
    return [].concat(la(a.slice(0, d)), [c], la(a.slice(d + 1)))
  }
  var Bx = bx.combineReducers({
    fileUploads: function(a, b) {
      a = a || [];
      switch (b.type) {
        case "ADD_FILE_UPLOADS":
          return a.concat(b.payload);
        case "CLEAR_ALL_FILE_UPLOADS":
          return [];
        case "CLEAR_UNSTARTED_FILE_UPLOADS":
          return a.filter(function(c) {
            return 0 !== c.transferState
          });
        case "UPDATE_UPLOAD_WITH_TRANSFER":
          return Ax(a, b.payload.id, {
            transfer: b.payload.transfer
          });
        case "UPDATE_PROGRESS":
          return Ax(a, b.payload.id, {
            transferredBytes: b.payload.transferredBytes,
            transferState: 1
          });
        case "MARK_SUCCESS":
          return Ax(a, b.payload.id, {
            transferredBytes: b.payload.transferredBytes,
            transferState: 2
          });
        case "MARK_ERROR":
          return Ax(a, b.payload.id, {
            transferredBytes: b.payload.transferredBytes,
            transferState: 3
          });
        case "RESET_UPLOAD":
          return Ax(a, b.payload.id, {
            transferState: 0,
            transferredBytes: 0,
            transfer: void 0
          });
        default:
          return a
      }
    }
  });
  var Y = function() {
      var a = this;
      this.userPrefs = Gt.getInstance();
      this.subscribers = new Map;
      var b = bx.combineReducers({
        entities: bx.combineReducers({
          albums: cx,
          artists: dx,
          tracks: yx
        }),
        likeStatus: ex,
        navigation: ox,
        player: qx,
        playerPage: px,
        queue: wx,
        ui: zx,
        uploads: Bx
      });
      this.store = bx.createStore(xx(b), {}, bx.compose(bx.applyMiddleware(function() {
        return function(c) {
          return function(d) {
            Cx.has(d.type) && void 0 !== d.payload && a.persistData(d);
            c(d)
          }
        }
      })));
      this.store.subscribe(function() {
        return a.onStoreStateChange()
      });
      this.rehydrate()
    },
    Dx = function(a) {
      return function(b) {
        return G(a, b)
      }
    };
  f = Y.prototype;
  f.getState = function() {
    return this.store.getState()
  };
  f.getStateBySelector = function(a) {
    a = a instanceof Function ? a(this.getState()) : G(a, this.getState());
    return void 0 !== a ? a : null
  };
  f.rehydrate = function() {
    for (var a = y(Cx), b = a.next(); !b.done; b = a.next()) {
      var c = y(b.value);
      b = c.next().value;
      c = c.next().value;
      c = this.userPrefs.get(c);
      if ("" !== c) {
        var d = c;
        if ("SET_REPEAT" !== b && "SET_LIBRARY_TAB_BROWSE_ID" !== b) try {
          d = JSON.parse(c)
        } catch (e) {
          O(Error("Unable to parse persisted state from string! value: " + c + " action: " + b));
          break
        }
        this.dispatch({
          type: b,
          payload: d
        })
      }
    }
  };
  f.persistData = function(a) {
    Cx.has(a.type) && (this.userPrefs.set(Cx.get(a.type), String(a.payload)), this.userPrefs.save())
  };
  f.dispatch = function(a) {
    return this.store.dispatch(a)
  };
  f.subscribe = function(a) {
    return this.store.subscribe(a)
  };
  f.subscribeBySelector = function(a, b) {
    var c = this.getStateBySelector(a);
    this.subscribers.set(b, {
      selector: a,
      value: c
    });
    return function() {
      this.subscribers.delete(b)
    }.bind(this)
  };
  f.onStoreStateChange = function() {
    var a = this;
    this.subscribers.forEach(function(b, c) {
      var d = a.getStateBySelector(b.selector);
      if (d !== b.value) {
        var e = b.value;
        b.value = d;
        c(d, e)
      }
    })
  };
  Na(Y);
  var Cx = new Map([
    ["SET_LIBRARY_TAB_BROWSE_ID", "library_tab_browse_id"],
    ["SET_LIBRARY_TAB_INDEX", "library_tab"],
    ["SET_VOLUME", "volume"],
    ["SET_AUTOPLAY_ENABLED", "autoplay"],
    ["SET_REPEAT", "repeat"]
  ]);
  var Ex = function(a) {
    this.store = a
  };
  Ex.prototype.processEntityBatchUpdate = function(a) {
    var b = [],
      c = [];
    a = y(a.mutations || []);
    for (var d = a.next(); !d.done; d = a.next()) d = d.value, "ENTITY_MUTATION_TYPE_REPLACE" !== d.type ? O(Error("Unsupported mutation type: " + d.type)) : d.payload ? (d = d.payload, d.musicAlbumRelease ? this.store.dispatch({
      type: "ADD_ALBUM_RELEASE",
      payload: d.musicAlbumRelease
    }) : d.musicAlbumReleaseDetail ? this.store.dispatch({
      type: "ADD_ALBUM_RELEASE_DETAIL",
      payload: d.musicAlbumReleaseDetail
    }) : d.musicAlbumReleaseUserDetail ? this.store.dispatch({
      type: "ADD_ALBUM_RELEASE_USER_DETAIL",
      payload: d.musicAlbumReleaseUserDetail
    }) : d.musicArtist ? this.store.dispatch({
      type: "ADD_ARTIST",
      payload: d.musicArtist
    }) : d.musicTrack ? b.push(d.musicTrack) : d.musicTrackUserDetail && c.push(d.musicTrackUserDetail)) : O(Error("Missing EntityMutationPayload"));
    b.length && this.store.dispatch({
      type: "ADD_TRACKS",
      payload: b
    });
    c.length && this.store.dispatch({
      type: "ADD_TRACK_USER_DETAILS",
      payload: c
    })
  };
  Ex.ctorParameters = function() {
    return [{
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }]
  };
  var Fx = function(a, b) {
    this.path_ = a;
    this.params_ = b || null
  };
  Fx.prototype.getRequestPath = function() {
    return this.path_
  };
  Fx.prototype.getRequestParams = function() {
    return this.params_
  };
  var Gx = function(a, b) {
    this.data = a;
    this.clickTrackingParams = b;
    this.clickTrackingVe = null
  };
  f = Gx.prototype;
  f.getRequestParams = function() {
    var a = Object.assign({}, this.data);
    this.clickTrackingParams && Object.assign(a, {
      context: {
        clickTracking: {
          clickTrackingParams: this.clickTrackingParams
        }
      }
    });
    return a
  };
  f.getRequest = function() {
    return new Fx(this.getInnertubePath(), this.getRequestParams())
  };
  f.getVisualElement = function() {
    return this.clickTrackingVe || this.clickTrackingParams ? this.clickTrackingVe ? this.clickTrackingVe : xr(this.clickTrackingParams) : null
  };
  f.shouldGenerateHistoryEntry = function() {
    return !0
  };
  f.isAuthenticationRequired = function() {
    return !1
  };
  f.isModalEndpoint = function() {
    return !1
  };
  f.getInnertubePath = function() {
    return this.innertubePath
  };
  f.getHelpContextId = function() {
    return "music_web_default"
  };
  var Hx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Hx, Gx);
  Hx.prototype.toCommand = function() {
    return {
      addToToastAction: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  Hx.prototype.getUrl = function() {
    return "#"
  };
  Hx.prototype.getCsiAction = function() {
    throw Error("Unexpected CSI call for AddToToastAction.");
  };
  Hx.prototype.getVeType = function() {
    throw Error("Unexpected VE call for AddToToastAction.");
  };
  var Ix = function() {
    Gx.apply(this, arguments);
    this.innertubePath = "/account/get_setting"
  };
  z(Ix, Gx);
  f = Ix.prototype;
  f.toCommand = function() {
    return {
      applicationSettingsEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return "settings"
  };
  f.getCsiAction = function() {
    return "dialog"
  };
  f.getVeType = function() {
    return 12924
  };
  f.shouldGenerateHistoryEntry = function() {
    return !1
  };
  f.isModalEndpoint = function() {
    return !0
  };
  var Jx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = "/browse"
  };
  z(Jx, Gx);
  f = Jx.prototype;
  f.setAlbumPlaylistId = function(a) {
    this.albumPlaylistId = a
  };
  f.toCommand = function() {
    return {
      browseEndpoint: JSON.parse(JSON.stringify(this.data)),
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    switch (this.data.browseId) {
      case "FEmusic_history":
        return "history";
      case "FEmusic_home":
        return Ge ? "" : "/";
      case "FEmusic_liked_albums":
        return "library/albums";
      case "FEmusic_library_corpus_artists":
        return "library/artists";
      case "FEmusic_liked_playlists":
        return "library/playlists";
      case "FEmusic_liked_videos":
        return "library/songs";
      case "FEmusic_library_privately_owned_releases":
        return "library/uploaded_albums";
      case "FEmusic_library_privately_owned_artists":
        return "library/uploaded_artists";
      case "FEmusic_library_privately_owned_tracks":
        return "library/uploaded_songs";
      case "FEmusic_liked":
        return "library";
      case "FEmusic_tastebuilder":
        return "tasteprofile";
      case "FEmusic_trending":
        return "hotlist";
      case "SPpaid_memberships":
        return "paid_memberships";
      case "SPunlimited":
        if (P("music_web_signup_canonical_base_urls")) return this.data.canonicalBaseUrl;
        switch (this.data.params) {
          case M("MUSIC_THEME_BROWSE_PARAM", ""):
            return "music_premium";
          case M("YOUTUBE_PREMIUM_BROWSE_PARAM", ""):
            return "youtube_premium";
          case M("MUSIC_FAMILY_BROWSE_PARAM", ""):
            return "music_premium/family";
          case M("YOUTUBE_PREMIUM_FAMILY_BROWSE_PARAM", ""):
            return "youtube_premium/family";
          default:
            return "red"
        }
        default:
          return this.getUrlForPageType()
    }
  };
  f.getPageType = function() {
    var a = this.data.browseEndpointContextSupportedConfigs;
    if (a) return (a = a.browseEndpointContextMusicConfig) && a.pageType
  };
  f.getUrlForPageType = function() {
    switch (this.getPageType()) {
      case "MUSIC_PAGE_TYPE_ARTIST":
        return "channel/" + this.data.browseId;
      case "MUSIC_PAGE_TYPE_PLAYLIST":
        var a = this.data.browseId;
        a.startsWith("VL") && (a = a.substr(2));
        return "playlist?list=" + a;
      case "MUSIC_PAGE_TYPE_ALBUM":
        if (this.albumPlaylistId && P("music_enable_album_entity_getbrowse")) return "playlist?list=" + this.albumPlaylistId;
        break;
      default:
        this.data.browseId.startsWith("MPRE") && O(Error("Music Page Release Entity ID found without ALBUM_PAGE_TYPE."))
    }
    return "browse/" +
      this.data.browseId
  };
  f.getCsiAction = function() {
    switch (this.data.browseId) {
      case "FEmusic_history":
        return "history";
      case "FEmusic_home":
        return "home";
      case "FEmusic_liked_albums":
      case "FEmusic_library_corpus_artists":
      case "FEmusic_liked_playlists":
      case "FEmusic_liked_videos":
      case "FEmusic_liked":
        return "liked";
      case "FEmusic_trending":
        return "trending";
      default:
        return "browse"
    }
  };
  f.getHelpContextId = function() {
    switch (this.data.browseId) {
      case "FEmusic_home":
        return "music_web_home";
      case "FEmusic_liked_albums":
      case "FEmusic_library_corpus_artists":
      case "FEmusic_liked_playlists":
      case "FEmusic_liked_videos":
      case "FEmusic_liked":
        return "music_web_liked";
      case "FEmusic_trending":
        return "music_web_trending";
      default:
        return "music_web_default"
    }
  };
  f.getVeType = function() {
    switch (this.getPageType()) {
      case "MUSIC_PAGE_TYPE_ALBUM":
        return 44098;
      case "MUSIC_PAGE_TYPE_ARTIST":
        return 44099;
      case "MUSIC_PAGE_TYPE_PLAYLIST":
        return 63349;
      default:
        return 6827
    }
  };
  f.isAuthenticationRequired = function() {
    switch (this.data.browseId) {
      case "FEmusic_history":
      case "FEmusic_tastebuilder":
        return !0;
      case "FEmusic_liked_albums":
      case "FEmusic_library_corpus_artists":
      case "FEmusic_liked_playlists":
      case "FEmusic_liked_videos":
      case "FEmusic_liked":
        return !P("music_web_signed_out_library");
      default:
        return !1
    }
  };
  var Kx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = "/channel/get_channel_creation_form"
  };
  z(Kx, Gx);
  f = Kx.prototype;
  f.toCommand = function() {
    return {
      channelCreationFormEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return "#"
  };
  f.getCsiAction = function() {
    return "dialog"
  };
  f.getVeType = function() {
    throw Error("Unexpected VE call for ChannelCreationFormEndpoint.");
  };
  f.shouldGenerateHistoryEntry = function() {
    return !1
  };
  f.isAuthenticationRequired = function() {
    return !0
  };
  f.isModalEndpoint = function() {
    return !0
  };
  var Lx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Lx, Gx);
  f = Lx.prototype;
  f.toCommand = function() {
    return {
      clientActionEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return ""
  };
  f.getCsiAction = function() {
    throw Error("Unexpected CSI call for ClientActionEndpoint.");
  };
  f.getVeType = function() {
    throw Error("Unexpected VE call for ClientActionEndpoint.");
  };
  f.shouldGenerateHistoryEntry = function() {
    return !1
  };
  f.isAuthenticationRequired = function() {
    return !1
  };
  f.isModalEndpoint = function() {
    return !1
  };
  var Mx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Mx, Gx);
  f = Mx.prototype;
  f.toCommand = function() {
    return {
      confirmDialogEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return "#"
  };
  f.getCsiAction = function() {
    throw Error("Unexpected CSI call for ConfirmDialogEndpoint.");
  };
  f.getVeType = function() {
    throw Error("Unexpected VE call for ConfirmDialogEndpoint.");
  };
  f.shouldGenerateHistoryEntry = function() {
    throw Error("Unexpected `shouldGenerateHistoryEntry` call for ConfirmDialogEndpoint.");
  };
  f.isModalEndpoint = function() {
    throw Error("Unexpected `isModalEndpoint` call for ConfirmDialogEndpoint.");
  };
  var Nx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Nx, Gx);
  f = Nx.prototype;
  f.toCommand = function() {
    return {
      createPlaylistEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return "#"
  };
  f.getCsiAction = function() {
    throw Error("Unexpected CSI call for CreatePlaylistEndpoint.");
  };
  f.getVeType = function() {
    throw Error("Unexpected VE call for CreatePlaylistEndpoint.");
  };
  f.shouldGenerateHistoryEntry = function() {
    return !1
  };
  f.isAuthenticationRequired = function() {
    return !0
  };
  f.isModalEndpoint = function() {
    return !0
  };
  var Ox = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Ox, Gx);
  f = Ox.prototype;
  f.toCommand = function() {
    return {
      modalEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return "#"
  };
  f.getCsiAction = function() {
    throw Error("Unexpected CSI call for ModalEndpoint.");
  };
  f.getVeType = function() {
    throw Error("Unexpected VE call for ModalEndpoint.");
  };
  f.shouldGenerateHistoryEntry = function() {
    throw Error("Unexpected `shouldGenerateHistoryEntry` call for ModalEndpoint.");
  };
  f.isModalEndpoint = function() {
    throw Error("Unexpected `isModalEndpoint` call for ModalEndpoint.");
  };
  var Px = function() {
    Gx.apply(this, arguments);
    this.innertubePath = "/browse"
  };
  z(Px, Gx);
  f = Px.prototype;
  f.toCommand = function() {
    return {
      playlistEditorEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return "browse/VL" + this.data.playlistId
  };
  f.getRequestParams = function() {
    return {
      browseId: "VL" + this.data.playlistId
    }
  };
  f.getCsiAction = function() {
    return "dialog"
  };
  f.getVeType = function() {
    return 20445
  };
  f.shouldGenerateHistoryEntry = function() {
    return !1
  };
  f.isAuthenticationRequired = function() {
    return !0
  };
  f.isModalEndpoint = function() {
    return !0
  };
  var Qx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = "/search"
  };
  z(Qx, Gx);
  f = Qx.prototype;
  f.toCommand = function() {
    return {
      searchEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return "search?q=" + encodeURIComponent(this.data.query || "").replace(/%20/g, "+")
  };
  f.getCsiAction = function() {
    return "search"
  };
  f.getVeType = function() {
    return 4724
  };
  f.getHelpContextId = function() {
    return "music_web_search"
  };
  var Rx = window.location.href;
  var Sx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Sx, Gx);
  Sx.prototype.toCommand = function() {
    return {
      signInEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  Sx.prototype.getUrl = function() {
    var a = Bl(M("SIGNIN_URL", "")),
      b = a.getQueryData(),
      c = Bl(b.get("continue"));
    c.setParameterValue("next", window.location.href);
    b.set("continue", c.toString());
    return a.toString()
  };
  Sx.prototype.getCsiAction = function() {
    throw Error("Unexpected CSI call for SignInEndpoint.");
  };
  Sx.prototype.getVeType = function() {
    throw Error("Unexpected VE call for SignInEndpoint.");
  };
  var Tx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Tx, Gx);
  Tx.prototype.toCommand = function() {
    return {
      signOutEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  Tx.prototype.getUrl = function() {
    return M("LOGOUT_URL", "")
  };
  Tx.prototype.getCsiAction = function() {
    throw Error("Unexpected CSI call for SignOutEndpoint.");
  };
  Tx.prototype.getVeType = function() {
    throw Error("Unexpected VE call for SignOutEndpoint.");
  };
  var Ux = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Ux, Gx);
  f = Ux.prototype;
  f.toCommand = function() {
    return {
      unlimitedCreateFamilyEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return ""
  };
  f.getCsiAction = function() {
    return "family"
  };
  f.getVeType = function() {
    throw Error("Unexpected VE call for UnlimitedCreateFamilyEndpoint.");
  };
  f.shouldGenerateHistoryEntry = function() {
    return !1
  };
  f.isAuthenticationRequired = function() {
    return !1
  };
  f.isModalEndpoint = function() {
    return !0
  };
  var Vx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Vx, Gx);
  f = Vx.prototype;
  f.toCommand = function() {
    return {
      unlimitedFamilyFlowEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return ""
  };
  f.getCsiAction = function() {
    return "family"
  };
  f.getVeType = function() {
    throw Error("Unexpected VE call for UnlimitedFamilyFlowEndpoint.");
  };
  f.shouldGenerateHistoryEntry = function() {
    return !1
  };
  f.isAuthenticationRequired = function() {
    return !1
  };
  f.isModalEndpoint = function() {
    return !0
  };
  var Wx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Wx, Gx);
  f = Wx.prototype;
  f.toCommand = function() {
    return {
      urlEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return this.data.url || ""
  };
  f.getCsiAction = function() {
    throw Error("Unexpected CSI call for UrlEndpoint.");
  };
  f.getVeType = function() {
    throw Error("Unexpected VE call for UrlEndpoint.");
  };
  f.openUrl = function() {
    if ("TARGET_NEW_WINDOW" === this.data.target) {
      var a = this.getUrl(),
        b = window,
        c = new Nb(Lb, "_blank");
      a = a instanceof rc ? a : zc(a);
      (b || D).open(sc(a), c ? Ob(c) : "", void 0, void 0)
    } else Zc(window.location, this.getUrl())
  };
  var Xx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Xx, Gx);
  f = Xx.prototype;
  f.toCommand = function() {
    return {
      watchEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return this.data.playlistId ? "watch?v=" + this.data.videoId + "&list=" + this.data.playlistId : "watch?v=" + this.data.videoId
  };
  f.getCsiAction = function() {
    return "watch"
  };
  f.getVeType = function() {
    return 3832
  };
  f.getHelpContextId = function() {
    return "music_web_watch"
  };
  var Yx = function() {
    Gx.apply(this, arguments);
    this.innertubePath = ""
  };
  z(Yx, Gx);
  f = Yx.prototype;
  f.toCommand = function() {
    return {
      watchPlaylistEndpoint: this.data,
      clickTrackingParams: this.clickTrackingParams
    }
  };
  f.getUrl = function() {
    return "watch?playlist=" + this.data.playlistId
  };
  f.getCsiAction = function() {
    return "watch"
  };
  f.getVeType = function() {
    return 3832
  };
  f.getHelpContextId = function() {
    return "music_web_watch"
  };

  function Zx(a) {
    var b = null;
    a.watchEndpoint ? a.watchEndpoint.videoId ? b = new Xx(a.watchEndpoint, a.clickTrackingParams) : (O(Error("Received watch endpoint without videoId: " + JSON.stringify(a))), b = new Yx(a.watchEndpoint, a.clickTrackingParams)) : a.browseEndpoint ? b = new Jx(a.browseEndpoint, a.clickTrackingParams) : a.searchEndpoint ? b = new Qx(a.searchEndpoint, a.clickTrackingParams) : a.watchPlaylistEndpoint ? b = new Yx(a.watchPlaylistEndpoint, a.clickTrackingParams) : a.applicationSettingsEndpoint ? b = new Ix(a.applicationSettingsEndpoint,
      a.clickTrackingParams) : a.confirmDialogEndpoint ? b = new Mx(a.confirmDialogEndpoint, a.clickTrackingParams) : a.unlimitedCreateFamilyEndpoint ? b = new Ux(a.unlimitedCreateFamilyEndpoint, a.clickTrackingParams) : a.unlimitedFamilyFlowEndpoint ? b = new Vx(a.unlimitedFamilyFlowEndpoint, a.clickTrackingParams) : a.createPlaylistEndpoint ? b = new Nx(a.createPlaylistEndpoint, a.clickTrackingParams) : a.playlistEditorEndpoint ? b = new Px(a.playlistEditorEndpoint, a.clickTrackingParams) : a.clientActionEndpoint ? b = new Lx(a.clientActionEndpoint,
      a.clickTrackingParams) : a.urlEndpoint ? b = new Wx(a.urlEndpoint, a.clickTrackingParams) : a.channelCreationFormEndpoint ? b = new Kx(a.channelCreationFormEndpoint, a.clickTrackingParams) : a.signOutEndpoint ? b = new Tx(a.signOutEndpoint, a.clickTrackingParams) : a.signInEndpoint ? b = new Sx(a.signInEndpoint, a.clickTrackingParams) : a.modalEndpoint ? b = new Ox(a.modalEndpoint, a.clickTrackingParams) : a.addToToastAction && (b = new Hx(a.addToToastAction, a.clickTrackingParams));
    b || O(Error("Unsupported endpoint: " + JSON.stringify(a)));
    return b
  }

  function $x(a) {
    a = a.replace(document.baseURI || "", "");
    a = Bl(a);
    var b = a.getPath().split("/");
    switch (b[0]) {
      case "channel":
        a = {
          browseEndpoint: {
            browseId: 1 < b.length ? b[1] : "FEmusic_home",
            browseEndpointContextSupportedConfigs: {
              browseEndpointContextMusicConfig: {
                pageType: "MUSIC_PAGE_TYPE_ARTIST"
              }
            }
          }
        };
        break;
      case "history":
        a = {
          browseEndpoint: {
            browseId: "FEmusic_history"
          }
        };
        break;
      case "library":
        switch (b[1]) {
          case "albums":
            a = "FEmusic_liked_albums";
            break;
          case "artists":
            a = "FEmusic_library_corpus_artists";
            break;
          case "playlists":
            a =
              "FEmusic_liked_playlists";
            break;
          case "songs":
            a = "FEmusic_liked_videos";
            break;
          case "uploaded_albums":
            a = "FEmusic_library_privately_owned_releases";
            break;
          case "uploaded_artists":
            a = "FEmusic_library_privately_owned_artists";
            break;
          case "uploaded_songs":
            a = "FEmusic_library_privately_owned_tracks";
            break;
          default:
            a = "FEmusic_liked"
        }
        a = {
          browseEndpoint: {
            browseId: a
          }
        };
        break;
      case "hotlist":
        a = {
          browseEndpoint: {
            browseId: "FEmusic_trending"
          }
        };
        break;
      case "search":
        a = a.getQueryData().get("q", "");
        a = decodeURIComponent(a.replace(/\+/g,
          " "));
        a = a.trim() ? {
          searchEndpoint: {
            query: a
          }
        } : {
          browseEndpoint: {
            browseId: "FEmusic_home"
          }
        };
        break;
      case "playlist":
        a = {
          browseEndpoint: {
            browseId: a.getQueryData().get("list", "FEmusic_home"),
            browseEndpointContextSupportedConfigs: {
              browseEndpointContextMusicConfig: {
                pageType: "MUSIC_PAGE_TYPE_PLAYLIST"
              }
            }
          }
        };
        break;
      case "listen":
      case "watch":
        b = a.getQueryData().get("v", "");
        a = a.getQueryData().get("list", "");
        a = b || a ? {
          watchEndpoint: {
            videoId: b,
            playlistId: a
          }
        } : {
          browseEndpoint: {
            browseId: "FEmusic_home"
          }
        };
        break;
      case "settings":
        a = {
          applicationSettingsEndpoint: {}
        };
        break;
      case "music_premium":
        a = {
          browseEndpoint: {
            browseId: "SPunlimited",
            params: M("MUSIC_THEME_BROWSE_PARAM", "")
          }
        };
        break;
      case "red":
      case "youtube_premium":
        a = {
          browseEndpoint: {
            browseId: "SPunlimited"
          }
        };
        break;
      case "paid_memberships":
        a = {
          browseEndpoint: {
            browseId: "SPpaid_memberships"
          }
        };
        break;
      case "browse":
        a = {
          browseEndpoint: {
            browseId: 1 < b.length ? b[1] : "FEmusic_home"
          }
        };
        break;
      case "tasteprofile":
        a = {
          browseEndpoint: {
            browseId: "FEmusic_tastebuilder"
          }
        };
        break;
      default:
        a = {
          browseEndpoint: {
            browseId: "FEmusic_home"
          }
        }
    }
    return Zx(a)
  }

  function ay() {
    return new Jx({
      browseId: "FEmusic_home"
    }, void 0)
  }

  function by() {
    var a = M("INITIAL_ENDPOINT");
    if ("string" === typeof a) try {
      a = JSON.parse(a)
    } catch (b) {
      O(b)
    }
    return a ? Zx(a) : $x(Rx)
  };

  function cy(a, b, c) {
    tr("playbackSessionStopped", {
      stopType: a,
      clientPlaybackNonce: b,
      detailedNetworkType: dy(),
      subscriptionStatus: N("IS_SUBSCRIBER") ? "SUBSCRIPTION_STATUS_UNLIMITED" : "SUBSCRIPTION_STATUS_NONE",
      underlyingErrorCode: c
    })
  }

  function dy() {
    var a = window.navigator && window.navigator.connection ? window.navigator.connection.effectiveType : "";
    if (a) switch (a) {
      case "4g":
        return "DETAILED_NETWORK_TYPE_LTE";
      case "3g":
        return "DETAILED_NETWORK_TYPE_UMTS";
      case "2g":
        return "DETAILED_NETWORK_TYPE_EDGE";
      case "slow-2g":
        return "DETAILED_NETWORK_TYPE_GPRS"
    }
    return "DETAILED_NETWORK_TYPE_UNKNOWN"
  };
  var ey = window.Reselect;

  function fy(a) {
    return {
      type: "SET_LOADING_INDICATOR_SHOWING",
      payload: a
    }
  }

  function gy(a) {
    a = Math.max(a, 0);
    a = Math.min(a, 100);
    return {
      type: "SET_VOLUME",
      payload: a
    }
  }

  function hy(a) {
    if (!a.target || !a.status) throw Error("Invalid LikeEndpoint: " + a);
    if (a.target.videoId) return {
      type: "SET_VIDEO_LIKE_STATUS",
      payload: {
        id: a.target.videoId,
        status: a.status
      }
    };
    if (a.target.playlistId) return {
      type: "SET_PLAYLIST_LIKE_STATUS",
      payload: {
        id: a.target.playlistId,
        status: a.status
      }
    };
    throw Error("Invalid LikeTarget: " + a.target);
  };
  var iy = Object.freeze(["FEmusic_liked_albums", "FEmusic_library_corpus_artists", "FEmusic_liked_playlists", "FEmusic_liked_videos"]);

  function jy(a) {
    return a instanceof Jx && iy.includes(a.data.browseId)
  };

  function ky(a) {
    return {
      musicEndpoint: Zx(a),
      endpoint: a
    }
  };

  function ly(a) {
    var b = Gt.getInstance();
    a.settingDatas.forEach(function(c) {
      switch (c.clientSettingEnum.item) {
        case "I18N_LANGUAGE":
          b.set("hl", c.stringValue || "");
          b.save();
          location.reload();
          break;
        case "I18N_REGION":
          var d = Bl(location.href),
            e = d.getQueryData();
          e.set("gl", c.stringValue);
          e.set("persist_gl", "1");
          d.setQueryData(e);
          Zc(location, d.toString());
          break;
        case "SAFETY_MODE":
          b.setFlag(58, !!c.boolValue);
          b.save();
          location.reload();
          break;
        case "MUSIC_LOCATION_MASTER_SWITCH":
          b.set("location_based_recommendations",
            c.intValue);
          break;
        case "MUSIC_ACTIVITY_MASTER_SWITCH":
          b.set("activity_based_recommendations", c.stringValue || "");
          break;
        default:
          O(Error("Unsupported client setting " + c + "."))
      }
    });
    b.save()
  };
  var Z = function(a, b, c) {
    this.data = a;
    this.clickTrackingParams = b;
    this.params = c;
    this.innertubePath = ""
  };
  Z.prototype.getRequest = function() {
    return new Fx(this.innertubePath, this.getRequestParams())
  };
  Z.prototype.getRequestParams = function() {
    return Object.assign({}, this.data, this.params, this.getClickTrackingParamsForRequestParams())
  };
  Z.prototype.getClickTrackingParamsForRequestParams = function() {
    return this.clickTrackingParams ? {
      context: {
        clickTracking: {
          clickTrackingParams: this.clickTrackingParams
        }
      }
    } : {}
  };
  var my = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/playlist/get_add_to_playlist"
  };
  z(my, Z);
  my.prototype.getRequestParams = function() {
    return Object.assign({
      excludeWatchLater: !0
    }, this.data.videoId ? {
      videoIds: [this.data.videoId]
    } : null, this.data.playlistId ? {
      playlistId: this.data.playlistId
    } : null, this.getClickTrackingParamsForRequestParams())
  };
  var ny = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/channel/create_channel"
  };
  z(ny, Z);
  var oy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/history/clear_search_history"
  };
  z(oy, Z);
  var py = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/playlist/create"
  };
  z(py, Z);
  var qy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/playlist/delete"
  };
  z(qy, Z);
  var ry = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/feedback"
  };
  z(ry, Z);
  ry.prototype.getRequestParams = function() {
    return Object.assign({
      feedbackTokens: [this.data.feedbackToken]
    }, this.getClickTrackingParamsForRequestParams())
  };
  var sy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/flag/flag"
  };
  z(sy, Z);
  sy.prototype.getRequestParams = function() {
    return Object.assign({
      action: this.data.flagAction,
      flagRequestType: this.data.flagRequestType,
      legalCheckboxChecked: this.data.legalCheckboxChecked
    }, this.getClickTrackingParamsForRequestParams())
  };
  var ty = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/account/account_menu"
  };
  z(ty, Z);
  var uy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/account/accounts_list"
  };
  z(uy, Z);
  uy.prototype.getRequest = function() {
    throw Error("GetAccountsList OnePlatform request made on non-debug target.");
  };
  var vy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/flag/get_form"
  };
  z(vy, Z);
  var wy = function(a, b) {
    Z.call(this, a, b);
    this.innertubePath = "";
    switch (a.status) {
      case "LIKE":
        this.innertubePath = "/like/like";
        break;
      case "DISLIKE":
        this.innertubePath = "/like/dislike";
        break;
      case "INDIFFERENT":
        this.innertubePath = "/like/removelike";
        break;
      default:
        O(Error("Unsupported LikeStatus: " + JSON.stringify(a.status)))
    }
  };
  z(wy, Z);
  wy.prototype.getRequestParams = function() {
    return Object.assign({
      target: this.data.target
    }, this.getClickTrackingParamsForRequestParams())
  };
  var xy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "music/migrate_user"
  };
  z(xy, Z);
  var yy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/browse/edit_playlist"
  };
  z(yy, Z);
  var zy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/music/get_queue"
  };
  z(zy, Z);
  zy.prototype.getRequestParams = function() {
    return Object.assign({
      playlistId: this.data.queueTarget.playlistId,
      videoIds: [this.data.queueTarget.videoId]
    }, this.getClickTrackingParamsForRequestParams())
  };
  var Ay = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/account/set_setting"
  };
  z(Ay, Z);
  Ay.prototype.getRequestParams = function() {
    return Object.assign({
      newValue: this.data,
      settingItemId: this.data.settingItemId
    }, this.getClickTrackingParamsForRequestParams())
  };
  var By = function(a, b) {
    Z.call(this, a, b);
    this.innertubePath = a.boolValue ? "/history/pause_watch_history" : "/history/resume_watch_history"
  };
  z(By, Z);
  var Cy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/share/get_old_share_panel"
  };
  z(Cy, Z);
  Cy.prototype.getRequestParams = function() {
    return Object.assign({
      serializedSharedEntity: this.data.serializedShareEntity
    }, this.getClickTrackingParamsForRequestParams())
  };
  var Dy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/subscription/subscribe"
  };
  z(Dy, Z);
  var Ey = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/subscription/unsubscribe"
  };
  z(Ey, Z);
  var Fy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/ypc/cancel_recurrence"
  };
  z(Fy, Z);
  Fy.prototype.getRequestParams = function() {
    return Object.assign({
      itemParams: this.data.params
    }, this.getClickTrackingParamsForRequestParams())
  };
  var Gy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/ypc/complete_transaction"
  };
  z(Gy, Z);
  var Hy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/ypc/pause_subscription"
  };
  z(Hy, Z);
  var Iy = function() {
    Z.apply(this, arguments);
    this.innertubePath = "/ypc/resume_subscription"
  };
  z(Iy, Z);

  function Jy(a, b) {
    var c = null;
    a.feedbackEndpoint ? c = new ry(a.feedbackEndpoint, a.clickTrackingParams) : a.setWatchHistoryPausedSettingEndpoint ? c = new By(a.setWatchHistoryPausedSettingEndpoint, a.clickTrackingParams) : a.setSettingEndpoint ? c = new Ay(a.setSettingEndpoint, a.clickTrackingParams) : a.clearSearchHistorySettingEndpoint ? c = new oy(a.clearSearchHistorySettingEndpoint, a.clickTrackingParams) : a.subscribeEndpoint ? c = new Dy(a.subscribeEndpoint, a.clickTrackingParams) : a.unsubscribeEndpoint ? c = new Ey(a.unsubscribeEndpoint,
        a.clickTrackingParams) : a.likeEndpoint ? c = new wy(a.likeEndpoint, a.clickTrackingParams) : a.queueAddEndpoint ? c = new zy(a.queueAddEndpoint, a.clickTrackingParams) : a.playlistEditEndpoint ? c = new yy(a.playlistEditEndpoint, a.clickTrackingParams) : a.addToPlaylistEndpoint ? c = new my(a.addToPlaylistEndpoint, a.clickTrackingParams) : a.createPlaylistServiceEndpoint ? c = new py(a.createPlaylistServiceEndpoint, a.clickTrackingParams, b) : a.shareEndpoint ? c = new Cy(a.shareEndpoint, a.clickTrackingParams) : a.ypcCompleteTransactionEndpoint ?
      c = new Gy(a.ypcCompleteTransactionEndpoint, a.clickTrackingParams, b) : a.ypcPauseSubscriptionCommand ? c = new Hy(a.ypcPauseSubscriptionCommand, a.clickTrackingParams, b) : a.ypcResumeSubscriptionCommand ? c = new Iy(a.ypcResumeSubscriptionCommand, a.clickTrackingParams, b) : a.ypcCancelRecurrenceEndpoint ? c = new Fy(a.ypcCancelRecurrenceEndpoint, a.clickTrackingParams) : a.deletePlaylistEndpoint ? c = new qy(a.deletePlaylistEndpoint, a.clickTrackingParams) : a.channelCreationServiceEndpoint ? c = new ny(a.channelCreationServiceEndpoint,
        a.clickTrackingParams, b) : a.getAccountMenuEndpoint ? c = new ty(a.getAccountMenuEndpoint, a.clickTrackingParams) : a.getAccountsListEndpoint ? c = new uy(a.getAccountsListEndpoint, a.clickTrackingParams) : a.getReportFormEndpoint ? c = new vy(a.getReportFormEndpoint, a.clickTrackingParams) : a.flagEndpoint ? c = new sy(a.flagEndpoint, a.clickTrackingParams) : a.musicMigrateCommand && (c = new xy(a.musicMigrateCommand, a.clickTrackingParams));
    c || O(Error("Unsupported endpoint: " + JSON.stringify(a)));
    return c
  };

  function Ky(a, b, c, d) {
    return window.spf ? Ly(a, b, c, void 0 === d ? !1 : d) : My(a, b)
  }

  function Ly(a, b, c, d) {
    var e = Ny(a, b, c);
    return e.then(Oy, function(g) {
      d && e.cancel();
      return qh(g)
    })
  }

  function Ny(a, b, c) {
    var d = null,
      e = new lh(function(g, h) {
        var k = {};
        if (b) {
          k.method = b.method;
          var m = b.postParams || {};
          Yp(a, b) && (m[M("XSRF_FIELD_NAME", void 0)] = M("XSRF_TOKEN", void 0));
          k.postData = Bj(m);
          b.type && (k.type = b.type);
          m = b.headers
        }
        k.headers = Kp(a, m);
        P("debug_forward_web_query_parameters") && (a = Mp(a, window.location.search));
        k.experimental_headers = k.headers;
        k.onError = function(l) {
          h(l.err)
        };
        k.onPartDone = function(l) {
          c && c.call(null, l.part)
        };
        k.onDone = function(l) {
          var q = Py(l.response, "xsrf_token");
          xj(window.location.href, a) && q && Ld("XSRF_TOKEN", q);
          if (q = Py(l.response, "service_worker_killswitch")) Ld("SERVICE_WORKER_KILLSWITCH", q), av();
          g(l.response)
        };
        d = spf.request(a, k)
      });
    P("cancel_pending_navs") && e.thenCatch(function() {
      d.abort()
    });
    return e
  }

  function Oy(a) {
    if ("multipart" == a.type) {
      var b = a.timing;
      a = a.parts.reduce(function(c, d) {
        bb(c, d);
        return c
      }, {});
      a.timing = a.timing || {};
      bb(a.timing, b);
      a.type = "reduced"
    }
    return a
  }

  function My(a, b) {
    b = void 0 === b ? {} : b;
    var c = null,
      d = new lh(function(e, g) {
        b.onFinish = function(h) {
          if (h.readyState == XMLHttpRequest.DONE)
            if (200 == h.status) {
              if ("json" != h.responseType) try {
                var k = JSON.parse(h.response)
              } catch (l) {
                k = l
              } else k = h.response;
              if (k instanceof Error) g(k);
              else {
                var m = Py(k, "xsrf_token");
                xj(window.location.href, a) && m && Ld("XSRF_TOKEN", m);
                h = h.responseURL;
                window.performance && window.performance.getEntriesByName ? (m = window.performance.getEntriesByName(h).pop()) ? h = {
                  responseStart: Jd() - (m.responseEnd -
                    m.responseStart)
                } : (.01 > Math.random() && (m = Error("No timing found"), m.params = h, Qd(m)), h = {
                  responseStart: -1
                }) : h = {
                  responseStart: 0
                };
                k.timing = k.timing || {};
                bb(k.timing, h);
                e(k)
              }
            } else g(Error("HTTP error: " + h.status))
        };
        (c = Op(a, b)) || g(Error("HTTP error: " + c.status))
      });
    P("cancel_pending_navs") && d.thenCatch(function() {
      c.abort()
    });
    return d
  }

  function Py(a, b) {
    var c = a[b],
      d = a.parts;
    "multipart" == a.type && d && (c = (a = d.find(function(e) {
      return b in e
    })) && a[b]);
    return c
  };
  var Qy = function() {
    this.map_ = {}
  };
  Qy.prototype.set = function(a, b, c) {
    var d = this.map_.hasOwnProperty(a);
    this.map_[a] = {
      lifetime: E(c) ? c : 0,
      insert_ts: cb(),
      value: b
    };
    return d
  };
  Qy.prototype.get = function(a) {
    var b = this.map_[a];
    if (b) {
      if (0 == b.lifetime) return b.value;
      if (-1 == b.lifetime) return delete this.map_[a], b.value;
      if (b.insert_ts + b.lifetime > cb()) return b.value;
      delete this.map_[a]
    }
  };
  Qy.prototype.has = function(a) {
    return (a = this.map_[a]) ? 0 == a.lifetime || -1 == a.lifetime || a.insert_ts + a.lifetime > cb() ? !0 : !1 : !1
  };
  Qy.prototype.clear = function() {
    this.map_ = {}
  };
  var Ry = function(a) {
      var b = {};
      Object.keys(a).sort().forEach(function(c) {
        null != a[c] && (b[c] = Ta(a[c]) ? Ry(a[c]) : a[c])
      });
      return b
    },
    Sy = function(a, b) {
      return b ? a + ":" + nl(Ry(b)) : a
    };
  var Ty = function(a) {
    db.call(this, a)
  };
  K(Ty, db);
  Ty.prototype.name = "SignInRequiredError";
  var Uy = function(a, b, c) {
    this.clientName_ = a;
    this.clientVersion_ = b;
    this.clientTheme_ = c;
    this.cache = new Qy;
    this.embeddedDataResolver_ = vh();
    M("USE_EMBEDDED_INNERTUBE_DATA", !1) || this.embeddedDataResolver_.resolve();
    this.innertubeClient_ = new sr(void 0);
    this.logger_ = null
  };
  f = Uy.prototype;
  f.checkForValidApiSessionCookie = function() {
    if (this.innertubeClient_ instanceof sr || !G("gapi.auth")) return ph();
    var a = String(G("gapi.auth.getAuthHeaderValueForFirstParty")()).split(" ")[1],
      b = vh();
    G("gapi.auth.checkSessionState")({
      session_state: a
    }, function(c) {
      c ? b.resolve() : b.reject(new Ty("Invalid API Session cookie."))
    });
    return b.promise
  };
  f.sendRequest = function(a, b) {
    return this.fetch(a.getRequestPath(), a.getRequestParams(), b)
  };
  f.mergeObjects_ = function(a, b) {
    for (var c in b) Ta(a[c]) ? this.mergeObjects_(a[c], b[c]) : a[c] || (a[c] = b[c])
  };
  f.buildSkeletonRequest = function() {
    var a = [],
      b = M("EXPERIMENT_FLAGS", {}),
      c;
    for (c in b) a.push({
      key: c,
      value: String(b[c])
    });
    a = {
      context: {
        client: {
          clientName: this.clientName_,
          clientVersion: this.clientVersion_,
          hl: M("HL", "en"),
          gl: M("GL", "US"),
          experimentIds: M("FORCED_EXPERIMENTS", [])
        },
        capabilities: {},
        request: {
          internalExperimentFlags: a
        }
      }
    };
    this.clientTheme_ && this.mergeObjects_(a, {
      context: {
        client: {
          theme: this.clientTheme_
        }
      }
    });
    M("OVERRIDE_GEO") && this.mergeObjects_(a, {
      context: {
        client: {
          internalGeo: M("OVERRIDE_GEO")
        }
      }
    });
    M("DELEGATED_SESSION_ID") && this.mergeObjects_(a, {
      context: {
        user: {
          onBehalfOfUser: M("DELEGATED_SESSION_ID")
        }
      }
    });
    return a
  };
  f.sendRequest_ = function(a, b, c) {
    var d = this.buildSkeletonRequest();
    b && this.mergeObjects_(d, b);
    a.startsWith("/") && (a = a.substr(1));
    var e = a;
    return new lh(function(g, h) {
      var k = c || {};
      this.mergeObjects_(k || {}, {
        onSuccess: g,
        onError: h
      });
      this.innertubeClient_.postWithOptions(e, d, k)
    }.bind(this))
  };
  f.fetch = function(a, b, c) {
    return this.embeddedDataResolver_.promise.then(this.fetchInternal_.bind(this, a, b, c))
  };
  f.clearCache = function() {
    this.cache.clear()
  };
  f.fetchInternal_ = function(a, b, c) {
    var d = this.getFromCache_(a, b);
    return d ? ph(d) : this.checkForValidApiSessionCookie().then(this.sendRequest_.bind(this, a, b, c)).then(this.resolve_, null, this)
  };
  f.getFromCache_ = function(a, b) {
    (b = Ib(b) || {}, b.context) && b.context.clickTracking && (delete b.context.clickTracking, 0 == Object.keys(b.context).length && delete b.context);
    a = Sy(a, b);
    return this.cache.get(a) || null
  };
  f.resolve_ = function(a) {
    if (!a || a.error) throw Error({
      status: a.error.code,
      statusText: a.error.status,
      error: a.error
    });
    if (!N("NET_MANAGER_SKIP_VISITOR_DATA_UPDATE")) {
      var b = Cb(a, "responseContext", "visitorData");
      E(b) && Ld("VISITOR_DATA", b)
    }
    return a
  };
  f.setEmbeddedInnerTubeData = function(a) {
    var b = this.clientVersion_,
      c = this.clientName_,
      d = M("INNERTUBE_CONTEXT_CLIENT_VERSION", void 0);
    b == d ? a.forEach(function(e) {
      var g = e.data;
      !Object.keys(g).length || g.responseContext && g.responseContext.errors || (e = Sy(e.path, e.params), this.cache.set(e, g, -1))
    }, this) : (a = dm("Discarding embedded InnerTube data due to version mismatch. Client version: %s.  Server version: %s.", b, d), Kq(Error(a), "ERROR", c.toString(), b));
    this.embeddedDataResolver_.resolve()
  };
  Uy.prototype.setEmbeddedInnerTubeData = Uy.prototype.setEmbeddedInnerTubeData;
  var Vy = {
      0: "MUSIC_LOCATION_MASTER_SWITCH_UNKNOWN",
      1: "MUSIC_LOCATION_MASTER_SWITCH_INDETERMINATE",
      2: "MUSIC_LOCATION_MASTER_SWITCH_ENABLED",
      3: "MUSIC_LOCATION_MASTER_SWITCH_DISABLED"
    },
    Wy = ["getAccountMenuEndpoint", "getAccountsListEndpoint"],
    Xy = function(a) {
      Uy.call(this, M("INNERTUBE_CLIENT_NAME", void 0), M("INNERTUBE_CLIENT_VERSION", void 0), M("INNERTUBE_CLIENT_THEME", void 0));
      this.store = a;
      this.pendingRequests = new Map;
      this.userPrefs = Gt.getInstance();
      Rs(At, this, !1);
      if (a = M("YTMUSIC_INITIAL_DATA", void 0)) {
        for (var b =
            y(a), c = b.next(); !c.done; c = b.next()) c = c.value, c.data = "string" === typeof c.data ? JSON.parse(c.data) : c.data;
        this.setEmbeddedInnerTubeData(a)
      }
    };
  z(Xy, Uy);
  f = Xy.prototype;
  f.fetch = function(a, b) {
    var c = this;
    b = void 0 === b ? {} : b;
    var d = Sy(a, b),
      e = this.pendingRequests.get(d);
    if (e) return e;
    if (e = this.cache.get(d)) return ph(e);
    a = Uy.prototype.fetch.call(this, a, this.getRequestParams(b)).then(function(g) {
      return c.handleResponse(g, d)
    }).thenAlways(function() {
      c.pendingRequests.delete(d)
    });
    this.pendingRequests.set(d, a);
    return a
  };
  f.hasValidCachedResponse = function(a) {
    a = Sy(a.getRequestPath(), a.getRequestParams());
    return this.cache.has(a)
  };
  f.getRequestParams = function(a) {
    var b = this.userPrefs.get("location_based_recommendations", "1"),
      c = "MUSIC_LOCATION_MASTER_SWITCH_INDETERMINATE";
    P("music_web_server_side_location_setting") ? c = void 0 : b in Vy && (c = Vy[b]);
    b = this.userPrefs.get("activity_based_recommendations", "MUSIC_ACTIVITY_MASTER_SWITCH_INDETERMINATE");
    var d = {};
    Bs(d, a, {
      context: {
        client: {
          utcOffsetMinutes: -1 * (new Date).getTimezoneOffset(),
          locationInfo: {
            locationPermissionAuthorizationStatus: "LOCATION_PERMISSION_AUTHORIZATION_STATUS_UNSUPPORTED"
          },
          musicAppInfo: {
            musicActivityMasterSwitch: b,
            musicLocationMasterSwitch: c
          }
        },
        user: {
          enableSafetyMode: this.userPrefs.getFlag(58)
        },
        request: {
          sessionIndex: M("SESSION_INDEX", void 0)
        }
      }
    });
    return d
  };
  f.handleResponse = function(a, b) {
    var c = this.getTtlMillis(a);
    c && this.cache.set(b, a, c);
    (b = a.responseContext && a.responseContext.serviceTrackingParams) && this.processServiceTrackingParams(b);
    return a
  };
  f.getTtlMillis = function(a) {
    if (a.responseContext && a.responseContext.maxAgeSeconds) return 1E3 * a.responseContext.maxAgeSeconds
  };
  f.processServiceTrackingParams = function(a) {
    a = y(a);
    for (var b = a.next(); !b.done; b = a.next()) {
      var c = b.value;
      if (c.params) switch (c.service) {
        case "CSI":
          b = y(c.params);
          for (c = b.next(); !c.done; c = b.next()) c = c.value, c.key && c.value && Ku(c.key, c.value);
          break;
        case "ECATCHER":
          b = {};
          var d = y(c.params);
          for (c = d.next(); !c.done; c = d.next()) c = c.value, c.key && c.value && (b[c.key] = c.value);
          Ld("LATEST_ECATCHER_SERVICE_TRACKING_PARAMS", b)
      }
    }
  };
  f.endpointToXhrUrl = function() {
    throw Error("endpointToXhrUrl not implemented on this network manager.");
  };
  f.fetchData = function(a, b) {
    return this.fetch(a, b).then(function(c) {
      return {
        response: c
      }
    })
  };
  f.postData = function(a, b) {
    if (a.includes("youtubei")) throw Error("postData called for non-servlet request to " + a + ".");
    var c = {
      method: "POST"
    };
    if (b) {
      for (var d = y(Object.entries(b)), e = d.next(); !e.done; e = d.next()) {
        var g = y(e.value);
        e = g.next().value;
        g = g.next().value;
        Ta(g) && (b[e] = JSON.stringify(g))
      }
      c.postParams = b
    }
    return Ky(a, c)
  };
  f.requestDataForEndpoint = function() {
    throw Error("requestDataForEndpoint not implemented on this network manager.");
  };
  f.requestDataForServiceEndpoint = function(a, b) {
    if (Wy.some(function(c) {
        return c in a
      })) return this.sendServiceAjaxRequest(a, b || {});
    if (a.signalServiceEndpoint && "CLIENT_SIGNAL" === a.signalServiceEndpoint.signal) return ph({
      data: {}
    });
    if (a.setClientSettingEndpoint) return ly(a.setClientSettingEndpoint), ph({
      data: {}
    });
    a.likeEndpoint && this.store.dispatch(hy(a.likeEndpoint));
    b = Jy(a, b || {});
    return this.sendRequest(b.getRequest()).then(function(c) {
      return c.error ? (Lq(Error("NetworkManager.requestDataForServiceEndpoint returned a response with the error message: " + c.error)), c) : {
        data: c
      }
    })
  };
  f.sendServiceAjaxRequest = function(a, b) {
    var c = a.webSerializedServiceEndpointExtension;
    c ? b.se = c.base64EncodedServiceEndpoint : b.sej = JSON.stringify(a);
    (c = fs()) && (b.csn = c);
    c = Object.keys(a).find(function(d) {
      return d.endsWith("Endpoint") || d.endsWith("Command")
    });
    if (!c) return b = Error("Missing endpoint name for serviceEndpoint"), Lq(b, "WARNING", {
      params: JSON.stringify(a)
    }), qh(b);
    c = Cj("/service_ajax", {
      name: c
    });
    a.clickTrackingParams && Es(c, {
      itct: a.clickTrackingParams
    });
    return this.postData(c, b)
  };
  Xy.ctorParameters = function() {
    return [{
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }]
  };
  var Yy = function() {
    this.messageQueue = [];
    this.toastElement = document.createElement("paper-toast");
    this.attached = this.displaying = !1
  };
  Yy.prototype.show = function(a) {
    this.messageQueue.push(a);
    this.displaying || this.displayNextMessage()
  };
  Yy.prototype.displayNextMessage = function() {
    this.maybeAttachToastElement();
    this.messageQueue.length ? (this.displaying = !0, this.toastElement.verticalOffset = parseInt(getComputedStyle(document.documentElement).getPropertyValue("--ytmusic-player-bar-height"), 10) || 0, this.toastElement.show(this.messageQueue.shift())) : this.displaying = !1
  };
  Yy.prototype.maybeAttachToastElement = function() {
    var a = this;
    this.attached || (this.attached = !0, this.toastElement.restoreFocusOnClose = !0, Polymer.dom(this.toastElement).setAttribute("slot", "toast"), this.toastElement.addEventListener("iron-overlay-closed", function() {
      return a.displayNextMessage()
    }), Polymer.dom(document.querySelector("ytmusic-app")).appendChild(this.toastElement), Polymer.dom.flush())
  };
  var Zy = function(a) {
    this.metricName_ = "/client_streamz/youtube/music/navigation_responses";
    this.streamzService_ = a;
    this.streamzService_.addNewCounter(this.metricName_, {
      field_type: 3,
      field_name: "result"
    }, {
      field_type: 3,
      field_name: "page_type"
    }, {
      field_type: 3,
      field_name: "error_type"
    })
  };
  Zy.prototype.increment = function(a, b, c) {
    this.streamzService_.incrementCounter(this.metricName_, a, b, c)
  };
  Zy.prototype.incrementBy = function(a, b, c, d) {
    this.streamzService_.incrementCounterBy(this.metricName_, a, b, c, d)
  };
  var $y = function(a) {
    this.metricName_ = "/client_streamz/youtube/music/navigation_requests";
    this.streamzService_ = a;
    this.streamzService_.addNewCounter(this.metricName_, {
      field_type: 3,
      field_name: "page_type"
    }, {
      field_type: 3,
      field_name: "load_type"
    })
  };
  $y.prototype.increment = function(a, b) {
    this.streamzService_.incrementCounter(this.metricName_, a, b)
  };
  $y.prototype.incrementBy = function(a, b, c) {
    this.streamzService_.incrementCounterBy(this.metricName_, a, b, c)
  };
  var az = function(a, b, c, d) {
    this.networkManager = a;
    this.toastService = b;
    this.payloadProcessor = c;
    this.store = d;
    this.navigationRequestsCounter = new $y(is());
    this.navigationResponseCounter = new Zy(is())
  };
  f = az.prototype;
  f.handleMainContentEndpoint = function(a, b) {
    var c = this;
    b = void 0 === b ? !0 : b;
    this.store.dispatch(fy(!0));
    this.mostRecentPageEndpoint = a;
    var d = this.getLoadType(a);
    "HOT" === d && Ku("yt_lt", "hot");
    P("music_enable_navigation_client_streamz") && this.navigationRequestsCounter.increment(a.getCsiAction(), d);
    return this.networkManager.sendRequest(a.getRequest()).then(function(e) {
      return c.handleResponse({
        endpoint: a,
        response: e
      }, d, b)
    }, function(e) {
      return c.handleError(a, e)
    }).thenAlways(function() {
      c.store.dispatch(fy(!1))
    })
  };
  f.getLoadType = function(a) {
    return a.getVisualElement() === fx ? "COLD" : this.networkManager.hasValidCachedResponse(a.getRequest()) ? "HOT" : "WARM"
  };
  f.handleError = function(a, b) {
    this.toastService.show(T("ERROR"));
    if (P("music_enable_navigation_client_streamz")) {
      var c = "unknown";
      if (b instanceof Error) c = b.name;
      else {
        if (b.error) {
          var d = b.error;
          d = "number" === typeof d.code && "string" === typeof d.status && "string" === typeof d.message
        } else d = !1;
        d && (c = b.error.status)
      }
      this.navigationResponseCounter.increment("failure", a.getCsiAction(), c)
    }
  };
  f.handleResponse = function(a, b, c) {
    c = void 0 === c ? !0 : c;
    this.mostRecentPageEndpoint !== a.endpoint || this.handlePromoRedirectIfPresent(a.response) || (c && lu("pdr"), P("music_enable_navigation_client_streamz") && "HOT" !== b && this.navigationResponseCounter.increment("success", a.endpoint.getCsiAction(), ""), b = a.response, a.endpoint instanceof Jx && void 0 !== b.frameworkUpdates && (b = b.frameworkUpdates.entityBatchUpdate) && (this.payloadProcessor.processEntityBatchUpdate(b), b = (b.mutations || []).find(function(d) {
        return !!d.payload.musicAlbumRelease
      }),
      (b = this.getPlaylistIdForAlbumId(b && b.payload.musicAlbumRelease.id)) && a.endpoint.setAlbumPlaylistId(b)), this.store.dispatch({
      type: "SET_MAIN_CONTENT",
      payload: a
    }), jy(a.endpoint) && this.store.dispatch({
      type: "SET_LIBRARY_TAB_BROWSE_ID",
      payload: a.endpoint.data.browseId
    }))
  };
  f.handlePromoRedirectIfPresent = function(a) {
    a = G("overlay.commandWrapperPromoRenderer", a);
    if (!a) return !1;
    a.impressionCommand && lt.getInstance().triggerOptionalAction("yt-service-request", {}, a.impressionCommand);
    if (!a.isVisible) return !1;
    if (!a.promoCommand) return O(Error("Received non-counterfactual CommandWrapperPromoRenderer without promoCommand: " + a)), !1;
    a = new CustomEvent("yt-navigate", {
      detail: ky(a.promoCommand)
    });
    document.dispatchEvent(a);
    return !0
  };
  f.getPlaylistIdForAlbumId = function(a) {
    if (a) return (a = this.store.getStateBySelector("entities.albums.albumReleases." + a)) ? a.audioPlaylistId : void 0
  };
  az.ctorParameters = function() {
    return [{
      type: Xy,
      decorators: [{
        type: R,
        args: [Xy]
      }]
    }, {
      type: Yy,
      decorators: [{
        type: R,
        args: [Yy]
      }]
    }, {
      type: Ex,
      decorators: [{
        type: R,
        args: [Ex]
      }]
    }, {
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }]
  };

  function bz(a, b) {
    zu("c", a);
    hu(a);
    P("custom_csi_timeline_use_gel") && (Iu(a).useGel = void 0);
    Ld(a + "TIMING_AFT_KEYS", b);
    Ld(a + "TIMING_ACTION", a);
    pu("c", void 0, a);
    Du(a);
    Hu(!0, a);
    ou(!1, a);
    if ("TIMING_INFO" in Kd) {
      b = y(Object.entries(M("TIMING_INFO", void 0)));
      for (var c = b.next(); !c.done; c = b.next()) {
        var d = y(c.value);
        c = d.next().value;
        d = d.next().value;
        Ku(c, d, a)
      }
    }
  };
  var cz = new Gn("PLAYER_API"),
    dz = new Gn("PLAYER_WRAPPER");
  var ez = ["MUSIC_VIDEO_TYPE_ATV", "MUSIC_VIDEO_TYPE_PRIVATELY_OWNED_TRACK"];
  var fz = Dx("queue.items"),
    gz = Dx("queue.automixItems"),
    hz = Dx("queue.autoplay"),
    iz = Dx("queue.repeatMode"),
    jz = ey.createSelector(fz, function(a) {
      return 0 < a.length
    }),
    kz = ey.createSelector(fz, function(a) {
      return a.findIndex(function(b) {
        return !!b.selected
      })
    }),
    lz = ey.createSelector(fz, kz, function(a, b) {
      return a[b] || null
    }),
    mz = Dx("queue.isGenerating");
  var nz = Dx("player.preloadedEndpoint_"),
    oz = ey.createSelector(lz, nz, function(a, b) {
      if (b) return b;
      if (a) return a.navigationEndpoint
    }),
    pz = ey.createSelector(fz, kz, function(a, b) {
      if (a = a[b + 1]) return a.navigationEndpoint
    }),
    qz = ey.createSelector(oz, mz, function(a, b) {
      return !a && !b
    }),
    rz = Dx("player.playerResponse"),
    sz = Dx("player.adPlaying"),
    tz = Dx("player.miniPlayerEnabled"),
    uz = Dx("player.fullscreened"),
    vz = Dx("player.playerResponse.videoDetails.isLive"),
    wz = Dx("player.playerResponse.videoDetails.isUpcoming"),
    xz = Dx("player.playerResponse.videoDetails.isLiveDvrEnabled"),
    yz = Dx("player.volume"),
    zz = ey.createSelector(oz, rz, sz, function(a, b, c) {
      return c ? !0 : !ez.includes(G("watchEndpoint.watchEndpointMusicSupportedConfigs.watchEndpointMusicConfig.musicVideoType", a) || G("videoDetails.musicVideoType", b))
    }),
    Az = ey.createSelector(zz, lz, rz, function(a, b, c) {
      return a ? null : b && b.thumbnail ? b.thumbnail : G("videoDetails.thumbnail", c)
    });
  var Bz = function(a) {
    this.networkManager = a;
    this.logger = null
  };
  f = Bz.prototype;
  f.fetchItems = function(a, b) {
    var c = this,
      d = this.watchNextRequestFromEndpoint(a);
    b && (d.continuation = b);
    return this.networkManager.fetch("/next", d).then(function(e) {
      return b ? c.handleWatchNextContinuationResponse(a, e) : c.handleWatchNextResponse(a, e)
    }, function(e) {
      throw e;
    })
  };
  f.fetchItemMetadata = function(a) {
    a = this.watchNextRequestFromEndpoint(a);
    return this.networkManager.fetch("/next", a).then(function(b) {
      return {
        playerPageWatchNextMetadata: G("contents.singleColumnMusicWatchNextResultsRenderer.metadataScreen", b),
        playerOverlay: b.playerOverlays || null
      }
    }, function(b) {
      throw b;
    })
  };
  f.watchNextRequestFromEndpoint = function(a) {
    var b = {
      enablePersistentPlaylistPanel: !0,
      tunerSettingValue: "AUTOMIX_SETTING_NORMAL"
    };
    Object.assign(b, a.getRequestParams());
    b.isAudioOnly = !0;
    return b
  };
  f.handleWatchNextResponse = function(a, b) {
    var c = G("contents.singleColumnMusicWatchNextResultsRenderer", b),
      d = G("playlist.playlistPanelRenderer", c);
    return {
      responseTrackingParams: b.trackingParams,
      queueItems: this.getQueueItems(a, d.contents, !1),
      continuation: this.getNextContinuation(d.continuations),
      playerPageWatchNextMetadata: c.metadataScreen,
      playerOverlay: b.playerOverlays,
      overlay: b.overlay,
      automixWatchEndpoint: this.getAutoMixEndpoint_(d.contents)
    }
  };
  f.handleWatchNextContinuationResponse = function(a, b) {
    var c = G("continuationContents.playlistPanelContinuation", b),
      d = c ? c.contents : void 0;
    c = c ? c.continuations : void 0;
    return {
      responseTrackingParams: b.trackingParams,
      queueItems: this.getQueueItems(a, d, !0),
      continuation: this.getNextContinuation(c),
      playerOverlay: b.playerOverlays,
      overlay: b.overlay,
      automixWatchEndpoint: this.getAutoMixEndpoint_(d)
    }
  };
  f.getQueueItems = function(a, b, c) {
    return b ? b.filter(function(d) {
      return d.playlistPanelVideoRenderer && !d.playlistPanelVideoRenderer.unplayableText
    }).map(function(d) {
      return d.playlistPanelVideoRenderer
    }) : (b = c ? " in continuation request." : " in non continuation request.", O(Error("WatchNext returned empty queue for endpoint " + JSON.stringify(a) + b)), [])
  };
  f.getAutoMixEndpoint_ = function(a) {
    a = void 0 === a ? [] : a;
    a = a.find(function(b) {
      return !!b.automixPreviewVideoRenderer
    });
    if (a = G("automixPreviewVideoRenderer.content.automixPlaylistVideoRenderer.navigationEndpoint", a))
      if (a = Zx(a), a instanceof Xx || a instanceof Yx) return a
  };
  f.getNextContinuation = function(a) {
    if (a) {
      a = y(a);
      for (var b = a.next(); !b.done; b = a.next()) {
        b = b.value;
        if (b.nextRadioContinuationData) return b.nextRadioContinuationData.continuation;
        if (b.nextContinuationData) return b.nextContinuationData.continuation
      }
    }
  };
  Bz.ctorParameters = function() {
    return [{
      type: Xy,
      decorators: [{
        type: R,
        args: [Xy]
      }]
    }]
  };
  var Cz = ["INPUT".toString(), "SELECT".toString(), "TEXTAREA".toString(), "EMBED".toString(), "YTD-COMMENTBOX"],
    Dz = new Map;
  Dz.set(32, 59972);
  Dz.set(27, 50765);
  Dz.set(70, 60102);
  Dz.set(76, 60221);
  Dz.set(77, 60222);
  Dz.set(74, 60223);
  Dz.set(84, 60224);
  Dz.set(38, 61941);
  Dz.set(40, 61942);
  Dz.set(73, 62521);
  Dz.set(67, 62522);
  Dz.set(80, 63390);
  Dz.set(78, 63397);
  Dz.set(75, 59972);
  Dz.set(188, 63385);
  Dz.set(190, 63384);
  Dz.set(36, 63387);
  Dz.set(35, 63386);
  Dz.set(37, 63388);
  Dz.set(39, 63389);
  Dz.set(79, 63423);
  Dz.set(87, 63424);
  Dz.set(107, 63426);
  Dz.set(109, 63425);
  Dz.set(65, 63428);
  Dz.set(83, 63430);
  Dz.set(68, 63429);
  Dz.set(221, 63431);
  Dz.set(219, 63432);
  Dz.set(97, 63439);
  Dz.set(98, 63440);
  Dz.set(99, 63441);
  Dz.set(100, 63442);
  Dz.set(101, 63443);
  Dz.set(102, 63444);
  Dz.set(103, 63445);
  Dz.set(104, 63446);
  Dz.set(105, 63447);
  var Ez = new Map;
  Ez.set(80, 63390);
  Ez.set(78, 63397);
  Ez.set(188, 63400);
  Ez.set(190, 63401);
  Ez.set(191, 60765);

  function Fz(a) {
    return -1 < a.findIndex(function(b) {
      return -1 < Cz.indexOf(b.tagName)
    })
  };
  var Gz = new Gn("KEYBOARD_EVENT_MATCHER_FN"),
    Hz = function(a) {
      var b = this;
      this.keyboardEventMatcherFn = a;
      this.keyCombinationHandlers = new Map;
      this.keySequenceHandlers = new Map;
      this.mostRecentKeyboardEventInfo = this.spacebarHandler = null;
      this.disableSpacebarPropagation();
      document.addEventListener("keydown", function(c) {
        return b.handleKeydown(c)
      })
    };
  f = Hz.prototype;
  f.register = function(a, b) {
    this.keyCombinationHandlers.has(a) || (this.keyCombinationHandlers.set(a, b), "space" === a && (this.spacebarHandler = b))
  };
  f.registerKeySequence = function(a, b) {
    2 === a.length && (this.keyCombinationHandlers.has(a[0]) || this.keySequenceHandlers.set(a, b))
  };
  f.handleKeydown = function(a) {
    this.shouldInvokeShortcutHandlers(a) && this.invokeShortcutHandlers(a);
    var b = Date.now();
    this.mostRecentKeyboardEventInfo = {
      event: a,
      invocationTime: b
    }
  };
  f.shouldInvokeShortcutHandlers = function(a) {
    a = Polymer.dom(a).path || [];
    return !Fz(a)
  };
  f.invokeShortcutHandlers = function(a) {
    for (var b = y(this.keySequenceHandlers.keys()), c = b.next(); !c.done; c = b.next())
      if (c = c.value, this.sequenceMatchesAndInvokedInTime(a, c)) {
        a.preventDefault();
        (a = this.keySequenceHandlers.get(c)) && a();
        return
      } b = y(this.keyCombinationHandlers.keys());
    for (c = b.next(); !c.done; c = b.next())
      if (c = c.value, this.keyboardEventMatchesKeys(a, c)) {
        a.preventDefault();
        this.keyCombinationHandlers.get(c)();
        break
      }
  };
  f.sequenceMatchesAndInvokedInTime = function(a, b) {
    if (!this.mostRecentKeyboardEventInfo) return !1;
    var c = Date.now() < this.mostRecentKeyboardEventInfo.invocationTime + 1500;
    return this.keyboardEventMatchesKeys(a, b[1]) && this.keyboardEventMatchesKeys(this.mostRecentKeyboardEventInfo.event, b[0]) && c
  };
  f.keyboardEventMatchesKeys = function(a, b) {
    return !this.keyboardEventMatcherFn(a, b) || a.ctrlKey && !b.includes("ctrl") || a.metaKey && !b.includes("meta") ? !1 : 1 === b.length && /[A-Za-z]/.test(b) ? !a.altKey && !a.ctrlKey && !a.metaKey && !a.shiftKey : !0
  };
  f.disableSpacebarPropagation = function() {
    var a = this;
    document.addEventListener("keydown", function(b) {
      if (a.keyboardEventMatchesKeys(b, "space") && a.spacebarHandler) {
        var c = Polymer.dom(b).rootTarget;
        !c || "PAPER-BUTTON" !== c.tagName && "PAPER-ICON-BUTTON" !== c.tagName && "PAPER-FAB" !== c.tagName && "PAPER-SLIDER" !== c.tagName && "movie_player" !== c.id || (b.preventDefault(), b.stopPropagation(), a.spacebarHandler())
      }
    }, {
      capture: !0
    })
  };
  Hz.ctorParameters = function() {
    return [{
      type: Function,
      decorators: [{
        type: R,
        args: [Gz]
      }]
    }]
  };
  var Iz = function(a, b, c) {
    var d = this;
    this.queueApi = a;
    this.store = b;
    this.continuation = void 0;
    this.pendingFetchItemsRequest = null;
    this.autoPlaying = !1;
    this.queueResponseVes = [];
    this.store.subscribeBySelector(lz, function(e) {
      return d.onSelectedItemChanged(e)
    });
    this.store.subscribeBySelector(kz, function(e) {
      return d.onSelectedItemIndexChanged(e)
    });
    this.store.subscribeBySelector("likeStatus.videos", function(e) {
      return d.onLikeStatusChange(e)
    });
    c.register("s", function() {
      return d.shuffle()
    })
  };
  f = Iz.prototype;
  f.getQueueItemWithEndpoint = function(a) {
    var b = this.getQueueItemIndex("number" === typeof a.data.index ? "" + a.data.index : "");
    if (-1 !== b && (b = this.getItems()[b], G("navigationEndpoint.watchEndpoint.videoId", b) === a.data.videoId)) return b
  };
  f.selectQueueItem = function(a) {
    this.autoPlaying = !1;
    a = this.getQueueItemIndex(Jz(a));
    if (-1 === a) throw Error("Attempted to select item that is not in queue.");
    this.setIndex(a)
  };
  f.generateQueueForEndpoint = function(a) {
    this.store.dispatch(Kz(!0));
    this.resetQueueAndPlayerPageState();
    return this.extendQueue(a)
  };
  f.resetQueueAndPlayerPageState = function() {
    this.autoPlaying = !1;
    this.continuation = void 0;
    this.store.dispatch(Lz(null));
    this.store.dispatch(Mz(null));
    this.store.dispatch({
      type: "CLEAR"
    });
    this.removeQueueResponseTrackingVesFromAuxScreen()
  };
  f.getIsAutoPlaying = function() {
    return this.autoPlaying
  };
  f.setAutoPlaying = function() {
    this.autoPlaying = !0
  };
  f.resetAutoPlaying = function() {
    this.autoPlaying = !1
  };
  f.getQueueItemIndex = function(a) {
    return this.getItems().findIndex(function(b) {
      return Jz(b) === a
    })
  };
  f.moveForward = function(a) {
    var b = this;
    a = void 0 === a ? !1 : a;
    bz("watch", ["pbs"]);
    this.autoPlaying = a;
    this.pendingFetchItemsRequest ? this.pendingFetchItemsRequest.then(function() {
      return b.setIndex(b.getCurrentItemIndex() + 1)
    }) : this.setIndex(this.getCurrentItemIndex() + 1)
  };
  f.moveBack = function() {
    bz("watch", ["pbs"]);
    this.autoPlaying = !1;
    this.setIndex(this.getCurrentItemIndex() - 1)
  };
  f.addItems = function(a, b) {
    b = (void 0 === b ? 0 : b) ? this.getCurrentItemIndex() + 1 : this.getItems().length;
    this.store.dispatch({
      type: "ADD_ITEMS",
      payload: {
        index: b,
        items: a
      }
    })
  };
  f.removeItem = function(a) {
    a = this.getQueueItemIndex(a); - 1 !== a && (a === this.getCurrentItemIndex() && this.moveForward(), this.store.dispatch({
      type: "REMOVE_ITEM",
      payload: a
    }))
  };
  f.moveItem = function(a, b) {
    this.store.dispatch({
      type: "MOVE_ITEM",
      payload: {
        fromIndex: a,
        toIndex: b
      }
    })
  };
  f.onLikeStatusChange = function(a) {
    var b = this.store.getStateBySelector(lz);
    (b = G("navigationEndpoint.watchEndpoint.videoId", b)) && "DISLIKE" === a[b] && this.moveForward()
  };
  f.shuffle = function() {
    this.store.getStateBySelector(lz) && this.store.dispatch({
      type: "SHUFFLE",
      payload: this.getCurrentItemIndex()
    })
  };
  f.isGenerating = function() {
    return this.store.getStateBySelector(mz)
  };
  f.isEmpty = function() {
    return 0 === this.getItems().length
  };
  f.shouldReplayCurrentSong = function() {
    var a = this.store.getStateBySelector(iz),
      b = this.getItems().length;
    return "ONE" === a || "ALL" === a && 1 === b
  };
  f.getItems = function() {
    return this.store.getStateBySelector(fz)
  };
  f.getAutomixItems = function() {
    return this.store.getStateBySelector(gz)
  };
  f.getCurrentItemIndex = function() {
    return this.store.getStateBySelector(kz)
  };
  f.setIndex = function(a) {
    var b = this.getItems().length;
    "ALL" === this.store.getStateBySelector(iz) && (a %= b);
    var c = this.store.getStateBySelector(gz),
      d = a >= b && c.length,
      e = this.store.getStateBySelector(hz);
    d && e && (this.store.dispatch({
      type: "SHIFT_AUTOPLAY_ITEM",
      payload: c[0]
    }), b++);
    a = Math.min(Math.max(a, 0), Math.max(b - 1, 0));
    a !== this.getCurrentItemIndex() && this.store.dispatch({
      type: "SET_INDEX",
      payload: a
    })
  };
  f.extendQueue = function(a) {
    var b = this;
    this.pendingFetchItemsRequest && this.pendingFetchItemsRequest.cancel("Extending queue for different endpoint");
    return this.pendingFetchItemsRequest = this.queueApi.fetchItems(a, this.continuation).then(function(c) {
      b.getAutomixItems().length ? b.handleAutomixFetchItemsResponse(c) : b.handleFetchItemsResponse(a, c, !b.continuation);
      b.pendingFetchItemsRequest = null;
      b.store.dispatch(Kz(!1))
    }, function(c) {
      if (c instanceof wh) return ph(void 0);
      b.pendingFetchItemsRequest = null;
      b.store.dispatch(Kz(!1));
      throw c;
    })
  };
  f.handleFetchItemsResponse = function(a, b, c) {
    var d = this;
    if (void 0 === c ? 0 : c) this.store.dispatch(Lz(b.playerOverlay || null)), this.store.dispatch(Mz(b.playerPageWatchNextMetadata || null)), this.store.dispatch({
      type: "SET_WATCH_NEXT_OVERLAY",
      payload: b.overlay || null
    });
    this.attachQueueResponseTrackingParamsToAuxScreen(b.responseTrackingParams);
    this.continuation = b.continuation;
    this.addItems(b.queueItems);
    b.automixWatchEndpoint && this.queueApi.fetchItems(b.automixWatchEndpoint).then(function(e) {
      return d.handleAutomixFetchItemsResponse(e)
    })
  };
  f.handleAutomixFetchItemsResponse = function(a) {
    this.attachQueueResponseTrackingParamsToAuxScreen(a.responseTrackingParams);
    this.continuation = a.continuation;
    a.queueItems[0].selected = !1;
    this.store.dispatch({
      type: "ADD_AUTOMIX_ITEMS",
      payload: a.queueItems
    })
  };
  f.onSelectedItemChanged = function(a) {
    a && this.maybeUpdatePlayerPageItemMetadata_(a)
  };
  f.onSelectedItemIndexChanged = function() {
    var a = this.store.getStateBySelector(lz);
    a && this.shouldFetchMore() && this.extendQueue(fb(Zx(a.navigationEndpoint), Xx))
  };
  f.maybeUpdatePlayerPageItemMetadata_ = function(a) {
    var b = this,
      c = a.navigationEndpoint.watchEndpoint.videoId,
      d = this.store.getStateBySelector("playerPage.playerOverlay.playerOverlayRenderer.actions.0.likeButtonRenderer");
    d && d.target.videoId === c || this.queueApi.fetchItemMetadata(fb(Zx(a.navigationEndpoint), Xx)).then(function(e) {
      b.store.dispatch(Lz(e.playerOverlay || null));
      b.store.dispatch(Mz(e.playerPageWatchNextMetadata || null))
    })
  };
  f.shouldFetchMore = function() {
    var a = this.getCurrentItemIndex() + 5 >= this.getItems().length + this.getAutomixItems().length;
    return !!this.continuation && a && !this.pendingFetchItemsRequest
  };
  f.attachQueueResponseTrackingParamsToAuxScreen = function(a) {
    a = xr(a);
    this.queueResponseVes.push(a);
    kx(a)
  };
  f.removeQueueResponseTrackingVesFromAuxScreen = function() {
    for (var a = y(this.queueResponseVes), b = a.next(); !b.done; b = a.next()) lx(b.value);
    this.queueResponseVes = []
  };
  Iz.ctorParameters = function() {
    return [{
      type: Bz,
      decorators: [{
        type: R,
        args: [Bz]
      }]
    }, {
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }, {
      type: Hz,
      decorators: [{
        type: R,
        args: [Hz]
      }]
    }]
  };

  function Jz(a) {
    return "number" === typeof a.navigationEndpoint.watchEndpoint.index ? "" + a.navigationEndpoint.watchEndpoint.index : ""
  }

  function Lz(a) {
    return {
      type: "SET_PLAYER_OVERLAY",
      payload: a
    }
  }

  function Mz(a) {
    return {
      type: "SET_PLAYER_PAGE_WATCH_NEXT_METADATA",
      payload: a
    }
  }

  function Kz(a) {
    return {
      type: "SET_IS_GENERATING",
      payload: a
    }
  };
  var Nz = function(a, b, c, d) {
    var e = this;
    this.playerApi = a;
    this.queue = b;
    this.store = c;
    this.playerEndpointChangedUnsubscribeFn = this.playerResponseVe = null;
    this.hasStartedPlayback = !1;
    this.enqueuedEndpoint = null;
    this.forceAdParams = Fj(window.location.href, "force_ads_url") || "";
    this.listenForYouTubePlayerStateChanges();
    this.store.subscribeBySelector(yz, function(g) {
      return e.onVolumeChange(g)
    });
    this.subscribeToPlayerEndpointChanges();
    this.registerKeyboardShortcuts(d);
    P("music_web_enable_prebuffering") && !P("music_web_enable_gapless_playback") && !N("IS_MOBILE_WEB", !1) && N("IS_SUBSCRIBER", !1) && this.store.subscribeBySelector(pz, function(g) {
      return e.onPrebufferEndpointChange(g)
    })
  };
  f = Nz.prototype;
  f.listenForYouTubePlayerStateChanges = function() {
    for (var a = this, b = y(new Map([
        ["onReady", function() {
          return a.onPlayerReady()
        }],
        ["onStateChange", function(e) {
          return a.onPlayerStateChange(e)
        }],
        ["onVideoDataChange", function(e) {
          return a.onPresentingVideoDataChange(e)
        }],
        ["onAdStart", function() {
          return a.setAdPlaying(!0)
        }],
        ["onAdEnd", function() {
          return a.setAdPlaying(!1)
        }],
        ["onPlaylistNext", function() {
          return a.requestNext()
        }],
        ["onPlaylistPrevious", function() {
          return a.requestPrevious()
        }],
        ["onDetailedError", function(e) {
          return a.onPlayerError(e)
        }],
        ["onVideoProgress", function(e) {
          return a.onVideoProgress(e)
        }]
      ])), c = b.next(); !c.done; c = b.next()) {
      var d = y(c.value);
      c = d.next().value;
      d = d.next().value;
      this.playerApi.addEventListener(c, d)
    }
  };
  f.onPlayerReady = function() {
    this.playerApi.setSizeStyle(!1, !0);
    var a = this.getCurrentEndpoint();
    a && this.playEndpoint(a);
    if (a = this.store.getStateBySelector(pz)) this.onPrebufferEndpointChange(a);
    this.playerApi.setVolume(this.store.getStateBySelector(yz))
  };
  f.getPlayerApi = function() {
    return this.playerApi
  };
  f.getCurrentEndpoint = function() {
    var a = this.store.getStateBySelector(oz);
    if (a) return fb(Zx(a), Xx)
  };
  f.togglePlayback = function() {
    var a = this.playerApi.getPlayerState(this.playerApi.getPresentingPlayerType()),
      b = this.playerApi.getPlayerResponse();
    b = (b = b && b.playabilityStatus) && "OK" === b.status;
    1 === a || 3 === a ? this.playerApi.pauseVideo() : (2 === a || -1 === a && b) && this.playerApi.playVideo()
  };
  f.stopPlayback = function() {
    this.playerApi.stopVideo()
  };
  f.requestPrevious = function() {
    5 < this.playerApi.getCurrentTime() ? this.playerApi.seekTo(0) : this.queue.moveBack()
  };
  f.requestNext = function() {
    this.queue.moveForward()
  };
  f.decreaseVolume = function() {
    this.store.dispatch(gy(this.playerApi.getVolume() - 10))
  };
  f.increaseVolume = function() {
    this.store.dispatch(gy(this.playerApi.getVolume() + 10))
  };
  f.onVolumeChange = function(a) {
    this.playerApi.isReady() && this.playerApi.getVolume() !== a && this.playerApi.setVolume(a)
  };
  f.handleEndpoint = function(a) {
    a.getVisualElement() !== fx && (bz(a.getCsiAction(), ["pbs"]), this.timerName = a.getCsiAction());
    return a instanceof Xx ? this.handleWatchEndpoint(a) : this.handleWatchPlaylistEndpoint(a)
  };
  f.handleWatchEndpoint = function(a) {
    var b = this;
    if (this.maybeContinuePlayback(a)) return ph(void 0);
    var c = this.queue.getQueueItemWithEndpoint(a);
    if (c) return this.queue.selectQueueItem(c), ph(void 0);
    var d = a.toCommand();
    this.setPreloadedEndpoint(d);
    Ku("ytmusic_qsc", 1, this.timerName);
    return this.queue.generateQueueForEndpoint(a).then(function() {
      lu("pdr", void 0, b.timerName);
      b.store.getStateBySelector(nz) === d && (b.unsubscribeFromPlayerEndpointChanges(), b.setPreloadedEndpoint(null), b.subscribeToPlayerEndpointChanges())
    })
  };
  f.handleWatchPlaylistEndpoint = function(a) {
    var b = this;
    this.setPreloadedEndpoint(null);
    Ku("yt_pl", 1, this.timerName);
    Ku("ytmusic_qsc", 1, this.timerName);
    return this.queue.generateQueueForEndpoint(a).then(function() {
      lu("pdr", void 0, b.timerName)
    })
  };
  f.maybeContinuePlayback = function(a) {
    var b = this.getCurrentEndpoint();
    return b && -1 === this.playerApi.getPlayerState() && a.data.continuePlayback && a.data.videoId === b.data.videoId && a.data.playlistId === b.data.playlistId ? (this.queue.resetAutoPlaying(), this.playEndpoint(a, this.playerApi.getCurrentTime()), !0) : !1
  };
  f.setPreloadedEndpoint = function(a) {
    this.store.dispatch({
      type: "SET_PRELOADED_ENDPOINT",
      payload: a
    })
  };
  f.subscribeToPlayerEndpointChanges = function() {
    var a = this;
    this.unsubscribeFromPlayerEndpointChanges();
    this.playerEndpointChangedUnsubscribeFn = this.store.subscribeBySelector(oz, function(b, c) {
      return a.onPlayerEndpointChange(b, c)
    })
  };
  f.unsubscribeFromPlayerEndpointChanges = function() {
    this.playerEndpointChangedUnsubscribeFn && (this.playerEndpointChangedUnsubscribeFn(), this.playerEndpointChangedUnsubscribeFn = null)
  };
  f.onPlayerEndpointChange = function(a) {
    this.playerApi.isReady() && (a ? (a = fb(Zx(a), Xx), P("music_web_enable_gapless_playback") && this.enqueuedEndpoint && a.data.videoId === this.enqueuedEndpoint.data.videoId ? (this.logTiming(a), this.enqueuedEndpoint = null) : this.playEndpoint(a)) : this.playerApi.stopVideo())
  };
  f.logTiming = function(a) {
    Ku("plid", a.data.videoId, this.timerName);
    this.isAudioOnlyEndpoint(a) && Ku("ytmusic_ao", 1, this.timerName);
    document.hidden && Ku("ytmusic_bg", 1, this.timerName);
    a.getVisualElement() !== fx && Ku("yt_lt", "warm", this.timerName)
  };
  f.playEndpoint = function(a, b) {
    b = void 0 === b ? 0 : b;
    this.logTiming(a);
    a = this.getPlayerVarsForWatchEndpoint(a, b);
    P("music_web_enable_gapless_playback") && this.clearGaplessQueue();
    this.playerApi.loadVideoByPlayerVars(a)
  };
  f.enqueueEndpoint = function(a, b) {
    b = this.getPlayerVarsForWatchEndpoint(a, void 0 === b ? 0 : b);
    this.playerApi.enqueueVideoByPlayerVars(b);
    this.enqueuedEndpoint = a
  };
  f.clearGaplessQueue = function() {
    this.playerApi.clearQueue();
    this.enqueuedEndpoint = null
  };
  f.onPrebufferEndpointChange = function(a) {
    a && this.playerApi.isReady() && (a = fb(Zx(a), Xx), a = this.getPlayerVarsForWatchEndpoint(a), this.playerApi.preloadVideoByPlayerVars(a))
  };
  f.getPlayerVarsForWatchEndpoint = function(a, b) {
    var c = M("AUDIO_QUALITY", void 0);
    b = {
      video_id: a.data.videoId,
      start: void 0 === b ? 0 : b,
      player_params: a.data.playerParams,
      external_list: !0,
      suppress_creator_endscreen: !0,
      aac_high: "AUDIO_QUALITY_HIGH" === c && N("IS_SUBSCRIBER"),
      prefer_low_quality_audio: "AUDIO_QUALITY_LOW" === c
    };
    a.data.playlistId && (b.list = a.data.playlistId);
    a.clickTrackingParams && (b.itct = a.clickTrackingParams);
    this.forceAdParams && (b.force_ads_url = this.forceAdParams);
    if (P("music_web_enable_gapless_playback") ||
      this.isAudioOnlyEndpoint(a)) b.audio_only = "1";
    this.queue.getIsAutoPlaying() && (b.autoplay = !0, b.autonav = !0);
    return b
  };
  f.isAudioOnlyEndpoint = function(a) {
    return ez.includes(G("data.watchEndpointMusicSupportedConfigs.watchEndpointMusicConfig.musicVideoType", a))
  };
  f.onPlayerStateChange = function(a) {
    if (1 === a) lu("pbs", void 0, this.timerName);
    else if (0 === a)
      if (this.queue.shouldReplayCurrentSong()) {
        if (a = this.getCurrentEndpoint()) this.queue.setAutoPlaying(), this.playEndpoint(a)
      } else this.queue.moveForward(!0)
  };
  f.onPlayerError = function(a) {
    "auth" !== a.errorCode || N("LOGGED_IN") || this.store.dispatch({
      type: "SET_PLAYER_RESPONSE",
      payload: this.playerApi.getPlayerResponse()
    })
  };
  f.onPresentingVideoDataChange = function(a) {
    1 === a.playertype && ("newdata" === a.type ? this.setAdPlaying(!1) : "dataloaded" === a.type && (this.store.dispatch({
      type: "SET_PLAYER_RESPONSE",
      payload: this.playerApi.getPlayerResponse()
    }), this.hasStartedPlayback || (this.hasStartedPlayback = !0, Ku("ytmusic_fp", 1, this.timerName)), lu("cfg", void 0, this.timerName), this.attachPlayerResponseTrackingParamsToAuxiliaryScreen()))
  };
  f.onVideoProgress = function(a) {
    var b = this.store.getStateBySelector(vz);
    !P("music_web_enable_gapless_playback") || b || this.enqueuedEndpoint || 10 < this.playerApi.getProgressState().seekableEnd - a || !(a = this.store.getStateBySelector(pz)) || (a = fb(Zx(a), Xx), this.enqueueEndpoint(a))
  };
  f.attachPlayerResponseTrackingParamsToAuxiliaryScreen = function() {
    var a = this.playerApi.getVideoData().itct;
    a && (this.playerResponseVe && lx(this.playerResponseVe), this.playerResponseVe = xr(a), kx(this.playerResponseVe))
  };
  f.setAdPlaying = function(a) {
    this.store.dispatch({
      type: "SET_AD_PLAYING",
      payload: a
    })
  };
  f.registerKeyboardShortcuts = function(a) {
    var b = this;
    a.register("=", function() {
      return b.increaseVolume()
    });
    a.register("-", function() {
      return b.decreaseVolume()
    });
    a.register("space", function() {
      return b.togglePlayback()
    });
    a.register(";", function() {
      return b.togglePlayback()
    });
    a.register("j", function() {
      return b.requestNext()
    });
    a.register("shift+n", function() {
      return b.requestNext()
    });
    a.register("k", function() {
      return b.requestPrevious()
    });
    a.register("shift+p", function() {
      return b.requestPrevious()
    })
  };
  Nz.ctorParameters = function() {
    return [{
      type: void 0,
      decorators: [{
        type: R,
        args: [cz]
      }]
    }, {
      type: Iz,
      decorators: [{
        type: R,
        args: [Iz]
      }]
    }, {
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }, {
      type: Hz,
      decorators: [{
        type: R,
        args: [Hz]
      }]
    }]
  };

  function Oz() {
    var a = getComputedStyle(document.documentElement).getPropertyValue("--ytmusic-player-bar-height");
    a = Number(a.trim().replace("px", ""));
    return isNaN(a) ? (O(Error("Unable to parse player bar height property value.")), 0) : a
  };
  var Pz = function(a, b, c, d) {
    this.store = a;
    this.playerApi = b;
    this.queue = c;
    this.isMobileWeb = N("IS_MOBILE_WEB", !1);
    this.miniPlayerRequired = !N("IS_SUBSCRIBER", !1) && !this.isMobileWeb;
    this.uiStateBeforeEnteringFullscreen = this.currentEndpointUnsubscriber = null;
    document.addEventListener(Ck, this.onFullscreenChange.bind(this));
    this.registerKeyboardShortcuts(d);
    this.miniPlayerRequired && this.setMiniPlayerEnabled(!0)
  };
  f = Pz.prototype;
  f.getState = function() {
    return this.store.getStateBySelector(Qz)
  };
  f.isInactive = function() {
    return "INACTIVE" === this.getState()
  };
  f.isPlayerPageOpen = function() {
    return "PLAYER_PAGE_OPEN" === this.getState()
  };
  f.isPlayerBarOnly = function() {
    return "PLAYER_BAR_ONLY" === this.getState()
  };
  f.isFullscreen = function() {
    return "FULLSCREEN" === this.getState()
  };
  f.isHidden = function() {
    return "HIDDEN" === this.getState()
  };
  f.isMiniPlayerRequired = function() {
    return this.miniPlayerRequired
  };
  f.deactivate = function() {
    this.setState("INACTIVE")
  };
  f.openPlayerPage = function(a) {
    var b = this;
    this.currentEndpointUnsubscriber && (this.currentEndpointUnsubscriber(), this.currentEndpointUnsubscriber = null);
    this.isPlayerEndpointPresent() ? (this.setState("PLAYER_PAGE_OPEN"), this.setPlayerPageInfo(!0, a)) : this.queue.isGenerating() ? this.currentEndpointUnsubscriber = this.store.subscribeBySelector(oz, function() {
      return b.openPlayerPage(a)
    }) : O(Error("Attempted to open player page before player had endpoint.Visual Element triggering opening: " + JSON.stringify(a.getAsJson())))
  };
  f.collapsePlayerPage = function(a) {
    var b = this.getState();
    "PLAYER_BAR_ONLY" !== b && "MINIPLAYER" !== b && (this.isMobileWeb && this.playerApi.pauseVideo(), b = this.store.getStateBySelector(tz) ? "MINIPLAYER" : "PLAYER_BAR_ONLY", this.setState(b), this.setPlayerPageInfo(!1, a))
  };
  f.togglePlayerPage = function(a) {
    "PLAYER_PAGE_OPEN" === this.getState() ? this.collapsePlayerPage(a) : this.openPlayerPage(a)
  };
  f.enterHiddenMode = function() {
    this.isInactive() || (this.playerApi.pauseVideo(), this.setState("HIDDEN"))
  };
  f.enterMiniMode = function(a) {
    this.isMobileWeb || (this.setMiniPlayerEnabled(!0), this.setState("MINIPLAYER"), this.setPlayerPageInfo(!1, a))
  };
  f.exitMiniMode = function() {
    this.isMiniPlayerRequired() || (this.setMiniPlayerEnabled(!1), this.setState("PLAYER_BAR_ONLY"))
  };
  f.enterFullscreen = function() {
    if (this.isPlayerEndpointPresent() && (this.uiStateBeforeEnteringFullscreen = this.getState(), this.setPlayerFullscreened(!0), this.setState("FULLSCREEN"), !Ek())) {
      var a = document.documentElement;
      a.requestFullscreen ? a.requestFullscreen(void 0) : a.webkitRequestFullscreen ? a.webkitRequestFullscreen() : a.mozRequestFullScreen ? a.mozRequestFullScreen() : a.msRequestFullscreen && a.msRequestFullscreen();
      a = this.playerApi.getAvailableQualityLevels();
      this.playerApi.setPlaybackQuality(a[0])
    }
  };
  f.exitFullscreen = function() {
    this.setPlayerFullscreened(!1);
    this.setState(this.uiStateBeforeEnteringFullscreen);
    this.uiStateBeforeEnteringFullscreen = null;
    this.playerApi.setPlaybackQuality("auto");
    if (Ek()) {
      var a = Pf().getDocument();
      a.exitFullscreen ? a.exitFullscreen() : a.webkitCancelFullScreen ? a.webkitCancelFullScreen() : a.mozCancelFullScreen ? a.mozCancelFullScreen() : a.msExitFullscreen && a.msExitFullscreen()
    }
  };
  f.toggleFullscreen = function() {
    this.isFullscreen() ? this.exitFullscreen() : this.enterFullscreen()
  };
  f.registerKeyboardShortcuts = function(a) {
    var b = this,
      c = Ar(51767);
    a.register("f", function() {
      return b.toggleFullscreen()
    });
    a.register("q", function() {
      b.isInactive() || b.isFullscreen() || b.isHidden() || (jx(c), b.togglePlayerPage(c))
    })
  };
  f.isPlayerEndpointPresent = function() {
    return !!this.store.getStateBySelector(oz)
  };
  f.onFullscreenChange = function() {
    var a = Ek(),
      b = this.isFullscreen();
    a !== b && this.toggleFullscreen()
  };
  f.setState = function(a) {
    this.getState() !== a && this.store.dispatch({
      type: "SET_PLAYER_UI_STATE",
      payload: a
    })
  };
  f.setPlayerPageInfo = function(a, b) {
    this.store.dispatch({
      type: "SET_PLAYER_PAGE_INFO",
      payload: {
        open: a,
        triggerElement: b
      }
    })
  };
  f.setMiniPlayerEnabled = function(a) {
    this.store.dispatch({
      type: "SET_MINI_PLAYER_ENABLED",
      payload: a
    })
  };
  f.setPlayerFullscreened = function(a) {
    this.store.dispatch({
      type: "SET_FULLSCREENED",
      payload: a
    })
  };
  Pz.ctorParameters = function() {
    return [{
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }, {
      type: void 0,
      decorators: [{
        type: R,
        args: [cz]
      }]
    }, {
      type: Iz,
      decorators: [{
        type: R,
        args: [Iz]
      }]
    }, {
      type: Hz,
      decorators: [{
        type: R,
        args: [Hz]
      }]
    }]
  };
  var Qz = Dx("navigation.playerUiState"),
    Rz = ey.createSelector(qz, Qz, function(a, b) {
      return !(a || ["HIDDEN", "INACTIVE"].includes(b))
    }),
    Sz = Dx("playerPage.playerPageWatchNextMetadata.sectionListRenderer.contents.0.itemSectionRenderer.contents.0.musicWatchMetadataRenderer");

  function Tz() {
    return new Promise(function(a) {
      requestAnimationFrame(function() {
        setTimeout(a)
      })
    })
  };
  var Uz = ["uploadProgression", "uploadsComplete"],
    Vz = function(a, b, c, d) {
      var e = this;
      this.networkManager = a;
      this.store = b;
      this.toastService = c;
      this.dialogElementsMap = new Map;
      d.register("?", function() {
        return e.openHotkeyDialog()
      });
      this.store.subscribeBySelector(Qz, function() {
        e.onPlayerUiStateChanged()
      })
    };
  f = Vz.prototype;
  f.handleModalEndpoint = function(a) {
    var b = this;
    if (a instanceof Nx) return this.openDialogForEndpoint({
      endpoint: a,
      response: {}
    }), ph(void 0);
    this.initTimeline(a);
    this.store.dispatch(fy(!0));
    return this.networkManager.sendRequest(a.getRequest()).then(function(c) {
      return b.handleResponse({
        endpoint: a,
        response: c
      })
    }, function() {
      return b.toastService.show(T("ERROR"))
    }).thenAlways(function() {
      b.store.dispatch(fy(!1))
    })
  };
  f.initTimeline = function(a) {
    a = a.getCsiAction();
    bz(a, ["cpt"]);
    lu("nr", void 0, a)
  };
  f.handleResponse = function(a) {
    lu("pdr", void 0, a.endpoint.getCsiAction());
    this.openDialogForEndpoint(a)
  };
  f.openDialogForEndpoint = function(a) {
    a.endpoint instanceof Ix ? this.openSettingsDialog(a) : a.endpoint instanceof Kx ? this.openChannelCreationDialog(a) : a.endpoint instanceof Nx ? this.openCreatePlaylistDialog(a.endpoint) : a.endpoint instanceof Px ? this.openEditPlaylistDialog(a) : O(Error("Endpoint " + a.endpoint + " has no supported dialog."))
  };
  f.openConfirmDialog = function(a) {
    a = {
      popup: {
        confirmDialogRenderer: a
      },
      popupType: "DIALOG"
    };
    lt.getInstance().triggerAction("yt-open-popup-action", {
      openPopupAction: a
    }, document.querySelector("YTMUSIC-APP"))
  };
  f.openModalDialog = function(a) {
    a = {
      popup: {
        confirmDialogRenderer: a
      },
      popupType: "MODAL"
    };
    lt.getInstance().triggerAction("yt-open-popup-action", {
      openPopupAction: a
    }, document.querySelector("YTMUSIC-APP"))
  };
  f.openHotkeyDialog = function() {
    var a = M("HOTKEY_DIALOG");
    a && this.openDialog(a, "hotkey")
  };
  f.openSessionExpiredDialog = function() {
    var a = {
      urlEndpoint: {
        url: M("SIGNIN_URL")
      }
    };
    a = {
      title: dt(T("SIGN_BACK_IN")),
      dialogMessages: [dt(T("SIGN_IN_DIALOG_TEXT"))],
      confirmButton: {
        buttonRenderer: {
          text: dt(T("SIGN_IN")),
          navigationEndpoint: a
        }
      }
    };
    this.openModalDialog(a)
  };
  f.openAccountChangedDialog = function() {
    var a = {
      title: dt(T("CHANGED_GOOGLE_ACCOUNT")),
      dialogMessages: [dt(T("CHANGED_ACCOUNT_DIALOG_TEXT"))],
      confirmButton: {
        buttonRenderer: {
          text: dt(T("REFRESH")),
          serviceEndpoint: {
            signalServiceEndpoint: {
              signal: "CLIENT_SIGNAL",
              actions: [{
                signalAction: {
                  signal: "RELOAD_PAGE"
                }
              }]
            }
          }
        }
      }
    };
    this.openModalDialog(a)
  };
  f.openConfirmAddExistingSongToPlaylistDialog = function(a) {
    a = {
      title: dt(T("ARE_YOU_SURE")),
      dialogMessages: [dt(T("ADD_EXISTING_SONG_TO_PLAYLIST"))],
      confirmButton: {
        buttonRenderer: {
          text: dt(T("ADD_TO_PLAYLIST")),
          serviceEndpoint: a
        }
      },
      cancelButton: {
        buttonRenderer: {
          text: dt(T("CANCEL"))
        }
      }
    };
    this.openConfirmDialog(a)
  };
  f.openSettingsDialog = function(a) {
    this.openDialog(a.response, "settings", a.endpoint)
  };
  f.openChannelCreationDialog = function(a) {
    this.openDialog(a.response.channelCreation.channelCreationForm, "createChannel", a.endpoint)
  };
  f.openCreatePlaylistDialog = function(a) {
    this.openDialog({
      videoIds: a.data.videoIds,
      sourcePlaylistId: a.data.sourcePlaylistId
    }, "createPlaylist")
  };
  f.openEditPlaylistDialog = function(a) {
    var b = G("header.musicEditablePlaylistDetailHeaderRenderer.editHeader.musicPlaylistEditHeaderRenderer", a.response);
    b && (b = {
      playlistId: b.playlistId,
      title: b.title ? Ou(b.title) : "",
      titleInputLabel: b.editTitle ? Ou(b.editTitle) : void 0,
      description: b.description ? Ou(b.description) : "",
      descriptionInputLabel: b.editDescription ? Ou(b.editDescription) : void 0,
      privacyStatus: b.privacy
    }, this.openDialog(b, "editPlaylist", a.endpoint))
  };
  f.openYouThereDialog = function(a) {
    a = {
      popup: {
        youThereRenderer: a
      },
      popupType: "DIALOG"
    };
    lt.getInstance().triggerOptionalAction("yt-open-popup-action", {
      openPopupAction: a
    }, {})
  };
  f.openDropFilesDialog = function() {
    this.openDialog({}, "dropFiles")
  };
  f.openUploadProgressionDialog = function() {
    this.openDialog({}, "uploadProgression")
  };
  f.openUploadsCompleteDialog = function() {
    this.openDialog({}, "uploadsComplete")
  };
  f.openDialog = function(a, b, c) {
    c = this.getDialogElement(b, c);
    Uz.includes(b) ? (c.noCancelOnEscKey = !0, c.noCancelOnOutsideClick = !0, this.bottomLeftAlignDialog(c)) : c.withBackdrop = !0;
    var d = {};
    c.dialogData = (d[b] = a, d);
    c.open();
    return c
  };
  f.getDialogElement = function(a, b) {
    if (this.dialogElementsMap.has(a)) return this.dialogElementsMap.get(a);
    var c = document.querySelector("ytmusic-app");
    c = Sv("ytmusic-dialog", c);
    document.body.appendChild(c);
    this.dialogElementsMap.set(a, c);
    b && c.addEventListener("iron-overlay-opened", function() {
      lu("cpt", void 0, b.getCsiAction())
    });
    return c
  };
  f.isDialogOpen = function(a) {
    a = this.dialogElementsMap.get(a);
    return !!a && a.opened
  };
  f.closeDialog = function(a) {
    (a = this.dialogElementsMap.get(a)) && a.opened && a.close()
  };
  f.onPlayerUiStateChanged = function() {
    return Qm(this, void 0, void 0, function b() {
      var c, d, e, g = this,
        h;
      return xa(b, function(k) {
        if (1 == k.nextAddress) return k.yield(Tz(), 2);
        c = y(Uz);
        for (d = c.next(); !d.done; d = c.next()) e = d.value, (h = g.dialogElementsMap.get(e)) && h.opened && (g.bottomLeftAlignDialog(h), h.refit());
        k.jumpToEnd()
      })
    })
  };
  f.bottomLeftAlignDialog = function(a) {
    a.positionTarget = document.documentElement;
    a.horizontalAlign = "left";
    a.verticalAlign = "bottom";
    a.horizontalOffset = 32;
    a.verticalOffset = Oz() + 32
  };
  Vz.ctorParameters = function() {
    return [{
      type: Xy,
      decorators: [{
        type: R,
        args: [Xy]
      }]
    }, {
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }, {
      type: Yy,
      decorators: [{
        type: R,
        args: [Yy]
      }]
    }, {
      type: Hz,
      decorators: [{
        type: R,
        args: [Hz]
      }]
    }]
  };
  var Wz = function(a, b, c) {
    this.signInUrl = M("SIGNIN_URL", void 0) || "";
    this.cachedGetAccountMenuRequestPromise = a.requestDataForServiceEndpoint({
      getAccountMenuEndpoint: {
        hack: !0
      }
    }).thenCatch(function() {
      O(Error("Call to GetAccountMenu failed."))
    });
    this.beginSessionVerificationPolling(b, c)
  };
  Wz.prototype.beginSessionVerificationPolling = function(a, b) {
    var c = this;
    this.sessionVerificationIntervalId ? O(Error("Multiple session-verification polls initiated.")) : this.sessionVerificationIntervalId = setInterval(function() {
        Ky("/verify_session").then(function(d) {
          d.reload ? (b.stopPlayback(), "logout" === d.reason ? a.openSessionExpiredDialog() : "account-change" === d.reason ? a.openAccountChangedDialog() : (O(Error("Unsupported reload reason: '" + d.reason + "'")), location.reload())) : d.stopPoll && clearInterval(c.sessionVerificationIntervalId)
        })
      },
      Ud("music_web_session_check_interval_millis", 12E4) * (.9 + Math.random() * (1.1 - .9)))
  };
  Wz.prototype.getAccountMenu = function() {
    return this.cachedGetAccountMenuRequestPromise
  };
  Wz.prototype.getSignInUrl = function() {
    return this.signInUrl
  };
  Wz.prototype.isUserSignedIn = function() {
    return N("LOGGED_IN")
  };
  Wz.ctorParameters = function() {
    return [{
      type: Xy,
      decorators: [{
        type: R,
        args: [Xy]
      }]
    }, {
      type: Vz,
      decorators: [{
        type: R,
        args: [Vz]
      }]
    }, {
      type: Nz,
      decorators: [{
        type: R,
        args: [Nz]
      }]
    }]
  };
  var Xz = function(a, b, c, d, e, g, h, k, m) {
    this.mainContentManager = a;
    this.dialogService = b;
    this.playerUiService = c;
    this.playerController = d;
    this.accountService = e;
    this.store = g;
    this.queue = h;
    this.toastService = k;
    this.shortcutManager = m;
    this.playerResponseChangedUnsubscriber = null;
    $i(document, "yt-navigate", this.handleNavigationEvent, !1, this);
    this.registerKeyboardShortcuts(m)
  };
  f = Xz.prototype;
  f.performInitialNavigation = function(a) {
    this.maybeHandleSignedOutRedirectToGaia(a) || (a.isModalEndpoint() ? (this.mainContentManager.handleMainContentEndpoint(ay()), this.dialogService.handleModalEndpoint(a)) : a instanceof Xx || a instanceof Yx ? (this.startPageTimeline(a, "pbs", !1), uu("pdr"), this.playerController.handleEndpoint(a), this.playerUiService.openPlayerPage(fb(a.getVisualElement(), wr)), this.mainContentManager.handleMainContentEndpoint(ay(), !1)) : (this.startPageTimeline(a, "cpt", !1), this.mainContentManager.handleMainContentEndpoint(a)))
  };
  f.startPageTimeline = function(a, b, c) {
    if (void 0 === c || c) zu("n"), hu(), Hu(!1), Ld("TIMING_AFT_KEYS", []), qu("yt_lt", "warm"), Ld("TIMING_ACTION", ""), Ld("TIMING_WAIT", []), Ut(), pu("n");
    a = a.getCsiAction();
    Ld("TIMING_AFT_KEYS", [b]);
    Ld("TIMING_ACTION", a);
    b = Md("TIMING_INFO", {});
    for (var d in b) qu(d, b[d]);
    qu("is_nav", 1);
    (d = fs()) && qu("csn", d);
    (d = M("PREVIOUS_ACTION", void 0)) && qu("pa", d);
    b = su();
    b.p = M("CLIENT_PROTOCOL") || "unknown";
    b.t = M("CLIENT_TRANSPORT") || "unknown";
    qu("yt_vis", yu());
    if ("cold" == b.yt_lt) {
      d = Rt.timing || {};
      d.navigationStart && (lu("srt", d.responseStart), 1 != b.prerender && pu("n", d.navigationStart));
      b = St(d);
      0 < b && lu("fpt", b);
      lu("nreqs", d.requestStart, void 0);
      lu("nress", d.responseStart, void 0);
      lu("nrese", d.responseEnd, void 0);
      0 < d.redirectEnd - d.redirectStart && (lu("nrs", d.redirectStart, void 0), lu("nre", d.redirectEnd, void 0));
      0 < d.domainLookupEnd - d.domainLookupStart && (lu("ndnss", d.domainLookupStart, void 0), lu("ndnse", d.domainLookupEnd, void 0));
      0 < d.connectEnd - d.connectStart && (lu("ntcps", d.connectStart, void 0),
        lu("ntcpe", d.connectEnd, void 0));
      d.secureConnectionStart >= d.navigationStart && 0 < d.connectEnd - d.secureConnectionStart && (lu("nstcps", d.secureConnectionStart, void 0), lu("ntcpe", d.connectEnd, void 0));
      Rt.getEntriesByType && Fu();
      d = [];
      if (document.querySelector && Rt && Rt.getEntriesByName)
        for (var e in $t) b = $t[e], Gu(e, b) && d.push(b);
      d.length && qu("rc", d.join(","))
    }
    Du();
    if ("cold" == su().yt_lt) {
      d = mu();
      e = Au();
      for (var g in d) bc(g, "_") || "tick_" + g in e || nu(g, d[g]);
      g = su();
      for (var h in g) "info_" + h in e || tu(h, g[h])
    }
    Hu(!0);
    ou(!1);
    lu("nr")
  };
  f.handleNavigationEvent = function(a) {
    a = a.getBrowserEvent().detail;
    var b = a.musicEndpoint;
    if (!b) try {
      b = Zx(a.endpoint)
    } catch (c) {
      O(c)
    }
    b && this.navigate(b)
  };
  f.navigate = function(a) {
    var b = this;
    if (this.maybeHandleSignedOutRedirectToGaia(a)) return ph(void 0);
    if (a instanceof Tx || a instanceof Sx) return Zc(window.location, a.getUrl()), ph(void 0);
    if (a instanceof Wx) return a.openUrl(), ph(void 0);
    if (a instanceof Xx || a instanceof Yx) return this.handlePlayerEndpoint(a);
    if (a instanceof Hx) {
      var c = document.querySelector("ytmusic-app");
      void 0 !== c.sendAction && c.sendAction("yt-add-to-toast-action", [a.toCommand()]);
      return ph(void 0)
    }
    if (a.isModalEndpoint()) return this.dialogService.handleModalEndpoint(a);
    P("music_web_enable_library_v2") && a instanceof Jx && "FEmusic_liked" === a.data.browseId && (a = this.getRemappedLibraryEndpoint(a));
    this.startPageTimeline(a, "cpt");
    return this.mainContentManager.handleMainContentEndpoint(a).then(function() {
      b.playerUiService.isInactive() || b.playerUiService.collapsePlayerPage(fb(a.getVisualElement(), wr))
    })
  };
  f.getRemappedLibraryEndpoint = function(a) {
    a = fb(Zx(a.toCommand()), Jx);
    var b = this.store.getStateBySelector(Yz);
    a.data.browseId = b;
    return a
  };
  f.handlePlayerEndpoint = function(a) {
    var b = this,
      c = this.playerController.handleEndpoint(a).thenCatch(function(e) {
        cy("PLAYBACK_SESSION_STOP_TYPE_RESOLVE_VIDEO_FAILED", b.playerController.getPlayerApi().getVideoData().cpn || "");
        b.toastService.show(T("ERROR"));
        throw e;
      }),
      d = !N("IS_SUBSCRIBER", !1) || N("IS_MOBILE_WEB", !1);
    d ? this.updatePlayerPageUi(a, d) : this.subscribeToPlayerResponseChanges(a);
    return c
  };
  f.updatePlayerPageUi = function(a, b) {
    b ? this.playerUiService.openPlayerPage(fb(a.getVisualElement(), wr)) : (this.recordClickForPlayerEndpoint(a), this.playerUiService.isInactive() && this.playerUiService.collapsePlayerPage(fb(a.getVisualElement(), wr)))
  };
  f.onPlayerResponseChange = function(a, b) {
    this.unsubscribeFromPlayerResponseChanges();
    b = G("videoDetails.musicVideoType", b);
    this.updatePlayerPageUi(a, "MUSIC_VIDEO_TYPE_ATV" !== b && "MUSIC_VIDEO_TYPE_PRIVATELY_OWNED_TRACK" !== b)
  };
  f.subscribeToPlayerResponseChanges = function(a) {
    var b = this;
    this.unsubscribeFromPlayerResponseChanges();
    this.playerResponseChangedUnsubscriber = this.store.subscribeBySelector(rz, function(c) {
      return b.onPlayerResponseChange(a, c)
    })
  };
  f.unsubscribeFromPlayerResponseChanges = function() {
    this.playerResponseChangedUnsubscriber && (this.playerResponseChangedUnsubscriber(), this.playerResponseChangedUnsubscriber = null)
  };
  f.recordClickForPlayerEndpoint = function(a) {
    a.getVisualElement() ? mx(fb(a.getVisualElement(), wr)) : O(Error("Unable to record click, no tracking params or VE on endpoint: " + JSON.stringify(a)))
  };
  f.refreshCurrentPage = function() {
    var a = this.store.getStateBySelector(Zz);
    void 0 !== a.endpoint && this.navigate(a.endpoint)
  };
  f.maybeHandleSignedOutRedirectToGaia = function(a) {
    return a.isAuthenticationRequired() && !this.accountService.isUserSignedIn() ? (Zc(window.location, this.accountService.getSignInUrl()), !0) : !1
  };
  f.registerKeyboardShortcuts = function(a) {
    var b = this,
      c = new Map([
        ["FEmusic_home", "h"],
        ["FEmusic_trending", "t"],
        ["FEmusic_liked", "l"]
      ]),
      d = Ar(51767),
      e = {};
    c = y(c.entries());
    for (var g = c.next(); !g.done; e = {
        $jscomp$loop$prop$browseId$441: e.$jscomp$loop$prop$browseId$441
      }, g = c.next()) g = y(g.value), e.$jscomp$loop$prop$browseId$441 = g.next().value, g = g.next().value, a.registerKeySequence(["g", g], function(h) {
      return function() {
        var k = Zx({
          browseEndpoint: {
            browseId: h.$jscomp$loop$prop$browseId$441
          }
        });
        jx(d);
        k.clickTrackingVe =
          d;
        b.navigate(k)
      }
    }(e));
    a.registerKeySequence(["g", ","], function() {
      var h = Zx({
        applicationSettingsEndpoint: {}
      });
      jx(d);
      h.clickTrackingVe = d;
      b.navigate(h)
    })
  };
  var Yz = Dx("navigation.libraryTabBrowseId"),
    Zz = Dx("navigation.mainContent"),
    $z = ey.createSelector(Zz, function(a) {
      return a ? !!G("contents.singleColumnBrowseResultsRenderer.tabs.0.tabRenderer.content.sectionListRenderer.contents.0.itemSectionRenderer.contents.0.channelCustomGadgetRenderer", a.response) : !1
    }),
    aA = Dx("navigation.playerPageInfo.open"),
    bA = Dx("navigation.playerPageInfo.triggerElement");
  Xz.ctorParameters = function() {
    return [{
      type: az,
      decorators: [{
        type: R,
        args: [az]
      }]
    }, {
      type: Vz,
      decorators: [{
        type: R,
        args: [Vz]
      }]
    }, {
      type: Pz,
      decorators: [{
        type: R,
        args: [Pz]
      }]
    }, {
      type: Nz,
      decorators: [{
        type: R,
        args: [Nz]
      }]
    }, {
      type: Wz,
      decorators: [{
        type: R,
        args: [Wz]
      }]
    }, {
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }, {
      type: Iz,
      decorators: [{
        type: R,
        args: [Iz]
      }]
    }, {
      type: Yy,
      decorators: [{
        type: R,
        args: [Yy]
      }]
    }, {
      type: Hz,
      decorators: [{
        type: R,
        args: [Hz]
      }]
    }]
  };
  var cA = function() {};
  cA.prototype.showFeedbackDialog = function() {};
  cA.prototype.showFeedbackDialog = cA.prototype.showFeedbackDialog;
  cA.prototype.showHelpDialog = function() {};
  cA.prototype.showHelpDialog = cA.prototype.showHelpDialog;
  var dA = function(a) {
    var b = this;
    this.store = a;
    this.recentlyPlayedVideoIds = [];
    Rs(cA, this, !1);
    a.subscribeBySelector(oz, function(c) {
      return b.onPlayerEndpointChange(c)
    })
  };
  f = dA.prototype;
  f.showFeedbackDialog = function() {
    var a = M("CLIENT_APP_VERSION", ""),
      b = M("YTFE_BUILD_CHANGELIST", "");
    a = {
      authuser: M("SESSION_INDEX", "0"),
      productVersion: a ? a : b
    };
    this.getHelpApi().startFeedback(a);
    return !0
  };
  f.showHelpDialog = function() {
    var a = {
      context: this.getHelpContextId(),
      enableSendFeedback: !0
    };
    this.getHelpApi().startHelp(a)
  };
  f.getProductData = function() {
    var a = this.store.getStateBySelector(oz);
    a = a && a.watchEndpoint;
    var b = {
      clientAppVersion: M("CLIENT_APP_VERSION", ""),
      currentVideoId: a && a.videoId || "",
      currentPlaylistId: a && a.playlistId || "",
      environment: M("ENVIRONMENT", void 0),
      "experimentFlags:": JSON.stringify(M("EXPERIMENT_FLAGS", void 0)),
      forcedExperiments: M("FORCED_EXPERIMENTS", void 0).toString(),
      innertubeHostOverride: M("INNERTUBE_HOST_OVERRIDE", ""),
      recentlyPlayedVideoIds: this.recentlyPlayedVideoIds.toString(),
      ytfeBuild: M("YTFE_BUILD_CHANGELIST",
        ""),
      ytfeBuildTime: M("YTFE_BUILD_TIMESTAMP", "")
    };
    a = this.store.getStateBySelector(Zz) || {};
    (a = G("response.responseContext.serviceTrackingParams", a)) && (a = a.find(function(c) {
      return "GFEEDBACK" === c.service
    })) && a.params && a.params.forEach(function(c) {
      b[c.key] = c.value
    });
    return b
  };
  f.getHelpContextId = function() {
    var a = $x(window.location.href);
    return a ? a.getHelpContextId() : "music_web_default"
  };
  f.onPlayerEndpointChange = function(a) {
    if (a && a.watchEndpoint)
      for (this.recentlyPlayedVideoIds.push(a.watchEndpoint.videoId); 10 < this.recentlyPlayedVideoIds.length;) this.recentlyPlayedVideoIds.shift()
  };
  f.getHelpApi = function() {
    var a = {
      environment: M("ENVIRONMENT", void 0),
      helpCenterPath: "/youtubemusic",
      locale: M("LOCALE", ""),
      productData: this.getProductData()
    };
    a = Dh(Gh, "help.service.Lazy.create", "5030828", {
      apiKey: a.apiKey || a.apiKey,
      environment: a.environment || a.environment,
      helpCenterPath: a.helpCenterPath || a.helpCenterPath,
      locale: a.locale || a.locale || "en".replace(/-/g, "_"),
      nonce: a.nonce || a.nonce,
      productData: a.productData || a.productData,
      receiverUri: a.receiverUri || a.receiverUri,
      renderApiUri: a.renderApiUri ||
        a.renderApiUri,
      theme: a.theme || a.theme,
      window: a.window || a.window
    });
    return new Fh(a)
  };
  dA.ctorParameters = function() {
    return [{
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }]
  };
  var eA = function() {
    Rs(Ys, this, !1)
  };
  eA.prototype.getUrl = function(a) {
    if (a.urlEndpoint && a.urlEndpoint.url) return a.urlEndpoint.url;
    try {
      return Zx(a).getUrl()
    } catch (b) {
      O(b)
    }
    return null
  };
  eA.prototype.getNavigationEventDetails = function(a, b) {
    var c = ky(a);
    a = a.clickTrackingParams ? null : zg(b.target, function(d) {
      return !(!d || void 0 === d.visualElement)
    });
    c.musicEndpoint && a && (c.musicEndpoint.clickTrackingVe = a.visualElement);
    return c
  };
  ca.Object.defineProperties(eA, {
    parameters: {
      configurable: !0,
      enumerable: !0,
      get: function() {
        return []
      }
    }
  });
  var fA = Ar(18071),
    gA = function(a, b, c, d) {
      var e = this;
      this.navigator = a;
      this.playerController = b;
      this.playerUiService = c;
      this.store = d;
      window._ga_ = this;
      a = by();
      a = a.shouldGenerateHistoryEntry() ? a : ay();
      this.updateHistoryForEndpoint(a, !0);
      this.pendingNavigationCommandToIgnore = a.toCommand();
      this.pendingPlayerPageOpenedChange = a instanceof Xx || a instanceof Yx;
      $i(window, "popstate", this.handlePopstate, !1, this);
      this.store.subscribeBySelector(Zz, function(g, h) {
        e.onMainContentChanged(g, h)
      });
      this.store.subscribeBySelector(aA, function(g) {
        e.onPlayerPageOpenChanged(g)
      });
      this.store.subscribeBySelector(oz, function(g, h) {
        e.onPlayerEndpointChanged(g, h)
      })
    };
  f = gA.prototype;
  f.handlePopstate = function(a) {
    var b = Zx(a.getBrowserEvent().state.command);
    jx(fA);
    b.clickTrackingVe = fA;
    a = this.playerUiService.isPlayerPageOpen();
    b instanceof Xx ? (this.playerUiService.isInactive() && (b = this.lastWatchEndpoint ? this.lastWatchEndpoint : b, b.data.index = void 0, b.data.params = void 0, this.playerController.handleEndpoint(b)), a || (this.pendingPlayerPageOpenedChange = !0, this.playerUiService.openPlayerPage(fA))) : (a && (this.pendingPlayerPageOpenedChange = !0), this.pendingNavigationCommandToIgnore = b.toCommand(),
      this.navigator.navigate(b), Ku("nr", "h"))
  };
  f.onMainContentChanged = function(a, b) {
    if (a) {
      var c = b && hA(b.endpoint.toCommand(), a.endpoint.toCommand());
      hA(a.endpoint.toCommand(), this.pendingNavigationCommandToIgnore) || !a.endpoint.shouldGenerateHistoryEntry() || c || this.playerUiService.isPlayerPageOpen() || (c = jy(a.endpoint) && !!b && jy(b.endpoint), this.updateHistoryForEndpoint(a.endpoint, c));
      this.pendingNavigationCommandToIgnore = void 0;
      !b && a.endpoint instanceof Jx && "MUSIC_PAGE_TYPE_ALBUM" === a.endpoint.getPageType() && this.updateHistoryForEndpoint(a.endpoint,
        !0)
    }
  };
  f.onPlayerPageOpenChanged = function(a) {
    a ? (a = this.playerController.getCurrentEndpoint(), this.updateHistoryForEndpoint(a, this.pendingPlayerPageOpenedChange)) : this.pendingPlayerPageOpenedChange || this.pushStateForCurrentMainContent();
    this.pendingPlayerPageOpenedChange = !1
  };
  f.pushStateForCurrentMainContent = function() {
    var a = this.store.getStateBySelector(Zz).endpoint;
    this.updateHistoryForEndpoint(a)
  };
  f.onPlayerEndpointChanged = function(a, b) {
    (a = this.playerController.getCurrentEndpoint()) && this.playerUiService.isPlayerPageOpen() && this.updateHistoryForEndpoint(a, !0);
    !a && b && this.playerUiService.isInactive() && (this.lastWatchEndpoint = Zx(b))
  };
  f.updateHistoryForEndpoint = function(a, b) {
    (void 0 === b ? 0 : b) ? window.history.replaceState({
      command: a.toCommand()
    }, "", a.getUrl()): window.history.pushState({
      command: a.toCommand()
    }, "", a.getUrl())
  };
  gA.ctorParameters = function() {
    return [{
      type: Xz,
      decorators: [{
        type: R,
        args: [Xz]
      }]
    }, {
      type: Nz,
      decorators: [{
        type: R,
        args: [Nz]
      }]
    }, {
      type: Pz,
      decorators: [{
        type: R,
        args: [Pz]
      }]
    }, {
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }]
  };

  function hA(a, b) {
    return b ? a.clickTrackingParams || b.clickTrackingParams ? a.clickTrackingParams === b.clickTrackingParams : JSON.stringify(a) === JSON.stringify(b) : !1
  };

  function iA(a, b) {
    if (Polymer.IronFocusablesHelper.isFocusable(a) && b(a)) return a;
    a = ("content" === a.localName || "slot" === a.localName ? Array.from(Polymer.dom(a).getDistributedNodes()) : Array.from(Polymer.dom(a.root || a).children)).filter(function(d) {
      return d.nodeType === Node.ELEMENT_NODE
    });
    a = y(a);
    for (var c = a.next(); !c.done; c = a.next())
      if (c = iA(c.value, b)) return c
  }

  function jA(a) {
    (a = iA(a, function(b) {
      return ["H1".toString(), "H2".toString()].includes(b.tagName) || "heading" === b.getAttribute("role")
    })) && a.focus()
  }

  function kA(a, b, c, d) {
    if (!b && !c) return null;
    var e = b ? b.toUpperCase() : null;
    return lA(a, function(g) {
      return (!e || g.nodeName === e) && (!c || g.classList.contains(c))
    }, !0, d)
  }

  function lA(a, b, c, d) {
    d = void 0 === d ? Number.MAX_VALUE : d;
    if (!a) return null;
    (void 0 === c ? 0 : c) || (a = a.parentNode || a.host);
    for (c = 0; a && c <= d;) {
      if (b(a)) return a;
      a = a.parentNode || a.host;
      c++
    }
    return null
  };
  var mA = function(a) {
    var b = this;
    this.store = a;
    this.mainContentPagesByEndpointType = new Map;
    this.store.subscribeBySelector(Zz, function(c, d) {
      b.onMainContentDataChanged(c, d)
    });
    this.store.subscribeBySelector(aA, function(c) {
      b.onPlayerPageOpenChanged(c)
    })
  };
  f = mA.prototype;
  f.registerAppElement = function(a) {
    this.appElement = a
  };
  f.registerMainContentPage = function(a, b) {
    this.mainContentPagesByEndpointType.set(a, b)
  };
  f.registerPlayerPage = function(a) {
    this.playerPage = a
  };
  f.getTargetPage = function(a) {
    if (a instanceof Xx) return this.playerPage;
    for (var b = y(this.mainContentPagesByEndpointType), c = b.next(); !c.done; c = b.next()) {
      var d = y(c.value);
      c = d.next().value;
      d = d.next().value;
      if (a instanceof c) return d
    }
  };
  f.onMainContentDataChanged = function(a, b) {
    !a && b ? O(Error("Main content data was set to null.")) : a && (this.store.getStateBySelector(aA) || this.setActivePage(a.endpoint, a.response, b ? b.endpoint : void 0))
  };
  f.onPlayerPageOpenChanged = function(a) {
    var b = this.store.getStateBySelector(bA);
    if (a) a = this.store.getStateBySelector(oz), a = Zx(a), a.clickTrackingVe = b, this.setActivePage(a);
    else if (a = this.store.getStateBySelector(Zz)) {
      var c = Zx(a.endpoint.toCommand());
      c.clickTrackingVe = b;
      this.setActivePage(c, a.response)
    }
  };
  f.setActivePage = function(a, b, c) {
    var d = this,
      e = this.getTargetPage(a);
    if (e) {
      var g = e === this.playerPage || this.currentlyActivePage === this.playerPage;
      this.currentlyActivePage && (this.currentlyActivePage.hidden = !g, this.currentlyActivePage.active = !1);
      var h = this.currentlyActivePage;
      this.currentlyActivePage = e;
      this.graftScreen(a, b);
      e.hidden = !1;
      e.active = !0;
      e.loadPage(b || null);
      b = jy(a) && jy(c);
      g || b || e.setScrollTop(0);
      if (e === this.playerPage && h) {
        var k = function(m) {
          m.target === e && (e.removeEventListener("transitionend",
            k), d.maybeToggleLibraryClass(a), jA(e), h.hidden = !0)
        };
        e.addEventListener("transitionend", k)
      } else this.maybeToggleLibraryClass(a), b || Tz().then(function() {
        jA(e)
      });
      this.appElement.sendOptionalAction("yt-close-all-popups-action", [
        ["ytmusic-mealbar-promo-renderer"]
      ]);
      this.reportRenderTime()
    } else O(Error("No corresponding page found for endpoint: " + JSON.stringify(a)))
  };
  f.graftScreen = function(a, b) {
    a.getVisualElement() !== fx ? ix(a, b && void 0 !== b.trackingParams ? b.trackingParams : void 0) : (b && void 0 !== b.trackingParams && jx(xr(b.trackingParams)), 1 !== hx && O(Error("Endpoint had cold load VE attached but no screen grafted during app init. Endpoint: " + JSON.stringify(a))))
  };
  f.reportRenderTime = function() {
    return Qm(this, void 0, void 0, function b() {
      return xa(b, function(c) {
        if (1 == c.nextAddress) return document.hidden ? (zu("ne"), c.jumpTo(0)) : c.yield(Tz(), 3);
        lu("cpt");
        c.jumpToEnd()
      })
    })
  };
  f.maybeToggleLibraryClass = function(a) {
    a = a instanceof Jx && "FEmusic_liked" === a.data.browseId || jy(a);
    document.documentElement.classList.toggle("library", a)
  };
  mA.ctorParameters = function() {
    return [{
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }]
  };
  var nA = function(a) {
    var b = this;
    this.playerUiService = a;
    window.addEventListener("message", function(c) {
      b.handleMessage(c)
    })
  };
  nA.prototype.handleMessage = function(a) {
    var b = M("MESSAGE_ALLOWED_ORIGINS", void 0);
    b && b.includes(a.origin) && "yt-gadget-playback-initiated" === a.data && this.playerUiService.enterHiddenMode()
  };
  nA.ctorParameters = function() {
    return [{
      type: Pz,
      decorators: [{
        type: R,
        args: [Pz]
      }]
    }]
  };
  var oA = function(a) {
    var b = this;
    P("music_web_enable_player_attestation") && a.subscribeBySelector(rz, function(c) {
      return b.onPlayerResponseChange(c)
    })
  };
  oA.prototype.onPlayerResponseChange = function(a) {
    if (a = G("attestation.playerAttestationRenderer.botguardData", a)) a.program && Ld({
      BG_P: a.program
    }), a.interpreterUrl && Ld({
      BG_IU: a.interpreterUrl
    }), a.interpreter && Ld({
      BG_I: a.interpreter
    }), a = M("BG_P", void 0), tp(a) && (M("BG_I") || M("BG_IU")) && (pp = !0, op.initialize(M("BG_I", null), M("BG_IU", null), a, sp, void 0))
  };
  oA.ctorParameters = function() {
    return [{
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }]
  };
  var qA = function(a, b) {
    var c = this;
    this.playerApi = a;
    this.mealbarOpenResolver = null;
    b.subscribeBySelector(pA, function(d) {
      d && c.processWatchNextOverlay(d)
    });
    b.subscribeBySelector(Zz, function(d) {
      c.processPageResponse(d.response)
    });
    this.playerApi.addEventListener("videodatachange", function(d) {
      return c.onVideoDataChange(d)
    })
  };
  f = qA.prototype;
  f.processDisplayConfig = function() {
    var a = M("DISPLAY_CONFIG");
    a && a.persistentPromo && (a = a.persistentPromo.mealbarPromoRenderer) && this.processMealbar(a)
  };
  f.processPageResponse = function(a) {
    (a = G("overlay.mealbarPromoRenderer", a)) && this.processMealbar(a)
  };
  f.processWatchNextOverlay = function(a) {
    (a = a.mealbarPromoRenderer) && this.processMealbar(a)
  };
  f.onVideoDataChange = function(a) {
    "dataloaded" === a && (a = this.playerApi.getPlayerResponse()) && this.processPlayerResponse(a)
  };
  f.processPlayerResponse = function(a) {
    a.messages && (a = a.messages.find(function(b) {
      return !!b.mealbarPromoRenderer
    })) && a.mealbarPromoRenderer && this.processMealbar(a.mealbarPromoRenderer)
  };
  f.processMealbar = function(a) {
    var b = this;
    this.mealbarOpenResolver && this.mealbarOpenResolver.promise.cancel();
    if (a.isVisible) {
      this.mealbarOpenResolver = vh();
      this.mealbarOpenResolver.promise.then(function() {
        b.openMealbarPopup(a)
      });
      switch (a.triggerCondition) {
        case "TRIGGER_CONDITION_POST_AD":
          this.playerApi.addEventListener("onAdEnd", this.mealbarOpenResolver.resolve);
          this.mealbarOpenResolver.promise.then(function() {
            b.mealbarOpenResolver && b.playerApi.removeEventListener("onAdEnd", b.mealbarOpenResolver.resolve)
          });
          break;
        default:
          this.mealbarOpenResolver.resolve()
      }
      this.mealbarOpenResolver.promise.thenAlways(function() {
        b.mealbarOpenResolver = null
      })
    } else this.sendImpressionEndpoints(a)
  };
  f.openMealbarPopup = function(a) {
    a = {
      popup: {
        mealbarPromoRenderer: a
      },
      popupType: "MEALBAR"
    };
    lt.getInstance().triggerOptionalAction("yt-open-popup-action", {
      openPopupAction: a
    }, {})
  };
  f.sendImpressionEndpoints = function(a) {
    a.impressionEndpoints && a.impressionEndpoints.length && lt.getInstance().triggerOptionalAction("yt-service-request", {}, a.impressionEndpoints[0])
  };
  qA.ctorParameters = function() {
    return [{
      type: void 0,
      decorators: [{
        type: R,
        args: [cz]
      }]
    }, {
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }]
  };
  var pA = Dx("playerPage.watchNextOverlay");
  var rA = function(a) {
    var b = this;
    P("music_web_enable_install_prompt") && (a.addEventListener("beforeinstallprompt", function(c) {
      return b.beforeinstallpromptHandler(c)
    }), a.addEventListener("appinstalled", this.appInstalledHandler))
  };
  rA.prototype.beforeinstallpromptHandler = function(a) {
    a.preventDefault();
    this.deferredInstallPrompt = a
  };
  rA.prototype.appInstalledHandler = function() {};
  rA.ctorParameters = function() {
    return [{
      type: Window,
      decorators: [{
        type: R,
        args: [Window]
      }]
    }]
  };
  var sA = function(a) {
    var b = this;
    P("music_web_enable_service_worker") && (new Promise(function(c) {
      "complete" === document.readyState && c();
      a.addEventListener("load", c, {
        once: !0
      })
    })).then(function() {
      b.installServiceWorker()
    })
  };
  sA.prototype.installServiceWorker = function() {
    return Qm(this, void 0, void 0, function b() {
      var c, d, e;
      return xa(b, function(g) {
        if (1 == g.nextAddress) {
          if (!("serviceWorker" in navigator)) return g.return(Promise.resolve());
          c = Vd("music_web_service_worker_caching_strategy");
          g.setCatchFinallyBlocks(2);
          d = "/sw.js" + (c ? "" : "?0");
          return g.yield(navigator.serviceWorker.register(d, {
            scope: "./"
          }), 4)
        }
        if (2 != g.nextAddress) return g.leaveTryBlock(0);
        e = g.enterCatchBlock();
        Lq(e, "WARNING");
        g.jumpToEnd()
      })
    })
  };
  sA.ctorParameters = function() {
    return [{
      type: Window,
      decorators: [{
        type: R,
        args: [Window]
      }]
    }]
  };
  var tA = function(a) {
    var b = this;
    this.playerApi = a;
    this.popupTargetElement = document.createElement("div");
    P("music_web_autoplay_blocked_prompt") && this.playerApi.addEventListener("onDompaused", function() {
      return b.onDomPaused()
    })
  };
  tA.prototype.onDomPaused = function() {
    var a = this,
      b = lt.getInstance();
    this.popupTargetElement.addEventListener("yt-popup-opened", function() {
      a.popupTargetElement.focus()
    }, {
      once: !0
    });
    var c = {
      popup: {
        bubbleHintRenderer: {
          text: dt(T("START_PLAYBACK")),
          style: "BUBBLE_HINT_STYLE_BLUE_TOOLTIP"
        }
      },
      popupType: "HINT",
      durationHintMs: 0
    };
    b.triggerOptionalAction("yt-open-popup-action", {
      openPopupAction: c
    }, this.popupTargetElement);
    Ku("prt", 1)
  };
  tA.ctorParameters = function() {
    return [{
      type: void 0,
      decorators: [{
        type: R,
        args: [cz]
      }]
    }]
  };
  var uA = function(a) {
    Uk.call(this);
    this.injectionParent = a
  };
  z(uA, Uk);
  uA.prototype.createDragElementInternal = function(a) {
    return Sv(a.tagName, this.injectionParent)
  };
  var vA = function(a) {
    jl.call(this, a, 132)
  };
  z(vA, jl);
  vA.prototype.calculateScrollDelta = function(a, b, c) {
    var d = 0;
    a < b ? d = a < b - 100 ? -48 : -8 : a > b + c && (d = a > b + c + 100 ? 48 : 8);
    return d
  };
  var wA = new Map([
    ["ADD_TO_PLAYLIST", "playlist_add"],
    ["ADD_TO_REMOTE_QUEUE", "add_to_queue"],
    ["FAVORITE", "like_outline"],
    ["SHUFFLE", "music_shuffle"],
    ["QUEUE_PLAY_NEXT", "playlists"],
    ["UNFAVORITE", "like"]
  ]);

  function xA(a) {
    return wA.has(a) ? "yt-icons:" + wA.get(a) : Cv(a)
  };
  var yA = function(a, b) {
    var c = this;
    this.basePageTitle = document.title;
    this.currentItemTitle = "";
    this.playerApi = b.getPlayerApi();
    a.subscribeBySelector(lz, function(d) {
      c.currentItemTitle = d ? it(d.title) : ""
    });
    this.playerApi.addEventListener("onStateChange", function(d) {
      1 === d ? c.setPageTitle(c.currentItemTitle) : c.setPageTitle("")
    })
  };
  yA.prototype.setPageTitle = function(a) {
    a = a ? a + " - " + this.basePageTitle : this.basePageTitle;
    document.title = a
  };
  yA.ctorParameters = function() {
    return [{
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }, {
      type: Nz,
      decorators: [{
        type: R,
        args: [Nz]
      }]
    }]
  };
  var zA = new Map([
      [-3, "(max-width: 359px)"],
      [-2, "(min-width: 360px) and (max-width: 480px)"],
      [-1, "(min-width: 481px) and (max-width: 740px)"],
      [0, "(min-width: 741px) and (max-width: 1060px)"],
      [1, "(min-width: 1061px)"]
    ]),
    AA = function() {
      P("music_web_enable_double_decker_player_bar") && (this.updatePlayerBarViewportSize(), this.monitorPlayerBarViewportSizeChanges())
    };
  AA.prototype.monitorPlayerBarViewportSizeChanges = function() {
    for (var a = this, b = {}, c = y(zA), d = c.next(); !d.done; b = {
        $jscomp$loop$prop$viewportSize$443: b.$jscomp$loop$prop$viewportSize$443
      }, d = c.next()) d = y(d.value), b.$jscomp$loop$prop$viewportSize$443 = d.next().value, d = d.next().value, window.matchMedia(d).addListener(function(e) {
      return function(g) {
        g.matches && a.playerBarViewportSizeChanged(e.$jscomp$loop$prop$viewportSize$443)
      }
    }(b))
  };
  AA.prototype.updatePlayerBarViewportSize = function() {
    for (var a = y(zA), b = a.next(); !b.done; b = a.next()) {
      var c = y(b.value);
      b = c.next().value;
      c = c.next().value;
      window.matchMedia(c).matches && this.playerBarViewportSizeChanged(b)
    }
  };
  AA.prototype.playerBarViewportSizeChanged = function(a) {
    document.dispatchEvent(new CustomEvent("ytmusic-player-bar-breakpoints-changed", {
      detail: a
    }))
  };
  AA.ctorParameters = function() {
    return []
  };
  var BA = function(a, b, c, d) {
    var e = this;
    this.toastService = a;
    this.playerController = b;
    this.queue = c;
    this.dialogService = d;
    b.getPlayerApi().addEventListener("onDetailedError", function(g) {
      e.onPlayerError(g)
    })
  };
  BA.prototype.onPlayerError = function(a) {
    if (!this.maybePromptForAgeVerification()) {
      var b = this.playerController.getCurrentEndpoint();
      b = JSON.stringify(b && b.toCommand());
      var c = JSON.stringify(a);
      switch (a.errorCode) {
        case "heartbeat.stop":
          var d = "PLAYBACK_SESSION_STOP_TYPE_DISALLOWED";
          this.handleConcurrentStreamError();
          break;
        case "auth":
          d = "PLAYBACK_SESSION_STOP_TYPE_DISALLOWED";
          O(Error("Unavailable video: " + b + ". Error. " + c));
          if (N("LOGGED_IN", !1) || !P("enable_web_music_player_error_message_renderer")) this.toastService.show(T("ERROR_PLAYBACK")),
            this.queue.moveForward(!0);
          break;
        default:
          d = "PLAYBACK_SESSION_STOP_TYPE_PLAYER_FAILED", this.toastService.show(a.message), O(Error("Unhandled player error for " + b + ". Error: " + c + ".")), this.queue.moveForward(!0)
      }
      cy(d, this.playerController.getPlayerApi().getVideoData().cpn || "")
    }
  };
  BA.prototype.handleConcurrentStreamError = function() {
    var a = this.playerController.getCurrentEndpoint();
    a ? (a = JSON.parse(JSON.stringify(a.toCommand())), a.watchEndpoint.continuePlayback = !0, a = {
      title: dt(T("CONCURRENT_STREAM_TITLE")),
      dialogMessages: [dt(T("CONCURRENT_STREAM_MESSAGE"))],
      confirmButton: {
        buttonRenderer: {
          text: dt(T("SWITCH")),
          navigationEndpoint: a
        }
      },
      cancelButton: {
        buttonRenderer: {
          text: dt(T("NOT_NOW"))
        }
      }
    }, this.dialogService.openConfirmDialog(a)) : (O(Error("Undefined endpoint when handling concurrent stream error.")),
      location.reload())
  };
  BA.prototype.maybePromptForAgeVerification = function() {
    var a = this.playerController.getPlayerApi().getPlayerResponse();
    a = a && a.playabilityStatus;
    var b = G("errorScreen.playerKavRenderer", a),
      c = this.playerController.getCurrentEndpoint();
    if (!a || !b || !c || "AGE_CHECK_REQUIRED" !== a.status) return !1;
    if (!/.*prev=https:\/\/www.youtube.com\/kav_complete\?next_url=.*/.test(b.kavUrl)) return O(Error("Received KAV Url did not match expected format. Received URL: " + b.kavUrl)), !1;
    var d = new sl(b.kavUrl),
      e = new sl(d.getQueryData().get("prev"));
    e.setQuery("next_url=" + this.getOrigin() + "/" + c.getUrl());
    d.getQueryData().set("prev", e.toString());
    a = {
      dialogMessages: [dt(a.reason)],
      confirmButton: {
        buttonRenderer: {
          text: dt(b.title),
          navigationEndpoint: {
            urlEndpoint: {
              url: d.toString()
            }
          }
        }
      },
      cancelButton: {
        buttonRenderer: {
          text: dt(T("CANCEL"))
        }
      }
    };
    this.dialogService.openConfirmDialog(a);
    return !0
  };
  BA.prototype.getOrigin = function() {
    return window.location.origin
  };
  BA.ctorParameters = function() {
    return [{
      type: Yy,
      decorators: [{
        type: R,
        args: [Yy]
      }]
    }, {
      type: Nz,
      decorators: [{
        type: R,
        args: [Nz]
      }]
    }, {
      type: Iz,
      decorators: [{
        type: R,
        args: [Iz]
      }]
    }, {
      type: Vz,
      decorators: [{
        type: R,
        args: [Vz]
      }]
    }]
  };
  var CA = null;

  function DA(a, b, c) {
    c = void 0 === c ? !0 : c;
    return new lh(function(d) {
      if ("scrollBehavior" in document.documentElement.style) {
        a.style.scrollBehavior = "smooth";
        c ? a.scrollTop = b : Qk(a, b);
        var e = wb(function() {
          window.removeEventListener("scroll", e, {
            capture: !0
          });
          a.style.scrollBehavior = "auto";
          d()
        }, 50);
        window.addEventListener("scroll", e, {
          passive: !0,
          capture: !0
        });
        e()
      } else {
        var g = c ? a.scrollTop : Ok(a),
          h = b - g,
          k = new KeyframeEffect(a, [], {
            duration: Math.max(Math.ceil(h / 4), 500),
            easing: "ease"
          });
        k.onsample = function(m, l) {
          null == m && (m = 1);
          c ? l.target.scrollTop = g + m * h : Qk(l.target, g + m * h)
        };
        k = new Animation(k, document.timeline);
        k.play();
        k.finished.then(function() {
          return d()
        })
      }
    })
  };

  function EA(a) {
    if (0 >= a) return "0:00";
    var b = Math.floor(a / 3600),
      c = Math.floor(a / 60) % 60;
    a %= 60;
    var d = "";
    b && (d += b + ":");
    b && 10 > c && (d += "0");
    d += c + ":";
    10 > a && (d += "0");
    return d + a
  };
  var FA = new Map([
      [-3, "(max-width: 615px)"],
      [-2, "(min-width: 616px) and (max-width: 935px)"],
      [-1, "(min-width: 936px) and (max-width: 1149px)"],
      [0, "(min-width: 1150px) and (max-width: 1363px)"],
      [1, "(min-width: 1364px) and (max-width: 1577px)"],
      [2, "(min-width: 1578px) and (max-width: 1799px)"],
      [3, "(min-width: 1800px)"]
    ]),
    GA = Object.freeze([-3, -2, -1]),
    HA = function(a) {
      this.store = a;
      this.notifyChange(this.getCurrentViewportSize());
      this.monitorViewportSizeChanges()
    };
  HA.prototype.getCurrentViewportSize = function() {
    for (var a = y(FA), b = a.next(); !b.done; b = a.next()) {
      var c = y(b.value);
      b = c.next().value;
      c = c.next().value;
      if (window.matchMedia(c).matches) return b
    }
  };
  HA.prototype.monitorViewportSizeChanges = function() {
    for (var a = this, b = {}, c = y(FA), d = c.next(); !d.done; b = {
        $jscomp$loop$prop$viewportSize$445: b.$jscomp$loop$prop$viewportSize$445
      }, d = c.next()) d = y(d.value), b.$jscomp$loop$prop$viewportSize$445 = d.next().value, d = d.next().value, window.matchMedia(d).addListener(function(e) {
      return function(g) {
        g.matches && a.notifyChange(e.$jscomp$loop$prop$viewportSize$445)
      }
    }(b))
  };
  HA.prototype.notifyChange = function(a) {
    var b = GA.includes(a);
    document.dispatchEvent(new CustomEvent("ytmusic-content-breakpoints-changed", {
      bubbles: !0,
      detail: {
        fluid: b
      }
    }));
    this.store.dispatch({
      type: "SET_VIEWPORT_INFO",
      payload: {
        size: a,
        fluid: b
      }
    })
  };
  HA.ctorParameters = function() {
    return [{
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }]
  };
  var IA = Dx("ui.viewportInfo"),
    JA = Dx("ui.viewportInfo.size");
  var KA = function(a, b, c) {
    var d = this;
    this.store = a;
    this.dialogService = b;
    this.playerApi = c;
    this.showDialogJobId = this.showPromptJobId = -1;
    this.actionHandlerElement = document.createElement("div");
    P("music_enable_you_there") && this.store.subscribeBySelector(rz, function(e) {
      return d.onPlayerResponseChange(e)
    })
  };
  f = KA.prototype;
  f.registerUserActivityHandler = function() {
    var a = this,
      b = lt.getInstance().actionRoutingMap,
      c = b.get("yt-user-activity") || new Map;
    c.set(this.actionHandlerElement, function() {
      return a.onUserActivity()
    });
    b.set("yt-user-activity", c)
  };
  f.deregisterUserActivityHandler = function() {
    var a = lt.getInstance().actionRoutingMap.get("yt-user-activity");
    a && a.delete(this.actionHandlerElement)
  };
  f.reset = function() {
    S.cancelJob(this.showPromptJobId);
    this.showPromptJobId = -1;
    S.cancelJob(this.showDialogJobId);
    this.showDialogJobId = -1;
    this.deregisterUserActivityHandler();
    this.youThereData = void 0
  };
  f.onUserActivity = function() {
    if (-1 !== this.showDialogJobId && this.youThereData) {
      lt.getInstance().triggerAction("yt-close-popup-action", "yt-notification-action-renderer");
      var a = {
        popup: {
          notificationActionRenderer: {
            responseText: this.youThereData.followUpText
          }
        },
        popupType: "TOAST"
      };
      lt.getInstance().triggerAction("yt-open-popup-action", {
        openPopupAction: a
      }, document.querySelector("YTMUSIC-APP"))
    }
    this.reset()
  };
  f.onPlayerResponseChange = function(a) {
    a && a.messages && (a = a.messages.find(function(b) {
      return !!b.youThereRenderer
    })) && this.processYouThereRenderer(a.youThereRenderer)
  };
  f.processYouThereRenderer = function(a) {
    var b = this;
    this.reset();
    if (1 === this.playerApi.getPlayerState() || 3 === this.playerApi.getPlayerState())
      if (this.youThereData = G("configData.youThereData", a)) {
        var c = this.playerApi.getCurrentTime();
        this.showPromptJobId = S.addIdlePriorityJob(function() {
          return b.maybeShowYouTherePrompt(a)
        }, 1E3 * Math.max((this.youThereData.promptDelaySec || 0) - c, 0))
      }
  };
  f.maybeShowYouTherePrompt = function(a) {
    var b = this;
    if (this.youThereData) {
      var c = this.youThereData.lactThresholdMs || 0;
      ir() < c ? ks("YOU_THERE_EVENT_TYPE_BELOW_LACT_THRESHOLD") : (c = this.youThereData.playbackPauseDelayMs || 0, 0 < c && this.showPrompt(), this.showDialogJobId = S.addIdlePriorityJob(function() {
        return b.openDialog(a)
      }, c), this.registerUserActivityHandler())
    }
  };
  f.showPrompt = function() {
    if (this.youThereData) {
      var a = {
        popup: {
          notificationActionRenderer: {
            responseText: this.youThereData.userPromptText,
            actionButton: this.youThereData.actionButton
          }
        },
        popupType: "TOAST",
        durationHintMs: 0
      };
      lt.getInstance().triggerAction("yt-open-popup-action", {
        openPopupAction: a
      }, document.querySelector("YTMUSIC-APP"));
      ks("YOU_THERE_EVENT_TYPE_PROMPT_SHOWN")
    }
  };
  f.openDialog = function(a) {
    this.dialogService.openYouThereDialog(a);
    lt.getInstance().triggerAction("yt-close-popup-action", "yt-notification-action-renderer");
    this.reset()
  };
  KA.ctorParameters = function() {
    return [{
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }, {
      type: Vz,
      decorators: [{
        type: R,
        args: [Vz]
      }]
    }, {
      type: void 0,
      decorators: [{
        type: R,
        args: [cz]
      }]
    }]
  };
  var LA = function(a) {
    this.dialogService = a;
    this.dragEnteredElements = new Set;
    this.attachDragListeners()
  };
  f = LA.prototype;
  f.attachDragListeners = function() {
    var a = this;
    $i(document.body, "dragenter", function(b) {
      a.handleDragEnter(b)
    });
    $i(document.body, "dragleave", function(b) {
      a.handleDragLeave(b)
    });
    $i(document.body, "drop", function() {
      a.handleDrop()
    })
  };
  f.handleDragEnter = function(a) {
    if (P("enable_web_upload_support") && N("LOGGED_IN", !1)) {
      var b = a.getBrowserEvent() && a.getBrowserEvent().dataTransfer;
      if (!b || b.types.includes("Files")) 0 !== this.dragEnteredElements.size || this.isDropFilesDialogOpen() || this.dialogService.openDropFilesDialog(), this.dragEnteredElements.add(a.target)
    }
  };
  f.handleDragLeave = function(a) {
    this.dragEnteredElements.delete(a.target);
    0 === this.dragEnteredElements.size && this.isDropFilesDialogOpen() && this.dialogService.closeDialog("dropFiles")
  };
  f.handleDrop = function() {
    this.dragEnteredElements.clear();
    this.isDropFilesDialogOpen() && this.dialogService.closeDialog("dropFiles")
  };
  f.isDropFilesDialogOpen = function() {
    return this.dialogService.isDialogOpen("dropFiles")
  };
  LA.ctorParameters = function() {
    return [{
      type: Vz,
      decorators: [{
        type: R,
        args: [Vz]
      }]
    }]
  };
  var MA = new Gn("JS_MEDIA_TAGS"),
    NA = window.jsmediatags;
  var OA = Dx("uploads.fileUploads"),
    PA = ey.createSelector(OA, function(a) {
      return a.filter(function(b) {
        return 0 === b.transferState
      })
    }),
    QA = ey.createSelector(OA, function(a) {
      return a.filter(function(b) {
        return 1 === b.transferState
      })
    }),
    RA = ey.createSelector(OA, function(a) {
      return a.filter(function(b) {
        return 2 === b.transferState
      })
    }),
    SA = ey.createSelector(OA, function(a) {
      return a.filter(function(b) {
        return 3 === b.transferState
      })
    }),
    TA = ey.createSelector(QA, function(a) {
      return a.length
    });
  var UA = Object.freeze("audio/mp3 audio/mpeg audio/m4a audio/mp4 audio/x-m4a x-ms-wma audio/flac audio/ogg".split(" ")),
    VA = M("UPLOAD_URL", ""),
    WA = function(a, b) {
      this.store = a;
      this.uploader = b;
      this.fileUploadCreatedCount = 0
    };
  f = WA.prototype;
  f.getFlattenedFileList = function(a, b, c) {
    c = void 0 === c ? [] : c;
    var d = [];
    a = y(a);
    for (var e = a.next(); !e.done; e = a.next()) e = e.value, UA.includes(e.type) && d.push({
      file: e,
      path: c
    });
    b = y(b);
    for (a = b.next(); !a.done; a = b.next()) a = a.value, a = this.getFlattenedFileList(a.getFiles(), a.getDirectories(), c.concat([a.getName()])), d = d.concat(a);
    return d
  };
  f.uploadFiles = function(a) {
    var b = this;
    a = a.map(function(c) {
      return b.createFileUpload(c)
    });
    this.store.dispatch({
      type: "ADD_FILE_UPLOADS",
      payload: a
    });
    this.uploadNext()
  };
  f.cancelInProgressUploads = function() {
    var a = this.store.getStateBySelector(QA);
    a = y(a);
    for (var b = a.next(); !b.done; b = a.next()) b = b.value, b.transfer.cancel(), this.store.dispatch({
      type: "RESET_UPLOAD",
      payload: {
        id: b.id
      }
    })
  };
  f.clearUnfinishedUploads = function() {
    this.store.dispatch({
      type: "CLEAR_UNSTARTED_FILE_UPLOADS",
      payload: void 0
    })
  };
  f.clearUploads = function() {
    this.store.dispatch({
      type: "CLEAR_ALL_FILE_UPLOADS",
      payload: void 0
    })
  };
  f.createFileUpload = function(a) {
    return {
      id: this.getNextUploadId(),
      decoratedFile: a,
      transferState: 0,
      transferredBytes: 0
    }
  };
  f.getNextUploadId = function() {
    return "" + this.fileUploadCreatedCount++
  };
  f.uploadNext = function() {
    if (1 !== this.getInProgressFileUploadCount()) {
      var a = this.getNextUnstartedUpload();
      a && (this.startTransfer(a), 1 > this.getInProgressFileUploadCount() && this.uploadNext())
    }
  };
  f.getInProgressFileUploadCount = function() {
    return this.store.getStateBySelector(TA)
  };
  f.getNextUnstartedUpload = function() {
    return this.store.getStateBySelector(PA)[0]
  };
  f.startTransfer = function(a) {
    var b = this,
      c = this.uploader.newTransfer(VA, "POST", {}, a.decoratedFile.file, "filename=" + a.decoratedFile.file.name, !0);
    this.store.dispatch({
      type: "UPDATE_UPLOAD_WITH_TRANSFER",
      payload: {
        id: a.id,
        transfer: c
      }
    });
    this.notifyProgress(a.id, "UPDATE_PROGRESS", c);
    c.addEventListener("e", function() {
      b.notifyProgress(a.id, "UPDATE_PROGRESS", c)
    });
    c.addEventListener("f", function() {
      return b.handleFinalResponseReceived(a, c)
    });
    c.addEventListener("h", function() {
      return b.handleError(a, c)
    });
    c.run()
  };
  f.handleFinalResponseReceived = function(a, b) {
    200 !== b.getResponseCode() ? this.handleError(a, b) : (this.notifyProgress(a.id, "MARK_SUCCESS", b), this.uploadNext())
  };
  f.handleError = function(a, b) {
    this.notifyProgress(a.id, "MARK_ERROR", b);
    this.uploadNext()
  };
  f.notifyProgress = function(a, b, c) {
    this.store.dispatch({
      type: b,
      payload: {
        id: a,
        transferredBytes: c.getBytesTransferred() || 0
      }
    })
  };
  WA.ctorParameters = function() {
    return [{
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }, {
      type: Ko,
      decorators: [{
        type: R,
        args: [Ko]
      }]
    }]
  };
  var XA = function(a) {
    var b = this;
    this.uploadController = a;
    $i(window, "online", function() {
      b.handleOnline()
    });
    $i(window, "offline", function() {
      b.handleOffline()
    })
  };
  XA.prototype.handleOnline = function() {
    this.uploadController.uploadNext()
  };
  XA.prototype.handleOffline = function() {
    this.uploadController.cancelInProgressUploads()
  };
  XA.ctorParameters = function() {
    return [{
      type: WA,
      decorators: [{
        type: R,
        args: [WA]
      }]
    }]
  };
  var YA = function(a, b) {
    var c = this;
    this.dialogService = a;
    this.store = b;
    this.store.subscribeBySelector(OA, function(d) {
      return c.onFileUploadsChanged(d)
    })
  };
  YA.prototype.onFileUploadsChanged = function(a) {
    a.some(function(b) {
      return 0 === b.transferState || 1 === b.transferState
    }) ? this.handleHasUnfinishedUploads() : this.handleHasNoUnfinishedUploads(a)
  };
  YA.prototype.handleHasUnfinishedUploads = function() {
    this.dialogService.isDialogOpen("uploadProgression") || this.dialogService.openUploadProgressionDialog();
    this.dialogService.isDialogOpen("uploadsComplete") && this.dialogService.closeDialog("uploadsComplete")
  };
  YA.prototype.handleHasNoUnfinishedUploads = function(a) {
    this.dialogService.isDialogOpen("uploadProgression") && this.dialogService.closeDialog("uploadProgression");
    (a = a.some(function(b) {
      return 2 === b.transferState || 3 === b.transferState
    })) && !this.dialogService.isDialogOpen("uploadsComplete") && this.dialogService.openUploadsCompleteDialog();
    !a && this.dialogService.isDialogOpen("uploadsComplete") && this.dialogService.closeDialog("uploadsComplete")
  };
  YA.ctorParameters = function() {
    return [{
      type: Vz,
      decorators: [{
        type: R,
        args: [Vz]
      }]
    }, {
      type: Y,
      decorators: [{
        type: R,
        args: [Y]
      }]
    }]
  };
  var ZA = Y.getInstance();
  window.store = ZA;
  var $A = PolymerRedux(ZA.store),
    aB = {
      ready: $A.ready,
      attached: $A.attached,
      detached: $A.detached,
      dispatch: $A.dispatch,
      getState: $A.getState,
      getStateBySelector: ZA.getStateBySelector.bind(ZA),
      subscribeBySelector: ZA.subscribeBySelector.bind(ZA)
    };
  Polymer({
    is: "ytmusic-app-layout",
    behaviors: [X.InjectBehavior, aB],
    inject: {
      playerApi_: cz,
      playerUiService_: Pz,
      shortcutManager_: Hz
    },
    properties: {
      isCustomGadgetPage: {
        type: Boolean,
        statePath: $z,
        reflectToAttribute: !0
      },
      playerPageOpen_: {
        type: Boolean,
        statePath: aA,
        observer: "playerPageOpenChanged_",
        reflectToAttribute: !0
      },
      playerFullscreened_: {
        type: Boolean,
        statePath: uz,
        reflectToAttribute: !0
      },
      playerVisible_: {
        type: Boolean,
        statePath: Rz,
        reflectToAttribute: !0
      },
      showFullscreenControls_: {
        type: Boolean,
        computed: "computeShowFullscreenControls_(isMouseMovingInsideYtPlayer_, isMouseInsidePlayerBar_)",
        reflectToAttribute: !0
      },
      isMouseMovingInsideYtPlayer_: Boolean,
      isMouseInsidePlayerBar_: Boolean,
      noAnimation: {
        type: Boolean,
        reflectToAttribute: !0
      },
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      }
    },
    created: function() {
      this.boundOnContentScroll_ = this.onContentScroll_.bind(this)
    },
    ready: function() {
      var a = this;
      this.playerApi_.addEventListener("onShowControls", function() {
        return a.onPlayerControlsVisibilityChanged_(!0)
      });
      this.playerApi_.addEventListener("onHideControls", function() {
        return a.onPlayerControlsVisibilityChanged_(!1)
      });
      this.shortcutManager_.register("esc", function() {
        return a.dismissPlayerUi_()
      })
    },
    attached: function() {
      this.measureNativeScrollbar_();
      this.showVisibleElement_();
      this.hideInvisibleElement_();
      document.addEventListener("scroll", this.boundOnContentScroll_, {
        passive: !0
      });
      this.listen(this.playerBar, "mouseenter", "onMouseEnterPlayerBar_");
      this.listen(this.playerBar, "mouseleave", "onMouseLeavePlayerBar_");
      this.listen(this.playerPage, "transitionend", "onPlayerPageTransitionEnd_");
      this.listen(document, "ytmusic-sticky-element-stuck", "handleStickyElementStuck_");
      this.listen(document, "ytmusic-sticky-element-unstuck",
        "handleStickyElementUnstuck_")
    },
    detached: function() {
      document.removeEventListener("scroll", this.boundOnContentScroll_, {
        passive: !0
      });
      this.unlisten(this.playerBar, "mouseenter", "onMouseEnterPlayerBar_");
      this.unlisten(this.playerBar, "mouseleave", "onMouseLeavePlayerBar_");
      this.unlisten(this.playerPage, "transitionend", "onPlayerPageTransitionEnd_");
      this.unlisten(document, "ytmusic-sticky-element-stuck", "handleStickyElementStuck_");
      this.unlisten(document, "ytmusic-sticky-element-unstuck", "handleStickyElementUnstuck_")
    },
    get playerBar() {
      return this.shouldUsePolymerV2Query_() ? this.$["player-bar-slot"].assignedNodes()[0] : this.getContentChildren("#player-bar-slot")[0]
    },
    get playerPage() {
      return this.shouldUsePolymerV2Query_() ? this.$["player-page-slot"].assignedNodes()[0] : this.getContentChildren("#player-page-slot")[0]
    },
    get content() {
      return this.shouldUsePolymerV2Query_() ? this.$["content-slot"].assignedNodes()[0] : this.getContentChildren("#content-slot")[0]
    },
    shouldUsePolymerV2Query_: function() {
      return Polymer.Element && (!window.ShadyDOM ||
        !window.ShadyDOM.noPatch)
    },
    playerPageOpenChanged_: function(a) {
      a && this.isWatchPageColdLoad_() && this.disableOpeningAnimation_();
      this.showVisibleElement_()
    },
    isWatchPageColdLoad_: function() {
      return this.getStateBySelector(bA) == fx
    },
    disableOpeningAnimation_: function() {
      var a = this;
      this.noAnimation = !0;
      this.async(function() {
        a.noAnimation = !1
      }, 1)
    },
    onPlayerPageTransitionEnd_: function(a) {
      a.target == this.playerPage && "transform" == a.propertyName && this.hideInvisibleElement_()
    },
    onContentScroll_: function() {
      this.toggleClass("content-scrolled", 0 < document.scrollingElement.scrollTop)
    },
    handleStickyElementStuck_: function(a) {
      var b = this,
        c = a.detail.element;
      this.positionNavBarShadow_(c);
      this.boundPositionNavBarShadow_ = function() {
        return b.positionNavBarShadow_(c)
      };
      window.addEventListener("resize", this.boundPositionNavBarShadow_);
      this.debounce("positionNavBarDebounceName", this.boundPositionNavBarShadow_, 250)
    },
    handleStickyElementUnstuck_: function() {
      this.$["nav-bar-shadow"].style.transform = "none";
      window.removeEventListener("resize", this.boundPositionNavBarShadow_);
      this.cancelDebouncer("positionNavBarDebounceName")
    },
    positionNavBarShadow_: function(a) {
      this.$["nav-bar-shadow"].style.transform = "translate3d(0, " + a.offsetHeight + "px, 0)"
    },
    onPlayerControlsVisibilityChanged_: function(a) {
      this.isMouseMovingInsideYtPlayer_ = a
    },
    onMouseEnterPlayerBar_: function() {
      this.isMouseInsidePlayerBar_ = !0
    },
    onMouseLeavePlayerBar_: function() {
      var a = this;
      setTimeout(function() {
        a.isMouseInsidePlayerBar_ = !1
      }, 100)
    },
    computeShowFullscreenControls_: function(a, b) {
      return a || b
    },
    measureNativeScrollbar_: function() {
      if (!he || this.isMobileWeb_) {
        var a = fg(document, "DIV");
        a.style.cssText = "overflow:auto;position:absolute;top:0;width:100px;height:100px";
        var b = fg(document, "DIV"),
          c = "200px";
        if (c instanceof Mf) {
          var d = c.height;
          c = c.width
        } else d = "200px";
        b.style.width = Og(c, !0);
        b.style.height = Og(d, !0);
        a.appendChild(b);
        document.body.appendChild(a);
        b = a.offsetWidth - a.clientWidth;
        ig(a);
        Polymer.updateStyles({
          "--ytmusic-scrollbar-width": b + "px"
        })
      }
    },
    showVisibleElement_: function() {
      this.playerPageOpen_ ? (this.playerPage.style.visibility = "visible", this.playerPage.setAttribute("role", "main"), this.content.removeAttribute("role")) : (document.body.style.overflow = "visible", this.content.style.visibility = "visible", this.content.setAttribute("role", "main"), this.playerPage.removeAttribute("role"))
    },
    hideInvisibleElement_: function() {
      this.playerPageOpen_ ? (document.body.style.overflow = "hidden", this.content.style.visibility = "hidden") : this.playerPage.style.visibility = "hidden"
    },
    dismissPlayerUi_: function() {
      if (!Polymer.IronOverlayManager.currentOverlay())
        if (this.playerFullscreened_) this.playerUiService_.exitFullscreen();
        else if (this.playerPageOpen_) {
        var a = Ar(50765);
        jx(a);
        this.playerUiService_.collapsePlayerPage(a)
      }
    }
  });
  V.YtBindingExpressionsBehavior = {
    currentHost: function() {
      return this
    },
    firstDefined: function(a) {
      for (var b = 0; b < arguments.length; b++) {
        var c = arguments[b];
        if (void 0 !== c) return c
      }
    },
    identity: function(a) {
      return a
    },
    msg: function(a, b, c) {
      return T(a, b, c || a)
    },
    msgPlural: function(a, b) {
      return ms(a, b)
    },
    namedEvent: function(a) {
      var b = a.currentTarget,
        c = "event-for-" + a.type;
      b.hasAttribute(c) ? c = b.getAttribute(c) : (c = fd(c), c = b[c]);
      c && b.dispatchEvent(new CustomEvent(c, {
        bubbles: !0,
        detail: {
          wrappedEvent: a
        }
      }))
    },
    namedSignal: function(a) {
      var b = a.currentTarget,
        c = "signal-for-" + a.type;
      b.hasAttribute(c) ? c = b.getAttribute(c) : (c = fd(c), c = b[c]);
      c && b.dispatchEvent(new CustomEvent("iron-signal", {
        bubbles: !0,
        detail: {
          name: c,
          data: {
            wrappedEvent: a
          }
        }
      }))
    },
    toClassList: function(a) {
      var b = "";
      if (a)
        for (var c in a) a[c] && (b += c + " ");
      return b.trim()
    },
    getIconFromType: function(a) {
      return Cv(a)
    }
  };
  Polymer({
    is: "ytmusic-search-suggestion",
    behaviors: [V.YtBindingExpressionsBehavior, W.YtRendererBehavior],
    hostAttributes: {
      role: "option"
    },
    listeners: {
      tap: "onTap_"
    },
    properties: {
      data: Object
    },
    onDeleteButtonTap_: function(a) {
      this.sendServiceRequestAction([this.data.serviceEndpoint]);
      a.stopPropagation()
    },
    onTap_: function() {
      this.fire("ytmusic-suggestion-activated", this.getSearchSuggestInfo())
    },
    removeHistoricalSuggestion: function(a) {
      if (this.data.serviceEndpoint) this.onDeleteButtonTap_(a)
    },
    getSearchSuggestInfo: function() {
      return {
        endpoint: this.data.navigationEndpoint,
        suggestion: this.getSimpleString(this.data.suggestion) || ""
      }
    }
  });
  var bB = {};
  bB.YtmusicOpenPopupBehavior = [uv.YtOpenPopupBehavior, {
    created: function() {
      this.openPopupConfig = M("openPopupConfig")
    }
  }];
  Polymer({
    is: "ytmusic-like-button-renderer",
    behaviors: [V.YtBindingExpressionsBehavior, W.YtRendererBehavior, bB.YtmusicOpenPopupBehavior, aB],
    properties: {
      data: Object,
      likeStatus: {
        type: String,
        reflectToAttribute: !0,
        readOnly: !0
      },
      showHover: {
        type: Boolean,
        reflectToAttribute: !0
      }
    },
    observers: ["bindLikeStatusSelector_(data.likeStatus, data.target)"],
    created: function() {
      this.likeStatusUnsubscribeCallback_ = null
    },
    detached: function() {
      this.likeStatusUnsubscribeCallback_ && (this.likeStatusUnsubscribeCallback_(), this.likeStatusUnsubscribeCallback_ = null)
    },
    bindLikeStatusSelector_: function(a, b) {
      var c = this;
      this.likeStatusUnsubscribeCallback_ && (this.likeStatusUnsubscribeCallback_(), this.likeStatusUnsubscribeCallback_ = null);
      b && (b = b.videoId ? "likeStatus.videos." + b.videoId : "likeStatus.playlists." + b.playlistId, this._setLikeStatus(this.getStateBySelector(b) || a), this.likeStatusUnsubscribeCallback_ = this.subscribeBySelector(b, function(d) {
        c._setLikeStatus(d || a)
      }))
    },
    computeDislikeIcon_: function(a) {
      return "DISLIKE" == a ? "yt-icons:dislike" : "yt-icons:dislike_outline"
    },
    computeLikeIcon_: function(a) {
      return "LIKE" == a ? "yt-icons:like" : "yt-icons:like_outline"
    },
    computeDislikeAriaPressed_: function(a) {
      return String("DISLIKE" == a)
    },
    computeLikeAriaPressed_: function(a) {
      return String("LIKE" == a)
    },
    onDislikeTap_: function() {
      this.updateLikeStatus("DISLIKE")
    },
    onLikeTap_: function() {
      this.updateLikeStatus("LIKE")
    },
    updateLikeStatus: function(a) {
      var b = this;
      if (this.data && !this.maybeShowSignInDialog_(a)) {
        var c = this.likeStatus == a ? "INDIFFERENT" : a;
        (a = this.data.serviceEndpoints.find(function(d) {
          return b.get("likeEndpoint.status", d) == c
        })) && this.sendServiceRequestAction([a])
      }
    },
    maybeShowSignInDialog_: function(a) {
      a = "LIKE" == a ? this.data.likeCommand : this.data.dislikeNavigationEndpoint;
      if (!a) return !1;
      a = this.getNavigationEndpointPopupAction(a);
      if (!a) return !1;
      this.openPopup(a);
      return !0
    }
  });
  Polymer({
    is: "ytmusic-responsive-button-renderer",
    behaviors: [lw.YtButtonBehavior, bB.YtmusicOpenPopupBehavior, aB],
    listeners: {
      "yt-navigate": "onYtNavigate_"
    },
    properties: {
      iconOnlyViewportSize: {
        type: Number,
        value: -2
      },
      viewportSize_: {
        type: Number,
        statePath: JA
      }
    },
    observers: ["buttonStampTypeChanged_(stampType_)", "updateForceIconOnly_(viewportSize_, iconOnlyViewportSize)"],
    ready: function() {
      this.showTooltips = !0
    },
    computeButtonIcon_: function(a) {
      return a && a.icon && a.icon.iconType ? xA(a.icon.iconType) : null
    },
    buttonStampTypeChanged_: function() {
      this.updateRenderedElements()
    },
    updateForceIconOnly_: function(a, b) {
      this.forceIconOnly = a <= b
    },
    onYtNavigate_: function(a) {
      var b = this.getNavigationEndpointPopupAction(a.detail.endpoint);
      b && (this.openPopup(b), a.stopPropagation(), a.preventDefault())
    }
  });
  nw("sharingToggleButtonAndDefaultButton", "toggleButtonRenderer", "ytmusic-toggle-button-renderer");
  Polymer({
    is: "ytmusic-toggle-button-renderer",
    behaviors: [lw.YtToggleButtonBehavior, bB.YtmusicOpenPopupBehavior, aB],
    properties: {
      hideIcon: {
        type: Boolean,
        value: !1,
        reflectsToAttribute: !0
      },
      responsive: {
        type: Boolean,
        value: !1
      },
      linkMode: {
        type: Boolean,
        value: !1,
        reflectsToAttribute: !0
      },
      iconOnlyViewportSize: {
        type: Number,
        value: -2
      },
      viewportSize_: {
        type: Number,
        statePath: JA
      }
    },
    observers: ["updateForceIconOnly_(responsive, viewportSize_, iconOnlyViewportSize)"],
    computeButtonIcon_: function(a, b) {
      if (this.hideIcon) return null;
      var c = a && a.defaultIcon && a.defaultIcon.iconType ? xA(a.defaultIcon.iconType) : null;
      a = a && a.toggledIcon && a.toggledIcon.iconType ? xA(a.toggledIcon.iconType) : c;
      return b ? a : c
    },
    computeButtonText_: function(a, b) {
      if (!a) return null;
      a = b && a.toggledText || a.defaultText || null;
      return !this.forceIconOnly && a ? a : null
    },
    updateForceIconOnly_: function(a, b, c) {
      this.forceIconOnly = a && b <= c
    }
  });
  nw("sharingToggleButtonAndDefaultButton", "buttonRenderer", "yt-button-renderer");
  Polymer({
    is: "yt-button-renderer",
    behaviors: [uv.YtOpenPopupBehavior, lw.YtButtonBehavior],
    listeners: {
      "yt-navigate": "onYtNavigate_"
    },
    created: function() {
      this.openPopupConfig = M("openPopupConfig");
      this.showTooltips = !0
    },
    onYtNavigate_: function(a) {
      var b = this.getNavigationEndpointPopupAction(a.detail.endpoint);
      b && (this.openPopup(b), a.stopPropagation(), a.preventDefault())
    }
  });
  nw("menuRenderer", "menuRenderer", "ytmusic-menu-renderer");
  Polymer({
    is: "ytmusic-menu-renderer",
    behaviors: [V.YtBindingExpressionsBehavior, V.YtRendererStamperBehavior, W.YtRendererBehavior, bB.YtmusicOpenPopupBehavior],
    listeners: {
      "yt-rendererstamper-finished": "onRendererstamperFinished_"
    },
    properties: {
      data: Object
    },
    stampDom: {
      "data.topLevelButtons": {
        id: "top-level-buttons",
        mapping: {
          buttonRenderer: "yt-button-renderer",
          likeButtonRenderer: "ytmusic-like-button-renderer",
          toggleButtonRenderer: {
            component: "ytmusic-toggle-button-renderer"
          }
        },
        events: !0
      }
    },
    onRendererstamperFinished_: function() {
      Array.from(Polymer.dom(this.$["top-level-buttons"]).children).forEach(function(a) {
        var b =
          a.data.navigationEndpoint,
          c = a.data.serviceEndpoint;
        b ? b.watchEndpoint || b.watchPlaylistEndpoint ? Polymer.dom(a).classList.add("watch-button") : b.playlistEditorEndpoint && Polymer.dom(a).classList.add("edit-playlist-button") : c && c.addToPlaylistEndpoint && Polymer.dom(a).classList.add("add-to-playlist-button")
      })
    },
    getMenuButton: function() {
      return this.$$("#button")
    },
    onMenuButtonTap_: function(a) {
      this.popupPositionTarget = this.$$("#button");
      this.sendAction("yt-close-popups-action", [
        ["yt-sharing-renderer", "ytmusic-add-to-playlist-renderer"]
      ]);
      this.openPopup({
        openPopupAction: {
          popupType: "DROPDOWN",
          popup: {
            menuPopupRenderer: this.data
          }
        }
      });
      a.preventDefault();
      a.stopPropagation()
    }
  });
  Polymer({
    is: "ytmusic-thumbnail-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      imageWidth: Number,
      thumbnailCrop_: {
        type: String,
        computed: "computeThumbnailCrop_(data.thumbnailCrop)",
        reflectToAttribute: !0
      },
      thumbnailScale_: {
        type: String,
        computed: "computeThumbnailScale_(data.thumbnailScale)",
        observer: "thumbnailScaleChanged_"
      },
      hasTapCommand: {
        type: Boolean,
        computed: "computeHasTapCommand_(data.onTap)",
        observer: "hasTapCommandChanged_",
        reflectToAttribute: !0
      }
    },
    computeThumbnailCrop_: function(a) {
      return a
    },
    computeThumbnailScale_: function(a) {
      return a
    },
    computeHasTapCommand_: function(a) {
      return !!a
    },
    hasTapCommandChanged_: function(a) {
      a ? (this.setAttribute("role", "link"), this.setAttribute("tabindex", "0"), this.setAttribute("aria-label", this.get("accessibilityData.accessibilityData.label", this.data) || ""), this.listen(this, "tap", "onTap_")) : (this.removeAttribute("role"), this.removeAttribute("tabindex"), this.removeAttribute("aria-label"), this.unlisten(this, "tap", "onTap_"))
    },
    thumbnailScaleChanged_: function(a) {
      "MUSIC_THUMBNAIL_SCALE_ASPECT_FIT" == a ? this.$.image.objectFit = "CONTAIN" : "MUSIC_THUMBNAIL_SCALE_ASPECT_FILL" == a && (this.$.image.objectFit = "COVER")
    },
    produceRipple_: function(a) {
      var b = this.$$("paper-ripple");
      b || (b = document.createElement("paper-ripple"), b.noink = !0, Polymer.dom(this.root).appendChild(b));
      b.downAction(a);
      this.async(function() {
        b.upAction(a)
      }, 1)
    },
    onTap_: function(a) {
      if (this.data.onTap) {
        this.produceRipple_(a);
        var b = Zx(this.data.onTap);
        this.fire("yt-navigate", {
          musicEndpoint: b
        });
        a.preventDefault();
        a.stopPropagation()
      }
    }
  });
  Polymer({
    is: "ytmusic-inline-badge-renderer",
    behaviors: [W.YtRendererBehavior],
    getIcon_: function(a) {
      return a && a.iconType ? xA(a && a.iconType) : ""
    },
    getAriaLabel_: function(a) {
      return this.get("accessibilityData.label", a) || ""
    }
  });
  Polymer({
    is: "ytmusic-background-overlay-renderer",
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      }
    },
    dataChanged_: function() {
      var a = this.get("data.verticalGradient.gradientLayerColors") || [];
      a.length && this.updateStyles({
        "--ytmusic-background-overlay-background": this.createGradient_(a)
      })
    },
    createGradient_: function(a) {
      a = a.map(function(b) {
        return Nu(parseInt(b, 10))
      });
      return 1 < a.length ? "linear-gradient(" + a.join(",") + ")" : a[0]
    }
  });
  var cB = {
    properties: {
      focusWithin: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        readOnly: !0,
        notify: !0
      }
    },
    created: function() {
      this.blurHandle_ = null
    },
    ready: function() {
      var a = this;
      this.addEventListener("focus", function() {
        return a.onFocus_()
      }, !0);
      this.addEventListener("blur", function() {
        return a.onBlur_()
      }, !0)
    },
    onFocus_: function() {
      this._setFocusWithin(!0);
      this.blurHandle_ && this.cancelAsync(this.blurHandle_)
    },
    onBlur_: function() {
      var a = this;
      this.blurHandle_ = this.async(function() {
        a._setFocusWithin(!1)
      }, 10)
    }
  };
  Polymer({
    is: "ytmusic-play-button-renderer",
    behaviors: [Polymer.PaperButtonBehavior, Polymer.PaperInkyFocusBehavior, W.YtRendererBehavior, X.InjectBehavior, aB],
    inject: {
      navigator_: Xz,
      playerApi_: cz
    },
    listeners: {
      tap: "onTap_",
      mouseover: "onMouseover_",
      mouseout: "onMouseout_"
    },
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      size: {
        type: String,
        computed: "computeSize_(data.buttonSize)",
        reflectToAttribute: !0
      },
      state: {
        type: String,
        value: "default",
        notify: !0,
        reflectToAttribute: !0
      },
      hasBackground: {
        type: Boolean,
        computed: "computeHasBackground_(data.backgroundColor)",
        notify: !0
      },
      ariaLabel: {
        type: String,
        computed: "computeAriaLabel_(data.accessibilityPlayData, data.accessibilityPauseData, state)",
        reflectToAttribute: !0
      },
      currentPlayerEndpoint_: {
        type: Object,
        statePath: oz
      },
      endpointsMatch_: {
        type: Boolean,
        computed: "computeEndpointsMatch_(data.playNavigationEndpoint, currentPlayerEndpoint_)",
        observer: "endpointsMatchChanged_"
      },
      indexed: Boolean,
      hovered_: {
        type: Boolean,
        value: !1
      },
      focusedOrHovered_: {
        type: Boolean,
        computed: "computeFocusedOrHovered_(focused, hovered_)"
      },
      isPreLive: {
        type: Boolean,
        statePath: wz
      }
    },
    observers: ["visualElementChanged_(visualElement)"],
    created: function() {
      this.boundOnPlayerStateOrAdStateChange_ = this.onPlayerStateOrAdStateChange_.bind(this)
    },
    detached: function() {
      this.playerApi_.removeEventListener("onStateChange", this.boundOnPlayerStateOrAdStateChange_);
      this.playerApi_.removeEventListener("onAdStateChange", this.boundOnPlayerStateOrAdStateChange_)
    },
    computeSize_: function(a) {
      return a
    },
    computeHasBackground_: function(a) {
      return 0 != a
    },
    computeAriaLabel_: function(a, b, c) {
      return "playing" == c ? this.get("accessibilityData.label", b) || "" : this.get("accessibilityData.label", a) || ""
    },
    computeEndpointsMatch_: function(a, b) {
      if (!a || !b) return !1;
      b = b.watchEndpoint;
      if (a.watchPlaylistEndpoint) return a.watchPlaylistEndpoint.playlistId == b.playlistId;
      if (a.watchEndpoint) {
        if (this.indexed && a.watchEndpoint.playlistSetVideoId) return b.playlistSetVideoId == a.watchEndpoint.playlistSetVideoId;
        if (this.indexed && a.watchEndpoint.playlistId) return b.videoId == a.watchEndpoint.videoId && b.playlistId == a.watchEndpoint.playlistId;
        if (a.watchEndpoint.playlistId) return b.playlistId == a.watchEndpoint.playlistId;
        if (a.watchEndpoint.videoId) return b.videoId ==
          a.watchEndpoint.videoId
      }
      return !1
    },
    computeFocusedOrHovered_: function(a, b) {
      return a || b
    },
    dataChanged_: function(a) {
      this.updateCssVars(a);
      this.noink = "MUSIC_PLAY_BUTTON_RIPPLE_TARGET_SELF" != a.rippleTarget
    },
    visualElementChanged_: function(a) {
      jx(a)
    },
    updateCssVars: function(a) {
      this.updateStyles({
        "--ytmusic-play-button-icon-color": Nu(a.iconColor || 0),
        "--ytmusic-play-button-icon-loading-color": Nu(a.iconLoadingColor || 0),
        "--ytmusic-play-button-background-color": Nu(a.backgroundColor || 0),
        "--ytmusic-play-button-active-background-color": Nu(a.activeBackgroundColor || 0),
        "--ytmusic-play-button-loading-indicator-color": Nu(a.loadingIndicatorColor || 0),
        "--ytmusic-play-button-active-scale-factor": "" + a.activeScaleFactor
      })
    },
    computeIcon_: function(a, b, c, d) {
      if (!a) return "";
      if ("playing" == b)
        if (c && !d && a.pauseIcon) var e = a.pauseIcon.iconType;
        else a.playingIcon && (e = a.playingIcon.iconType);
      else a.playIcon && (e = a.playIcon.iconType);
      return e ? Cv(e) : ""
    },
    isLoading_: function(a) {
      return "loading" == a
    },
    onTap_: function(a) {
      var b = this;
      if (this.data.playNavigationEndpoint) {
        if ("playing" == this.state) this.playerApi_.pauseVideo();
        else if ("paused" == this.state) this.playerApi_.playVideo();
        else {
          var c = Zx(this.data.playNavigationEndpoint);
          this.visualElement && (c.clickTrackingVe = this.visualElement);
          this.navigator_.navigate(c).thenCatch(function() {
            return b.state = "default"
          });
          this.state = "loading";
          "MUSIC_PLAY_BUTTON_RIPPLE_TARGET_ANCESTOR" == this.data.rippleTarget && this.fire("ytmusic-request-ancestor-ripple", {
            sourceEvent: a
          })
        }
        a.preventDefault();
        a.stopPropagation()
      }
    },
    endpointsMatchChanged_: function(a) {
      if (a) {
        if (this.playerApi_.addEventListener("onStateChange", this.boundOnPlayerStateOrAdStateChange_), this.playerApi_.addEventListener("onAdStateChange", this.boundOnPlayerStateOrAdStateChange_), this.playerApi_.isReady()) this.onPlayerStateOrAdStateChange_(this.playerApi_.getPlayerState())
      } else this.playerApi_.removeEventListener("onStateChange", this.boundOnPlayerStateOrAdStateChange_), this.playerApi_.removeEventListener("onAdStateChange", this.boundOnPlayerStateOrAdStateChange_),
        this.state = "default"
    },
    PLAYER_STATE_CHANGE_LISTENER_DEBOUNCE_MS_: 20,
    onPlayerStateOrAdStateChange_: function(a) {
      var b = this;
      this.debounce("onPlayerStateOrAdStateChange_", function() {
        b.endpointsMatch_ && (1 == a || -1 == a && b.isPreLive ? b.state = "playing" : 2 == a || 0 == a ? b.state = "paused" : 3 == a && (b.state = "loading"))
      }, this.PLAYER_STATE_CHANGE_LISTENER_DEBOUNCE_MS_)
    },
    onMouseover_: function() {
      this.hovered_ = !0
    },
    onMouseout_: function() {
      this.hovered_ = !1
    }
  });
  Polymer({
    is: "ytmusic-item-thumbnail-overlay-renderer",
    behaviors: [W.YtRendererBehavior, X.InjectBehavior, cB],
    properties: {
      contentPosition: {
        type: String,
        computed: "computeContentPosition_(data.contentPosition)",
        reflectToAttribute: !0
      },
      displayStyle: {
        type: String,
        computed: "computeDisplayStyle_(data.displayStyle)",
        reflectToAttribute: !0
      },
      playButtonState: {
        type: String,
        notify: !0,
        reflectToAttribute: !0
      },
      playButtonHasBackground_: {
        type: Boolean,
        reflectToAttribute: !0
      },
      indexed: {
        type: Boolean,
        reflectToAttribute: !0
      },
      animateTransitions_: {
        type: Boolean,
        reflectToAttribute: !0
      },
      playButtonVisualElement: Object,
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      }
    },
    attached: function() {
      var a = this;
      Polymer.RenderStatus.afterNextRender(this, function() {
        a.animateTransitions_ = !0
      })
    },
    computeContentPosition_: function(a) {
      return a
    },
    computeDisplayStyle_: function(a) {
      return a
    }
  });
  Polymer({
    is: "ytmusic-live-badge-renderer",
    behaviors: [W.YtRendererBehavior]
  });
  var dB = {};
  dB.YtmusicContextMenuParentBehavior = [bB.YtmusicOpenPopupBehavior, {
    listeners: {
      contextmenu: "onContextMenu_",
      "yt-popup-closed": "onYtPopupClosed_"
    },
    getMenuRenderer: function() {
      return this.get("data.menu.menuRenderer")
    },
    onContextMenu_: function(a) {
      var b = this.getMenuRenderer();
      if (!a.shiftKey && b) {
        var c = document.createElement("div");
        document.body.appendChild(c);
        c.style.position = "fixed";
        c.style.left = a.clientX + "px";
        c.style.top = a.clientY + "px";
        this.popupPositionTarget = c;
        this.openPopup({
          openPopupAction: {
            popupType: "DROPDOWN",
            popup: {
              menuPopupRenderer: b
            }
          }
        });
        this.sendAction("yt-close-popups-action", [
          ["yt-sharing-renderer", "ytmusic-add-to-playlist-renderer", "ytmusic-settings-menu-renderer"]
        ]);
        a.preventDefault();
        a.stopPropagation()
      }
    },
    onYtPopupClosed_: function() {
      var a = this.querySelector("ytmusic-menu-renderer");
      if (this.popupPositionTarget && this.popupPositionTarget != this && a && this.popupPositionTarget != a.getMenuButton()) {
        var b = this.popupPositionTarget;
        this.popupPositionTarget = this;
        setTimeout(function() {
          document.body.removeChild(b)
        })
      }
    }
  }];
  var eB = {
    listeners: {
      "yt-service-request-sent": "onYtServiceRequestSent_"
    },
    onYtServiceRequestSent_: function(a, b) {
      b.actions && b.actions.find(function(c) {
        return !!c.hideEnclosingAction || "ACTION_REMOVE_VIDEO" == c.action
      }) && (this.hideDismissableItem_(b.endpoint), a.stopPropagation())
    },
    hideDismissableItem_: function(a) {
      this.sendAction("yt-hide-enclosing-action", [a, this])
    }
  };
  var fB = {
    liveBadgeRenderer: {
      component: "ytmusic-live-badge-renderer",
      noInjection: !0
    },
    musicInlineBadgeRenderer: {
      component: "ytmusic-inline-badge-renderer",
      noInjection: !0
    }
  };
  Polymer({
    is: "ytmusic-responsive-list-item-renderer",
    behaviors: [V.YtBindingExpressionsBehavior, V.YtRendererStamperBehavior, W.YtRendererBehavior, X.InjectBehavior, dB.YtmusicContextMenuParentBehavior, eB, cB, aB],
    properties: {
      playButtonState: {
        type: String,
        reflectToAttribute: !0
      },
      hasBadges: {
        type: Boolean,
        computed: "computeHasBadges(data)",
        reflectToAttribute: !0
      },
      shouldRenderSubtitleSeparators_: {
        type: Boolean,
        computed: "computeShouldRenderSubtitleSeparators_(data.flexColumns)",
        reflectToAttribute: !0
      },
      hasCircleCroppedThumbnail_: {
        type: Boolean,
        computed: "computeHasCircleCroppedThumbnail_(data.thumbnail.musicThumbnailRenderer.thumbnailCrop)",
        reflectToAttribute: !0
      },
      hasThumbnailOverlay_: {
        type: Boolean,
        computed: "computeHasThumbnailOverlay_(data, hasBeenPrescanned_)",
        reflectToAttribute: !0
      },
      hasCustomIndexColumn_: {
        type: Boolean,
        computed: "computeHasCustomIndexColumn_(data.customIndexColumn.musicCustomIndexColumnRenderer)",
        reflectToAttribute: !0
      },
      customIndexColumnIconColorStyle_: {
        type: String,
        computed: "computeCustomIndexColumnIconColorStyle_(data.customIndexColumn.musicCustomIndexColumnRenderer.iconColorStyle)",
        reflectToAttribute: !0
      },
      viewportSize_: {
        type: Number,
        statePath: JA
      },
      stackFlexColumns_: {
        type: Boolean,
        computed: "computeStackFlexColumns_(viewportSize_, data)",
        reflectToAttribute: !0
      },
      heightStyle_: {
        type: String,
        computed: "computeHeightStyle_(data.itemHeight)",
        reflectToAttribute: !0
      },
      hasBeenPrescanned_: {
        type: Boolean,
        value: !1
      },
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      },
      unplayable_: {
        type: Boolean,
        computed: "computeUnplayable_(data.musicItemRendererDisplayPolicy)",
        reflectToAttribute: !0
      },
      stackedBadges: {
        type: Array,
        computed: "computeStackedBadges(data)"
      }
    },
    stampDom: {
      "data.badges": {
        id: "columnar-layout-badges",
        mapping: fB
      },
      stackedBadges: {
        id: "stacked-layout-badges",
        mapping: fB
      }
    },
    observePrescanOption: "observe_once",
    observeHiddenOption: null,
    computeHasBadges: function(a) {
      return !!a.badges && 0 != a.badges.length
    },
    computeStackedBadges: function(a) {
      return a.badges
    },
    computeShouldRenderSubtitleSeparators_: function(a) {
      return 3 < a.length || 3 == a.length && 0 != it(a[2].musicResponsiveListItemFlexColumnRenderer.text).length
    },
    computeHasCircleCroppedThumbnail_: function(a) {
      return "MUSIC_THUMBNAIL_CROP_CIRCLE" == a
    },
    computeHasThumbnailOverlay_: function(a, b) {
      return !!this.get("overlay.musicItemThumbnailOverlayRenderer", a) && b
    },
    computeHasCustomIndexColumn_: function(a) {
      return !!a
    },
    computeCustomIndexColumnIconColorStyle_: function(a) {
      return a
    },
    computeStackFlexColumns_: function(a, b) {
      return !!b && "MUSIC_RESPONSIVE_LIST_ITEM_FLEX_COLUMN_DISPLAY_STYLE_TWO_LINE_STACK" == b.flexColumnDisplayStyle || -3 == a || -2 == a
    },
    computeHeightStyle_: function(a) {
      return a
    },
    computeUnplayable_: function(a) {
      return "MUSIC_ITEM_RENDERER_DISPLAY_POLICY_GREY_OUT" == a
    },
    getTitleRawText_: function(a) {
      a = this.get("flexColumns.0.musicResponsiveListItemFlexColumnRenderer.text", a);
      return it(a)
    },
    getSecondaryFlexColumns_: function(a) {
      return a.flexColumns.slice(1).map(function(b) {
        return b.musicResponsiveListItemFlexColumnRenderer
      })
    },
    getFixedColumns_: function(a) {
      return a.fixedColumns ? a.fixedColumns.map(function(b) {
        return b.musicResponsiveListItemFixedColumnRenderer
      }) : []
    },
    getCustomIndexColumnAriaLabel_: function(a) {
      return this.get("customIndexColumn.musicCustomIndexColumnRenderer.accessibilityData.accessibilityData.label", a) || ""
    },
    onEndpointTap_: function(a) {
      this.produceRipple_(a)
    },
    produceRipple_: function(a) {
      var b = this.$$("#ripple");
      b && (b.downAction(a), this.async(function() {
        b.upAction(a)
      }, 1))
    },
    onPrescanVisible: function() {
      this.hasBeenPrescanned_ = !0
    },
    getSearchSuggestInfo: function() {
      return {
        endpoint: this.data.navigationEndpoint,
        suggestion: ""
      }
    }
  });
  Polymer({
    is: "ytmusic-search-suggestions-section",
    behaviors: [V.YtRendererStamperBehavior, nv.YtActionHandlerBehavior, W.YtRendererBehavior, X.InjectBehavior],
    actionMap: {
      "yt-hide-enclosing-action": "handleHideEnclosingAction_"
    },
    stampDom: {
      "data.contents": {
        id: "suggestions",
        mapping: {
          historySuggestionRenderer: {
            component: "ytmusic-search-suggestion",
            noInjection: !0
          },
          musicResponsiveListItemRenderer: "ytmusic-responsive-list-item-renderer",
          searchSuggestionRenderer: {
            component: "ytmusic-search-suggestion",
            noInjection: !0
          }
        }
      }
    },
    getSuggestionElements: function() {
      return Array.from(Polymer.dom(this.$.suggestions).children)
    },
    handleHideEnclosingAction_: function(a, b) {
      if (b && Polymer.dom(this.root).deepContains(b)) {
        var c = this.data.contents.findIndex(function(d) {
          return d.historySuggestionRenderer == b.data
        }); -
        1 != c && (this.splice("data.contents", c, 1), this.getSuggestionElements().length || this.sendAction("yt-hide-enclosing-action", [a, this]))
      }
    }
  });
  var gB = {
    LoggableBehavior: {
      created: function() {
        this.logger_ = null
      },
      getLoggerName: function() {
        return null
      },
      logFine: function() {},
      logInfo: function() {},
      logWarn: function() {},
      logSevere: function() {},
      createMessage_: function() {
        return ""
      }
    }
  };
  Polymer({
    is: "ytmusic-search-box",
    behaviors: [Polymer.IronA11yKeysBehavior, gB.LoggableBehavior, V.YtBindingExpressionsBehavior, nv.YtActionHandlerBehavior, W.YtRendererBehavior, X.InjectBehavior, aB],
    inject: {
      navigator_: Xz,
      networkManager_: Xy,
      shortcutManager_: Hz
    },
    keyBindings: {
      down: "onDownKeypress_",
      "enter:keypress": "onEnterKeypress_",
      esc: "onEscKeypress_",
      "shift+delete": "onShiftDeleteKeypress_",
      up: "onUpKeypress_"
    },
    listeners: {
      "ytmusic-suggestion-activated": "onSuggestionActivated_"
    },
    properties: {
      mainContentData_: {
        type: Object,
        statePath: Zz,
        observer: "mainContentDataChanged_"
      },
      opened: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        observer: "openedChanged_"
      },
      hasQuery: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0
      },
      selectedSuggestion_: {
        type: Object,
        observer: "selectedSuggestionChanged_"
      },
      suggestionData: {
        type: Array,
        value: function() {
          return []
        }
      },
      visualElement: {
        type: Object,
        value: Ar(10349)
      }
    },
    actionMap: {
      "yt-hide-enclosing-action": "handleHideEnclosingAction_"
    },
    created: function() {
      this.REQUEST_THROTTLE_INTERVAL_MILLIS_ = 100;
      this.suggestThrottle_ = new Mj(this.sendSuggestionRequest_, this.REQUEST_THROTTLE_INTERVAL_MILLIS_, this)
    },
    ready: function() {
      var a = this;
      this.shortcutManager_.register("/", function() {
        return a.opened = !0
      });
      this.focusIndex_ = -1;
      this.sendSuggestionRequest_()
    },
    attached: function() {
      this.listen(document, "focusin", "onDocumentTapOrFocusIn_");
      this.listen(document, "keydown", "onKeydown_");
      kx(this.visualElement)
    },
    detached: function() {
      this.unlisten(document, "focusin", "onDocumentTapOrFocusIn_");
      this.unlisten(document, "keydown", "onKeydown_")
    },
    openedChanged_: function(a) {
      a ? (this.sendSuggestionRequest_(), this.listen(document, "tap", "onDocumentTapOrFocusIn_"), this.$.input.setAttribute("aria-expanded", !0), this.$.input.focus()) : (this.unlisten(document, "tap", "onDocumentTapOrFocusIn_"), this.$.input.removeAttribute("aria-expanded"), this.selectedSuggestion_ = null, this.$.input.blur())
    },
    selectedSuggestionChanged_: function(a, b) {
      b && this.toggleClass("selected-suggestion", !1, b);
      a ? (this.toggleClass("selected-suggestion", !0, a), this.$.input.setAttribute("aria-activedescendant", a.id)) : (this.$.input.removeAttribute("aria-activedescendant"), this.focusIndex_ = -1)
    },
    onClearButtonTap_: function(a) {
      this.setQuery_("");
      this.suggestThrottle_.fire();
      this.selectedSuggestion_ = null;
      this.$.input.focus();
      a.stopPropagation()
    },
    onDocumentTapOrFocusIn_: function(a) {
      Polymer.dom(this).deepContains(Polymer.dom(a).rootTarget) || (this.opened = !1)
    },
    onKeydown_: function(a) {
      if (Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a, "tab") && (this.opened || this.hasQuery)) {
        var b = this.$$(".search-icon"),
          c = this.hasQuery ? this.$.clear : this.$.input;
        a.shiftKey && document.activeElement == b ? (a.preventDefault(), a.stopPropagation(), c.focus()) : a.shiftKey || document.activeElement != c || (a.preventDefault(), a.stopPropagation(), b.focus())
      }
    },
    onDownKeypress_: function() {
      var a = this.getSuggestionElements_();
      this.focusIndex_ == a.length - 1 ? this.selectedSuggestion_ = null : this.setSelected_(this.focusIndex_ + 1)
    },
    onUpKeypress_: function(a) {
      a.detail.keyboardEvent.preventDefault();
      0 == this.focusIndex_ ? this.selectedSuggestion_ = null : (a = this.getSuggestionElements_(), this.setSelected_(-1 == this.focusIndex_ ? a.length - 1 : this.focusIndex_ - 1))
    },
    onEscKeypress_: function(a) {
      a.detail.keyboardEvent.stopPropagation();
      this.opened = !1
    },
    onEnterKeypress_: function(a) {
      a.detail.keyboardEvent.target != this.$.clear && (this.selectedSuggestion_ ? (a = this.selectedSuggestion_.getSearchSuggestInfo(), this.navigateToSuggestResults_(a.endpoint, a.suggestion)) : this.navigateToQueryResults_())
    },
    onShiftDeleteKeypress_: function(a) {
      this.selectedSuggestion_ && this.selectedSuggestion_.removeHistoricalSuggestion(a)
    },
    onInput_: function() {
      this.opened = !0;
      this.suggestThrottle_.fire();
      this.hasQuery = !!this.$.input.value.trim()
    },
    mainContentDataChanged_: function(a) {
      a && (a.endpoint instanceof Qx ? this.setQuery_(a.endpoint.data.query || "") : this.setQuery_(""), this.opened = !1)
    },
    onSuggestionActivated_: function(a) {
      this.navigateToSuggestResults_(a.detail.endpoint, a.detail.suggestion);
      this.setQuery_(a.detail.suggestion)
    },
    onSearchIconTap_: function() {
      this.opened || this.hasQuery ? (this.setQuery_(""), this.opened = !1) : this.opened = !0
    },
    getSearchboxIcon_: function(a, b) {
      return a || b ? "yt-icons:arrow-back" : "yt-icons:search"
    },
    getSearchboxIconTitle_: function(a, b) {
      return a || b ? this.msg("BACK") : this.msg("SEARCH_BUTTON_TITLE")
    },
    getSuggestionElements_: function() {
      var a = [];
      Array.from(Polymer.dom(this.root).querySelectorAll("ytmusic-search-suggestions-section")).forEach(function(b) {
        a = a.concat(b.getSuggestionElements())
      });
      return a
    },
    setQuery_: function(a) {
      a = a.trim();
      this.$.input.value != a && (this.$.input.value = a, this.hasQuery = !!a, this.suggestThrottle_.fire())
    },
    setSelected_: function(a) {
      var b = this.getSuggestionElements_();
      this.focusIndex_ = a;
      b.length && (this.selectedSuggestion_ = b[this.focusIndex_], this.selectedSuggestion_.focus())
    },
    navigateToQueryResults_: function() {
      var a = this.$.input.value.trim();
      a && (a = {
        searchEndpoint: {
          query: a,
          suggestStats: this.getSearchboxStats_("ENTER_KEY", a)
        }
      }, a = Zx(a), a.clickTrackingVe = this.visualElement, this.navigator_.navigate(a), this.opened = !1)
    },
    navigateToSuggestResults_: function(a, b) {
      var c = this.$.input.value.trim();
      this.$.input.value = b;
      this.hasQuery = !!b;
      b = this.getSearchboxStats_("CLICKED_SUGGESTION", c);
      a.searchEndpoint ? a.searchEndpoint.suggestStats = b : a.browseEndpoint && (a.browseEndpoint.suggestStats = b);
      a = Zx(a);
      this.navigator_.navigate(a);
      this.opened = !1
    },
    getSearchboxStats_: function(a, b) {
      var c = this.getSearchboxStatsAvailableSuggestions_(),
        d = this.selectedSuggestion_ ? this.getSuggestionElements_().indexOf(this.selectedSuggestion_) : -1;
      return {
        validationStatus: "VALID",
        parameterValidationStatus: "VALID_PARAMETERS",
        clientName: "youtube-music",
        searchMethod: a,
        inputMethod: "KEYBOARD",
        originalQuery: b,
        assistedQueryInfo: c[d],
        availableSuggestions: c,
        zeroPrefixEnabled: !0
      }
    },
    getSearchboxStatsAvailableSuggestions_: function() {
      var a = this,
        b = [],
        c = 0;
      this.suggestionData.forEach(function(d) {
        (d = a.get("searchSuggestionsSectionRenderer.contents", d)) && d.forEach(function(e) {
          var g;
          e.historySuggestionRenderer ? g = 25 : e.musicResponsiveListItemRenderer ? g = 46 : e.searchSuggestionRenderer && (g = 0);
          b.push({
            index: c,
            type: g
          });
          c++
        })
      });
      return b
    },
    sendSuggestionRequest_: function() {
      this.networkManager_.fetch("/music/get_search_suggestions", {
        input: this.$.input.value.trim()
      }).then(this.handleSuggestionResponse_.bind(this), this.handleSuggestionError_.bind(this))
    },
    handleSuggestionResponse_: function(a) {
      var b = this;
      this.selectedSuggestion_ = null;
      this.suggestionData = a.contents.filter(function(c) {
        return Object.keys(c).length
      });
      a.trackingParams && jx(xr(a.trackingParams));
      this.async(function() {
        b.getSuggestionElements_().forEach(function(c, d) {
          return c.id = "suggestion-" + d
        })
      }, 1)
    },
    handleSuggestionError_: function() {},
    handleHideEnclosingAction_: function(a, b) {
      b && (a = this.suggestionData.findIndex(function(c) {
        return 0 == c.searchSuggestionsSectionRenderer.contents.length
      }), -1 != a && this.splice("suggestionData", a, 1))
    }
  });
  Polymer({
    is: "ytmusic-settings-button",
    behaviors: [V.YtBindingExpressionsBehavior, uv.YtOpenPopupBehavior, X.InjectBehavior],
    listeners: {
      "yt-popup-closed": "onPopupClosed_",
      "yt-popup-opened": "onPopupOpened_"
    },
    inject: {
      accountService_: Wz
    },
    properties: {
      photoUrl_: String,
      isPopUpOpen_: {
        type: Boolean,
        value: !1
      }
    },
    created: function() {},
    attached: function() {
      var a = this;
      this.accountService_.getAccountMenu().then(function(b) {
        a.photoUrl_ = a.get("data.actions.0.openPopupAction.popup.multiPageMenuRenderer.header.activeAccountHeaderRenderer.accountPhoto.thumbnails.0.url", b) || ""
      })
    },
    onButtonTap_: function() {
      var a = this;
      this.isPopUpOpen_ ? this.sendAction("yt-close-all-popups-action") : this.accountService_.getAccountMenu().then(function(b) {
        b.data ? (b = ht(b.data)) && a.sendInnerTubeActions(b, a) : O(Error("Invalid GetAccountMenu response: " + b))
      })
    },
    onPopupClosed_: function() {
      this.isPopUpOpen_ = !1
    },
    onPopupOpened_: function() {
      this.isPopUpOpen_ = !0
    }
  });
  var hB = {};
  hB.YtmusicTablistBehaviorImpl_ = {
    hostAttributes: {
      role: "tablist"
    },
    keyBindings: {
      enter: "onEnterKey_"
    },
    properties: {
      itemsContainer: Object
    },
    ready: function() {
      var a = this;
      this.async(function() {
        Polymer.dom(a.itemsContainer || a.root).observeNodes(function(b) {
          return a.localDomChanged_(b)
        })
      })
    },
    localDomChanged_: function(a) {
      a = y(a.addedNodes);
      for (var b = a.next(); !b.done; b = a.next()) b = b.value, b.tagName == this.selectable && Polymer.dom(b).setAttribute("role", "tab");
      this._updateItems();
      this._updateSelected()
    },
    _updateItems: function() {
      this._setItems(Array.from(Polymer.dom(this.root).querySelectorAll(this.selectable)))
    },
    _activateHandler: function() {},
    _onUpKey: function() {},
    _onDownKey: function() {},
    onEnterKey_: function(a) {
      this.focusedItem.click();
      a.detail.keyboardEvent.preventDefault()
    }
  };
  hB.YtmusicTablistBehavior = [Polymer.IronMenubarBehavior, hB.YtmusicTablistBehaviorImpl_];
  Polymer({
    is: "ytmusic-pivot-bar-item-renderer",
    behaviors: [V.YtBindingExpressionsBehavior, W.YtRendererBehavior, X.InjectBehavior],
    inject: {
      navigator_: Xz
    },
    listeners: {
      tap: "onTap_"
    },
    properties: {
      data: Object,
      tabId: {
        type: String,
        computed: "computeTabId_(data.pivotIdentifier)",
        reflectToAttribute: !0
      }
    },
    created: function() {},
    computeTabId_: function(a) {
      return a || ""
    },
    onTap_: function() {
      var a = Zx(this.data.navigationEndpoint);
      this.navigator_.navigate(a)
    }
  });
  Polymer({
    is: "ytmusic-pivot-bar-renderer",
    behaviors: [W.YtRendererBehavior, X.InjectBehavior, hB.YtmusicTablistBehavior, aB],
    properties: {
      data: Object,
      mainContentData_: {
        type: Object,
        statePath: Zz,
        observer: "mainContentDataChanged_"
      }
    },
    ready: function() {
      this.selectable = "YTMUSIC-PIVOT-BAR-ITEM-RENDERER";
      this.attrForSelected = "tab-id"
    },
    mainContentDataChanged_: function(a) {
      a && this.highlightSelectedTab_(a.endpoint)
    },
    highlightSelectedTab_: function(a) {
      jy(a) ? this.selected = "FEmusic_liked" : this.selected = a.data.browseId || ""
    }
  });
  Polymer({
    is: "ytmusic-nav-bar",
    behaviors: [V.YtBindingExpressionsBehavior, W.YtRendererBehavior, X.InjectBehavior, bB.YtmusicOpenPopupBehavior, aB],
    inject: {
      accountService_: Wz
    },
    properties: {
      pivotBarData: Object,
      visualElement: {
        type: Object,
        value: Ar(50762)
      },
      playerUiState_: {
        type: Object,
        statePath: Qz
      },
      userLoggedIn_: {
        type: Boolean,
        reflectToAttribute: !0
      },
      logoEndpoint_: {
        type: Object,
        value: function() {
          return ay().toCommand()
        }
      },
      isMweb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      }
    },
    created: function() {},
    ready: function() {
      kx(this.visualElement);
      this.userLoggedIn_ = this.accountService_.isUserSignedIn()
    },
    getLogoSrc_: function() {
      return M("YTMUSIC_LOGO_SRC", void 0)
    },
    getIconSrc_: function() {
      return M("YTMUSIC_ICON_SRC", void 0)
    },
    getSignInUrl_: function() {
      return this.accountService_.getSignInUrl()
    },
    onMenuButtonTap_: function() {
      var a = M("SIGNED_OUT_ACCOUNT_MENU", "");
      a ? (this.popupPositionTarget = this.$$("#menu-button"), this.openPopup({
        openPopupAction: {
          popupType: "DROPDOWN",
          popup: {
            multiPageMenuRenderer: JSON.parse(a)
          }
        }
      })) : O(Error("No signed out account menu found in yt config."))
    }
  });
  Polymer({
    is: "ytmusic-player-expanding-menu",
    hostAttributes: {
      role: "toolbar"
    },
    behaviors: [Polymer.IronOverlayBehavior],
    listeners: {
      "iron-overlay-opened": "open_",
      "iron-overlay-closed": "close_"
    },
    ready: function() {
      this.boundKeydownListener_ = this.handleKeydown_.bind(this)
    },
    _renderOpened: function() {
      this.style.opacity = "1";
      this._finishRenderOpened()
    },
    _renderClosed: function() {
      this.style.opacity = "0";
      this.addEventListener("transitionend", this.finishRender_)
    },
    finishRender_: function() {
      this.removeEventListener("transitionend", this.finishRender_);
      this.opened || this._finishRenderClosed()
    },
    open_: function() {
      this._focusableNodes[0].focus();
      this.setAttribute("aria-hidden", !1);
      document.addEventListener("keydown", this.boundKeydownListener_, !0)
    },
    close_: function() {
      this.setAttribute("aria-hidden", !0);
      document.removeEventListener("keydown", this.boundKeydownListener_, !0)
    },
    handleKeydown_: function(a) {
      if (Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a, "tab")) {
        var b = this._focusableNodes[0],
          c = this._focusableNodes[this._focusableNodes.length - 1];
        a.shiftKey && document.activeElement == b ? (a.preventDefault(), a.stopPropagation(), c.focus()) : a.shiftKey || document.activeElement != c || (a.preventDefault(), a.stopPropagation(), b.focus())
      }
    }
  });
  Polymer({
    is: "ytmusic-create-core-identity-channel-content-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      familyNameInputValue: {
        type: String,
        value: ""
      },
      givenNameInputValue: {
        type: String,
        value: ""
      }
    },
    dataChanged_: function(a) {
      this.givenNameInputValue = a.givenNameValue || "";
      this.familyNameInputValue = a.familyNameValue || ""
    }
  });
  var iB = [mv.YtActionSenderBehavior, {
    openToastWithFormattedMessage: function(a) {
      this.sendAction("yt-open-popup-action", [{
        openPopupAction: {
          popupType: "TOAST",
          popup: {
            notificationActionRenderer: {
              responseText: a
            }
          }
        }
      }, this])
    },
    openToast: function(a) {
      this.openToastWithFormattedMessage(dt(a))
    }
  }];
  Polymer({
    is: "ytmusic-channel-creation-form-renderer",
    behaviors: [iB, W.YtRendererBehavior, X.InjectBehavior, aB],
    inject: {
      navigator_: Xz
    },
    properties: {
      confirmButtonRenderer_: {
        type: Object,
        computed: "computeConfirmButtonRenderer_(data)"
      },
      mainContentData_: {
        type: Object,
        statePath: Zz
      }
    },
    created: function() {},
    computeConfirmButtonRenderer_: function(a) {
      return a.buttons.find(function(b) {
        return !!b.buttonRenderer.serviceEndpoint
      }).buttonRenderer
    },
    onConfirmButtonTap_: function() {
      var a = this;
      this.confirmButtonRenderer_ ? this.sendServiceRequestAction([this.confirmButtonRenderer_.serviceEndpoint, {
        givenName: this.$.content.givenNameInputValue,
        familyName: this.$.content.familyNameInputValue
      }]).then(function(b) {
        return a.handleCreateChannelResponse_(b)
      }, function() {
        return a.openToast(T("ERROR"))
      }) : this.openToast(T("ERROR"))
    },
    handleCreateChannelResponse_: function(a) {
      if (this.get("data.createChannelError", a)) a = (a = this.get("data.createChannelError.errorMessage", a)) ? this.getSimpleString(a) : T("ERROR"), this.openToast(a);
      else if (this.fire("ytmusic-dialog-close", {
          dialogType: "createChannel"
        }), "FEmusic_liked" == G("endpoint.data.browseId", this.mainContentData_) && this.navigator_.refreshCurrentPage(), a = this.get("data.navigationEndpoint", a)) a = Zx(a), this.navigator_.navigate(a)
    },
    getCancelButtonRenderer_: function(a) {
      return a.buttons.find(function(b) {
        return !b.buttonRenderer.serviceEndpoint
      }).buttonRenderer
    }
  });
  Polymer({
    is: "ytmusic-icon-link-renderer",
    behaviors: [V.YtBindingExpressionsBehavior, W.YtRendererBehavior],
    properties: {
      data: Object
    }
  });
  Polymer({
    is: "ytmusic-top-level-menu-item-conditional-renderer",
    behaviors: [V.YtRendererStamperBehavior, nv.YtActionHandlerBehavior, aB],
    properties: {
      data: Object,
      endpointMold: Object,
      albumRelease_: {
        type: Object,
        computed: "computeAlbumRelease_(data)",
        observer: "albumReleaseChanged_"
      },
      albumReleaseUserDetails_: Object,
      renderer_: {
        type: Object,
        computed: "computeRenderer_(data, endpointMold, albumRelease_, albumReleaseUserDetails_)"
      }
    },
    stampDom: {
      renderer_: {
        id: "contents",
        mapping: {
          buttonRenderer: "yt-button-renderer"
        }
      }
    },
    actionMap: {
      "yt-service-request": "maybeHandleYtServiceRequest_"
    },
    created: function() {
      this.userDetailsUnsubscribeHandle_ = null
    },
    computeAlbumRelease_: function(a) {
      a = a.inputs.entityReference;
      if (a.musicAlbumReleaseEntity) return this.getStateBySelector("entities.albums.albumReleases." + a.musicAlbumReleaseEntity) || void 0;
      O(Error("Unsupported entity reference: " + a))
    },
    albumReleaseChanged_: function(a) {
      var b = this;
      this.userDetailsUnsubscribeHandle_ && (this.userDetailsUnsubscribeHandle_(), this.userDetailsUnsubscribeHandle_ = null);
      a.userDetails ? (a = "entities.albums.albumReleaseUserDetails." + a.userDetails, this.set("albumReleaseUserDetails_", this.getStateBySelector(a) || void 0), this.userDetailsUnsubscribeHandle_ = this.subscribeBySelector(a, function(c) {
        b.set("albumReleaseUserDetails_", c || void 0)
      })) : (this.set("albumReleaseUserDetails_", void 0), O(Error("Missing user details for : " +
        a)))
    },
    computeRenderer_: function(a, b, c, d) {
      if (b && c && d) {
        a = y(a.selectors || []);
        for (var e = a.next(); !e.done; e = a.next())
          if (e = e.value, e.condition.albumReleaseCondition) {
            if ("MUSIC_BOOLEAN_CONDITION_TRUE" === e.condition.albumReleaseCondition.albumReleaseIsLiked === !!d.inLibrary) {
              var g = e.resultTemplateRenderer;
              break
            }
          } else O(Error("Unsupported condition: " + e.condition));
        g && this.fillResultRendererEndpointMold_(g, b, c, d);
        this.hidden = !g;
        return g
      }
    },
    fillResultRendererEndpointMold_: function(a, b, c, d) {
      a.buttonRenderer && (b.likeEndpoint ? (b.likeEndpoint.status = d.inLibrary ? "INDIFFERENT" : "LIKE", b.likeEndpoint.target = {
        playlistId: this.getLikeTargetFromAlbumRelease_(c)
      }, a.buttonRenderer.serviceEndpoint = b) : b.modalEndpoint ? a.buttonRenderer.navigationEndpoint = b : O(Error("Unsupported endpoint mold: " + b)))
    },
    maybeHandleYtServiceRequest_: function(a, b) {
      b.likeEndpoint && b.likeEndpoint.target.playlistId == this.getLikeTargetFromAlbumRelease_(this.albumRelease_) && this.dispatch({
        type: "UPDATE_ALBUM_RELEASE_IN_LIBRARY",
        payload: {
          id: this.albumRelease_.userDetails,
          inLibrary: "LIKE" == b.likeEndpoint.status
        }
      })
    },
    getLikeTargetFromAlbumRelease_: function(a) {
      return a ? a.likeTargetPlaylistId ? a.likeTargetPlaylistId : a.audioPlaylistId || "" : ""
    }
  });
  Polymer({
    is: "ytmusic-data-bound-top-level-menu-item",
    behaviors: [V.YtRendererStamperBehavior, aB],
    properties: {
      data: Object,
      albumRelease_: {
        type: Object,
        computed: "computeAlbumRelease_(data)"
      }
    },
    observers: ["fillMolds_(data, albumRelease_)"],
    stampDom: {
      "data.menuTopLevelItemRendererMold": {
        id: "contents",
        mapping: {
          buttonRenderer: "yt-button-renderer",
          musicTopLevelMenuItemConditionalRenderer: {
            component: "ytmusic-top-level-menu-item-conditional-renderer",
            properties: {
              endpointMold: "[[data.endpointMold]]"
            }
          }
        }
      }
    },
    computeAlbumRelease_: function(a) {
      if (a.entityReference.musicAlbumReleaseEntity) return this.getStateBySelector("entities.albums.albumReleases." +
        a.entityReference.musicAlbumReleaseEntity) || void 0;
      a.entityReference.musicTrackEntity || O(Error("Unsupported entity reference: " + a.entityReference))
    },
    fillMolds_: function(a, b) {
      a.menuTopLevelItemRendererMold.buttonRenderer ? a.endpointMold.watchPlaylistEndpoint && (a.endpointMold.watchPlaylistEndpoint.playlistId = b.audioPlaylistId, this.set("data.menuTopLevelItemRendererMold.buttonRenderer.navigationEndpoint", a.endpointMold)) : a.menuTopLevelItemRendererMold.musicTopLevelMenuItemConditionalRenderer && this.set("data.menuTopLevelItemRendererMold.musicTopLevelMenuItemConditionalRenderer.inputs", {
        entityReference: a.entityReference
      })
    }
  });
  Polymer({
    is: "ytmusic-data-bound-menu-renderer",
    behaviors: [aB],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      albumRelease_: {
        type: Object,
        computed: "computeAlbumRelease_(data)"
      },
      track_: {
        type: Object,
        computed: "computeTrack_(data)"
      },
      isMweb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        }
      }
    },
    observers: ["fillMenuMold_(data, albumRelease_, track_)", "maybeStampTopLevelLikeButtons_(data, track_, isMweb_)"],
    computeAlbumRelease_: function(a) {
      return a.entityReference.musicAlbumReleaseEntity ? this.getStateBySelector("entities.albums.albumReleases." + a.entityReference.musicAlbumReleaseEntity) || void 0 : null
    },
    computeTrack_: function(a) {
      return a.entityReference.musicTrackEntity ? this.getStateBySelector("entities.tracks.trackEntities." + a.entityReference.musicTrackEntity) || void 0 : null
    },
    maybeStampTopLevelLikeButtons_: function(a, b, c) {
      var d = this;
      if (b && this.data.dataBoundTopLevelMenuButtons && !c && (a = this.data.dataBoundTopLevelMenuButtons.find(function(g) {
          return !!d.get("menuTopLevelItemRendererMold.likeButtonRenderer", g)
        }))) {
        a = a.menuTopLevelItemRendererMold.likeButtonRenderer;
        a.target = {
          videoId: b.videoId
        };
        c = this.getStateBySelector("entities.tracks.trackUserDetails." + b.userDetails);
        a.likeStatus = c && "MUSIC_ENTITY_LIKE_STATE_LIKED" == c.likeState ? "LIKE" : c && "MUSIC_ENTITY_LIKE_STATE_DISLIKED" == c.likeState ? "DISLIKE" : "INDIFFERENT";
        c = y(a.serviceEndpoints || []);
        for (var e = c.next(); !e.done; e = c.next()) e.value.likeEndpoint.target = {
          videoId: b.videoId
        };
        this.set("data.menuRendererMold.menuRenderer.topLevelButtons", [{
          likeButtonRenderer: a
        }])
      }
    },
    dataChanged_: function() {
      var a = this;
      this.data.dataBoundTopLevelMenuButtons && this.data.dataBoundTopLevelMenuButtons.forEach(function(b, c) {
        a.set("data.dataBoundTopLevelMenuButtons." + c + ".entityReference", a.data.entityReference)
      })
    },
    fillMenuMold_: function(a, b, c) {
      if (a.menuRendererMold && a.menuRendererMold.menuRenderer) {
        a.dataBoundMenuItems = a.dataBoundMenuItems || [];
        var d = a.menuRendererMold;
        d.menuRenderer.items = [];
        a = y(a.dataBoundMenuItems);
        for (var e = a.next(); !e.done; e = a.next()) {
          var g = e.value,
            h = g.endpointMold;
          e = null;
          b ? e = this.createCommandForAlbum_(h, b) : c && (e = this.createCommandForTrack_(h, c));
          e && (g = g.menuItemRendererMold, g.menuNavigationItemRenderer ? g.menuNavigationItemRenderer.navigationEndpoint = e : g.menuServiceItemRenderer && (g.menuServiceItemRenderer.serviceEndpoint =
            e), d.menuRenderer.items.push(g))
        }
      }
    },
    createCommandForAlbum_: function(a, b) {
      var c = null;
      a.watchPlaylistEndpoint ? (c = {
        watchPlaylistEndpoint: a.watchPlaylistEndpoint
      }, c.watchPlaylistEndpoint.playlistId = b.audioPlaylistId) : a.queueAddEndpoint ? (c = {
        queueAddEndpoint: a.queueAddEndpoint
      }, c.queueAddEndpoint.queueTarget = {
        playlistId: b.audioPlaylistId
      }) : a.addToPlaylistEndpoint ? (c = {
        addToPlaylistEndpoint: a.addToPlaylistEndpoint
      }, a.addToPlaylistEndpoint.playlistId = b.audioPlaylistId) : a.watchEndpointRadio && (c = {
          watchPlaylistEndpoint: a.watchEndpointRadio
        }, c.watchPlaylistEndpoint.playlistId =
        b.radioAutomixPlaylistId);
      return c
    },
    createCommandForTrack_: function(a, b) {
      var c = null;
      a.watchEndpoint ? (c = {
        watchEndpoint: a.watchEndpoint
      }, c.watchEndpoint.videoId = b.videoId) : a.queueAddEndpoint ? (c = {
        queueAddEndpoint: a.queueAddEndpoint
      }, c.queueAddEndpoint.queueTarget = {
        videoId: b.videoId
      }) : a.addToPlaylistEndpoint ? (c = {
        addToPlaylistEndpoint: a.addToPlaylistEndpoint
      }, c.addToPlaylistEndpoint.videoId = b.videoId) : a.modalEndpoint && (c = {
        modalEndpoint: a.modalEndpoint
      });
      return c
    }
  });
  Polymer({
    is: "ytmusic-list-item-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior, X.InjectBehavior, dB.YtmusicContextMenuParentBehavior, cB, aB],
    properties: {
      data: Object,
      playButtonState: {
        type: String,
        reflectToAttribute: !0
      },
      thumbnailOverlayRenderer_: {
        type: Object,
        computed: "computeThumbnailOverlayRenderer_(data, track_, watchEndpoint_)"
      },
      track_: {
        type: Object,
        computed: "computeTrackEntity_(data)"
      },
      parentAlbum_: {
        type: Object,
        computed: "computeParentAlbum_(data)"
      },
      watchEndpoint_: {
        type: Object,
        computed: "computeWatchEndpoint_(track_, parentAlbum_)"
      },
      trackContextMenu_: {
        type: Object,
        computed: "computeTrackContextMenu_(data)"
      },
      unplayable_: {
        type: Boolean,
        computed: "computeUnplayable_(track_)",
        reflectToAttribute: !0
      },
      isMweb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      },
      visualElement: {
        type: Object,
        value: Ar(45001)
      }
    },
    stampDom: {
      trackContextMenu_: {
        id: "menu",
        mapping: {
          musicDataBoundMenuRenderer: {
            component: "ytmusic-data-bound-menu-renderer",
            noInjection: !0
          }
        }
      }
    },
    attached: function() {
      jx(this.visualElement)
    },
    computeThumbnailOverlayRenderer_: function(a, b, c) {
      if ((a = this.get("overlay.musicItemThumbnailOverlayRenderer", a)) && b && c) {
        var d = a.content.musicPlayButtonRenderer;
        d.playNavigationEndpoint = c;
        d.accessibilityPlayData.accessibilityData.label = T("PLAY_ITEM_LABEL", {
          item_title: b.title
        });
        d.accessibilityPauseData.accessibilityData.label = T("PAUSE_ITEM_LABEL", {
          item_title: b.title
        });
        return a
      }
    },
    computeTrackEntity_: function(a) {
      if (a.entityReference.musicTrackEntity) return this.getStateBySelector("entities.tracks.trackEntities." + a.entityReference.musicTrackEntity) || void 0;
      O(Error("Unsupported entity reference: " + a.entityReference))
    },
    computeParentAlbum_: function(a) {
      if (a.containerEntityReference.musicAlbumReleaseEntity) return this.getStateBySelector("entities.albums.albumReleases." + a.containerEntityReference.musicAlbumReleaseEntity) || void 0;
      O(Error("Unsupported container entity reference: " + a.containerEntityReference))
    },
    computeTrackContextMenu_: function(a) {
      var b = M("DISPLAY_CONFIG");
      if (b && a.entityReference.musicTrackEntity && b.trackContextMenu && b.trackContextMenu.musicDataBoundMenuRenderer) return b = JSON.parse(JSON.stringify(b.trackContextMenu)), b.musicDataBoundMenuRenderer.entityReference = a.entityReference, b
    },
    computeIsExplicit_: function(a) {
      return "MUSIC_ENTITY_EXPLICIT_TYPE_EXPLICIT" == this.get("contentRating.explicitType", a)
    },
    computePlayButtonVe_: function(a) {
      var b;
      a.loggingDirectives.trackingParams && (b = xr(a.loggingDirectives.trackingParams));
      return Ar(44872, b)
    },
    computeUnplayable_: function(a) {
      return !a.videoId
    },
    getMenuRenderer: function() {
      return this.get("musicDataBoundMenuRenderer.menuRendererMold.menuRenderer", this.trackContextMenu_)
    },
    getShowIndex_: function(a) {
      return "LIST_INDEX_STYLE_SHOW" == a.listIndexStyle
    },
    getShowThumbnail_: function(a) {
      return "THUMBNAIL_STYLE_SHOW_THUMBNAIL" == a.thumbnailStyle
    },
    getThumbnailWidth_: function() {
      return 32
    },
    getDuration_: function(a) {
      return EA(Math.floor(Number(a.lengthMs) / 1E3))
    },
    computeWatchEndpoint_: function(a, b) {
      if (a && b) return {
        watchEndpoint: {
          videoId: a.videoId,
          playlistId: b.audioPlaylistId
        }
      }
    },
    showThumbnailOverlay_: function(a, b) {
      return !!a && !b
    },
    onEndpointTap_: function(a) {
      this.produceRipple_(a)
    },
    produceRipple_: function(a) {
      var b = this.$$("#ripple");
      b && (b.downAction(a), this.async(function() {
        b.upAction(a)
      }, 1))
    }
  });
  lw.YtNextContinuationBehavior = Yw;
  Polymer({
    is: "yt-next-continuation",
    behaviors: [Hw, W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "observeData_"
      },
      showButton: {
        type: Boolean,
        value: !1
      },
      label: {
        type: Object,
        computed: "computeLabel_(data, showButton)"
      },
      showMoreText_: {
        type: Object,
        value: dt(T("SHOW_MORE", void 0, "Show More"))
      },
      spinnerActive_: {
        type: Boolean,
        value: !1
      },
      hasBeenTriggered_: {
        type: Boolean,
        value: !1
      }
    },
    observeVisibleOption: null,
    observeHiddenOption: null,
    observePrescanOption: "observe_once",
    created: function() {
      this.triggered_ = !1
    },
    detached: function() {
      this.hasBeenTriggered_ = !1
    },
    onPrescanVisible: function() {
      this.onShow()
    },
    onShow: function() {
      this.showButton || this.trigger()
    },
    trigger: function() {
      this.spinnerActive_ = !0;
      this.showButton = !1;
      this.triggered_ || (this.fire("yt-load-next-continuation", this.getContinuationUrl.bind(this)), this.hasBeenTriggered_ = this.triggered_ = !0)
    },
    triggerIfNotPreviouslyTriggered: function() {
      this.hasBeenTriggered_ || this.trigger()
    },
    computeLabel_: function(a, b) {
      return void 0 === a ? null : a.label || !b ? a.label : this.showMoreText_
    },
    observeData_: function() {
      this.spinnerActive_ = this.triggered_ = !1;
      this.invalidate(!1)
    },
    getContinuationUrl: function(a) {
      var b = {
        ctoken: this.data.continuation,
        continuation: this.data.continuation
      };
      this.data.clickTrackingParams && (b.itct = this.data.clickTrackingParams);
      return Cj(a, b)
    }
  });
  Polymer({
    is: "ytmusic-shelf-renderer",
    behaviors: [V.YtRendererStamperBehavior, nv.YtActionHandlerBehavior, W.YtRendererBehavior, lw.YtNextContinuationBehavior, X.InjectBehavior],
    properties: {
      data: Object,
      isEmpty_: {
        type: Boolean,
        computed: "computeIsEmpty_(data)",
        reflectToAttribute: !0
      }
    },
    actionMap: {
      "yt-hide-enclosing-action": "handleHideEnclosingAction_"
    },
    stampDom: {
      "data.contents": {
        id: "contents",
        mapping: {
          musicListItemRenderer: "ytmusic-list-item-renderer",
          musicResponsiveListItemRenderer: "ytmusic-responsive-list-item-renderer"
        }
      },
      "data.continuations": {
        id: "continuations",
        mapping: {
          nextContinuationData: {
            component: "yt-next-continuation",
            noInjection: !0
          }
        }
      }
    },
    nextContinuation: {
      continuationType: "musicShelfContinuation",
      contentsArray: "data.contents",
      responseContentsKey: "contents"
    },
    handleHideEnclosingAction_: function(a, b) {
      b && (a = Array.from(Polymer.dom(this.$.contents).children).findIndex(function(c) {
        return c == b
      }), -1 != a && this.splice("data.contents", a, 1))
    },
    hasTitle_: function(a) {
      return !!a.title || !!a.icons && !!a.icons.length
    },
    computeIsEmpty_: function(a) {
      return !a.contents || !a.contents.length
    }
  });
  Polymer({
    is: "ytmusic-data-bound-album-release-tracks-shelf-renderer",
    behaviors: [V.YtRendererStamperBehavior, X.InjectBehavior, aB],
    properties: {
      data: Object,
      albumReleaseDetail_: {
        type: Object,
        computed: "computeAlbumReleaseDetail_(data)"
      }
    },
    observers: ["updateItemRenderers_(data, albumReleaseDetail_)"],
    stampDom: {
      "data.shelfMold": {
        id: "contents",
        mapping: {
          musicShelfRenderer: {
            component: "ytmusic-shelf-renderer"
          }
        }
      }
    },
    computeAlbumReleaseDetail_: function(a) {
      if (a.entityReference) {
        if (a.entityReference.musicAlbumReleaseEntity) return (a =
          this.getStateBySelector("entities.albums.albumReleases." + a.entityReference.musicAlbumReleaseEntity)) && this.getStateBySelector("entities.albums.albumReleaseDetails." + a.details) || void 0;
        O(Error("Unsupported entity reference: " + this.data.entityReference))
      }
    },
    updateItemRenderers_: function(a, b) {
      var c = this,
        d = a.itemMold,
        e = a.entityReference;
      b.tracks = b.tracks || [];
      var g = P("music_web_display_artist_in_multi_artist_albums");
      a = this.albumReleaseDetail_.tracks.map(function(m) {
        return c.getStateBySelector("entities.tracks.trackEntities." + m)
      });
      var h = a[0] && a[0].artistNames,
        k = !a.every(function(m) {
          return m.artistNames === h
        });
      b = b.tracks.map(function(m) {
        var l = JSON.parse(JSON.stringify(d));
        l.musicListItemRenderer = Object.assign(l.musicListItemRenderer, {
          entityReference: {
            musicTrackEntity: m
          },
          containerEntityReference: e,
          displayArtistName: g && k
        });
        return l
      });
      this.set("data.shelfMold.musicShelfRenderer.contents", b)
    }
  });
  Polymer({
    is: "ytmusic-data-bound-header-renderer",
    behaviors: [Polymer.IronResizableBehavior, W.YtRendererBehavior, aB],
    properties: {
      data: Object,
      visualElement: {
        type: Object,
        computed: "computeVisualElement_(albumRelease_)",
        observer: "visualElementChanged_"
      },
      albumRelease_: {
        type: Object,
        computed: "computeAlbumRelease_(data)"
      },
      dataBoundMenuRenderer_: {
        type: Object,
        computed: "computeDataBoundMenuRenderer_(data)"
      },
      isDescriptionExpanded: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0
      },
      descriptionOverflows: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        readOnly: !0
      }
    },
    ready: function() {
      this.addEventListener("iron-resize", this.onIronResize_)
    },
    detached: function() {
      this.cancelDebouncer("onIronResize_")
    },
    computeDataBoundMenuRenderer_: function(a) {
      if (a.detailsBarMenuMold && a.detailsBarMenuMold.musicDataBoundMenuRenderer) {
        var b = Object.assign({}, a.detailsBarMenuMold.musicDataBoundMenuRenderer);
        b.entityReference = a.entityReference;
        return b
      }
    },
    computeAlbumRelease_: function() {
      if (this.data.entityReference.musicAlbumReleaseEntity) return this.getStateBySelector("entities.albums.albumReleases." + this.data.entityReference.musicAlbumReleaseEntity) || void 0;
      O(Error("Unsupported entity reference: " + this.data.entityReference))
    },
    computeVisualElement_: function(a) {
      var b;
      a.loggingDirectives.trackingParams && (b = xr(a.loggingDirectives.trackingParams));
      return Ar(44077, b)
    },
    computeBylineFormattedString_: function(a) {
      switch (a.releaseType) {
        case "MUSIC_RELEASE_TYPE_SINGLE":
          var b = T("SINGLE");
          break;
        case "MUSIC_RELEASE_TYPE_EP":
          b = T("EP");
          break;
        default:
          b = T("ALBUM")
      }
      b = [{
        text: b
      }];
      if (a.artistDisplayName) {
        b.push({
          text: " \u2022 "
        });
        var c = {
            text: a.artistDisplayName
          },
          d = a.primaryArtists && a.primaryArtists[0];
        if (d = d && this.getStateBySelector("entities.artists.artistEntities." + d)) c.navigationEndpoint = this.artistEndpointFromArtistEntity_(d);
        b.push(c)
      }
      a.releaseDate && a.releaseDate.year && (b.push({
          text: " \u2022 "
        }),
        b.push({
          text: a.releaseDate.year
        }));
      return {
        runs: b
      }
    },
    computeStatsString_: function(a) {
      var b = Number(a.trackCount);
      a = Number(a.durationMs);
      if (Number.isNaN(b) || Number.isNaN(a)) return "";
      b = ms("SONG_COUNT", b);
      a = Math.abs(a);
      if (6E4 > a) a = "0 minutes";
      else {
        var c = Math.floor(a / 864E5);
        a %= 864E5;
        var d = Math.floor(a / 36E5),
          e = Math.floor(a % 36E5 / 6E4),
          g = Pj(c),
          h = Pj(d),
          k = Pj(e);
        a = c * (d + e) ? " " : "";
        var m = d * e ? " " : "";
        c = nk("{COUNT, plural, =0 {}=1 {{TEXT} day}other {{TEXT} days}}", c, g);
        d = nk("{COUNT, plural, =0 {}=1 {{TEXT} hour}other {{TEXT} hours}}", d, h);
        e = nk("{COUNT, plural, =0 {}=1 {{TEXT} minute}other {{TEXT} minutes}}",
          e, k);
        a = c + (a + (d + (m + e)))
      }
      return b + " \u2022 " + a
    },
    computeDescriptionFormattedString_: function(a) {
      a = this.getStateBySelector("entities.albums.albumReleaseDetails." + a.details);
      return dt(a.description)
    },
    computeIsExplicit_: function(a) {
      a = a && G("contentRating.explicitType", a);
      return !!a && "MUSIC_ENTITY_EXPLICIT_TYPE_EXPLICIT" == a
    },
    getThumbnailWidth_: function() {
      return 264
    },
    visualElementChanged_: function(a) {
      jx(a)
    },
    artistEndpointFromArtistEntity_: function(a) {
      return {
        browseEndpoint: {
          browseId: a.externalChannelId,
          browseEndpointContextSupportedConfigs: {
            browseEndpointContextMusicConfig: {
              pageType: "MUSIC_PAGE_TYPE_ARTIST"
            }
          }
        }
      }
    },
    computeDescriptionOverflows_: function() {
      var a = this.$.description;
      this._setDescriptionOverflows(a && a.scrollHeight - 1 > a.clientHeight)
    },
    onIronResize_: function() {
      this.debounce("onIronResize_", this.computeDescriptionOverflows_, 100)
    },
    onToggleButton_: function(a) {
      this.isDescriptionExpanded = a.detail.toggled;
      this.computeDescriptionOverflows_()
    }
  });
  Polymer({
    is: "ytmusic-cropped-square-thumbnail-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      size: {
        type: Number,
        value: 200
      }
    },
    computeWidth_: function(a, b) {
      var c = this.get("thumbnails.0", a);
      if (!c) return b;
      a = c.width;
      c = c.height;
      return a > c ? a / c * b : b
    }
  });
  Polymer({
    is: "ytmusic-detail-header-renderer",
    behaviors: [Polymer.IronResizableBehavior, W.YtRendererBehavior, xw],
    properties: {
      isDescriptionExpanded: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0
      },
      descriptionOverflows: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        readOnly: !0
      }
    },
    stampDom: {
      "data.thumbnail": {
        id: "thumbnail",
        mapping: {
          croppedSquareThumbnailRenderer: {
            component: "ytmusic-cropped-square-thumbnail-renderer",
            params: {
              size: "264"
            }
          },
          musicThumbnailRenderer: {
            component: "ytmusic-thumbnail-renderer",
            params: {
              imageWidth: "264"
            }
          }
        }
      }
    },
    attached: function() {
      this.listen(this.$["more-button"], "yt-toggle-button", "onToggleButton_");
      this.listen(this, "iron-resize", "onResize_");
      this.onResize_()
    },
    detached: function() {
      this.unlisten(this.$["more-button"], "yt-toggle-button", "onToggleButton_");
      this.unlisten(this, "iron-resize", "onResize_");
      this.cancelDebouncer("onResize_")
    },
    onToggleButton_: function(a) {
      this.isDescriptionExpanded = a.detail.toggled
    },
    onResize_: function() {
      var a = this;
      this.debounce("onResize_", function() {
        var b = a.$.description;
        a._setDescriptionOverflows(b && b.scrollHeight - 1 > b.clientHeight)
      }, 100)
    }
  });
  Polymer({
    is: "ytmusic-editable-playlist-detail-header-renderer",
    behaviors: [W.YtRendererBehavior]
  });
  Polymer({
    is: "ytmusic-fullbleed-thumbnail-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object,
      noTransition: {
        type: Boolean,
        reflectToAttribute: !0
      },
      sources_: {
        type: Array,
        computed: "computeSources_(data.thumbnail.thumbnails)"
      },
      thumbnailScale_: {
        type: String,
        computed: "computeThumbnailScale_(data.thumbnailScale)",
        reflectToAttribute: !0
      },
      loaded_: {
        type: Boolean,
        reflectToAttribute: !0
      }
    },
    computeSources_: function(a) {
      var b = this;
      if (!a) return [];
      var c;
      return a.sort(function(d, e) {
        return d.width - e.width
      }).map(function(d) {
        var e =
          d.width,
          g = b.getMedia(e, c);
        c = e;
        return {
          srcset: d.url,
          media: g
        }
      })
    },
    computeThumbnailScale_: function(a) {
      return a
    },
    getDefaultSource_: function(a) {
      return a ? a[a.length - 1].url : ""
    },
    getMedia: function(a, b) {
      return b ? "(min-width: " + (b + 1) + "px) and (max-width: " + a + "px)" : "(max-width: " + a + "px)"
    },
    onImgLoad_: function() {
      this.loaded_ = !0
    }
  });
  var jB, kB = function() {
    return Ym.apply(this, arguments) || this
  };
  z(kB, Ym);
  f = kB.prototype;
  f.attached = function() {
    this.actionHandlerBehavior.actionMap = jB.actionMap
  };
  f.onYtServiceRequestSent = function(a, b) {
    (this.get("endpoint.subscribeEndpoint", b) || this.get("endpoint.unsubscribeEndpoint", b)) && this.set("data.subscribed", !this.isSubscribed)
  };
  f.computeAriaLabel = function(a, b) {
    return b ? this.get("unsubscribeAccessibility.accessibilityData.label", a) || this.rendererBehavior.getSimpleString(a.subscribedButtonText) : this.get("subscribeAccessibility.accessibilityData.label", a) || this.rendererBehavior.getSimpleString(a.unsubscribedButtonText)
  };
  f.computeButtonText = function(a) {
    return a ? this.data.subscribedButtonText : this.data.unsubscribedButtonText
  };
  f.onButtonTap = function() {
    if (this.data) {
      var a = this.data.signInEndpoint;
      if (!this.accountService.isUserSignedIn() && a && (a = this.openPopupBehavior.getNavigationEndpointPopupAction(a))) {
        this.openPopupBehavior.openPopup(a);
        return
      }
      2 !== this.data.serviceEndpoints.length && this.data.serviceEndpoints[0].subscribeEndpoint ? O(Error("Invalid subscribe button endpoints: " + this.data.serviceEndpoints)) : (a = this.data.subscribed ? this.data.serviceEndpoints[1] : this.data.serviceEndpoints[0]) && this.rendererBehavior.sendServiceRequestAction([a])
    }
  };
  f.handleUpdateSubscribeButtonAction = function(a) {
    (a = a.updateSubscribeButtonAction) && a.channelId === this.data.channelId && this.set("data.subscribed", a.subscribed)
  };
  ca.Object.defineProperties(kB.prototype, {
    isSubscribed: {
      configurable: !0,
      enumerable: !0,
      get: function() {
        return !!this.data && !!this.data.subscribed
      }
    }
  });
  var lB = jB = kB;
  jB.prototype.onYtServiceRequestSent = jB.prototype.onYtServiceRequestSent;
  lB.actionMap = {
    "yt-update-subscribe-button-action": "handleUpdateSubscribeButtonAction"
  };
  Om([jn(nv.YtActionHandlerBehavior), Pm("design:type", Object)], lB.prototype, "actionHandlerBehavior", void 0);
  Om([jn(W.YtRendererBehavior), Pm("design:type", Object)], lB.prototype, "rendererBehavior", void 0);
  Om([jn(bB.YtmusicOpenPopupBehavior), Pm("design:type", Object)], lB.prototype, "openPopupBehavior", void 0);
  Om([function(a, b) {
      b = void 0 === b ? {} : b;
      var c = void 0 === b.optional ? !1 : b.optional;
      return function(d, e) {
        var g = a || Reflect.getMetadata("design:type", d, e);
        d.inject = d.inject || {};
        d.inject[e] = c ? new Hv(g) : g
      }
    }(),
    Pm("design:type", Wz)
  ], lB.prototype, "accountService", void 0);
  Om([kn(), Pm("design:type", Object)], lB.prototype, "data", void 0);
  Om([kn({
      reflectToAttribute: !0
    }), function(a) {
      for (var b = [], c = 0; c < arguments.length; ++c) b[c - 0] = arguments[c];
      return function(d, e, g) {
        var h = "__compute__" + e;
        Object.defineProperty(d, h, {
          value: Object.getOwnPropertyDescriptor(d, e).get,
          enumerable: !0
        });
        d.properties = d.properties || {};
        d.properties[e] = Object.assign({}, d.properties[e], {
          type: String,
          computed: h + "(" + b.join(",") + ")"
        });
        Wm || (g.get = void 0)
      }
    }("data.subscribed"),
    Pm("design:type", Boolean), Pm("design:paramtypes", [])
  ], lB.prototype, "isSubscribed", null);
  Om([ln("yt-service-request-sent"), Pm("design:type", Function), Pm("design:paramtypes", [CustomEvent, sv]), Pm("design:returntype", void 0)], lB.prototype, "onYtServiceRequestSent", null);
  lB = jB = Om([function(a) {
    return function(b) {
      if (!a.noInjection) {
        var c = !!a.isInjectionRoot,
          d = a.providers;
        b.prototype.behaviors = b.prototype.behaviors || [];
        b.prototype.behaviors.unshift(Pv.InjectBehavior);
        b.prototype.provide = d;
        b.prototype.isInjectionRoot = c
      }
      jn(Aw.prototype)(b.prototype, "__templateHelpers");
      bn({
        is: a.is,
        notifyObserversOnUndefined: !1 !== a.notifyObserversOnUndefined
      })(b)
    }
  }({
    is: "ytmusic-subscribe-button-renderer"
  })], lB);
  Polymer({
    is: "ytmusic-immersive-header-renderer",
    behaviors: [X.InjectBehavior, aB, W.YtRendererBehavior, Polymer.IronResizableBehavior],
    properties: {
      data: {
        type: Object,
        observer: "onDataChanged_"
      },
      isDescriptionExpanded: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0
      },
      isCustomGadgetPage: {
        type: Boolean,
        statePath: $z,
        reflectToAttribute: !0
      },
      descriptionOverflows: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        readOnly: !0
      },
      noTransition: {
        type: Boolean,
        reflectToAttribute: !0
      }
    },
    attached: function() {
      this.listen(this, "iron-resize",
        "onResize_")
    },
    detached: function() {
      var a = this.$$("#more-button");
      a && this.unlisten(a, "yt-toggle-button", "onToggleButton_");
      this.unlisten(this, "iron-resize", "onResize_");
      this.cancelDebouncer("onResize_")
    },
    onToggleButton_: function(a) {
      this.isDescriptionExpanded = a.detail.toggled
    },
    onDescriptionDomChanged_: function() {
      var a = this.$$("#more-button");
      a && this.listen(a, "yt-toggle-button", "onToggleButton_");
      this.onResize_()
    },
    onDataChanged_: function(a) {
      this.isDescriptionExpanded = a && a.moreButton.toggleButtonRenderer.isToggled || !1
    },
    onResize_: function() {
      var a = this;
      this.debounce("onResize_", function() {
        var b = a.$$("#description");
        a._setDescriptionOverflows(!!a.isDescriptionExpanded || b && b.scrollHeight > b.clientHeight)
      }, 100)
    },
    computeImageWidth_: function() {
      return document.documentElement.clientWidth
    }
  });
  var mB = {
    created: function() {
      this.isMobileWeb_ = N("IS_MOBILE_WEB", !1);
      this.scroller_ = this.fastScrollSupport_ = this.dragListGroup_ = null;
      this.boundOnDraggerCreated_ = this.onDraggerCreated_.bind(this);
      this.boundOnDragStart_ = this.onDragStart_.bind(this);
      this.boundOnDragEnd_ = this.onDragEnd_.bind(this);
      this.boundOnScroll_ = this.onScroll_.bind(this)
    },
    detached: function() {
      this.disposeDragDrop_()
    },
    startDragDrop: function(a, b) {
      this.isMobileWeb_ || (this.disposeDragDrop_(), this.scroller_ = b, this.dragListGroup_ = new uA(this), this.dragListGroup_.setHysteresis(2), this.dragListGroup_.addDragList(a, 0), $i(this.dragListGroup_, Vk, this.boundOnDraggerCreated_), $i(this.dragListGroup_, Xk, this.boundOnDragStart_), $i(this.dragListGroup_, al, this.boundOnDragEnd_), this.dragListGroup_.init())
    },
    disposeDragDrop_: function() {
      this.dragListGroup_ && (gj(this.dragListGroup_, Vk, this.boundOnDraggerCreated_), gj(this.dragListGroup_, Xk, this.boundOnDragStart_), gj(this.dragListGroup_, al, this.boundOnDragEnd_), this.dragListGroup_.dispose(), this.dragListGroup_ = null);
      this.fastScrollSupport_ && (this.fastScrollSupport_.disposeInternal(), this.fastScrollSupport_ = null);
      this.scroller_ && (this.scroller_.removeEventListener("scroll", this.boundOnScroll_), this.scroller_ = null)
    },
    onDraggerCreated_: function(a) {
      var b = a.dragger;
      b.setScrollTarget(this.scroller_);
      a.draggerEl.menuOpened && b.setEnabled(!1)
    },
    onDragStart_: function(a) {
      var b = a.draggerEl;
      a = a.currDragItem;
      var c = Xa(a.data);
      c.trackingParams = void 0;
      b.data = c;
      b.style.cursor = "move";
      b.style.width = a.clientWidth + "px";
      b.style.zIndex = 9;
      b.style["background-color"] = "var(--ytmusic-color-surface-4)";
      this.fastScrollSupport_ = new vA(this.scroller_);
      this.scroller_.addEventListener("scroll", this.boundOnScroll_, {
        passive: !0
      })
    },
    onDragEnd_: function(a) {
      this.fastScrollSupport_.disposeInternal();
      this.fastScrollSupport_ = null;
      this.scroller_.removeEventListener("scroll", this.boundOnScroll_);
      this.fire("ytmusic-reorderable-list-drop", {
        dragEl: a.currDragItem
      })
    },
    onScroll_: function() {
      this.dragListGroup_.recacheListAndItemBounds()
    }
  };
  Polymer({
    is: "ytmusic-playlist-shelf-renderer",
    behaviors: [V.YtRendererStamperBehavior, nv.YtActionHandlerBehavior, W.YtRendererBehavior, lw.YtNextContinuationBehavior, X.InjectBehavior, mB],
    listeners: {
      "yt-rendererstamper-finished": "onRendererstamperFinished_",
      "ytmusic-reorderable-list-drop": "onDrop_"
    },
    properties: {
      data: Object
    },
    actionMap: {
      "yt-action": "handleAction_",
      "yt-hide-enclosing-action": "handleHideEnclosingAction_"
    },
    stampDom: {
      "data.contents": {
        id: "contents",
        mapping: {
          musicResponsiveListItemRenderer: "ytmusic-responsive-list-item-renderer"
        },
        events: !0
      },
      "data.continuations": {
        id: "continuations",
        mapping: {
          nextContinuationData: {
            component: "yt-next-continuation",
            noInjection: !0
          }
        }
      }
    },
    nextContinuation: {
      continuationType: "musicPlaylistShelfContinuation",
      contentsArray: "data.contents",
      responseContentsKey: "contents"
    },
    onRendererstamperFinished_: function(a) {
      this.data.contentsReorderable && a.detail.container == this.$.contents && this.startDragDrop(this.$.contents, document.scrollingElement)
    },
    onDrop_: function(a) {
      var b = a.detail.dragEl,
        c = this.data.contents.findIndex(function(d) {
          return Object.values(d).includes(b.data)
        });
      a = Array.from(b.parentElement.children).indexOf(b);
      c = this.data.contents.splice(c, 1)[0];
      this.data.contents.splice(a, 0, c);
      c = c.musicResponsiveListItemRenderer.playlistItemData.playlistSetVideoId;
      a = this.get("contents." + (a + 1) + ".musicResponsiveListItemRenderer.playlistItemData.playlistSetVideoId", this.data);
      this.sendServiceRequestAction([this.buildReorderServiceEndpoint_(c, a)])
    },
    buildReorderServiceEndpoint_: function(a, b) {
      return {
        playlistEditEndpoint: {
          playlistId: this.data.playlistId,
          actions: [{
            action: "ACTION_MOVE_VIDEO_BEFORE",
            setVideoId: a,
            movedSetVideoIdSuccessor: b
          }]
        }
      }
    },
    handleAction_: function() {},
    handleHideEnclosingAction_: function(a, b) {
      b && (a = Array.from(Polymer.dom(this.$.contents).children).indexOf(b), -1 != a && this.splice("data.contents", a, 1))
    }
  });
  Polymer({
    is: "ytmusic-you-there-renderer",
    hostAttributes: {
      dialog: !0
    },
    behaviors: [iB, W.YtRendererBehavior, X.InjectBehavior],
    inject: {
      playerController_: Nz
    },
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      youThereData_: {
        type: Object,
        computed: "computeYouThereData_(data)"
      }
    },
    created: function() {},
    dataChanged_: function() {
      this.playerController_.getPlayerApi().pauseVideo();
      this.listen(this, "yt-popup-closed", "onPopupClosed_");
      ks("YOU_THERE_EVENT_TYPE_PLAYBACK_PAUSED")
    },
    computeYouThereData_: function(a) {
      return this.get("configData.youThereData", a)
    },
    onPopupClosed_: function() {
      this.unlisten(this, "yt-popup-closed", "onPopupClosed_");
      ks("YOU_THERE_EVENT_TYPE_USER_RESPONDED");
      this.playerController_.getPlayerApi().playVideo();
      this.youThereData_.followUpText && this.openToastWithFormattedMessage(this.youThereData_.followUpText)
    }
  });
  Polymer({
    is: "ytmusic-content-update-chip",
    hostAttributes: {
      role: "alertdialog"
    },
    behaviors: [Polymer.IronA11yKeysBehavior, V.YtBindingExpressionsBehavior, W.YtRendererBehavior, X.InjectBehavior, aB],
    inject: {
      networkManager_: Xy
    },
    keyBindings: {
      esc: "returnFocus_"
    },
    properties: {
      endpoint: Object,
      updatedContentAvailable: {
        type: Boolean,
        reflectToAttribute: !0,
        readOnly: !0,
        observer: "updatedContentAvailableChanged_"
      },
      visualElement: {
        type: Object,
        value: Ar(46097)
      },
      mainContentData_: {
        type: Object,
        statePath: Zz,
        observer: "mainContentDataChanged_"
      },
      active_: {
        type: Boolean,
        computed: "computeActive_(endpoint, mainContentData_)",
        observer: "activeChanged_"
      }
    },
    created: function() {
      this.boundFetchContentIfState_ = this.fetchContentIfState_.bind(this);
      this.previouslyFocusedElement_ = null
    },
    computeActive_: function(a, b) {
      return !!b && a.data.browseId == b.endpoint.data.browseId
    },
    activeChanged_: function(a) {
      a ? window.addEventListener("focus", this.boundFetchContentIfState_) : window.removeEventListener("focus", this.boundFetchContentIfState_)
    },
    mainContentDataChanged_: function() {
      this._setUpdatedContentAvailable(!1);
      this.active_ && jx(this.visualElement)
    },
    commandFromEndpoint_: function(a) {
      return a.toCommand()
    },
    fetchContentIfState_: function() {
      var a = this;
      this.networkManager_.hasValidCachedResponse(this.endpoint.getRequest()) || (P("music_web_disable_home_background_fetch") ? this.active_ && this._setUpdatedContentAvailable(!0) : this.networkManager_.sendRequest(this.endpoint.getRequest()).then(function() {
        a.active_ && a._setUpdatedContentAvailable(!0)
      }))
    },
    getNewRecommendationsHref_: function(a) {
      return this.computeHref_(this.commandFromEndpoint_(a)) || ""
    },
    computeTabIndex_: function(a) {
      return a ? 0 : -1
    },
    updatedContentAvailableChanged_: function(a) {
      a && this.captureFocus_()
    },
    captureFocus_: function() {
      this.previouslyFocusedElement_ = document.activeElement;
      this.$["new-recommendations-link"].focus()
    },
    returnFocus_: function() {
      this.previouslyFocusedElement_ && this.previouslyFocusedElement_.offsetParent && this.previouslyFocusedElement_.focus();
      this.previouslyFocusedElement_ = null
    }
  });
  Polymer({
    is: "ytmusic-carousel-shelf-basic-header-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior],
    properties: {
      style_: {
        type: String,
        computed: "computeStyle_(data.headerStyle)",
        reflectToAttribute: !0
      }
    },
    stampDom: {
      "data.endIcons": {
        id: "icons",
        mapping: {
          iconLinkRenderer: "ytmusic-icon-link-renderer"
        }
      }
    },
    computeStyle_: function(a) {
      return a
    },
    getAriaLabel_: function(a) {
      return this.get("accessibilityData.label", a) || ""
    }
  });
  Polymer({
    is: "ytmusic-two-row-item-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior, X.InjectBehavior, dB.YtmusicContextMenuParentBehavior, eB],
    listeners: {
      "ytmusic-request-ancestor-ripple": "onRequestAncestorRipple_"
    },
    properties: {
      data: Object,
      aspectRatio: {
        type: String,
        computed: "computeAspectRatio_(data.aspectRatio)",
        reflectToAttribute: !0
      },
      hasCircleCroppedThumbnail_: {
        type: Boolean,
        computed: "computeHasCircleCroppedThumbnail_(data.thumbnailRenderer.musicThumbnailRenderer.thumbnailCrop)",
        reflectToAttribute: !0
      },
      hasBadges_: {
        type: Boolean,
        computed: "computeHasBadges_(data.subtitleBadges)",
        reflectToAttribute: !0
      },
      hasBeenPrescanned_: {
        type: Boolean,
        value: !1
      }
    },
    stampDom: {
      "data.subtitleBadges": {
        id: "inline-badges",
        mapping: {
          liveBadgeRenderer: {
            component: "ytmusic-live-badge-renderer",
            noInjection: !0
          },
          musicInlineBadgeRenderer: {
            component: "ytmusic-inline-badge-renderer",
            noInjection: !0
          }
        }
      }
    },
    observePrescanOption: "observe_once",
    observeHiddenOption: null,
    computeHasCircleCroppedThumbnail_: function(a) {
      return "MUSIC_THUMBNAIL_CROP_CIRCLE" ==
        a
    },
    computeAspectRatio_: function(a) {
      return a
    },
    computeHasBadges_: function(a) {
      return !!a && 0 < a.length
    },
    computeImageWidth_: function() {
      return "MUSIC_TWO_ROW_ITEM_THUMBNAIL_ASPECT_RATIO_RECTANGLE_16_9" == this.aspectRatio ? 402.37 : 226.333
    },
    onEndpointTap_: function(a) {
      this.produceRipple_(a)
    },
    onRequestAncestorRipple_: function(a) {
      this.produceRipple_(a.detail.sourceEvent)
    },
    produceRipple_: function(a) {
      var b = this;
      this.$.ripple.downAction(a);
      this.async(function() {
        b.$.ripple.upAction(a)
      }, 1)
    },
    onPrescanVisible: function() {
      this.hasBeenPrescanned_ = !0
    },
    shouldRenderOverlay_: function(a, b) {
      return !!a && b
    }
  });
  var nB = [pw.YtTaskEmitterBehavior, {
    _noAccessors: !0,
    properties: {
      initialCount: {
        type: Number,
        value: 4
      },
      targetFramerate: {
        type: Number,
        value: 20
      },
      autoFill: {
        type: Boolean,
        value: !1
      },
      shownItems: Array,
      shownCount: {
        type: Number,
        value: 0
      },
      canShowMore: {
        type: Boolean,
        notify: !0,
        reflectToAttribute: !0,
        observer: "onCanShowMoreUpdated_"
      },
      renderDelay: Number,
      targetFrameTime_: {
        type: Number,
        computed: "computeFrameTime_(targetFramerate)"
      },
      canScheduleJobs: {
        type: Boolean,
        value: !0,
        observer: "canScheduleJobsChanged_"
      }
    },
    itemsPath: "data.items",
    beforeRegister: function() {
      if (this.itemsPath) {
        var a = (this.constructor.generatedFrom || this).observers;
        a || (a = []);
        a.push("deepLazyListObserver_(" + this.itemsPath + ".*)");
        Polymer.Element ? this.constructor.generatedFrom.observers = a : this.observers = a
      }
    },
    created: function() {
      this.boundRenderChunk_ = this.renderChunk_.bind(this);
      this.items_ = null;
      this.lazyListRenderJobId_ = this.chunkCount_ = this.lastChunkTime_ = this.length_ = 0;
      this.deferRenderingOutsideVisibleArea_ = P("defer_rendering_outside_visible_area");
      this.nonDeferredItemCount = -1;
      this.renderElementsOutsideVisibleArea_ = null;
      this.partiallyRenderedItems_ = new WeakSet
    },
    fillRemainingListItems: function() {
      this.fillRange_(this.shownCount, this.length_)
    },
    renderDeferredElements: function() {
      var a = this.renderElementsOutsideVisibleArea_;
      a && a.executeOnNextFrame()
    },
    deepLazyListObserver_: function(a) {
      var b = this;
      if (a) {
        var c = a.value || [];
        if (this.itemsPath == a.path) {
          var d = this.nonDeferredItemCount;
          a = 0;
          P("enable_signals") && this.deferRenderingOutsideVisibleArea_ && -1 < d && c.length > d && (a = M("REMAINING_DOVA_DEFERRED_CHUNKS", -1));
          0 < a ? (0 < d && this.setInitialItemsOnDataChanged_(c.slice(0, d)), (d = this.renderElementsOutsideVisibleArea_) ? d.cancel() : (d = this.renderElementsOutsideVisibleArea_ = new Nt(2, "eocs"), Aq(window, "scroll", function() {
              return b.renderDeferredElements()
            })), d.queueJob(function() {
              b.setInitialItemsOnDataChanged_(c)
            }),
            Ld("REMAINING_DOVA_DEFERRED_CHUNKS", a - 1)) : this.setInitialItemsOnDataChanged_(c)
        } else if (this.itemsPath + ".splices" == a.path) this.onItemsUpdated_(c);
        else this.notifyPath("shownItems" + a.path.substr(this.itemsPath.length), a.value)
      } else this.cancelPendingTasks_()
    },
    onItemsUpdated_: function(a) {
      a && (this.items_ = this.get(this.itemsPath)) && (this.updateChangeRecord_(a), this.length_ = this.items_.length, this.canShowMore = this.shownCount < this.length_, this.autoFill ? (this.lastChunkTime_ = Date.now(), this.tryRenderChunk_()) : this.fillRemainingListItems())
    },
    updateChangeRecord_: function(a) {
      a = a.indexSplices;
      for (var b = 0, c = a.length; b < c; b++) {
        var d = a[b];
        if (d.index < this.shownCount && (d.removed && this.splice("shownItems", d.index, d.removed.length), d.addedCount)) {
          var e = ["shownItems", d.index, 0];
          e.push.apply(e, d.object.slice(d.index, d.index + d.addedCount));
          this.splice.apply(this, e)
        }
      }
      this.shownCount = this.shownItems.length
    },
    setInitialItemsOnDataChanged_: function(a) {
      this.cancelPendingTasks_();
      a || (a = []);
      this.items_ = a;
      this.length_ = this.items_.length;
      this.shownItems = this.items_.slice(0, this.initialCount);
      this.shownCount = this.shownItems.length;
      this.canShowMore = this.shownCount < this.length_;
      this.autoFill && (N("DISABLE_AUTOFILL") ? this.fillRemainingListItems() : (this.chunkCount_ = this.initialCount, this.lastChunkTime_ = Date.now(), this.canShowMore && Polymer.RenderStatus.afterNextRender(this, this.tryRenderChunk_)))
    },
    fillRange_: function(a, b) {
      this.canShowMore && this.items_ && (a = this.items_.slice(a, b), a.unshift("shownItems"), this.push.apply(this, a), this.shownCount = b, this.canShowMore = this.shownCount < this.length_)
    },
    tryRenderChunk_: function() {
      var a = this;
      this.canShowMore && this.debounce("renderChunk", function() {
        a.requestRenderChunk_()
      })
    },
    requestRenderChunk_: function() {
      if (N("SCHEDULED_LAZY_LIST") || this.renderDelay) return this.shouldUseTaskManager() || this.canScheduleJobs ? (this.cancelPendingTasks_(), this.lazyListRenderJobId_ = this.getTaskManager().addMediumPriorityJob(this.boundRenderChunk_, this.renderDelay), !0) : !1;
      requestAnimationFrame(this.boundRenderChunk_);
      return !0
    },
    cancelPendingTasks_: function() {
      this.lazyListRenderJobId_ && this.getTaskManager().cancelJob(this.lazyListRenderJobId_);
      var a = this.renderElementsOutsideVisibleArea_;
      a && (a.cancel(), this.renderElementsOutsideVisibleArea_ = null)
    },
    renderChunk_: function() {
      var a = Date.now();
      this.chunkCount_ = Math.round(this.targetFrameTime_ / (a - this.lastChunkTime_) * this.chunkCount_) || 1;
      this.lastChunkTime_ = a;
      this.fillRange_(this.shownCount, Math.min(this.shownCount + this.chunkCount_, this.length_));
      this.lazyListRenderJobId_ = 0;
      this.tryRenderChunk_()
    },
    computeFrameTime_: function(a) {
      return Math.ceil(1E3 / a)
    },
    onCanShowMoreUpdated_: function(a) {
      this.data && (a ? this.partiallyRenderedItems_.add(this.items_) : this.partiallyRenderedItems_.delete(this.items_))
    },
    canScheduleJobsChanged_: function(a) {
      !this.shouldUseTaskManager() && this.data && (!a && this.canShowMore ? (this.cancelDebouncer("renderChunk"), this.lazyListRenderJobId_ && this.getTaskManager().cancelJob(this.lazyListRenderJobId_)) : a && this.partiallyRenderedItems_.has(this.items_) && (P("kevlar_lazy_list_resume_for_autofill") ? this.autoFill && this.tryRenderChunk_() : this.tryRenderChunk_()))
    }
  }];
  Polymer({
    is: "ytmusic-carousel",
    behaviors: [V.YtBindingExpressionsBehavior, V.YtRendererStamperBehavior, nv.YtActionHandlerBehavior, nB, X.InjectBehavior, aB, Polymer.IronA11yKeysBehavior],
    properties: {
      items: Array,
      itemSize: {
        type: String,
        reflectToAttribute: !0,
        observer: "itemSizeChanged"
      },
      noTransition: {
        type: Boolean,
        value: !1
      },
      alignmentInfo_: {
        type: Object,
        observer: "alignmentInfoChanged_"
      },
      itemsContainerScrollLeft_: {
        type: Number,
        value: 0,
        observer: "itemsContainerScrollLeftChanged_"
      },
      atStart_: {
        type: Boolean,
        computed: "computeAtStart_(itemsContainerScrollLeft_)"
      },
      atEnd_: {
        type: Boolean,
        computed: "computeAtEnd_(lastItemAligned_, lastItemFullyVisible_)"
      },
      lastItemAligned_: {
        type: Boolean,
        value: !1,
        computed: "computeLastItemAligned_(alignmentInfo_)"
      },
      lastItemFullyVisible_: {
        type: Boolean,
        value: !0
      },
      browserSupportsHidingScrollbars_: {
        type: Boolean,
        value: function() {
          return Ge || He || ee
        },
        reflectToAttribute: !0
      },
      hideButtons_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      },
      viewportInfo_: {
        type: Object,
        statePath: IA,
        observer: "viewportInfoChanged_"
      },
      initialCount: {
        type: Number,
        value: 7
      },
      autoFill: {
        type: Boolean,
        value: !0
      }
    },
    actionMap: {
      "yt-hide-enclosing-action": "handleHideEnclosingAction_"
    },
    itemsPath: "items",
    stampDom: {
      shownItems: {
        id: "items",
        mapping: {
          musicTwoRowItemRenderer: {
            component: "ytmusic-two-row-item-renderer",
            attributes: {
              role: "listitem"
            }
          }
        }
      }
    },
    created: function() {
      this.itemsA11yInfo_ = new Map;
      this.focusTargetOnceDoneScrolling_ = null;
      this.boundOnItemDOMChange_ =
        this.onItemDOMChange_.bind(this)
    },
    ready: function() {
      var a = this;
      this.$.items.addEventListener("scroll", function() {
        return a.onScroll_()
      }, {
        passive: !0
      })
    },
    attached: function() {
      var a = this;
      this.visibleItemsObserver_ = new IntersectionObserver(function(b) {
        return a.visibleItemsChanged_(b)
      }, {
        root: this.$.items,
        rootMargin: "2px",
        threshold: [0, 1]
      });
      this.itemsObserver_ = Polymer.dom(this.$.items).observeNodes(function(b) {
        return a.itemsDomChanged_(b)
      })
    },
    detached: function() {
      this.visibleItemsObserver_.disconnect();
      Polymer.dom(this.$.items).unobserveNodes(this.itemsObserver_);
      this.unlisten(window, "resize", "maintainAlignment_")
    },
    itemSizeChanged: function() {
      this.initialCount = "COLLECTION_STYLE_ITEM_SIZE_SMALL" === this.itemSize ? Number.MAX_SAFE_INTEGER : 7
    },
    itemsDomChanged_: function(a) {
      for (var b = y(a.addedNodes), c = b.next(); !c.done; c = b.next()) c = c.value, this.visibleItemsObserver_.observe(c), c.addEventListener("dom-change", this.boundOnItemDOMChange_);
      a = y(a.removedNodes);
      for (c = a.next(); !c.done; c = a.next()) b = c.value, this.visibleItemsObserver_.unobserve(b), this.itemsA11yInfo_.delete(b), b.removeEventListener("dom-change", this.boundOnItemDOMChange_)
    },
    visibleItemsChanged_: function(a) {
      var b = this.getItems_();
      a = y(a);
      for (var c = a.next(); !c.done; c = a.next()) {
        c = c.value;
        var d = 1 <= c.intersectionRatio;
        this.itemsA11yInfo_.has(c.target) ? this.itemsA11yInfo_.get(c.target).fullyVisible = d : this.itemsA11yInfo_.set(c.target, {
          fullyVisible: d,
          tabbables: new Set(Polymer.IronFocusablesHelper.getTabbableNodes(c.target))
        });
        this.updateTabIndicesForItem_(c.target);
        c.target == b[b.length - 1] && (this.lastItemFullyVisible_ = d)
      }
    },
    onItemDOMChange_: function(a) {
      var b = this,
        c = Polymer.dom(a).localTarget;
      this.itemsA11yInfo_.has(c) && this.async(function() {
        var d = b.itemsA11yInfo_.get(c);
        d.tabbables = new Set([].concat(la(Polymer.IronFocusablesHelper.getTabbableNodes(c)), la(d.tabbables)));
        b.updateTabIndicesForItem_(c)
      }, 1)
    },
    updateTabIndicesForItem_: function(a) {
      a = this.itemsA11yInfo_.get(a);
      for (var b = y(a.tabbables), c = b.next(); !c.done; c = b.next()) Polymer.dom(c.value).setAttribute("tabindex", a.fullyVisible ? "0" : "-1")
    },
    viewportInfoChanged_: function(a) {
      this.listenForFluidResize_(!!a && a.fluid);
      this.maintainAlignment_()
    },
    listenForFluidResize_: function(a) {
      a ? this.listen(window, "resize", "maintainAlignment_") : this.unlisten(window, "resize", "maintainAlignment_")
    },
    onScroll_: function() {
      var a = this;
      this.debounce("onScroll_", function() {
        a.itemsContainerScrollLeft_ = Ok(a.$.items);
        a.alignmentInfo_ && a.getItemsContainerScrollLeftForAlignmentInfo_(a.alignmentInfo_) != a.itemsContainerScrollLeft_ && (a.alignmentInfo_ = void 0)
      }, 50)
    },
    maintainAlignment_: function() {
      if (this.alignmentInfo_ && 0 != this.itemsContainerScrollLeft_) {
        var a = this.noTransition;
        this.noTransition = !0;
        this.alignItemIfPossible_(this.alignmentInfo_.alignedItem, this.alignmentInfo_.alignment);
        this.noTransition = a
      }
    },
    handleHideEnclosingAction_: function(a, b) {
      b && (a = this.getItems_().indexOf(b), -1 != a && (1 == this.items.length ? this.sendAction("yt-hide-enclosing-action", [null, this.getParentShelfRenderer_()]) : this.alignmentInfo_ ? (b = this.alignmentInfo_.alignedItem == b ? b.nextElementSibling || b.previousElementSibling : this.alignmentInfo_.alignedItem, this.splice("items", a, 1), this.alignItemIfPossible_(b, this.alignmentInfo_.alignment)) : this.splice("items", a, 1)))
    },
    getParentShelfRenderer_: function() {
      return kA(this, "ytmusic-carousel-shelf-renderer") || kA(this, "ytmusic-immersive-carousel-shelf-renderer")
    },
    computeAtStart_: function(a) {
      return 0 == a
    },
    computeAtEnd_: function(a, b) {
      return a || b
    },
    computeLastItemAligned_: function(a) {
      return !!a && a.alignedItem == this.getItems_()[this.getItems_().length - 1]
    },
    alignmentInfoChanged_: function(a) {
      a && (this.itemsContainerScrollLeft_ = this.getItemsContainerScrollLeftForAlignmentInfo_(a))
    },
    getItemsContainerScrollLeftForAlignmentInfo_: function(a) {
      var b = a.alignedItem;
      return "start" == a.alignment ? Pk(b) : Pk(b) + b.clientWidth - this.$.items.clientWidth
    },
    itemsContainerScrollLeftChanged_: function(a) {
      var b = this,
        c = this.$.items;
      Ok(c) != a && (this.noTransition ? (Qk(c, a), a = ph()) : a = DA(c, a, !1), a.then(function() {
        return b.onScrollAnimationComplete_()
      }))
    },
    onPreviousButtonTap_: function() {
      var a = this,
        b = this.getItems_().slice(0).reverse().find(function(c) {
          return Pk(c) < a.itemsContainerScrollLeft_
        });
      b && (this.alignItemIfPossible_(b, "end"), this.maybeFocusItemAfterScroll_(b))
    },
    onNextButtonTap_: function() {
      var a = this,
        b = this.getItems_().find(function(c) {
          return Pk(c) + c.clientWidth > a.$.items.clientWidth + a.itemsContainerScrollLeft_
        });
      b && (this.alignItemIfPossible_(b, "start"), this.maybeFocusItemAfterScroll_(b))
    },
    alignItemIfPossible_: function(a, b) {
      var c = this.$.items,
        d = c.clientWidth == c.scrollWidth,
        e = "end" == b && Pk(a) + a.clientWidth <= c.clientWidth;
      d || e ? this.alignmentInfo_ = {
        alignedItem: this.getItems_()[0],
        alignment: "start"
      } : "start" == b && Pk(a) >= c.scrollWidth - c.clientWidth ? this.alignmentInfo_ = {
        alignedItem: this.getItems_()[this.getItems_().length - 1],
        alignment: "end"
      } : this.alignmentInfo_ = {
        alignedItem: a,
        alignment: b
      }
    },
    maybeFocusItemAfterScroll_: function(a) {
      document.documentElement.classList.contains("no-focus-outline") || (this.focusTargetOnceDoneScrolling_ = a)
    },
    onScrollAnimationComplete_: function() {
      if (this.focusTargetOnceDoneScrolling_ && this.itemsA11yInfo_.has(this.focusTargetOnceDoneScrolling_)) {
        var a = this.itemsA11yInfo_.get(this.focusTargetOnceDoneScrolling_).tabbables.values().next().value;
        a && a.focus();
        this.focusTargetOnceDoneScrolling_ = null
      }
    },
    getItems_: function() {
      return Array.from(Polymer.dom(this.$.items).children)
    }
  });
  Polymer({
    is: "ytmusic-immersive-carousel-shelf-renderer",
    behaviors: [W.YtRendererBehavior, X.InjectBehavior],
    constructMusicThumbnailRenderer_: function(a) {
      return {
        thumbnail: a.thumbnail,
        thumbnailScale: "MUSIC_THUMBNAIL_SCALE_ASPECT_FILL",
        visualElement: a.visualElement,
        trackingParams: a.trackingParams
      }
    }
  });
  Polymer({
    is: "ytmusic-hotkey-dialog-section-option-renderer",
    behaviors: [W.YtRendererBehavior]
  });
  Polymer({
    is: "ytmusic-hotkey-dialog-section-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior],
    stampDom: {
      "data.options": {
        id: "options",
        mapping: {
          hotkeyDialogSectionOptionRenderer: "ytmusic-hotkey-dialog-section-option-renderer"
        }
      }
    }
  });
  Polymer({
    is: "ytmusic-hotkey-dialog-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior],
    stampDom: {
      "data.sections": {
        id: "sections",
        mapping: {
          hotkeyDialogSectionRenderer: "ytmusic-hotkey-dialog-section-renderer"
        }
      }
    }
  });
  Polymer({
    is: "ytmusic-playlist-add-to-option-renderer",
    behaviors: [W.YtRendererBehavior, X.InjectBehavior],
    inject: {
      dialogService_: Vz
    },
    properties: {
      data: Object
    },
    created: function() {},
    handleTap_: function() {
      P("music_web_confirm_add_existing_song_to_playlist") && ["SOME", "ALL"].includes(this.data.containsSelectedVideos) ? this.dialogService_.openConfirmAddExistingSongToPlaylistDialog(this.data.addToPlaylistServiceEndpoint) : this.sendServiceRequestAction([this.data.addToPlaylistServiceEndpoint]);
      this.sendAction("yt-close-popup-action", ["ytmusic-add-to-playlist-renderer"])
    },
    computePrivacyString_: function(a) {
      switch (a.privacy) {
        case "PRIVATE":
          return T("PRIVATE");
        case "PUBLIC":
          return T("PUBLIC");
        case "UNLISTED":
          return T("UNLISTED");
        default:
          return ""
      }
    }
  });
  Polymer({
    is: "ytmusic-add-to-playlist-renderer",
    behaviors: [V.YtBindingExpressionsBehavior, V.YtRendererStamperBehavior, W.YtRendererBehavior, X.InjectBehavior],
    listeners: {
      "yt-navigate": "onYtNavigate_"
    },
    properties: {
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      }
    },
    stampDom: {
      "data.playlists": {
        id: "playlists",
        mapping: {
          playlistAddToOptionRenderer: {
            component: "ytmusic-playlist-add-to-option-renderer"
          }
        }
      },
      "data.actions": {
        id: "actions",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            attributes: {
              "start-justified": !0
            },
            noInjection: !0
          }
        }
      }
    },
    onYtNavigate_: function() {
      this.sendAction("yt-close-popup-action", ["ytmusic-add-to-playlist-renderer"])
    }
  });
  Polymer({
    is: "ytmusic-menu-navigation-item-renderer",
    behaviors: [W.YtRendererBehavior, bB.YtmusicOpenPopupBehavior, Polymer.IronA11yKeysBehavior, Polymer.PaperItemBehavior],
    keyBindings: {
      enter: "onEnter_",
      tab: "onTab_"
    },
    properties: {
      data: Object
    },
    ready: function() {
      var a = this;
      this.addEventListener("tap", function() {
        a.fire("ytmusic-menu-item-activated")
      })
    },
    getIcon_: function(a) {
      return a && a.iconType ? xA(a && a.iconType) : ""
    },
    computeMenuNavigationHref_: function(a) {
      return this.endpointRequiresServiceRequestAction_(a) ? "" : this.computeHref_(a)
    },
    onTab_: function() {
      this.sendAction("yt-close-popup-action", ["ytmusic-menu-popup-renderer"]);
      this.popupPositionTarget.focus()
    },
    onEnter_: function() {
      this.$["navigation-endpoint"].click()
    },
    endpointRequiresServiceRequestAction_: function(a) {
      return !!a.addToPlaylistEndpoint || !!a.shareEndpoint
    },
    onTap_: function(a) {
      var b = this,
        c = this.data.navigationEndpoint;
      if (c)
        if (this.endpointRequiresServiceRequestAction_(c)) this.sendServiceRequestAction([c]).then(function() {
          b.sendAction("yt-close-popup-action", ["ytmusic-menu-popup-renderer"])
        }), a.preventDefault(), a.stopPropagation();
        else if (c = this.getNavigationEndpointPopupAction(c)) this.openPopup(c), this.sendAction("yt-close-popup-action", ["ytmusic-menu-popup-renderer"]), a.preventDefault(), a.stopPropagation()
    }
  });
  Polymer({
    is: "ytmusic-menu-service-item-renderer",
    behaviors: [iB, W.YtRendererBehavior, X.InjectBehavior, bB.YtmusicOpenPopupBehavior, aB, Polymer.IronA11yKeysBehavior, Polymer.PaperItemBehavior],
    inject: {
      navigator_: Xz,
      playerUiService_: Pz,
      queue_: Iz
    },
    keyBindings: {
      tab: "onTab_"
    },
    properties: {
      data: Object,
      hidden: {
        type: Boolean,
        computed: "computeHidden_(data.serviceEndpoint, isQueuePlayable_)",
        reflectToAttribute: !0
      },
      isQueuePlayable_: {
        type: Boolean,
        statePath: jz
      }
    },
    created: function() {},
    ready: function() {
      this.addEventListener("tap", this.onTap_)
    },
    computeHidden_: function(a, b) {
      return P("music_web_enable_menu_service_items_for_empty_queues") ? !1 : !b && !!a.queueAddEndpoint
    },
    onTab_: function() {
      this.sendAction("yt-close-popup-action", ["ytmusic-menu-popup-renderer"]);
      this.popupPositionTarget.focus()
    },
    onTap_: function() {
      this.fire("ytmusic-menu-item-activated");
      var a = this.data.serviceEndpoint;
      a && (a.queueAddEndpoint ? this.handleQueueAddEndpoint_() : a.removeFromQueueEndpoint ? this.handleRemoveFromQueueEndpoint_(a.removeFromQueueEndpoint) : this.sendServiceRequestAction([a]))
    },
    handleQueueAddEndpoint_: function() {
      var a = this,
        b = this.queue_.isEmpty(),
        c = this.data.serviceEndpoint;
      this.sendServiceRequestAction([c]).then(function(d) {
        d = d.data.queueDatas.map(function(e) {
          return a.get("content.playlistPanelVideoRenderer", e)
        });
        switch (c.queueAddEndpoint.queueInsertPosition) {
          case "INSERT_AFTER_CURRENT_VIDEO":
            a.queue_.addItems(d, !0);
            break;
          case "INSERT_AT_END":
            a.queue_.addItems(d);
            break;
          default:
            O(Error("Unexpected queue insert position : " + Hq));
            return
        }
        b && (d = fb(Zx(d[0].navigationEndpoint), Xx), a.navigator_.navigate(d))
      })
    },
    handleRemoveFromQueueEndpoint_: function(a) {
      a.itemId && (this.queue_.removeItem(a.itemId), this.queue_.isEmpty() && !this.queue_.isGenerating() && (a = Ar(59667), jx(a), this.playerUiService_.collapsePlayerPage(a), this.playerUiService_.deactivate()))
    },
    getIcon_: function(a) {
      return a && a.iconType ? xA(a && a.iconType) : ""
    }
  });
  Polymer({
    is: "ytmusic-toggle-menu-service-item-renderer",
    behaviors: [W.YtRendererBehavior, X.InjectBehavior, bB.YtmusicOpenPopupBehavior, aB, Polymer.IronA11yKeysBehavior, Polymer.PaperItemBehavior],
    inject: {
      accountService_: Wz
    },
    listeners: {
      tap: "onTap_",
      "yt-service-request-completed": "onYtServiceRequestCompleted_"
    },
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      iconAttribute_: {
        type: String,
        computed: "computeIconAttribute_(data.isToggled, data.defaultIcon, data.toggledIcon)"
      }
    },
    created: function() {},
    attached: function() {
      var a = this.get("data.defaultServiceEndpoint.likeEndpoint");
      if (a && a.target) {
        var b = this.getStateBySelector(a.target.videoId ? "likeStatus.videos." + a.target.videoId : "likeStatus.playlists." + a.target.playlistId);
        b && b == a.status && this.set("data.isToggled", !this.data.isToggled)
      }
    },
    keyBindings: {
      tab: "onTab_"
    },
    dataChanged_: function(a) {
      void 0 == a.isToggled && this.set("data.isToggled", !1)
    },
    computeIconAttribute_: function(a, b, c) {
      return (a = a ? c && c.iconType : b && b.iconType) ? xA(a) : ""
    },
    computeText_: function(a, b, c) {
      return a ? c : b
    },
    onTab_: function() {
      this.sendAction("yt-close-popup-action", ["ytmusic-menu-popup-renderer"]);
      this.popupPositionTarget.focus()
    },
    onTap_: function() {
      this.fire("ytmusic-menu-item-activated");
      if (!this.accountService_.isUserSignedIn() && this.data.defaultServiceEndpoint) {
        var a = this.getNavigationEndpointPopupAction(this.data.defaultServiceEndpoint);
        if (a) {
          this.openPopup(a);
          return
        }
      }(a = this.data.isToggled ? this.data.toggledServiceEndpoint : this.data.defaultServiceEndpoint) && this.sendServiceRequestAction([a])
    },
    onYtServiceRequestCompleted_: function() {
      this.set("data.isToggled", !this.data.isToggled)
    }
  });
  Polymer({
    is: "ytmusic-menu-popup-renderer",
    behaviors: [Xw.YtEventForwardingBehavior, V.YtRendererStamperBehavior, W.YtRendererBehavior, X.InjectBehavior],
    listeners: {
      "yt-popup-opened": "onYtPopupOpened_"
    },
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      }
    },
    attached: function() {
      Polymer.dom(this).classList.add("scroller")
    },
    stampDom: {
      "data.items": {
        id: "items",
        mapping: {
          menuNavigationItemRenderer: {
            component: "ytmusic-menu-navigation-item-renderer",
            noInjection: !0
          },
          menuServiceItemRenderer: "ytmusic-menu-service-item-renderer",
          toggleMenuServiceItemRenderer: "ytmusic-toggle-menu-service-item-renderer"
        }
      }
    },
    dataChanged_: function(a) {
      this.toggleClass("single-item", 1 == a.items.length)
    },
    onYtPopupOpened_: function() {
      var a = this;
      this.$.items.selectIndex(0);
      Polymer.dom(this.$.items).children.forEach(function(b) {
        b.popupPositionTarget = a.positionTarget
      })
    },
    onIronActivate_: function() {
      this.sendAction("yt-close-popup-action", ["ytmusic-menu-popup-renderer"])
    }
  });
  Polymer({
    is: "ytmusic-player-live-indicator",
    behaviors: [V.YtBindingExpressionsBehavior, aB, X.InjectBehavior],
    inject: {
      playerApi_: cz
    },
    properties: {
      isAtLiveHead_: {
        type: Boolean,
        value: !0,
        reflectToAttribute: !0
      },
      isLiveDvrEnabled_: {
        type: Boolean,
        statePath: xz
      },
      clickable_: {
        type: Boolean,
        computed: "computeClickable_(isAtLiveHead_, isLiveDvrEnabled_)",
        reflectToAttribute: !0
      }
    },
    created: function() {
      this.boundOnVideoProgress_ = this.onVideoProgress_.bind(this)
    },
    attached: function() {
      this.playerApi_.addEventListener("onVideoProgress", this.boundOnVideoProgress_)
    },
    detached: function() {
      this.playerApi_.removeEventListener("onVideoProgress", this.boundOnVideoProgress_)
    },
    computeClickable_: function(a, b) {
      return b && !a
    },
    computeTabIndex_: function(a) {
      return a ? 0 : -1
    },
    computeTitle_: function(a) {
      return a ? this.msg("PLAYER_LIVE_INDICATOR_LABEL") : ""
    },
    onVideoProgress_: function() {
      this.isAtLiveHead_ = this.playerApi_.isAtLiveHead()
    },
    onButtonTap_: function(a) {
      a.stopPropagation();
      this.clickable_ && (this.playerApi_.seekTo(Infinity), this.playerApi_.playVideo())
    }
  });
  Polymer({
    is: "ytmusic-player-bar",
    behaviors: [V.YtBindingExpressionsBehavior, V.YtRendererStamperBehavior, W.YtRendererBehavior, X.InjectBehavior, dB.YtmusicContextMenuParentBehavior, aB],
    inject: {
      autoplayService_: tA,
      playerApi_: cz,
      playerController_: Nz,
      playerUiService_: Pz,
      queue_: Iz,
      shortcutManager_: Hz
    },
    listeners: {
      mouseleave: "onMouseleave",
      tap: "onTap_"
    },
    properties: {
      visualElement: {
        type: Object,
        value: Ar(50763)
      },
      showBufferingSpinner: {
        type: Boolean,
        value: !1
      },
      playing_: Boolean,
      currentSeconds_: Number,
      bufferedSeconds_: Number,
      seekableStartSeconds_: Number,
      seekableEndSeconds_: Number,
      seekToSeconds_: Number,
      isMuted_: {
        type: Boolean,
        value: !1
      },
      isAdvertisement_: {
        type: Boolean,
        statePath: sz,
        observer: "onIsAdvertisementChanged_",
        reflectToAttribute: !0
      },
      isLive_: {
        type: Boolean,
        statePath: vz
      },
      isLiveDvrEnabled_: {
        type: Boolean,
        statePath: xz
      },
      isAtLiveHead_: {
        type: Boolean,
        value: !0
      },
      isPreLive_: {
        type: Boolean,
        statePath: wz
      },
      playerPageOpen_: {
        type: Boolean,
        statePath: aA,
        reflectToAttribute: !0
      },
      playerFullscreened_: {
        type: Boolean,
        statePath: uz,
        reflectToAttribute: !0
      },
      playerInactive_: {
        type: Boolean,
        statePath: qz,
        observer: "playerInactiveChanged_"
      },
      isVideo_: {
        type: Boolean,
        statePath: zz
      },
      currentEndpoint_: {
        type: Object,
        statePath: oz
      },
      currentItem_: {
        type: Object,
        statePath: lz
      },
      volume_: {
        type: Number,
        statePath: yz
      },
      repeatMode_: {
        type: Object,
        statePath: iz,
        reflectToAttribute: !0
      },
      formattedTime_: {
        type: String,
        computed: "computeFormattedTime_(currentSeconds_, seekableEndSeconds_, isLive_)"
      },
      formattedHoveredTime_: {
        type: String,
        computed: "computeFormattedHoveredTime_(seekToSeconds_)"
      },
      likeButtonRenderer_: {
        type: Object,
        statePath: "playerPage.playerOverlay.playerOverlayRenderer.actions.0.likeButtonRenderer"
      },
      playerPageWatchMetadata_: {
        type: Object,
        statePath: Sz
      },
      advertisementMetadata_: {
        type: Object,
        value: null
      },
      displayedMetadata_: {
        type: Object,
        computed: "computeDisplayedMetadata_(currentItem_, playerPageWatchMetadata_, advertisementMetadata_, isAdvertisement_, isVideo_)"
      },
      viewportSize_: {
        type: Number,
        statePath: JA,
        observer: "onViewportSizeChanged_"
      },
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      },
      bufferingSpinnerEnabled: {
        type: Boolean,
        value: function() {
          return P("music_show_buffering_spinner_in_player_bar")
        }
      },
      doubleDeckerEnabled_: {
        type: Boolean,
        value: function() {
          return P("music_web_enable_double_decker_player_bar")
        },
        reflectToAttribute: !0
      }
    },
    observers: ["computeHidden_(playerFullscreened_, isAdvertisement_)", "updateDoubleDeckerPlayerBarHeight_(doubleDeckerEnabled_, playerInactive_)"],
    stampDom: {
      "currentItem_.badges": {
        id: "badges",
        mapping: {
          musicInlineBadgeRenderer: {
            component: "ytmusic-inline-badge-renderer",
            noInjection: !0
          }
        }
      }
    },
    created: function() {
      this.showBufferingSpinnerTimeoutId_ = null;
      this.playButtonVE_ = Ar(54213);
      this.nextButtonVE_ = Ar(36841);
      this.previousButtonVE_ = Ar(36840);
      this.disableMiniPlayer_ = N("IS_MOBILE_WEB",
        !1)
    },
    ready: function() {
      kx(this.visualElement);
      kx(this.playButtonVE_);
      kx(this.nextButtonVE_);
      kx(this.previousButtonVE_);
      this.attachPlayerApiListeners_();
      this.configureShortcuts_();
      this.listen(new Hk(this.$["volume-slider"]), "mousewheel", "onVolumeScroll_");
      this.listen(new Hk(this.$["expand-volume-slider"]), "mousewheel", "onVolumeScroll_");
      this.advertisementMetadata_ = this.getDefaultAdvertisementMetadata_();
      this.updateStyles({
        "--ytmusic-player-bar-fullscreen-progress-bar-inset": this.FULLSCREEN_PROGRESS_BAR_INSET_PX_ +
          "px"
      });
      this.autoplayService_.popupTargetElement = this.$["play-pause-button"]
    },
    attached: function() {
      this.centerPlayerBar_();
      this.listen(document, "ytmusic-player-bar-breakpoints-changed", "onPlayerBarBreakpointsChanged_")
    },
    detached: function() {
      this.unlisten(document, "ytmusic-player-bar-breakpoints-changed", "onPlayerBarBreakpointsChanged_")
    },
    PLAYER_STATE_CHANGE_LISTENER_DEBOUNCE_MS_: 20,
    BUFFERING_SPINNER_DELAY_MS_: 0,
    maybeUpdateBufferingSpinner: function(a) {
      var b = this;
      this.bufferingSpinnerEnabled && (3 === a ? null === this.showBufferingSpinnerTimeoutId_ && (this.showBufferingSpinnerTimeoutId_ = setTimeout(function() {
        b.showBufferingSpinner = !0
      }, this.BUFFERING_SPINNER_DELAY_MS_)) : (this.showBufferingSpinner = !1, null !== this.showBufferingSpinnerTimeoutId_ && clearTimeout(this.showBufferingSpinnerTimeoutId_), this.showBufferingSpinnerTimeoutId_ = null))
    },
    onPlayerStateChange_: function(a) {
      var b = this;
      this.maybeUpdateBufferingSpinner(a); - 1 === a && (this.bufferedSeconds_ = this.currentSeconds_ = 0);
      this.debounce("onPlayerStateChange_", function() {
        b.playing_ = 1 === a || -1 === a && b.isPreLive_
      }, this.PLAYER_STATE_CHANGE_LISTENER_DEBOUNCE_MS_)
    },
    playerInactiveChanged_: function(a) {
      a || (a = Polymer.IronFocusablesHelper.getTabbableNodes(this)[0]) && a.focus()
    },
    onIsAdvertisementChanged_: function(a) {
      a || (this.advertisementMetadata_ = this.getDefaultAdvertisementMetadata_())
    },
    onAdMetadataAvailable_: function(a) {
      this.advertisementMetadata_ = {
        title: dt(a.videoTitle),
        bylineText: [dt(a.channelTitle)],
        thumbnailUrl: a.channelThumbnailUrl || ""
      }
    },
    onPresentingVideoDataChange_: function() {
      this.updateSeekBoundaries_();
      this.centerPlayerBar_()
    },
    onVideoProgress_: function(a) {
      this.isAtLiveHead_ = this.playerApi_.isAtLiveHead();
      this.$["progress-bar"].dragging || this.isAdvertisement_ || (this.currentSeconds_ = Math.floor(a), this.updateSeekBoundaries_())
    },
    onLoadProgress_: function() {
      this.bufferedSeconds_ = Math.floor(this.playerApi_.getProgressState().loaded)
    },
    onPlayPauseButtonTap_: function() {
      this.playing_ ? this.playerApi_.pauseVideo() : (this.disableMiniPlayer_ && this.playerUiService_.openPlayerPage(this.playButtonVE_), this.playerApi_.playVideo())
    },
    onPreviousButtonTap_: function() {
      this.disableMiniPlayer_ && this.playerUiService_.openPlayerPage(this.previousButtonVE_);
      this.playerController_.requestPrevious()
    },
    onNextButtonTap_: function() {
      this.disableMiniPlayer_ && this.playerUiService_.openPlayerPage(this.nextButtonVE_);
      this.playerController_.requestNext()
    },
    onShuffleButtonTap_: function() {
      this.queue_.shuffle()
    },
    onRepeatButtonTap_: function() {
      this.dispatch({
        type: "SET_REPEAT",
        payload: this.REPEAT_MODE_CYCLE_[(this.REPEAT_MODE_CYCLE_.indexOf(this.repeatMode_) + 1) % this.REPEAT_MODE_CYCLE_.length]
      })
    },
    onTap_: function(a) {
      this.playerFullscreened_ || "A" == Polymer.dom(a).rootTarget.tagName || this.playerUiService_.togglePlayerPage(this.visualElement)
    },
    onExitFullscreenButtonTap_: function(a) {
      this.playerUiService_.exitFullscreen();
      a.stopPropagation()
    },
    onUserSeek_: function() {
      this.playerApi_.getProgressState().allowSeeking && !this.isMobileWeb_ && this.playerApi_.seekTo(this.currentSeconds_)
    },
    onVolumeMouseover_: function() {
      Polymer.dom(this.$["volume-slider"]).classList.add("on-hover")
    },
    onVolumeScroll_: function(a) {
      0 > a.deltaY ? this.playerController_.increaseVolume() : this.playerController_.decreaseVolume();
      a.preventDefault()
    },
    onVolumeTap_: function() {
      this.playerApi_.isMuted() ? this.playerApi_.unMute() : this.playerApi_.mute();
      this.isMuted_ = this.playerApi_.isMuted()
    },
    onVolumeChange_: function(a) {
      a = a.target.immediateValue;
      "number" != typeof a || isNaN(a) || (0 < a && this.isMuted_ && (this.isMuted_ = !1, this.playerApi_.unMute()), this.isMuted_ || this.dispatch(gy(a)))
    },
    onExpandingMenuButtonMouseover_: function() {
      this.$["expanding-menu"].opened = !0
    },
    onExpandingMenuButtonKeys_: function(a) {
      if (Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a, "enter") || Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a, "space")) this.$["expanding-menu"].opened = !0
    },
    onMouseleave: function() {
      this.$["expanding-menu"].opened = !1;
      Polymer.dom(this.$["volume-slider"]).classList.remove("on-hover")
    },
    FULLSCREEN_PROGRESS_BAR_INSET_PX_: 20,
    onProgressBarMouseMove_: function(a) {
      var b = this.$["progress-bar"].offsetWidth,
        c = this.playerFullscreened_ ? a.clientX - this.FULLSCREEN_PROGRESS_BAR_INSET_PX_ : a.clientX;
      c > b || (this.seekToSeconds_ = Math.floor(c / b * (this.seekableEndSeconds_ - this.seekableStartSeconds_) + this.seekableStartSeconds_), this.$["hover-time-info"].style.left = Math.min(Math.max(a.clientX, 30), window.innerWidth - 30) + "px", this.$["hover-time-info"].style.display = "initial")
    },
    onProgressBarMouseLeave_: function() {
      this.seekToSeconds_ = 0;
      this.$["hover-time-info"].style.left = "0";
      this.$["hover-time-info"].style.display = "none"
    },
    computeSliderAriaValueText_: function(a, b, c, d) {
      return c ? d ? this.msg("LIVE") : this.msg("LIVE_SEEK_SLIDER_VALUE", {
        live_time_differential: EA(b - a)
      }) : this.msg("SEEK_SLIDER_VALUE", {
        time_progress: EA(a),
        duration: EA(b)
      })
    },
    computePlayPauseIcon_: function(a) {
      return a ? "miniplayer:pause" : "miniplayer:play-arrow"
    },
    computePlayPauseAriaLabel_: function(a) {
      return a ? this.msg("PAUSE") : this.msg("PLAY")
    },
    computeRepeatIcon_: function(a) {
      switch (a) {
        case "ONE":
          return "yt-icons:music_repeat_one";
        default:
          return "yt-icons:music_repeat_all"
      }
    },
    computeRepeatButtonAriaLabel_: function(a) {
      switch (a) {
        case "ONE":
          return this.msg("REPEAT_ONE");
        case "ALL":
          return this.msg("REPEAT_ALL");
        default:
          return this.msg("REPEAT_OFF")
      }
    },
    computeVolumeIcon_: function(a, b) {
      return 0 == this.computeDisplaySliderVolume_(a, b) ? "miniplayer:volume-off" : "miniplayer:volume-up"
    },
    computeDisplaySliderVolume_: function(a, b) {
      return a ? 0 : b
    },
    computeMuteButtonAriaPressed_: function(a) {
      return a ? "true" : "false"
    },
    computePlayerPageToggleAriaLabel_: function(a) {
      return a ? this.msg("CLOSE_PLAYER_PAGE") : this.msg("OPEN_PLAYER_PAGE")
    },
    computeFormattedTime_: function(a, b, c) {
      return c ? "/ -" + EA(b - a) : EA(a) + " / " + EA(b)
    },
    computeFormattedHoveredTime_: function(a) {
      return this.isLive_ ? "-" + EA(this.seekableEndSeconds_ - a) : EA(a)
    },
    computeDisplayedMetadata_: function(a, b, c, d, e) {
      if (d) return c ? c : this.getDefaultAdvertisementMetadata_();
      c = {
        bylineText: [],
        thumbnailUrl: ""
      };
      a && (c.title = a.title, c.thumbnailUrl = this.get("thumbnail.thumbnails.0.url", a) || "");
      d = a && b && it(c.title) !== it(b.title);
      b && b.byline && !d ? (c.bylineText.push(b.byline), e && b.secondaryByline && c.bylineText.push(b.secondaryByline)) : a && a.shortBylineText && c.bylineText.push(a.shortBylineText);
      return c
    },
    computeHidden_: function(a, b) {
      this.hidden = a && b
    },
    computeSeekBarDisabled: function(a, b, c) {
      return a || b && !c
    },
    getMenuRenderer: function() {
      return this.get("menu.menuRenderer", this.currentItem_)
    },
    onViewportSizeChanged_: function() {
      this.doubleDeckerEnabled_ || this.centerPlayerBar_()
    },
    onPlayerBarBreakpointsChanged_: function(a) {
      this.doubleDeckerEnabled_ && (0 <= a.detail ? this.centerPlayerBar_() : (this.$["left-controls"].style.width = "", this.$["right-controls"].style.width = ""))
    },
    updateDoubleDeckerPlayerBarHeight_: function(a, b) {
      document.documentElement.classList.toggle("double-decker", a && !b)
    },
    centerPlayerBar_: function() {
      var a = this;
      this.$["left-controls"].style.width = "";
      this.$["right-controls"].style.width = ""; - 3 != this.viewportSize_ && window.requestAnimationFrame(function() {
        var b = Math.max(a.$["left-controls"].offsetWidth, a.$["right-controls"].offsetWidth) + "px";
        a.$["left-controls"].style.width = b;
        a.$["right-controls"].style.width = b
      })
    },
    preventPlayerPageToggle_: function(a) {
      a.stopPropagation()
    },
    REPEAT_MODE_CYCLE_: ["NONE", "ALL", "ONE"],
    attachPlayerApiListeners_: function() {
      var a = this,
        b = {};
      b = (b.onStateChange = function(e) {
        return a.onPlayerStateChange_(e)
      }, b.onVideoDataChange = function() {
        return a.onPresentingVideoDataChange_()
      }, b.onVideoProgress = function(e) {
        return a.onVideoProgress_(e)
      }, b.onLoadProgress = function() {
        return a.onLoadProgress_()
      }, b.onAdStateChange = function(e) {
        return a.onPlayerStateChange_(e)
      }, b.onAdMetadataAvailable = function(e) {
        return a.onAdMetadataAvailable_(e)
      }, b);
      b = y(Object.entries(b));
      for (var c = b.next(); !c.done; c = b.next()) {
        var d = y(c.value);
        c = d.next().value;
        d = d.next().value;
        this.playerApi_.addEventListener(c, d)
      }
    },
    gatedSeekBy_: function(a) {
      this.playerApi_.getProgressState().allowSeeking && this.playerApi_.seekBy(a)
    },
    configureShortcuts_: function() {
      var a = this;
      this.shortcutManager_.register("r", function() {
        return a.onRepeatButtonTap_()
      });
      this.shortcutManager_.register("m", function() {
        return a.onVolumeTap_()
      });
      this.shortcutManager_.register("shift+l", function() {
        return a.gatedSeekBy_(1)
      });
      this.shortcutManager_.register("ctrl+shift+right", function() {
        return a.gatedSeekBy_(1)
      });
      this.shortcutManager_.register("shift+h", function() {
        return a.gatedSeekBy_(-1)
      });
      this.shortcutManager_.register("ctrl+shift+left", function() {
        return a.gatedSeekBy_(-1)
      });
      this.shortcutManager_.register("l", function() {
        return a.gatedSeekBy_(10)
      });
      this.shortcutManager_.register("shift+right", function() {
        return a.gatedSeekBy_(10)
      });
      this.shortcutManager_.register("h", function() {
        return a.gatedSeekBy_(-10)
      });
      this.shortcutManager_.register("shift+left", function() {
        return a.gatedSeekBy_(-10)
      });
      this.shortcutManager_.register("+", function() {
        return a.$["like-button-renderer"].updateLikeStatus("LIKE")
      });
      this.shortcutManager_.register("_", function() {
        return a.$["like-button-renderer"].updateLikeStatus("DISLIKE")
      })
    },
    getDefaultAdvertisementMetadata_: function() {
      return {
        bylineText: [dt(this.msg("ADVERTISEMENT_LABEL"))],
        title: dt(""),
        thumbnailUrl: ""
      }
    },
    updateSeekBoundaries_: function() {
      this.seekableStartSeconds_ = Math.floor(this.playerApi_.getProgressState().seekableStart);
      this.seekableEndSeconds_ = Math.ceil(this.playerApi_.getProgressState().seekableEnd)
    },
    computeHideTimeInfo_: function(a, b, c, d) {
      return a || d || b && c
    },
    computeShowLiveIndicator_: function(a, b) {
      return a && -1 <= b
    }
  });
  Polymer({
    is: "ytmusic-player-queue-item",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior, X.InjectBehavior, dB.YtmusicContextMenuParentBehavior, cB],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      playButtonState: {
        type: String,
        reflectToAttribute: !0
      },
      selected: {
        type: Boolean,
        computed: "computeSelected_(data.selected)",
        reflectToAttribute: !0
      },
      isAutomix: {
        type: Boolean,
        value: !1
      },
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      },
      clickable_: {
        type: Boolean,
        computed: "computeClickable_(data.navigationEndpoint, isMobileWeb_)",
        reflectToAttribute: !0
      }
    },
    stampDom: {
      "data.badges": {
        id: "badges",
        mapping: {
          liveBadge: {
            component: "ytmusic-live-badge-renderer",
            noInjection: !0
          },
          musicInlineBadgeRenderer: {
            component: "ytmusic-inline-badge-renderer",
            noInjection: !0
          }
        }
      }
    },
    THUMBNAIL_SIZE_: 32,
    ready: function() {
      this.updateStyles({
        "--ytmusic-player-queue-item-thumbnail-size": this.THUMBNAIL_SIZE_ + "px"
      })
    },
    computeSelected_: function(a) {
      return a
    },
    computeClickable_: function(a, b) {
      return !!a && b
    },
    dataChanged_: function(a) {
      var b = this.get("menu.menuRenderer.items", a);
      a = Jz(a);
      b && a && this.setRemoveFromQueueEndpointItemId_(b, a)
    },
    shouldShowMenu_: function(a, b) {
      return !!a && !!a.menu && !b
    },
    setRemoveFromQueueEndpointItemId_: function(a, b) {
      var c = this;
      a.forEach(function(d) {
        if (d = c.get("menuServiceItemRenderer.serviceEndpoint.removeFromQueueEndpoint", d)) d.itemId = b
      })
    },
    computeImageWidth_: function() {
      return this.THUMBNAIL_SIZE_
    },
    computeThumbnailOverlayRenderer_: function(a) {
      return {
        background: {
          verticalGradient: {
            gradientLayerColors: [3422552064, 3422552064]
          }
        },
        content: {
          musicPlayButtonRenderer: {
            playNavigationEndpoint: a.navigationEndpoint,
            playIcon: {
              iconType: "PLAY_ARROW"
            },
            pauseIcon: {
              iconType: "PAUSE"
            },
            iconColor: 4294967295,
            backgroundColor: 0,
            activeBackgroundColor: 0,
            loadingIndicatorColor: 4294901760,
            playingIcon: {
              iconType: "VOLUME_UP"
            },
            iconLoadingColor: 0,
            activeScaleFactor: 1,
            buttonSize: "MUSIC_PLAY_BUTTON_SIZE_SMALL",
            rippleTarget: "MUSIC_PLAY_BUTTON_RIPPLE_TARGET_SELF",
            accessibilityPlayData: {
              accessibilityData: {
                label: T("PLAY_ITEM_LABEL", {
                  item_title: this.getSimpleString(a.title)
                })
              }
            },
            accessibilityPauseData: {
              accessibilityData: {
                label: T("PAUSE_ITEM_LABEL", {
                  item_title: this.getSimpleString(a.title)
                })
              }
            }
          }
        },
        contentPosition: "MUSIC_ITEM_THUMBNAIL_OVERLAY_CONTENT_POSITION_CENTERED",
        displayStyle: "MUSIC_ITEM_THUMBNAIL_OVERLAY_DISPLAY_STYLE_PERSISTENT"
      }
    }
  });
  Polymer({
    is: "ytmusic-player-queue",
    behaviors: [V.YtBindingExpressionsBehavior, V.YtRendererStamperBehavior, X.InjectBehavior, mB, aB],
    inject: {
      queue_: Iz
    },
    listeners: {
      "yt-rendererstamper-finished": "onRendererstamperFinished_",
      "ytmusic-reorderable-list-drop": "onDrop_"
    },
    properties: {
      data: {
        type: Array,
        statePath: fz
      },
      automix: {
        type: Array,
        statePath: gz
      },
      items_: {
        type: Array,
        computed: "computeItems_(data)"
      },
      automixItems_: {
        type: Array,
        computed: "computeItems_(automix)"
      },
      selectedQueueItemIndex_: {
        type: Number,
        statePath: kz,
        observer: "selectedQueueItemIndexChanged_"
      },
      autoplayEnabled_: {
        type: Boolean,
        statePath: hz
      },
      shouldHideAutoPlayContent_: {
        type: Boolean,
        computed: "computeShouldHideAutoPlayContent(automixItems_, autoplayEnabled_)",
        reflectToAttribute: !0
      },
      shouldHideAutoPlayHeader_: {
        type: Boolean,
        computed: "computeShouldHideAutoPlayHeader(automixItems_)",
        reflectToAttribute: !0
      }
    },
    stampDom: {
      items_: {
        id: "contents",
        mapping: {
          queueItem: "ytmusic-player-queue-item"
        },
        events: !0
      },
      automixItems_: {
        id: "automix-contents",
        mapping: {
          queueItem: {
            component: "ytmusic-player-queue-item",
            attributes: {
              isAutomix: !0
            }
          }
        }
      }
    },
    created: function() {},
    computeItems_: function(a) {
      return a.map(function(b) {
        return {
          queueItem: b
        }
      })
    },
    computeShouldHideAutoPlayContent: function(a, b) {
      return !a.length || !b
    },
    computeShouldHideAutoPlayHeader: function(a) {
      return !a.length
    },
    selectedQueueItemIndexChanged_: function(a, b) {
      this.notifyPath("data.#" + a + ".selected");
      this.notifyPath("data.#" + b + ".selected");
      var c = this.$$("ytmusic-player-queue-item[selected]");
      if (c) {
        b = (a = CA || Zf(document)) || Zf(document);
        var d = Ng(c),
          e = Ng(b),
          g = Vg(b);
        if (b == Zf(document)) {
          var h = d.x - b.scrollLeft;
          d = d.y - b.scrollTop;
          de && !ze(10) && (h += g.left, d += g.top)
        } else h = d.x - e.x - g.left, d = d.y - e.y - g.top;
        c = Qg(c);
        g = b.clientHeight - c.height;
        e = b.scrollLeft;
        var k = b.scrollTop;
        e += Math.min(h, Math.max(h - (b.clientWidth - c.width), 0));
        k += Math.min(d, Math.max(d - g, 0));
        b = new Lf(e, k);
        a.scrollLeft = b.x;
        a.scrollTop = b.y
      }
    },
    onRendererstamperFinished_: function(a) {
      this.items_.length && a.detail.container == this.$.contents && this.startDragDrop(this.$.contents, CA)
    },
    onDrop_: function(a) {
      var b = a.detail.dragEl;
      a = this.data.indexOf(b.data);
      b = Array.from(b.parentElement.children).indexOf(b);
      this.queue_.moveItem(a, b)
    },
    getAutoplayTitle_: function(a) {
      return a ? this.msg("AUTOPLAY_ENABLED_HEADER") : this.msg("AUTOPLAY_DISABLED_HEADER")
    },
    getAutoplaySubtitle_: function(a) {
      return a ? this.msg("AUTOPLAY_DESCRIPTION") : ""
    }
  });
  Polymer({
    is: "yt-player-error-message-renderer",
    behaviors: [xw, W.YtRendererBehavior],
    properties: {
      data: Object,
      icon_: {
        type: String,
        computed: "computeIcon_(data.icon)"
      }
    },
    stampDom: {
      "data.proceedButton": {
        id: "button",
        mapping: {
          buttonRenderer: "yt-button-renderer"
        }
      }
    },
    computeIcon_: function(a) {
      return a ? "yt-icons:" + a.iconType.toLowerCase() : "error_outline"
    }
  });
  Polymer({
    is: "yt-player-kav-renderer",
    behaviors: [xw, W.YtRendererBehavior],
    properties: {
      data: Object,
      icon_: {
        type: String,
        computed: "computeIcon_(data.icon)"
      }
    },
    stampDom: {
      "data.proceedButton": {
        id: "button",
        mapping: {
          buttonRenderer: "yt-button-renderer"
        }
      }
    },
    computeIcon_: function(a) {
      return a ? "yt-icons:" + a.iconType.toLowerCase() : "error_outline"
    }
  });
  Polymer({
    is: "yt-playability-error-supported-renderers",
    behaviors: [W.YtRendererBehavior, xw],
    properties: {
      data: Object,
      status: String
    },
    stampDom: {
      data: {
        id: "container",
        mapping: {
          playerErrorMessageRenderer: "yt-player-error-message-renderer",
          playerKavRenderer: "yt-player-kav-renderer"
        }
      }
    }
  });
  var oB = ["OK", "LIVE_STREAM_OFFLINE"];
  Polymer({
    is: "ytmusic-player",
    behaviors: [V.YtBindingExpressionsBehavior, nv.YtActionHandlerBehavior, W.YtRendererBehavior, X.InjectBehavior, cB, aB],
    inject: {
      playerApi_: cz,
      playerController_: Nz,
      playerUiService_: Pz,
      playerWrapper_: dz
    },
    listeners: {
      tap: "onTap_",
      dblclick: "onDoubleClick_"
    },
    actionMap: {
      "yt-music-update-audio-quality-command": "handleMusicUpdateAudioQualityCommand_"
    },
    properties: {
      videoMode_: {
        type: Boolean,
        statePath: zz,
        reflectToAttribute: !0
      },
      playerState_: {
        type: Number
      },
      thumbnail_: {
        type: Object,
        statePath: Az,
        observer: "onThumbnailChanged_"
      },
      miniPlayerRequired_: {
        type: Boolean,
        reflectToAttribute: !0
      },
      playerUiState_: {
        type: String,
        statePath: Qz,
        reflectToAttribute: !0
      },
      playerPageOpen_: {
        type: Boolean,
        statePath: aA,
        reflectToAttribute: !0,
        observer: "playerPageOpenChanged_"
      },
      playerFullscreened_: {
        type: Boolean,
        statePath: uz,
        observer: "playerFullscreenedChanged_"
      },
      visualElement: {
        type: Object,
        computed: "computeVisualElement_(playerUiState_)",
        observer: "visualElementChanged_"
      },
      isAdvertisementPlaying_: {
        type: Boolean,
        statePath: sz,
        reflectToAttribute: !0,
        observer: "isAdvertisementPlayingChanged_"
      },
      playerResponse_: {
        type: Object,
        statePath: rz
      },
      playable_: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        computed: "computePlayable_(playerResponse_.playabilityStatus)"
      },
      animatingBezel_: {
        type: Boolean,
        reflectToAttribute: !0
      },
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      },
      isPreLive_: {
        type: Boolean,
        statePath: wz
      }
    },
    created: function() {
      this.miniPlayerVE_ = Ar(49920);
      this.miniPlayerExpandButtonVe_ = Ar(35989);
      this.minimizePlayerButtonVe_ = Ar(50764);
      this.miniPlayerDismissalButtonVe_ = Ar(34699)
    },
    ready: function() {
      var a = this;
      this.miniPlayerRequired_ = this.playerUiService_.isMiniPlayerRequired();
      this.playerApi_.addEventListener("onStateChange", function(b) {
        return a.onPlayerStateChange_(b)
      });
      this.listen(this.$.bezel, "transitionend", "onBezelTransitionEnd_");
      Polymer.dom(this.playerWrapper_).classList.add("player-wrapper");
      Polymer.dom(this.$["song-video"]).appendChild(this.playerWrapper_)
    },
    computeVisualElement_: function(a) {
      return "MINIPLAYER" == a ? this.miniPlayerVE_ : void 0
    },
    shouldShowAriaHeading_: function(a) {
      return "MINIPLAYER" == a
    },
    onPlayerStateChange_: function(a) {
      this.playerState_ = a
    },
    onTap_: function() {
      this.isAdvertisementPlaying_ || this.isPreLive_ || (this.playerController_.togglePlayback(), this.playable_ && this.showBezelAnimation_())
    },
    showBezelAnimation_: function() {
      var a = this;
      this.animatingBezel_ && (this.animatingBezel_ = !1);
      Polymer.RenderStatus.afterNextRender(this, function() {
        return a.animatingBezel_ = !0
      })
    },
    onBezelTransitionEnd_: function() {
      this.animatingBezel_ = !1
    },
    onThumbnailChanged_: function() {
      this.$.thumbnail.onShow()
    },
    visualElementChanged_: function(a) {
      a ? kx(this.miniPlayerVE_) : lx(this.miniPlayerVE_)
    },
    computePlayable_: function(a) {
      return !!a && oB.includes(a.status)
    },
    computeBezelIcon_: function(a) {
      return 1 == a ? "miniplayer:play-arrow" : "miniplayer:pause"
    },
    getThumbnailWidth_: function() {
      return 1048
    },
    onMinimizeButtonTap_: function(a) {
      jx(this.minimizePlayerButtonVe_);
      this.playerUiService_.enterMiniMode(this.minimizePlayerButtonVe_);
      a.stopPropagation()
    },
    onMaximizeButtonTap_: function(a) {
      jx(this.miniPlayerExpandButtonVe_);
      this.playerUiService_.openPlayerPage(this.miniPlayerExpandButtonVe_);
      a.stopPropagation()
    },
    onCloseButtonTap_: function(a) {
      jx(this.miniPlayerDismissalButtonVe_);
      mx(this.miniPlayerDismissalButtonVe_);
      this.playerUiService_.exitMiniMode();
      a.stopPropagation()
    },
    onFullscreenButtonTap_: function(a) {
      this.playerUiService_.enterFullscreen();
      a.stopPropagation()
    },
    onDoubleClick_: function(a) {
      this.isAdvertisementPlaying_ || (this.playerUiService_.toggleFullscreen(), a.stopPropagation())
    },
    playerPageOpenChanged_: function() {
      var a = this;
      Polymer.RenderStatus.afterNextRender(this, function() {
        return a.forceVideoReflow_()
      })
    },
    playerFullscreenedChanged_: function() {
      var a = this;
      Polymer.RenderStatus.afterNextRender(this, function() {
        return a.forceVideoReflow_()
      })
    },
    isAdvertisementPlayingChanged_: function(a) {
      var b = this;
      a && Polymer.RenderStatus.afterNextRender(this, function() {
        return b.forceVideoReflow_()
      })
    },
    forceVideoReflow_: function() {
      this.playerApi_.isReady() && this.playerApi_.setSize(NaN, NaN)
    },
    handleMusicUpdateAudioQualityCommand_: function(a) {
      (a = this.get("musicUpdateAudioQualityCommand.newAudioQuality", a)) && Ld("AUDIO_QUALITY", a)
    }
  });
  var pB = [xv.YtVisibilityObserverBehavior, {
    isVisibilityRoot: !0,
    resetVisibilityRoot: function() {
      Fi(this.visibilityObserverForChild_)
    },
    disconnectVisibilityRoot: function() {
      this.visibilityObserverForChild_ && this.visibilityObserverForChild_.disconnect()
    },
    reconnectVisibilityRoot: function() {
      this.visibilityObserverForChild_ && this.visibilityObserverForChild_.reconnect();
      P("kevlar_enable_vimio_logging") && js.getInstance().newScreen()
    }
  }];
  var qB = function() {};
  qB.prototype.getTimeSinceActive = function() {};
  qB.prototype.ignoreNextScroll = function() {};
  var rB = {};
  rB.YtmusicPageBehavior = [
    [
      [{
          listeners: {
            "yt-get-context-provider": "getContextProvider_"
          },
          attached: function() {
            this.getProvidedContext() && this.getProvidedContext().start()
          },
          detached: function() {
            this.getProvidedContext() && this.getProvidedContext().pause()
          },
          getContextProvider_: function(a) {
            a.detail.contextProvider = this;
            a.stopPropagation()
          },
          getProvidedContext: function() {
            return null
          }
        },
        {
          created: function() {
            this.pageContext = null
          },
          getProvidedContext: function() {
            return this.pageContext
          }
        }
      ],
      pB, {
        _noAccessors: !0,
        properties: {
          active: Boolean,
          data: Object,
          loading: Boolean
        },
        observers: ["ytPageBehaviorActiveObserver_(active)"],
        created: function() {
          this.pageCount = 0;
          this.readyResolver_ = vh();
          this.pageScrollElement = null
        },
        ready: function() {
          this.readyResolver_.resolve()
        },
        getReady: function() {
          return this.readyResolver_.promise
        },
        loadPage: function(a) {
          this.pageCount += 1;
          P("kevlar_attach_vimio_behavior") && (this.disconnectVisibilityRoot(), this.reconnectVisibilityRoot());
          this.loadPage_(a)
        },
        loadPage_: function(a) {
          this.data = a
        },
        ytPageBehaviorActiveObserver_: function(a) {
          P("kevlar_attach_vimio_behavior") && (a ? this.reconnectVisibilityRoot() : this.disconnectVisibilityRoot())
        },
        setScrollTop: function(a) {
          if (!this.setScrollTopJobId_) {
            var b = this;
            this.setScrollTopJobId_ = window.requestAnimationFrame(function() {
              b.setScrollTopJobId_ = 0;
              var c = b.getInterface(qB);
              c && c.ignoreNextScroll();
              this.getPageScrollingElement().scrollTop = a
            }.bind(this))
          }
        },
        getPageScrollingElement: function() {
          return this.pageScrollElement || Zf(document)
        },
        getScrollTop: function() {
          return this.getPageScrollingElement().scrollTop
        }
      }
    ],
    {
      properties: {
        immersiveMode: {
          type: Boolean,
          computed: "computeImmersiveMode(data)",
          reflectToAttribute: !0
        }
      },
      computeImmersiveMode: function() {
        return !1
      }
    }
  ];
  Polymer({
    is: "ytmusic-player-page",
    behaviors: [V.YtBindingExpressionsBehavior, X.InjectBehavior, rB.YtmusicPageBehavior, aB],
    properties: {
      autoMixItems_: {
        type: Array,
        statePath: gz
      },
      autoplayEnabled_: {
        type: Boolean,
        statePath: hz
      },
      videoMode_: {
        type: Boolean,
        statePath: zz,
        reflectToAttribute: !0,
        observer: "onVideoModeChanged_"
      },
      playerPageOpen_: {
        type: Boolean,
        statePath: aA,
        reflectToAttribute: !0
      },
      miniPlayerEnabled_: {
        type: Boolean,
        statePath: tz,
        reflectToAttribute: !0
      },
      playerFullscreened_: {
        type: Boolean,
        statePath: uz,
        reflectToAttribute: !0
      },
      playerUiState_: {
        type: String,
        statePath: Qz,
        observer: "playerUiStateChanged_"
      }
    },
    ready: function() {
      this.viewroot = this;
      CA = this.$.queue
    },
    attached: function() {
      this.listen(window, "resize", "onResize_");
      this.updatePlayerWidth_()
    },
    detached: function() {
      this.unlisten(window, "resize", "onResize_")
    },
    shouldHideAutomixHeading_: function(a) {
      return !a.length
    },
    onAutomixToggleTap_: function() {
      this.dispatch({
        type: "SET_AUTOPLAY_ENABLED",
        payload: this.$.automix.checked
      })
    },
    onResize_: function() {
      this.updatePlayerWidth_()
    },
    onVideoModeChanged_: function() {
      this.updatePlayerWidth_()
    },
    playerUiStateChanged_: function(a, b) {
      var c = this;
      "INACTIVE" != a && "INACTIVE" == b && Polymer.RenderStatus.afterNextRender(this, function() {
        c.updatePlayerWidth_()
      })
    },
    updatePlayerWidth_: function() {
      var a = this.$["main-panel"].getBoundingClientRect();
      this.$["main-panel"].style.padding = "0 " + Math.max((a.width - (this.videoMode_ ? 16 / 9 * a.height : a.height)) / 2, 0) + "px"
    },
    getThumbnailWidth_: function() {
      return 1048
    }
  });
  Polymer({
    is: "ytmusic-mealbar-promo-renderer",
    hostAttributes: {
      dialog: !0
    },
    behaviors: [W.YtRendererBehavior],
    onButtonTap_: function() {
      this.sendAction("yt-close-popup-action", ["ytmusic-mealbar-promo-renderer"])
    }
  });
  Polymer({
    is: "ytmusic-chip-cloud-chip-renderer",
    behaviors: [V.YtBindingExpressionsBehavior, W.YtRendererBehavior],
    properties: {
      data: Object,
      style: {
        type: String,
        computed: "computeStyle_(data)",
        reflectToAttribute: !0
      }
    },
    computeStyle_: function(a) {
      return a.style && a.style.styleType || "STYLE_UNKNOWN"
    },
    computeA11yTitle_: function(a) {
      return a && a.accessibilityData && a.accessibilityData.accessibilityData && a.accessibilityData.accessibilityData.label || ""
    }
  });
  Polymer({
    is: "ytmusic-chip-cloud-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior],
    properties: {
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      }
    },
    stampDom: {
      "data.chips": {
        id: "chips",
        mapping: {
          chipCloudChipRenderer: "ytmusic-chip-cloud-chip-renderer"
        }
      }
    }
  });
  var sB = {
    listeners: {
      "yt-retrieve-location": "onRetrieveLocation_"
    },
    properties: {
      continuationUrl: String
    },
    onRetrieveLocation_: function(a, b) {
      var c = {
        clickTrackingParams: Polymer.dom(a).rootTarget.get("data.continuations.0.nextContinuationData.clickTrackingParams")
      };
      b.locationRetrieved(this.continuationUrl, c);
      a.stopPropagation()
    }
  };
  var tB = {
    properties: {
      stickyElement: {
        type: Object,
        observer: "stickyElementChanged"
      }
    },
    created: function() {
      var a = this;
      this.sentinel_ = document.createElement("div");
      Object.assign(this.sentinel_.style, this.sentinel_.style, {
        height: "var(--ytmusic-nav-bar-height)",
        "margin-top": "calc(-1 * var(--ytmusic-nav-bar-height))"
      });
      this.sentinelAttached_ = !1;
      this.sentinelObserver_ = new IntersectionObserver(function(b) {
        a.sentinelIntersectionChanged_(b[0])
      }, {
        threshold: 1
      });
      this.stickyElementObserver_ = new IntersectionObserver(function(b) {
        a.stickyElementIntersectionChanged_(b[0])
      }, {
        threshold: 0
      })
    },
    attached: function() {
      this.startObserving_()
    },
    detached: function() {
      this.stopObserving_()
    },
    stickyElementChanged: function() {
      this.stickyElement ? this.startObserving_() : this.stopObserving_()
    },
    startObserving_: function() {
      var a = this;
      this.stickyElement && !this.sentinelAttached_ && (Polymer.dom(Polymer.dom(this.stickyElement).parentNode).insertBefore(this.sentinel_, this.stickyElement), this.sentinelAttached_ = !0, Polymer.RenderStatus.afterNextRender(this, function() {
        a.stickyElement && (a.stickyElementObserver_.observe(a.stickyElement), a.sentinelObserver_.observe(a.sentinel_))
      }))
    },
    stopObserving_: function() {
      this.sentinelAttached_ && (Polymer.dom(Polymer.dom(this.sentinel_).parentNode).removeChild(this.sentinel_), this.sentinelAttached_ = !1, this.stickyElementObserver_.disconnect(), this.sentinelObserver_.disconnect(), this.notifyStateChange_(!1))
    },
    sentinelIntersectionChanged_: function(a) {
      this.notifyStateChange_(1 > a.intersectionRatio)
    },
    stickyElementIntersectionChanged_: function(a) {
      0 === a.intersectionRatio && this.notifyStateChange_(!1)
    },
    notifyStateChange_: function(a) {
      this.toggleClass("stuck", a);
      a ? document.dispatchEvent(new CustomEvent("ytmusic-sticky-element-stuck", {
        detail: {
          element: this.stickyElement
        }
      })) : document.dispatchEvent(new CustomEvent("ytmusic-sticky-element-unstuck"))
    },
    getStickyElementOffsetTop: function() {
      return this.sentinelAttached_ ? this.sentinel_.offsetTop + this.sentinel_.clientHeight : 0
    }
  };
  Polymer({
    is: "ytmusic-carousel-shelf-renderer",
    behaviors: [W.YtRendererBehavior, X.InjectBehavior],
    computeHeader_: function(a) {
      return a.header && a.header.musicCarouselShelfBasicHeaderRenderer ? a.header.musicCarouselShelfBasicHeaderRenderer : {
        title: a.title,
        strapline: a.bylineText
      }
    }
  });
  Polymer({
    is: "ytmusic-data-bound-section-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior, X.InjectBehavior],
    properties: {
      data: Object
    },
    stampDom: {
      "data.section": {
        id: "contents",
        mapping: {
          musicDataBoundAlbumReleaseTracksShelfRenderer: {
            component: "ytmusic-data-bound-album-release-tracks-shelf-renderer"
          }
        }
      }
    }
  });
  Polymer({
    is: "ytmusic-item-section-header-renderer",
    behaviors: [W.YtRendererBehavior]
  });
  Polymer({
    is: "ytmusic-item-section-tab-renderer",
    behaviors: [aB, X.InjectBehavior, W.YtRendererBehavior],
    inject: {
      navigator_: Xz
    },
    listeners: {
      tap: "onTap_"
    },
    properties: {
      selected: {
        type: String,
        computed: "computeSelected_(data.selected)",
        reflectToAttribute: !0
      }
    },
    created: function() {},
    computeSelected_: function(a) {
      return String(a)
    },
    onTap_: function() {
      this.fire("ytmusic-item-section-tab-renderer-tap");
      if (P("music_web_enable_library_v2")) {
        var a = Zx(this.data.endpoint);
        this.navigator_.navigate(a)
      } else this.dispatch({
        type: "SET_LIBRARY_TAB_INDEX",
        payload: this.data.index
      })
    }
  });
  Polymer({
    is: "ytmusic-dropdown-item-renderer",
    behaviors: [X.InjectBehavior],
    inject: {
      navigator_: Xz
    },
    listeners: {
      tap: "onTap_"
    },
    properties: {
      data: Object
    },
    created: function() {},
    getText_: function(a) {
      return it(a)
    },
    onTap_: function() {
      var a = Zx(this.data.onSelectCommand);
      this.navigator_.navigate(a)
    }
  });
  Polymer({
    is: "ytmusic-dropdown-renderer",
    behaviors: [W.YtRendererBehavior, V.YtRendererStamperBehavior, X.InjectBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged"
      },
      selected: {
        type: Number,
        observer: "selectedChanged"
      }
    },
    stampDom: {
      "data.entries": {
        id: "dropdown-items",
        mapping: {
          dropdownItemRenderer: "ytmusic-dropdown-item-renderer"
        }
      }
    },
    created: function() {
      this.boundCloseDropdown_ = this.closeDropdown_.bind(this)
    },
    attached: function() {
      window.addEventListener("scroll", this.boundCloseDropdown_, {
        passive: !0
      })
    },
    detached: function() {
      window.removeEventListener("scroll", this.boundCloseDropdown_, {
        passive: !0
      })
    },
    dataChanged: function() {
      var a = this.data.entries.findIndex(function(b) {
        for (var c in b)
          if (c.isSelected) return !0;
        return !1
      });
      this.selected = -1 === a ? 0 : a
    },
    selectedChanged: function() {
      this.resizeWidth_()
    },
    closeDropdown_: function() {
      this.$["dropdown-menu"].close()
    },
    resizeWidth_: function() {
      if (this.data) {
        var a = this.data.entries[this.selected].dropdownItemRenderer;
        a && (this.$["dropdown-menu"].style.width = "calc(" + it(a.label).length + "ch + var(--ytmusic-dropdown-renderer-extra-width)")
      }
    }
  });
  Polymer({
    is: "ytmusic-item-section-tabbed-header-renderer",
    behaviors: [W.YtRendererBehavior, xw, X.InjectBehavior, hB.YtmusicTablistBehavior, aB],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged"
      },
      libraryTabIndex_: {
        type: Number,
        statePath: "navigation.libraryTabIndex",
        observer: "libraryTabIndexChanged_"
      },
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      },
      browsePrivatelyOwnedContentEnabled: {
        type: Boolean,
        value: function() {
          return P("enable_browse_privately_owned_content")
        },
        reflectToAttribute: !0
      },
      displayUploadedVsCorpusToggleDropdown: {
        type: Boolean,
        value: function() {
          return P("music_web_display_uploaded_vs_corpus_toggle_dropdown")
        },
        reflectToAttribute: !0
      },
      browseTracksButtonRenderer: {
        type: Object,
        value: {
          text: {
            runs: [{
              text: "Uploaded tracks"
            }]
          },
          navigationEndpoint: {
            browseEndpoint: {
              browseId: "FEmusic_library_privately_owned_tracks"
            }
          }
        }
      },
      browseAlbumsButtonRenderer: {
        type: Object,
        value: {
          text: {
            runs: [{
              text: "Uploaded albums"
            }]
          },
          navigationEndpoint: {
            browseEndpoint: {
              browseId: "FEmusic_library_privately_owned_releases"
            }
          }
        }
      },
      browseArtistsButtonRenderer: {
        type: Object,
        value: {
          text: {
            runs: [{
              text: "Uploaded artists"
            }]
          },
          navigationEndpoint: {
            browseEndpoint: {
              browseId: "FEmusic_library_privately_owned_artists"
            }
          }
        }
      }
    },
    stampDom: {
      "data.tabs": {
        id: "items",
        mapping: {
          itemSectionTabRenderer: "ytmusic-item-section-tab-renderer"
        }
      },
      "data.endItems": {
        id: "end-items",
        mapping: {
          dropdownRenderer: "ytmusic-dropdown-renderer"
        }
      }
    },
    created: function() {
      this.libraryV2Enabled_ = P("music_web_enable_library_v2")
    },
    ready: function() {
      this.selectable = "YTMUSIC-ITEM-SECTION-TAB-RENDERER";
      this.itemsContainer = this.$.items;
      this.libraryV2Enabled_ && (this.attrForSelected = "selected", this.selected = "true")
    },
    dataChanged: function() {
      this.maybeFocusSelectedTab_();
      this.libraryV2Enabled_ || this.data.tabs.forEach(function(a, b) {
        a.itemSectionTabRenderer.index = b
      })
    },
    libraryTabIndexChanged_: function(a) {
      this.libraryV2Enabled_ || (this.selected = a)
    },
    maybeFocusSelectedTab_: function() {
      var a = this;
      this.libraryV2Enabled_ && Polymer.RenderStatus.afterNextRender(this, function() {
        setTimeout(function() {
          document.activeElement === document.body && a.focus()
        })
      })
    },
    shouldRenderButtons_: function(a, b) {
      return a && !b
    }
  });
  Polymer({
    is: "ytmusic-full-bleed-item-renderer",
    behaviors: [W.YtRendererBehavior, X.InjectBehavior, dB.YtmusicContextMenuParentBehavior, cB],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      playButtonOverlay_: {
        type: Object,
        computed: "computePlayButtonOverlay_(data)"
      },
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      }
    },
    dataChanged_: function() {
      this.updateStyles({
        "--ytmusic-full-bleed-item-image-opacity": "" + this.data.unfocusedOpacityPercent / 100
      })
    },
    getImageWidth_: function() {
      return 823
    },
    computePlayButtonOverlay_: function(a) {
      if (a.potentialThumbnailOverlays && (a = a.potentialThumbnailOverlays.find(function(b) {
          return !!b.musicItemThumbnailOverlayRenderer
        }))) return a.musicItemThumbnailOverlayRenderer
    }
  });
  Polymer({
    is: "yt-music-pass-small-feature-info-renderer",
    behaviors: [W.YtRendererBehavior],
    attached: function() {
      this.parentNode.style.justifyContent = "center"
    },
    properties: {
      data: Object
    }
  });
  Polymer({
    is: "ytmusic-grid-renderer",
    behaviors: [V.YtRendererStamperBehavior, nv.YtActionHandlerBehavior, W.YtRendererBehavior, lw.YtNextContinuationBehavior, X.InjectBehavior],
    properties: {
      gridType: {
        type: String,
        computed: "computeGridType_(data.items)",
        reflectToAttribute: !0
      }
    },
    actionMap: {
      "yt-hide-enclosing-action": "handleHideEnclosingAction_",
      "yt-handle-playlist-creation-command": "handlePlaylistCreationCommand_"
    },
    stampDom: {
      "data.items": {
        id: "items",
        mapping: {
          musicFullBleedItemRenderer: "ytmusic-full-bleed-item-renderer",
          musicPassSmallFeatureInfoRenderer: {
            component: "yt-music-pass-small-feature-info-renderer",
            noInjection: !0
          },
          musicTwoRowItemRenderer: "ytmusic-two-row-item-renderer"
        }
      },
      "data.continuations": {
        id: "continuations",
        mapping: {
          nextContinuationData: {
            component: "yt-next-continuation",
            noInjection: !0
          }
        }
      }
    },
    nextContinuation: {
      continuationType: "gridContinuation",
      contentsArray: "data.items",
      responseContentsKey: "items"
    },
    handleHideEnclosingAction_: function(a, b) {
      b && (a = Array.from(Polymer.dom(this.$.items).children).findIndex(function(c) {
        return c ==
          b
      }), -1 != a && this.splice("data.items", a, 1))
    },
    handlePlaylistCreationCommand_: function(a) {
      "library" == this.gridType && (a = this.get("handlePlaylistCreationCommand.createdPlaylist", a)) && this.splice("data.items", 1, 0, a)
    },
    computeGridType_: function(a) {
      if (a = a ? a[0] : void 0) {
        if (a.musicFullBleedItemRenderer) return "hotlist";
        if (a.musicTwoRowItemRenderer) return "library";
        if (a.musicPassSmallFeatureInfoRenderer) return "red"
      }
    }
  });
  var uB = {};
  uB.YtSimpleTextSectionBehavior = {
    properties: {
      data: Object,
      layoutStyle: {
        type: String,
        computed: "computeLayoutStyle_(data.layoutStyle)",
        reflectToAttribute: !0
      },
      role: {
        type: String,
        computed: "computeRole_(data.layoutStyle)",
        reflectToAttribute: !0
      }
    },
    created: function() {
      this.LAYOUT_STYLE_PREFIX_ = "SIMPLE_TEXT_LAYOUT_STYLE_"
    },
    computeLayoutStyle_: function(a) {
      if (a) return a.replace(this.LAYOUT_STYLE_PREFIX_, "").replace(/_/g, "-").toLowerCase()
    },
    computeRole_: function(a) {
      if ("SIMPLE_TEXT_LAYOUT_STYLE_PAID_SUBSCRIPTION_TITLE" === a) return "heading"
    }
  };
  Polymer({
    is: "ytmusic-simple-text-section-renderer",
    behaviors: [uB.YtSimpleTextSectionBehavior, W.YtRendererBehavior]
  });
  Polymer({
    is: "ytmusic-message-renderer",
    behaviors: [V.YtBindingExpressionsBehavior, W.YtRendererBehavior]
  });
  Polymer({
    is: "yt-search-query-correction",
    behaviors: [Dv.ComponentBehavior],
    properties: {
      correctedText: Object,
      correctedQuery: Object,
      correctedEndpoint: Object,
      originalText: Object,
      originalQuery: Object,
      originalEndpoint: Object
    }
  });
  nw("itemSectionRenderer", "didYouMeanRenderer", "yt-did-you-mean-renderer");
  Polymer({
    is: "yt-did-you-mean-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object
    }
  });
  nw("itemSectionRenderer", "includingResultsForRenderer", "yt-including-results-for-renderer");
  Polymer({
    is: "yt-including-results-for-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object
    }
  });
  nw("itemSectionRenderer", "musicPassFeatureInfoRenderer", "yt-music-pass-feature-info-renderer");
  Polymer({
    is: "yt-music-pass-feature-info-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object
    },
    observers: ["computeUrlImg_(data)"],
    computeExtraClasses_: function(a, b) {
      var c = "";
      a && (c += " " + a.toLowerCase().replace(/_/g, "-"));
      b && (c += " " + b.toLowerCase().replace(/_/g, "-"));
      return c
    },
    computeUrlImg_: function(a) {
      a.image && (this.$.container.style.backgroundImage = "url(" + hw(a.image.thumbnails, Number.MAX_VALUE) + ")")
    }
  });
  nw("itemSectionRenderer", "noResultsFoundShowingResultsForRenderer", "yt-no-results-found-showing-results-for-renderer");
  Polymer({
    is: "yt-no-results-found-showing-results-for-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object
    }
  });
  nw("itemSectionRenderer", "resultsWithoutQuotesRenderer", "yt-results-without-quotes-renderer");
  Polymer({
    is: "yt-results-without-quotes-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object
    }
  });
  nw("itemSectionRenderer", "searchNoResultsRenderer", "yt-search-no-results-renderer");
  Polymer({
    is: "yt-search-no-results-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object
    }
  });
  nw("itemSectionRenderer", "showingResultsForRenderer", "yt-showing-results-for-renderer");
  Polymer({
    is: "yt-showing-results-for-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object
    }
  });
  Polymer({
    is: "yt-card-item-actions-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior],
    properties: {
      data: Object
    },
    stampDom: {
      "data.primaryButtonRenderer": {
        id: "primary-button-renderer",
        mapping: ow("sharingToggleButtonAndDefaultButton")
      },
      "data.secondaryButtonRenderer": {
        id: "secondary-button-renderer",
        mapping: ow("sharingToggleButtonAndDefaultButton")
      }
    }
  });
  var vB = {
    YtCardItemBoxBehavior: [{
      observers: ["cardItemContainerMarginsChanged_(data.containerMargin)"],
      cardItemContainerMarginsChanged_: function(a) {
        this.removeAttribute("top-margin");
        this.removeAttribute("bottom-margin");
        this.removeAttribute("left-margin");
        this.removeAttribute("right-margin");
        a && (a.top && this.setAttribute("top-margin", a.top), a.bottom && this.setAttribute("bottom-margin", a.bottom), a.left && this.setAttribute("left-margin", a.left), a.right && this.setAttribute("right-margin", a.right))
      }
    }]
  };
  var wB = {
    CARD_ITEM_COLOR_GENERAL_BACKGROUND_A: "var(--yt-spec-feed-background-a)",
    CARD_ITEM_COLOR_GENERAL_BACKGROUND_B: "var(--yt-spec-feed-background-b)",
    CARD_ITEM_COLOR_TEXT_PRIMARY: "var(--yt-spec-text-primary)",
    CARD_ITEM_COLOR_TEXT_SECONDARY: "var(--yt-spec-text-secondary)",
    CARD_ITEM_COLOR_CALL_TO_ACTION: "var(--yt-spec-call-to-action)",
    CARD_ITEM_COLOR_ICON_INACTIVE: "var(--yt-spec-icon-inactive)",
    CARD_ITEM_COLOR_ICON_DISABLED: "var(--yt-spec-icon-disabled)",
    CARD_ITEM_COLOR_BRAND_ICON_ACTIVE: "var(--yt-spec-brand-icon-active)",
    CARD_ITEM_COLOR_BRAND_ICON_INACTIVE: "var(--yt-spec-brand-icon-inactive)",
    CARD_ITEM_COLOR_10_PERCENT_LAYER: "var(--yt-spec-10-percent-layer)"
  };
  Polymer({
    is: "yt-card-item-text-renderer",
    behaviors: [W.YtRendererBehavior, vB.YtCardItemBoxBehavior],
    observers: ["textColorChanged_(data.textColor)"],
    properties: {
      data: Object
    },
    textColorChanged_: function(a) {
      this.style.color = wB[a || "CARD_ITEM_COLOR_TEXT_PRIMARY"]
    }
  });
  Polymer({
    is: "yt-card-item-text-collection-renderer",
    behaviors: [W.YtRendererBehavior, xw],
    properties: {
      data: Object
    },
    stampDom: {
      "data.textRenderers": {
        id: "text-renderers",
        mapping: {
          cardItemTextRenderer: {
            component: "yt-card-item-text-renderer"
          }
        }
      }
    }
  });
  Polymer({
    is: "yt-themed-image-renderer",
    behaviors: [W.YtRendererBehavior, xw, vB.YtCardItemBoxBehavior],
    properties: {
      data: Object,
      isDarkTheme_: Boolean,
      themeImage_: {
        type: Object,
        computed: "computeThemeImage_(data, isDarkTheme_)"
      },
      themeIcon_: {
        type: Object,
        computed: "computeThemeIcon_(data, isDarkTheme_)"
      },
      isCircular_: {
        type: Boolean,
        reflectToAttribute: !0,
        value: !1
      }
    },
    actionMap: {
      "yt-dark-mode-toggled-action": "handleDarkModeToggledAction_"
    },
    attached: function() {
      this.isDarkTheme_ = document.documentElement.hasAttribute("dark")
    },
    handleDarkModeToggledAction_: function(a) {
      this.isDarkTheme_ = a
    },
    computeThemeImage_: function(a, b) {
      if (!a || !a.imageLight) return !1;
      this.isCircular_ = a.isCircular;
      return b ? a.imageDark : a.imageLight
    },
    computeThemeIcon_: function(a, b) {
      if (!a || !a.iconLight) return !1;
      b = b ? a.iconDark : a.iconLight;
      this.$.icon.style.color = wB[b.iconColor || "CARD_ITEM_COLOR_GENERAL_BACKGROUND_A"];
      this.$.icon.style.width = (a.imageWidth || 18) + "px";
      this.$.icon.style.height = (a.imageHeight || 18) + "px";
      return "yt-icons:" + b.icon.iconType
    }
  });
  Polymer({
    is: "yt-card-item-text-with-image-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior],
    properties: {
      data: Object,
      imagePlacement: {
        type: String,
        value: "CARD_ITEM_IMAGE_PLACEMENT_UNKNOWN",
        computed: "computeImagePlacement_(data.imagePlacement)",
        reflectToAttribute: !0
      }
    },
    stampDom: {
      "data.imageRenderer": {
        id: "themed-image-renderer",
        mapping: {
          themedImageRenderer: {
            component: "yt-themed-image-renderer"
          }
        }
      },
      "data.textCollectionRenderer": {
        id: "card-item-text-collection-renderer",
        mapping: {
          cardItemTextCollectionRenderer: {
            component: "yt-card-item-text-collection-renderer"
          }
        }
      }
    },
    computeImagePlacement_: function(a) {
      return a || "CARD_ITEM_IMAGE_PLACEMENT_UNKNOWN"
    }
  });
  Polymer({
    is: "yt-card-item-error-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior],
    properties: {
      data: Object
    },
    stampDom: {
      "data.errorTextRenderer": {
        id: "error-text-renderer",
        mapping: {
          cardItemTextCollectionRenderer: {
            component: "yt-card-item-text-collection-renderer"
          },
          cardItemTextWithImageRenderer: {
            component: "yt-card-item-text-with-image-renderer"
          }
        }
      }
    }
  });
  nw("itemSectionRenderer", "CardItemRenderer", "yt-card-item-renderer");
  Polymer({
    is: "yt-card-item-renderer",
    behaviors: [W.YtRendererBehavior, xw],
    properties: {
      data: Object,
      isExpanded_: {
        type: Boolean,
        value: !1
      },
      isErrorRendererVisible_: {
        type: Boolean,
        value: !1
      }
    },
    listeners: {
      "yt-toggle-button": "onYtToggleButton_"
    },
    observers: ["backgroundColorChanged_(data.backgroundColor)", "errorRendererVisibilityChanged_(data.errorRenderer, isExpanded_)"],
    stampDom: {
      "data.headingRenderer": {
        id: "heading-renderer",
        mapping: {
          cardItemTextCollectionRenderer: {
            component: "yt-card-item-text-collection-renderer"
          },
          cardItemTextWithImageRenderer: {
            component: "yt-card-item-text-with-image-renderer"
          }
        }
      },
      "data.descriptionRenderer": {
        id: "description-renderer",
        mapping: {
          cardItemTextCollectionRenderer: {
            component: "yt-card-item-text-collection-renderer"
          }
        }
      },
      "data.additionalInfoRenderer": {
        id: "additional-info-renderer",
        mapping: {
          cardItemActionsRenderer: {
            component: "yt-card-item-actions-renderer"
          },
          cardItemTextCollectionRenderer: {
            component: "yt-card-item-text-collection-renderer"
          }
        }
      },
      "data.errorRenderer": {
        id: "error-renderer",
        mapping: {
          cardItemErrorRenderer: {
            component: "yt-card-item-error-renderer"
          }
        }
      }
    },
    backgroundColorChanged_: function(a) {
      this.$["main-content"].style.backgroundColor =
        wB[a || "CARD_ITEM_COLOR_UNKNOWN"] || "transparent"
    },
    errorRendererVisibilityChanged_: function(a, b) {
      this.isErrorRendererVisible_ = !!a && !b
    },
    onYtToggleButton_: function(a, b) {
      this.isExpanded_ = b.toggled
    }
  });
  nw("itemSectionRenderer", "CardItemContainerRenderer", "yt-card-item-container-renderer");
  Polymer({
    is: "yt-card-item-container-renderer",
    behaviors: [xw, Yw, W.YtRendererBehavior],
    properties: {
      data: Object,
      isExpanded_: {
        type: Boolean,
        reflectToAttribute: !0,
        value: !1
      },
      showSpinner_: {
        type: Boolean,
        reflectToAttribute: !0,
        value: !1
      }
    },
    listeners: {
      "yt-toggle-button": "onToggleButton_",
      "yt-next-continuation-data-updated": "nextContinuationDataUpdated_"
    },
    stampDom: {
      "data.baseRenderer": {
        id: "base",
        mapping: {
          cardItemRenderer: {
            component: "yt-card-item-renderer"
          }
        }
      },
      "data.contents": {
        id: "contents",
        mapping: {
          cardItemRenderer: {
            component: "yt-card-item-renderer"
          }
        }
      }
    },
    nextContinuation: {
      continuationType: "cardItemContainerContinuation",
      requestPath: "/browse_ajax"
    },
    onToggleButton_: function(a) {
      var b = this;
      a.stopPropagation();
      (this.isExpanded_ = a.detail && a.detail.toggled) && !this.data.contents && this.data.continuation && (this.fire("yt-load-next-continuation", function(c) {
        return b.getContinuationUrl_(c)
      }), this.showSpinner_ = !0)
    },
    getContinuationUrl_: function(a) {
      var b = this.get("continuation.onClickContinuationData.continuation", this.data);
      return Cj(a, {
        continuation: b
      })
    },
    nextContinuationDataUpdated_: function() {
      this.showSpinner_ = !1
    }
  });
  Polymer({
    is: "yt-generic-faq-question-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object,
      answerExpanded: {
        reflectToAttribute: !0,
        type: Boolean,
        value: !1
      }
    },
    listeners: {
      tap: "toggleAnswer_"
    },
    toggleAnswer_: function(a) {
      var b = Polymer.dom(a).rootTarget;
      if (!b || !b.classList.contains("yt-simple-endpoint") && "yt-endpoint" != b.getAttribute("is")) a.preventDefault(), a.stopPropagation(), this.answerExpanded = !this.answerExpanded
    }
  });
  nw("itemSectionRenderer", "faqSectionRenderer", "yt-faq-section-renderer");
  Polymer({
    is: "yt-faq-section-renderer",
    behaviors: [xw, W.YtRendererBehavior],
    properties: {
      data: Object
    },
    stampDom: {
      "data.questions": {
        id: "contents",
        mapping: {
          genericFaqQuestionRenderer: "yt-generic-faq-question-renderer"
        }
      }
    }
  });
  nw("itemSectionRenderer", "subscriptionProductHeaderRenderer", "yt-subscription-product-header-renderer");
  Polymer({
    is: "yt-subscription-product-header-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object,
      ariaLevel: {
        type: String,
        computed: "computeAriaLevel_(data.level)",
        reflectToAttribute: !0
      },
      role: {
        type: String,
        value: "heading",
        reflectToAttribute: !0
      },
      tabindex: {
        type: Number,
        value: -1,
        reflectToAttribute: !0
      }
    },
    computeAriaLevel_: function(a) {
      return this.getLevelID_(a)
    },
    getLevelID_: function(a) {
      return (a = a.match(/[0-9]+$/)) && 1 == a.length ? a[0] : "1"
    }
  });
  nw("itemSectionRenderer", "subscriptionProductRenderer", "yt-subscription-product-renderer");
  Polymer({
    is: "yt-subscription-product-renderer",
    behaviors: [W.YtRendererBehavior, xw],
    listeners: {
      "yt-rendererstamper-finished": "onStampFinished_"
    },
    properties: {
      data: Object
    },
    stampDom: {
      "data.primaryButton": {
        id: "primary-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer"
          }
        }
      },
      "data.secondaryButton": {
        id: "secondary-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer"
          }
        }
      },
      "data.menu": {
        id: "menu",
        mapping: ow("menuRenderer"),
        events: !0
      }
    },
    onStampFinished_: function() {
      this.$.menu.children[0].icon =
        "yt-icons:more_vert"
    }
  });
  nw("itemSectionRenderer", "subscriptionProductUpsellOfferRenderer", "yt-subscription-product-upsell-offer-renderer");
  Polymer({
    is: "yt-subscription-product-upsell-offer-renderer",
    behaviors: [W.YtRendererBehavior, xw],
    properties: {
      data: Object
    },
    observers: ["imageScrimColorValuesChanged_(data.imageScrimColorValues)"],
    stampDom: {
      "data.primaryButton": {
        id: "primary-button",
        mapping: {
          buttonRenderer: "yt-button-renderer"
        }
      },
      "data.secondaryButton": {
        id: "secondary-button",
        mapping: {
          buttonRenderer: "yt-button-renderer"
        }
      }
    },
    imageScrimColorValuesChanged_: function(a) {
      this.$.scrim.style.backgroundColor = a ? Nu(a[0]) : "transparent"
    }
  });
  Polymer({
    is: "yt-single-ypc-offer-renderer",
    behaviors: [W.YtRendererBehavior, iB],
    listeners: {
      "yt-service-request-error": "onYtServiceRequestError_"
    },
    properties: {
      data: Object,
      collapsible: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0
      },
      isManageRed: {
        reflectToAttribute: !0,
        type: Boolean,
        value: !1
      }
    },
    onYtServiceRequestError_: function(a) {
      this.openToast(a.detail.error.message)
    }
  });
  Polymer({
    is: "yt-single-ypc-offer-list-renderer",
    behaviors: [xw, W.YtRendererBehavior],
    properties: {
      data: Object,
      isManageRed: {
        type: Boolean,
        reflectToAttribute: !0,
        value: !1
      }
    },
    stampDom: {
      "data.singleYpcOfferSupportedRenderers": {
        id: "contents",
        mapping: {
          singleYpcOfferRenderer: {
            component: "yt-single-ypc-offer-renderer",
            properties: {
              isManageRed: "[[isManageRed]]"
            }
          }
        }
      }
    }
  });
  nw("itemSectionRenderer", "ypcOffersListRenderer", "yt-ypc-offers-list-renderer");
  Polymer({
    is: "yt-ypc-offers-list-renderer",
    behaviors: [W.YtRendererBehavior, xw],
    properties: {
      data: Object,
      isManageRed: {
        type: Boolean,
        value: !1
      }
    },
    stampDom: {
      "data.offersList": {
        id: "contents",
        mapping: {
          singleYpcOfferListRenderer: {
            component: "yt-single-ypc-offer-list-renderer",
            properties: {
              isManageRed: "[[isManageRed]]"
            }
          }
        }
      }
    }
  });
  nw("itemSectionRenderer", "unlimitedManageSubscriptionPageRenderer", "yt-unlimited-manage-subscription-page-renderer");
  Polymer({
    is: "yt-unlimited-manage-subscription-page-renderer",
    behaviors: [W.YtRendererBehavior, xw],
    properties: {
      data: Object
    },
    stampDom: {
      "data.manageFixFopButton": {
        id: "manage-fix-fop-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            params: {
              alignByText: !0
            }
          }
        }
      },
      "data.helpButton": {
        id: "help-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            params: {
              alignByText: !0
            }
          }
        }
      },
      "data.manageFamilyButton": {
        id: "manage-family-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            params: {
              alignByText: !0
            }
          }
        }
      },
      "data.manageSubscriptionButton": {
        id: "manage-subscription-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            params: {
              alignByText: !0
            }
          }
        }
      },
      "data.offers": {
        id: "offers",
        mapping: {
          ypcOffersListRenderer: {
            component: "yt-ypc-offers-list-renderer",
            params: {
              isManageRed: !0
            }
          }
        }
      }
    }
  });
  Polymer({
    is: "yt-collapsible-ypc-offer-renderer",
    behaviors: [xw, W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      offersVisible_: Boolean
    },
    stampDom: {
      "data.singleYpcOfferListSupportedRenderers": {
        id: "offers",
        mapping: {
          singleYpcOfferRenderer: {
            component: "yt-single-ypc-offer-renderer",
            params: {
              collapsible: !0
            }
          }
        }
      }
    },
    handleHeaderTap_: function(a) {
      a.preventDefault();
      a.stopPropagation();
      this.offersVisible_ = !0
    },
    dataChanged_: function(a) {
      this.offersVisible_ = !a.isCollapsed
    }
  });
  nw("itemSectionRenderer", "unlimitedPageHeaderRenderer", "yt-unlimited-page-header-renderer");
  Polymer({
    is: "yt-unlimited-page-header-renderer",
    behaviors: [xw, W.YtRendererBehavior, iB],
    listeners: {
      "yt-service-request-error": "onYtServiceRequestError_"
    },
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      }
    },
    stampDom: {
      "data.moreOffersRenderers": {
        id: "more-offers",
        mapping: {
          collapsibleYpcOfferRenderer: {
            component: "yt-collapsible-ypc-offer-renderer"
          }
        }
      }
    },
    dataChanged_: function() {
      if (this.data.backgroundImage) {
        var a = hw(this.data.backgroundImage.thumbnails, screen.width),
          b = this.getScrimLayerColorStops_();
        this.style["background-image"] =
          b ? "linear-gradient(180deg, " + b + "), url(" + a + ")" : "url(" + a + ")";
        this.data.gtmId && jv(this.data.gtmId)
      }
    },
    onYtServiceRequestError_: function(a) {
      this.openToast(a.detail.error.message)
    },
    getScrimLayerColorStops_: function() {
      var a = this.get("unlimitedHeaderV2Data.unlimitedHeaderV2Data", this.data);
      if (!a) return null;
      var b = 100 / a.scrimLayerColors.length;
      return a.scrimLayerColors.map(function(c, d) {
        d *= b;
        return Nu(c) + " " + d + "%"
      }).join(",")
    }
  });
  nw("itemSectionRenderer", "UnlimitedUserNotificationRenderer", "yt-unlimited-user-notification-renderer");
  Polymer({
    is: "yt-unlimited-user-notification-renderer",
    behaviors: [xw, W.YtRendererBehavior],
    properties: {
      data: Object
    },
    stampDom: {
      "data.actionButton": {
        id: "action-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            attributes: {
              "dialog-confirm": !0
            }
          }
        }
      }
    }
  });
  Polymer({
    is: "yt-unplugged-pause-membership-dialog-renderer",
    hostAttributes: {
      dialog: !0
    },
    behaviors: [nv.YtActionHandlerBehavior, mv.YtActionSenderBehavior, W.YtRendererBehavior, xw],
    listeners: {
      "yt-popup-closed": "closePopupHandler_",
      "yt-popup-opened": "onPopupOpened_",
      "yt-service-request-completed": "onYtServiceRequestCompleted",
      "yt-service-request-sent": "onYtServiceRequestSent"
    },
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      loading: {
        reflectToAttribute: !0,
        type: Boolean,
        value: !1
      },
      selectIndexMax_: Number,
      selectedData_: Object,
      sliderAriaLabel_: {
        type: String,
        value: null
      },
      onButtonTap_: {
        type: Function,
        value: function() {
          return this.onSubmitTap_.bind(this)
        }
      },
      onSecondaryTap_: {
        type: Function,
        value: function() {
          return this.onExitButtonTap_.bind(this)
        }
      }
    },
    stampDom: {
      "data.primaryButton": {
        id: "primary-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            properties: {
              "on-tap": "[[onButtonTap_]]"
            }
          }
        }
      },
      "data.secondaryButton": {
        id: "secondary-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            attributes: {
              "dialog-dismiss": !0
            },
            properties: {
              "on-tap": "[[onSecondaryTap_]]"
            }
          }
        }
      }
    },
    onPopupOpened_: function(a) {
      a.detail == this && P("enable_premium_voluntary_pause") && (this.sendAction("yt-close-popup-action", ["yt-confirm-dialog-renderer"]), this.handleOnOpenCommands_())
    },
    created: function() {
      this.selectedIndex_ = 0
    },
    setDialogData: function(a) {
      this.data = a;
      this.resetSlider_()
    },
    dataChanged_: function() {
      this.data && this.resetSlider_()
    },
    onSubmitTap_: function() {
      if (this.data.confirmCommand) {
        var a = this.data.confirmCommand;
        a.ypcPauseSubscriptionCommand && this.sendServiceRequestAction([a, {
          resume_time_ms: parseInt(this.selectedData_.resumeTimeMs, 10)
        }])
      }
    },
    onExitButtonTap_: function() {
      this.sendAction("yt-close-popup-action", ["yt-unplugged-pause-membership-dialog-renderer"])
    },
    closePopupHandler_: function(a, b) {
      (b && !0 === b.canceled || !1 === b.canceled && !1 === b.confirmed) && this.handleOnDismissCommands_()
    },
    onSliderChange_: function() {
      this.selectedIndex_ = this.$["id-pause-slider"].immediateValue;
      this.updateUiState_()
    },
    updateUiState_: function() {
      this.data && (this.selectedData_ = this.data.endOptions[this.selectedIndex_], this.setSliderAriaLabel_())
    },
    setSliderAriaLabel_: function() {
      this.selectedData_ && (this.sliderAriaLabel_ = this.selectedData_.accessibilityData.label)
    },
    resetSlider_: function() {
      if (this.data) {
        var a = this.data.defaultEndOptionIndex || 0,
          b = this.$["id-pause-slider"];
        if (b.immediateValue < a)
          for (; b.immediateValue != a;) b.increment();
        else if (a < b.immediateValue)
          for (; b.immediateValue != a;) b.decrement();
        this.selectedIndex_ = a;
        this.selectIndexMax_ = this.data.endOptions.length - 1;
        this.updateUiState_()
      }
    },
    handleOnOpenCommands_: function() {
      this.data && this.data.onOpenCommands && this.data.onOpenCommands && this.sendInnerTubeActions(this.data.onOpenCommands, this)
    },
    handleOnDismissCommands_: function() {
      this.data && this.data.onDismissCommands && this.data.onDismissCommands && this.sendInnerTubeActions(this.data.onDismissCommands, this)
    },
    onYtServiceRequestSent: function() {
      this.loading = !0
    },
    onYtServiceRequestCompleted: function() {
      this.parentElement.close && this.parentElement.close();
      this.loading = !1
    }
  });
  nw("itemSectionRenderer", "channelCustomGadgetRenderer", "yt-channel-custom-gadget-renderer");
  Polymer({
    is: "yt-channel-custom-gadget-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object
    }
  });
  Polymer({
    is: "ytmusic-item-section-renderer",
    behaviors: [tB, V.YtRendererStamperBehavior, W.YtRendererBehavior, X.InjectBehavior, aB],
    listeners: {
      "yt-rendererstamper-finished": "onStampFinished_",
      "ytmusic-item-section-tab-renderer-tap": "scrollToTopOfItemSectionContents_"
    },
    properties: {
      data: {
        type: Object,
        observer: "onDataChanged_"
      },
      hasItemSectionTabbedHeaderRenderer_: {
        type: Boolean,
        computed: "computeHasItemSectionTabbedHeaderRenderer_(data)",
        reflectToAttribute: !0
      },
      selectedTab_: {
        type: Number,
        statePath: "navigation.libraryTabIndex",
        observer: "onSelectedTabChanged_"
      },
      libraryV2Enabled: {
        type: Boolean,
        value: function() {
          return P("music_web_enable_library_v2")
        },
        reflectToAttribute: !0
      },
      displayUploadedVsCorpusToggleDropdown: {
        type: Boolean,
        value: function() {
          return P("music_web_display_uploaded_vs_corpus_toggle_dropdown")
        },
        reflectToAttribute: !0
      }
    },
    stampDom: {
      "data.contents": {
        id: "items",
        mapping: {
          cardItemContainerRenderer: {
            component: "yt-card-item-container-renderer",
            noInjection: !0
          },
          cardItemRenderer: {
            component: "yt-card-item-renderer",
            noInjection: !0
          },
          channelCustomGadgetRenderer: {
            component: "yt-channel-custom-gadget-renderer",
            noInjection: !0
          },
          didYouMeanRenderer: {
            component: "yt-did-you-mean-renderer",
            noInjection: !0
          },
          faqSectionRenderer: {
            component: "yt-faq-section-renderer",
            noInjection: !0
          },
          gridRenderer: "ytmusic-grid-renderer",
          includingResultsForRenderer: {
            component: "yt-including-results-for-renderer",
            noInjection: !0
          },
          messageRenderer: {
            component: "ytmusic-message-renderer",
            noInjection: !0
          },
          musicPassFeatureInfoRenderer: {
            component: "yt-music-pass-feature-info-renderer",
            noInjection: !0
          },
          musicPassSmallFeatureInfoRenderer: {
            component: "yt-music-pass-small-feature-info-renderer",
            noInjection: !0
          },
          musicShelfRenderer: "ytmusic-shelf-renderer",
          noResultsFoundShowingResultsForRenderer: {
            component: "yt-no-results-found-showing-results-for-renderer",
            noInjection: !0
          },
          resultsWithoutQuotesRenderer: {
            component: "yt-results-without-quotes-renderer",
            noInjection: !0
          },
          searchNoResultsRenderer: {
            component: "yt-search-no-results-renderer",
            noInjection: !0
          },
          showingResultsForRenderer: {
            component: "yt-showing-results-for-renderer",
            noInjection: !0
          },
          simpleTextSectionRenderer: {
            component: "ytmusic-simple-text-section-renderer",
            noInjection: !0
          },
          subscriptionProductHeaderRenderer: {
            component: "yt-subscription-product-header-renderer",
            noInjection: !0
          },
          subscriptionProductUpsellOfferRenderer: {
            component: "yt-subscription-product-upsell-offer-renderer",
            noInjection: !0
          },
          subscriptionProductRenderer: {
            component: "yt-subscription-product-renderer",
            noInjection: !0
          },
          unlimitedManageSubscriptionPageRenderer: {
            component: "yt-unlimited-manage-subscription-page-renderer",
            noInjection: !0
          },
          unlimitedPageHeaderRenderer: {
            component: "yt-unlimited-page-header-renderer",
            noInjection: !0
          },
          unlimitedUserNotificationRenderer: {
            component: "yt-unlimited-user-notification-renderer",
            noInjection: !0
          },
          unpluggedPauseMembershipDialogRenderer: {
            component: "yt-unplugged-pause-membership-dialog-renderer",
            noInjection: !0
          },
          ypcOffersListRenderer: {
            component: "yt-ypc-offers-list-renderer",
            noInjection: !0
          }
        },
        events: !0
      },
      "data.header": {
        id: "header",
        mapping: {
          itemSectionHeaderRenderer: {
            component: "ytmusic-item-section-header-renderer",
            noInjection: !0
          },
          itemSectionTabbedHeaderRenderer: "ytmusic-item-section-tabbed-header-renderer"
        },
        stamperStableList: P("music_web_enable_library_v2"),
        events: !0
      }
    },
    computeHasItemSectionTabbedHeaderRenderer_: function(a) {
      return !!this.get("header.itemSectionTabbedHeaderRenderer", a)
    },
    onStampFinished_: function(a) {
      a.detail.container == this.$.header && (this.stickyElement = this.hasItemSectionTabbedHeaderRenderer_ ? this.$.header : void 0);
      if (this.hasItemSectionTabbedHeaderRenderer_) this.onSelectedTabChanged_(this.selectedTab_)
    },
    onDataChanged_: function(a) {
      if (a && !this.libraryV2Enabled) {
        var b = this.get("header.itemSectionTabbedHeaderRenderer.tabs", a);
        a = this.get("contents", a);
        b && a && b.length != a.length && O(Error("Differing number of tabs to content in item section renderer!" + (" Number of tabs: " + b.length + " number of items in contents: " + a.length)))
      }
    },
    scrollToTopOfItemSectionContents_: function() {
      var a = parseInt(getComputedStyle(this).getPropertyValue("--ytmusic-nav-bar-height"), 10);
      DA(document.scrollingElement, this.getStickyElementOffsetTop() - a + 1)
    },
    onSelectedTabChanged_: function(a, b) {
      this.libraryV2Enabled || (void 0 != b && this.$.items.children[b] && Polymer.dom(this.$.items.children[b]).classList.remove("selected"), this.$.items.children[a] && Polymer.dom(this.$.items.children[a]).classList.add("selected"))
    }
  });
  Polymer({
    is: "ytmusic-tastebuilder-shelf-renderer",
    behaviors: [W.YtRendererBehavior],
    getThumbnailWidth_: function() {
      return 789
    }
  });
  Polymer({
    is: "ytmusic-section-list-renderer",
    behaviors: [lw.YtNextContinuationBehavior, V.YtRendererStamperBehavior, X.InjectBehavior, nv.YtActionHandlerBehavior, W.YtRendererBehavior],
    properties: {
      data: Object,
      fullbleedClasses_: {
        type: Array,
        value: ["fullbleed"]
      },
      itemSectionRendererClasses_: {
        type: Array,
        computed: "computeItemSectionRendererClasses_(data)",
        observer: "itemSectionRendererClassesChanged"
      }
    },
    actionMap: {
      "yt-hide-enclosing-action": "handleHideEnclosingAction_"
    },
    stampDom: {
      "data.contents": {
        id: "contents",
        mapping: {
          musicDataBoundSectionRenderer: {
            component: "ytmusic-data-bound-section-renderer"
          },
          itemSectionRenderer: {
            component: "ytmusic-item-section-renderer",
            classListBinding: "[[itemSectionRendererClasses_]]"
          },
          musicCarouselShelfRenderer: {
            component: "ytmusic-carousel-shelf-renderer",
            classListBinding: "[[fullbleedClasses_]]"
          },
          musicImmersiveCarouselShelfRenderer: {
            component: "ytmusic-immersive-carousel-shelf-renderer",
            classListBinding: "[[fullbleedClasses_]]"
          },
          musicPlaylistShelfRenderer: "ytmusic-playlist-shelf-renderer",
          musicShelfRenderer: "ytmusic-shelf-renderer",
          musicTastebuilderShelfRenderer: {
            component: "ytmusic-tastebuilder-shelf-renderer",
            noInjection: !0
          }
        },
        stamperStableList: P("music_web_enable_library_v2")
      },
      "data.continuations": {
        id: "continuations",
        mapping: {
          nextContinuationData: {
            component: "yt-next-continuation",
            noInjection: !0
          }
        }
      }
    },
    nextContinuation: {
      continuationType: "sectionListContinuation",
      contentsArray: "data.contents",
      responseContentsKey: "contents"
    },
    handleHideEnclosingAction_: function(a, b) {
      b && (a = Array.from(Polymer.dom(this.$.contents).children).findIndex(function(c) {
        return c ==
          b
      }), -1 != a && this.splice("data.contents", a, 1))
    },
    computeItemSectionRendererClasses_: function(a) {
      if (!a) return [];
      var b = a.contents.find(function(c) {
        return !!c.itemSectionRenderer
      });
      return b && (a = b.itemSectionRenderer.contents.find(function(c) {
        return !!c.musicPassSmallFeatureInfoRenderer || !!c.unlimitedPageHeaderRenderer || !!c.gridRenderer || !!c.channelCustomGadgetRenderer
      }), b = !!this.get("itemSectionRenderer.header.itemSectionTabbedHeaderRenderer", b), a || b) ? this.fullbleedClasses_ : []
    },
    itemSectionRendererClassesChanged: function() {
      var a = this.$$("ytmusic-item-section-renderer");
      a && Polymer.dom(a).classList.toggle("fullbleed", this.itemSectionRendererClasses_.includes("fullbleed"))
    }
  });
  Polymer({
    is: "ytmusic-header-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object
    }
  });
  Polymer({
    is: "ytmusic-search-page",
    behaviors: [tB, W.YtRendererBehavior, X.InjectBehavior, sB, rB.YtmusicPageBehavior, aB],
    properties: {
      sectionListRenderer_: {
        type: Object,
        computed: "computeSectionListRenderer_(data)"
      },
      musicHeaderRenderer_: {
        type: Object,
        computed: "computeMusicHeaderRenderer_(data)"
      }
    },
    ready: function() {
      this.continuationUrl = (new Qx).getInnertubePath()
    },
    computeSectionListRenderer_: function(a) {
      if (a.contents.sectionListRenderer) return a.contents.sectionListRenderer
    },
    computeMusicHeaderRenderer_: function(a) {
      if (a.header && a.header.musicHeaderRenderer) return a.header.musicHeaderRenderer
    },
    fireStickyHeader_: function() {
      this.stickyElement = this.$$("ytmusic-header-renderer") || void 0
    }
  });
  Polymer({
    is: "ytmusic-activity-master-switch-setting-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      selected_: {
        type: Boolean,
        value: !0,
        observer: "selectedChanged_"
      },
      activityMasterSwitchValue_: String,
      isInitialSelection_: Boolean
    },
    dataChanged_: function() {
      this.activityMasterSwitchValue_ = Gt.getInstance().get("activity_based_recommendations", "MUSIC_ACTIVITY_MASTER_SWITCH_INDETERMINATE");
      "MUSIC_ACTIVITY_MASTER_SWITCH_DISABLED" != this.activityMasterSwitchValue_ &&
        (this.isInitialSelection_ = !0, this.selected_ = !1)
    },
    selectedChanged_: function(a, b) {
      void 0 == b || this.isInitialSelection_ ? this.isInitialSelection_ = !1 : (this.activityMasterSwitchValue_ = a ? "MUSIC_ACTIVITY_MASTER_SWITCH_DISABLED" : "MUSIC_ACTIVITY_MASTER_SWITCH_ENABLED", this.sendServiceRequestAction([{
        setClientSettingEndpoint: {
          settingDatas: [{
            clientSettingEnum: {
              item: "MUSIC_ACTIVITY_MASTER_SWITCH"
            },
            stringValue: this.activityMasterSwitchValue_
          }]
        }
      }]))
    },
    computeTitle_: function(a) {
      switch (a) {
        case "MUSIC_ACTIVITY_MASTER_SWITCH_ENABLED":
          return this.data.enabledTitle;
        case "MUSIC_ACTIVITY_MASTER_SWITCH_DISABLED":
          return this.data.disabledTitle;
        default:
          return this.data.indeterminateTitle
      }
    },
    computeSummary_: function(a) {
      switch (a) {
        case "MUSIC_ACTIVITY_MASTER_SWITCH_ENABLED":
          return this.data.enabledSummary;
        case "MUSIC_ACTIVITY_MASTER_SWITCH_DISABLED":
          return this.data.disabledSummary;
        default:
          return this.data.indeterminateSummary
      }
    }
  });
  Polymer({
    is: "ytmusic-location-master-switch-setting-renderer",
    behaviors: [iB, W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      selected_: {
        type: Boolean,
        value: !0,
        observer: "selectedChanged_"
      },
      locationMasterSwitchValue_: String,
      isNotUserInitiatedChange_: Boolean,
      isRequestPending_: Boolean
    },
    MUSIC_LOCATION_MASTER_SWITCH_MAPPING_: {
      0: "MUSIC_LOCATION_MASTER_SWITCH_UNKNOWN",
      1: "MUSIC_LOCATION_MASTER_SWITCH_INDETERMINATE",
      2: "MUSIC_LOCATION_MASTER_SWITCH_ENABLED",
      3: "MUSIC_LOCATION_MASTER_SWITCH_DISABLED"
    },
    dataChanged_: function() {
      var a = Gt.getInstance(),
        b = a.get("location_based_recommendations");
      b in this.MUSIC_LOCATION_MASTER_SWITCH_MAPPING_ || (b = "1", a.set("location_based_recommendations", b), a.save());
      this.locationMasterSwitchValue_ = this.MUSIC_LOCATION_MASTER_SWITCH_MAPPING_[b];
      "MUSIC_LOCATION_MASTER_SWITCH_DISABLED" != this.locationMasterSwitchValue_ && (this.isNotUserInitiatedChange_ = !0, this.selected_ = !1)
    },
    selectedChanged_: function(a, b) {
      var c = this;
      if (void 0 == b || this.isNotUserInitiatedChange_) this.isNotUserInitiatedChange_ = !1;
      else {
        this.locationMasterSwitchValue_ = a ? "MUSIC_LOCATION_MASTER_SWITCH_DISABLED" : "MUSIC_LOCATION_MASTER_SWITCH_ENABLED";
        var d = function() {
          c.isNotUserInitiatedChange_ = !0;
          c.selected_ = b;
          c.openToast(T("ERROR"))
        };
        if (a && this.data.disableCommand) a = this.data.disableCommand;
        else if (!a && this.data.enableCommand) a = this.data.enableCommand;
        else {
          d();
          return
        }
        this.isRequestPending_ = !0;
        this.sendServiceRequestAction([a]).thenCatch(d).thenAlways(function() {
          c.isRequestPending_ = !1
        })
      }
    },
    computeTitle_: function(a) {
      switch (a) {
        case "MUSIC_LOCATION_MASTER_SWITCH_ENABLED":
          return this.data.enabledTitle;
        case "MUSIC_LOCATION_MASTER_SWITCH_DISABLED":
          return this.data.disabledTitle;
        default:
          return this.data.indeterminateTitle
      }
    },
    computeSummary_: function(a) {
      switch (a) {
        case "MUSIC_LOCATION_MASTER_SWITCH_ENABLED":
          return this.data.enabledSummary;
        case "MUSIC_LOCATION_MASTER_SWITCH_DISABLED":
          return this.data.disabledSummary;
        default:
          return this.data.indeterminateSummary
      }
    }
  });
  Polymer({
    is: "ytmusic-setting-action-renderer",
    behaviors: [W.YtRendererBehavior, bB.YtmusicOpenPopupBehavior],
    properties: {
      titleId_: Number,
      summaryId_: Number
    },
    ready: function() {
      this.titleId_ = oq(this.$$(".title"));
      this.summaryId_ = oq(this.$$(".summary"))
    },
    handleTap_: function() {
      this.data.confirmDialog && this.data.confirmDialog.confirmDialogRenderer ? this.openPopup({
        openPopupAction: {
          popupType: "DIALOG",
          popup: this.data.confirmDialog
        }
      }) : this.data.serviceEndpoint && this.sendServiceRequestAction([this.data.serviceEndpoint])
    }
  });
  Polymer({
    is: "ytmusic-setting-boolean-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      selected_: {
        type: Boolean,
        value: !1,
        observer: "selectedChanged_"
      },
      isInitialSelection_: Boolean
    },
    getClientSettingItem_: function() {
      return this.get("data.enableServiceEndpoint.setClientSettingEndpoint.settingDatas.0.clientSettingEnum.item")
    },
    dataChanged_: function(a) {
      var b = !1;
      a.enabled ? b = a.enabled : "SAFETY_MODE" == this.getClientSettingItem_() && (b = a.isLocked ? !0 : Gt.getInstance().getFlag(58));
      b && (this.selected_ = this.isInitialSelection_ = !0)
    },
    selectedChanged_: function(a, b) {
      void 0 == b || this.isInitialSelection_ ? this.isInitialSelection_ = !1 : a ? this.sendServiceRequestAction([this.data.enableServiceEndpoint]) : this.sendServiceRequestAction([this.data.disableServiceEndpoint])
    }
  });
  Polymer({
    is: "ytmusic-setting-read-only-item-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: Object
    },
    hasNavigationEndpoint_: function(a) {
      return !!a.navigationEndpoint
    },
    hasOnlyServiceEndpoint_: function(a) {
      return !!a.serviceEndpoint && !a.navigationEndpoint
    },
    hasNoEndpoint_: function(a) {
      return !a.serviceEndpoint && !a.navigationEndpoint
    },
    handleTap_: function() {
      this.data.serviceEndpoint && this.sendServiceRequestAction([this.data.serviceEndpoint])
    }
  });
  Polymer({
    is: "ytmusic-setting-single-option-menu-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      selected_: {
        type: Number,
        observer: "selectedChanged_"
      }
    },
    ready: function() {
      this.isSelectionFromInitialization_ = !1
    },
    dataChanged_: function(a) {
      if (a) {
        var b = this.getCurrentValue_(),
          c = a.items.findIndex(function(d) {
            return !!d.settingMenuItemRenderer.selected
          }); -
        1 == c && b && (c = a.items.findIndex(function(d) {
          return d.settingMenuItemRenderer.value == b
        })); -
        1 != c && (this.isSelectionFromInitialization_ = !0, this.selected_ = c)
      }
    },
    selectedChanged_: function(a) {
      this.isSelectionFromInitialization_ ? this.isSelectionFromInitialization_ = !1 : this.data.items[a] && this.sendServiceRequestAction([this.data.items[a].settingMenuItemRenderer.updateServiceEndpoint])
    },
    getSettingItem_: function() {
      return this.get("data.items.0.settingMenuItemRenderer.updateServiceEndpoint.setClientSettingEndpoint.settingDatas.0.clientSettingEnum.item")
    },
    getCurrentValue_: function() {
      switch (this.getSettingItem_()) {
        case "I18N_REGION":
          return M("GL", "");
        case "I18N_LANGUAGE":
          return M("HL", "");
        default:
          return ""
      }
    }
  });
  Polymer({
    is: "ytmusic-setting-category-collection-renderer",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior],
    properties: {
      data: Object
    },
    stampDom: {
      "data.items": {
        id: "items",
        mapping: {
          musicActivityMasterSwitchSettingRenderer: "ytmusic-activity-master-switch-setting-renderer",
          musicLocationMasterSwitchSettingRenderer: "ytmusic-location-master-switch-setting-renderer",
          settingActionRenderer: "ytmusic-setting-action-renderer",
          settingBooleanRenderer: "ytmusic-setting-boolean-renderer",
          settingReadOnlyItemRenderer: "ytmusic-setting-read-only-item-renderer",
          settingSingleOptionMenuRenderer: "ytmusic-setting-single-option-menu-renderer"
        }
      }
    }
  });
  Polymer({
    is: "ytmusic-settings-page",
    behaviors: [V.YtBindingExpressionsBehavior, W.YtRendererBehavior, aB],
    properties: {
      data: Object,
      selectedIndex: {
        type: Number,
        value: 0,
        reflectToAttribute: !0
      },
      selectedIndexInternal_: {
        type: Number,
        computed: "computeSelectedIndexInternal_(selectedIndex)"
      },
      viewportSize_: {
        type: Number,
        statePath: JA
      },
      smallViewport_: {
        type: Boolean,
        computed: "computeSmallViewport_(viewportSize_)",
        reflectToAttribute: !0
      }
    },
    attached: function() {
      this.smallViewport_ && (this.selectedIndex = void 0)
    },
    computeSmallViewport_: function(a) {
      return -3 >= a
    },
    computeSelectedIndexInternal_: function(a) {
      return void 0 == a ? -1 : a
    },
    onBackButtonTap_: function() {
      this.selectedIndex = void 0
    },
    computeDialogTitle_: function(a, b) {
      return a && -1 != b ? (a = this.get("data.items." + b + ".settingCategoryCollectionRenderer.title", this)) && this.getSimpleString(a) || "" : this.msg("SETTINGS")
    },
    computeCurrentSettingCategoryCollectionData_: function(a, b) {
      if (a) return a.items[b || 0].settingCategoryCollectionRenderer
    }
  });
  hB.YtmusicSelectableItemBehaviorImpl_ = {
    hostAttributes: {
      role: "checkbox",
      tabindex: "0"
    },
    keyBindings: {
      enter: "toggleSelected",
      space: "toggleSelected"
    },
    listeners: {
      tap: "toggleSelected"
    },
    properties: {
      isSelected_: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        observer: "onSelectionChanged_"
      }
    },
    observeVisibleOption: "observe_once",
    onVisible: function() {
      this.fire("ytmusic-selectable-item-shown", {
        impressionFormValue: this.data.impressionFormValue
      })
    },
    onSelectionChanged_: function(a) {
      this.setAttribute("aria-checked", a)
    },
    toggleSelected: function() {
      this.isSelected_ = !this.isSelected_;
      this.fire("ytmusic-selectable-item-clicked", this.getSelectionInfo_())
    },
    getSelectionInfo_: function() {
      return {
        isSelected: this.isSelected_,
        selectionFormValue: this.data.selectionFormValue || ""
      }
    }
  };
  hB.YtmusicSelectableItemBehavior = [Polymer.IronA11yKeysBehavior, hB.YtmusicSelectableItemBehaviorImpl_];
  var xB = {
    listeners: {
      "ytmusic-selectable-item-clicked": "onItemClicked_",
      "ytmusic-selectable-item-shown": "onItemShown_"
    },
    created: function() {
      this.selectedItems = new Set;
      this.displayedItems = new Set
    },
    onItemClicked_: function(a) {
      a.detail.isSelected ? this.selectedItems.add(a.detail.selectionFormValue) : this.selectedItems.delete(a.detail.selectionFormValue);
      this.selectedItemsChanged()
    },
    selectedItemsChanged: function() {},
    onItemShown_: function(a) {
      this.displayedItems.add(a.detail.impressionFormValue)
    }
  };
  Polymer({
    is: "ytmusic-modal-with-title-and-button-renderer",
    behaviors: [Xw.YtEventForwardingBehavior, W.YtRendererBehavior]
  });
  Polymer({
    is: "ytmusic-notification-text-renderer",
    behaviors: [W.YtRendererBehavior],
    open: function() {
      this.$.toast.open()
    },
    close: function() {
      this.$.toast.close()
    },
    setVerticalOffset: function(a) {
      this.$.toast.verticalOffset = a;
      this.$.toast.fit()
    }
  });
  Polymer({
    is: "ytmusic-share-target-renderer",
    behaviors: [W.YtRendererBehavior],
    properties: {
      serviceName_: {
        type: String,
        computed: "computeServiceName_(data)"
      }
    },
    computeServiceName_: function(a) {
      return a.serviceName.toLowerCase()
    },
    computeIconName_: function(a) {
      return "email" == a ? "yt-icons:email" : "socialNetworks:" + a
    }
  });
  Polymer({
    is: "ytmusic-sharing-renderer",
    behaviors: [iB, V.YtRendererStamperBehavior, W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      }
    },
    stampDom: {
      "data.primaryShareTargets": {
        id: "share-targets",
        mapping: {
          shareTargetRenderer: "ytmusic-share-target-renderer"
        }
      }
    },
    dataChanged_: function() {
      Polymer.RenderStatus.afterNextRender(this, this.selectShareUrl_)
    },
    onCopyButtonTap_: function() {
      this.selectShareUrl_();
      try {
        var a = document.execCommand("copy")
      } catch (c) {
        a = !1
      }
      var b = a ? T("LINK_COPIED") : T("ERROR");
      this.openToast(b);
      a && this.sendAction("yt-close-popup-action", ["yt-sharing-renderer"])
    },
    selectShareUrl_: function() {
      var a = this.$["url-input"]._focusableElement;
      if (os) {
        var b = a.contentEditable,
          c = a.readOnly;
        a.contentEditable = "true";
        a.readOnly = !1;
        var d = document.createRange();
        d.selectNodeContents(a);
        var e = window.getSelection();
        e.removeAllRanges();
        e.addRange(d);
        a.setSelectionRange(0, 9999999);
        a.readOnly = c;
        a.contentEditable = b
      } else a.select(), a.focus()
    }
  });
  var yB = [nv.YtActionHandlerBehavior, {
    created: function() {
      this.popupContainerConfig = null;
      this.popups_ = {};
      this.popupContainerActionMap_ = {
        "yt-close-popup-action": "handleClosePopupAction_",
        "yt-close-popups-action": "handleClosePopupsAction_",
        "yt-close-all-popups-action": "handleCloseAllPopupsAction_",
        "yt-get-popup-opened-action": "handleGetPopupOpenedAction_",
        "yt-get-opened-popups-action": "handleGetOpenedPopupsAction_",
        "yt-open-popup-action": "handleOpenPopupAction_",
        "yt-signal-action-close-popup": "handleSignalActionClosePopup_",
        "yt-window-scrolled": "windowResizedOrScrolled_",
        "yt-window-resized": "windowResizedOrScrolled_",
        "yt-refit-popups-action": "refitPopups_"
      };
      this.narrowMediaQuery_ = void 0;
      this.repositionEventsBound_ = !1;
      this.setPopupVisibilityJobId_ = this.setPopupPositioningJobId_ = 0;
      this.dynamicallyPositionedElements_ = new Set
    },
    attached: function() {
      this.registerActionMap(this.popupContainerActionMap_);
      var a = !1;
      a = void 0 === a ? !0 : a;
      this.addEventListener("wheel", Cq);
      this.overscrollConfig = {
        cooldown: a
      }
    },
    detached: function() {
      this.unregisterActionMap(this.popupContainerActionMap_);
      this.overscrollConfig = void 0;
      this.removeEventListener("wheel", Cq)
    },
    windowResizedOrScrolled_: function() {
      this.setPopupPositioningJobId_ || (this.setPopupPositioningJobId_ = S.addLowPriorityJob(this.setPopupPositioning_.bind(this)));
      this.setPopupVisibilityJobId_ || (this.setPopupVisibilityJobId_ = S.addLowPriorityJob(this.setPopupVisibility_.bind(this)))
    },
    setPopupPositioning_: function() {
      this.dynamicallyPositionedElements_.forEach(function() {}, this);
      this.setPopupPositioningJobId_ = 0
    },
    setPopupVisibility_: function() {
      for (var a in this.popups_) this.popups_[a].setRefitVisibility();
      this.setPopupVisibilityJobId_ = 0
    },
    ensurePopupBelowPlayer: function() {
      return !1
    },
    initPopupContainerBehavior: function(a) {
      this.popupContainerConfig = a
    },
    handleOpenPopupAction_: function(a, b) {
      var c = a.openPopupAction,
        d = this.ensurePopup_(c, b);
      return new lh(function(e) {
        d.then(function(g) {
          if (!g) return e();
          this.maybeCreateNarrowMediaQuery_();
          var h = this.popups_[g.rendererName],
            k = !(!h || !h.openPopupAction.beReused);
          k = !!c.reusePopup || k;
          if (g.popup.opened && !k) {
            this.handleClosePopupAction_(g.rendererName);
            if (h && h.target == b && !g.openPopupAction.replacePopup) return e();
            Polymer.RenderStatus.afterNextRender(g.popup, function() {
              this.completeOpenPopupAction_(c, b, g);
              e()
            }.bind(this))
          } else g.popup.opened ?
            g.updatePopup(c) : this.completeOpenPopupAction_(c, b, g), e()
        }.bind(this))
      }.bind(this))
    },
    completeOpenPopupAction_: function(a, b, c) {
      c.configurePopup(this.narrowMediaQuery_.queryMatches, b);
      c.updatePopup(a);
      a = c.popup;
      this.listen(a, "iron-overlay-opened", "onPopupIronOverlayOpened_");
      this.listen(a, "iron-overlay-closed", "onPopupIronOverlayClosed_");
      this.listen(a, "iron-overlay-canceled", "onPopupIronOverlayCanceled_");
      this.listen(a, "yt-refit", "refitPopup_");
      this.listen(a, "yt-invalidate-popup-tabbables", "handleInvalidatePopupTabbables_");
      a.open()
    },
    getPopupDurationMs_: function(a) {
      return 0 === a.durationHintMs ? a.durationHintMs : Math.max(4E3, a.durationHintMs || 4E3)
    },
    handleClosePopupAction_: function(a) {
      a = a ? (a = this.popups_[a]) && a.popup : Polymer.IronOverlayManager.currentOverlay();
      a && a.close && a.close()
    },
    handleCloseAllPopupsAction_: function(a) {
      for (var b in this.popups_) a && a.some(function(c) {
        return c == b
      }) || this.popups_[b].popup.close()
    },
    handleClosePopupsAction_: function(a) {
      a.forEach(function(b) {
        (b = this.popups_[b]) && b.popup.close()
      }.bind(this))
    },
    handleGetPopupOpenedAction_: function(a) {
      return a && this.popups_[a] ? this.popups_[a].popup.opened : !1
    },
    handleGetOpenedPopupsAction_: function() {
      var a = [],
        b;
      for (b in this.popups_) {
        var c = this.popups_[b];
        c.popup.opened && a.push(c)
      }
      return a
    },
    handleSignalActionClosePopup_: function() {
      this.handleCloseAllPopupsAction_()
    },
    ensurePopup_: function(a, b) {
      this.maybeCreateNarrowMediaQuery_();
      var c = et(a.popup, "renderer") || et(a.popup, "dialog");
      if (!c) return ph();
      var d = ft(c, this.popupContainerConfig.getPrefixForElement(c, b));
      return N("ENABLE_SELECTIVE_REGISTRATION") ? new lh(function(e) {
        Lt.getInstance().onComponent(d, function() {
          e(this.getAndMaybeCreatePopup_(a, d, b))
        }.bind(this), 4)
      }.bind(this)) : ph(this.getAndMaybeCreatePopup_(a, d, b))
    },
    getAndMaybeCreatePopup_: function(a, b, c) {
      if (this.popups_[b]) return this.popups_[b];
      a = new Et({
        openPopupAction: a,
        target: c,
        container: this,
        popupContainerConfig: this.popupContainerConfig,
        getElement: this.getElement.bind(this)
      });
      return this.popups_[b] = a
    },
    getElement: function() {
      return null
    },
    maybeCreateNarrowMediaQuery_: function() {
      this.narrowMediaQuery_ || (this.narrowMediaQuery_ = document.createElement("iron-media-query"), this.narrowMediaQuery_.query = "(max-width: 656px)", this.listen(this.narrowMediaQuery_, "query-matches-changed", "openPopupQueryMatchesChanged_"), Polymer.dom(this).appendChild(this.narrowMediaQuery_))
    },
    openPopupQueryMatchesChanged_: function(a) {
      a = a.detail.value;
      for (var b in this.popups_) this.popups_[b].toggleConfigProperties(a)
    },
    onPopupIronOverlayClosed_: function(a) {
      var b = a.currentTarget,
        c = b.getContentChildren();
      c = 0 < c.length ? c[0] : b;
      a.detail.popup = b;
      a.detail.popupRenderer = c;
      c.fire("yt-popup-closed", a.detail);
      this.unlisten(b, "yt-refit", "refitPopup_");
      this.unlisten(b, "yt-invalidate-popup-tabbables", "handleInvalidatePopupTabbables_");
      this.unlisten(b, "iron-overlay-canceled", "onPopupIronOverlayCanceled_");
      this.unlisten(b, "iron-overlay-closed", "onPopupIronOverlayClosed_");
      this.dynamicallyPositionedElements_.delete(b)
    },
    onPopupIronOverlayCanceled_: function(a, b) {
      var c = Polymer.dom(a).rootTarget,
        d = c.getContentChildren();
      (0 < d.length ? d[0] : c).fire("yt-popup-canceled", a.detail);
      d = Polymer.dom(b).path;
      (!b || ["click", "tap"].includes(b.type)) && !c.hasAttribute("force-close-on-outside-click") && c.positionTarget && d && d.includes(c.positionTarget) && a.preventDefault();
      c.restoreFocusOnClose = Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(b, "esc")
    },
    onPopupIronOverlayOpened_: function(a) {
      a = a.currentTarget;
      var b = a.getContentChildren();
      b = 0 < b.length ? b[0] : a;
      b.fire("yt-popup-opened", b);
      a.keepBelowPlayer && this.dynamicallyPositionedElements_.add(a);
      this.unlisten(a, "iron-overlay-opened", "onPopupIronOverlayOpened_")
    },
    refitPopup_: function(a) {
      a = a.currentTarget;
      a.refit && a.refit()
    },
    refitPopups_: function() {
      for (var a in this.popups_) this.popups_[a].refit()
    },
    handleInvalidatePopupTabbables_: function(a) {
      a = a.currentTarget;
      a.invalidateTabbables && a.invalidateTabbables()
    }
  }];
  var zB = function() {};
  f = zB.prototype;
  f.update = function() {};
  f.updatePlayerComponents = function() {};
  f.loadPlayer = function() {};
  f.getPlayer = function() {};
  f.getPlayerPromise = function() {};
  f.preparePlayer = function() {};
  f.updatePlayerStyles = function() {};
  f.pause = function() {};
  f.play = function() {};
  f.stop = function() {};
  f.resetForNewPlayback = function() {};
  var AB = function() {};
  f = AB.prototype;
  f.updatePageData = function() {};
  f.getCurrentPage = function() {};
  f.getCurrentData = function() {};
  f.preparePage = function() {};
  f.getPlayerFromWatch = function() {};

  function BB(a, b) {
    b = void 0 === b ? !1 : b;
    a = a.getInterface(AB);
    if (!a) return null;
    if (a = a.getCurrentPage()) a: {
      if (P("kevlar_use_ytd_player")) {
        if (a && a.getPlayer) {
          b = a.getPlayer();
          break a
        }
      } else if (void 0 === b || !b || a.requiresPlayer) {
        b = a.getInterface(zB);
        break a
      }
      b = null
    }
    else b = null;
    return b
  };
  var CB = {};
  CB.YtComponentBehavior = {
    _noAccessors: !0,
    ready: function() {
      this.provides && Rs(this.provides, this, !1)
    },
    getInterface: function(a) {
      return Ss(a)
    },
    getInterfaceForTs: function(a) {
      return Ts(a)
    },
    asyncFrame: function(a, b) {
      return setTimeout(function() {
        requestAnimationFrame(a)
      }, b)
    },
    getSimpleString: it,
    getEndpointHandler_: jt,
    computeHref_: function(a, b) {
      return a ? (a = kt(a, void 0 === b ? !1 : b)) ? P("enable_polymer_resin") ? yc(a).getTypedStringValue() : a : null : null
    },
    computeNofollow_: function(a) {
      return a ? Xs(a) ? "nofollow" : null : null
    },
    computeIcon_: function(a) {
      return a && a.iconType ? a.iconAttributeFromInnertubeIconType(a.iconType) : ""
    }
  };
  Polymer({
    is: "yt-options-renderer",
    behaviors: [CB.YtComponentBehavior, W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      itemSelected_: {
        type: Number,
        value: -1
      },
      value: {
        type: Number,
        computed: "computeItemSelected_(itemSelected_)"
      },
      restoreFocusOnClose_: {
        type: Boolean,
        value: !1
      }
    },
    dataChanged_: function() {
      this.itemSelected_ = -1
    },
    isSubReasonHidden_: function(a, b) {
      return a != b
    },
    onTopItemSelected_: function(a, b) {
      for (var c = Polymer.dom(this.root).querySelectorAll("paper-listbox"), d = 0, e = c.length; d < e; d++) c[d].select(0);
      this.sendAction("yt-report-form-update", [b.item.value]);
      a.stopPropagation()
    },
    onItemSelected_: function(a, b) {
      this.sendAction("yt-report-form-update", [b.item.value]);
      a.stopPropagation()
    },
    getItem_: function(a) {
      return a.serviceItem ? a.serviceItem : a.navigationItem ? a.navigationItem : a.optionSelectableItemRenderer ? a.optionSelectableItemRenderer : null
    },
    computeText_: function(a) {
      return (a = this.getItem_(a)) ? this.getSimpleString(a.text) : null
    },
    validate: function() {
      return -1 !== this.itemSelected_
    },
    computeItemSelected_: function(a) {
      return a
    }
  });
  Polymer({
    is: "yt-boolean-form-field-v2-renderer",
    behaviors: [W.YtRendererBehavior, nv.YtActionHandlerBehavior],
    properties: {
      data: Object
    },
    onCheckedChanged_: function() {
      if (this.data) {
        var a = this.$.checkbox.checked;
        "yt-external-links-checkbox" === this.data.identifier ? this.sendAction("yt-additional-detail-checkbox-update", [a]) : a && this.data.enableCommand ? this.sendAction("yt-modify-report-form-command", [this.data.enableCommand.modifyReportFormCommand]) : !a && this.data.disableCommand && this.sendAction("yt-modify-report-form-command",
          [this.data.disableCommand.modifyReportFormCommand])
      }
    },
    onLabelTap_: function(a) {
      "A" != a.target.tagName && (this.$.checkbox.checked = !this.$.checkbox.checked)
    }
  });
  Polymer({
    is: "yt-report-form-modal-renderer",
    hostAttributes: {
      dialog: !0
    },
    behaviors: [uv.YtOpenPopupBehavior, xw, W.YtRendererBehavior, nv.YtActionHandlerBehavior, Xw.YtEventForwardingBehavior, Polymer.IronResizableBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_",
        value: null
      },
      submitting: {
        type: Boolean,
        value: !1
      },
      submitButtonDisabled_: {
        type: Boolean,
        value: !0,
        observer: "submitButtonDisabledChanged_"
      },
      submitEndpoint_: {
        type: Object,
        value: null
      },
      hideReportForm: {
        type: Boolean,
        reflectToAttribute: !0
      },
      navigationEndpoint_: {
        type: Object,
        value: null
      },
      canShowCheckbox_: {
        type: Boolean,
        value: !1
      },
      canShowAdditionalDetailCheckbox_: {
        type: Boolean,
        value: !1
      },
      canShowNextButton_: {
        type: Boolean,
        value: !1
      },
      additionalDetailCheckboxChecked_: {
        type: Boolean,
        value: !1
      }
    },
    actionMap: {
      "yt-report-form-update": "handleReportFormEndpointUpdateAction_",
      "yt-report-form-endpoint-update": "handleReportFormEndpointUpdateAction_",
      "yt-confirm-dialog-close-action": "handleConfirmDialogCloseAction_",
      "yt-modify-report-form-command": "handleModifyReportFormCommand_",
      "yt-additional-detail-checkbox-update": "handleAdditionalDetailCheckboxUpdateAction_"
    },
    listeners: {
      "yt-service-request-sent": "onYtServiceRequestSent_",
      "yt-service-request-completed": "onYtServiceRequestCompleted_",
      "yt-service-request-error": "onYtServiceRequestError_",
      "yt-navigate": "onYtNavigate_",
      "yt-popup-opened": "onYtPopupOpened_"
    },
    stampDom: {
      "data.legalReportCheckbox": {
        id: "checkbox-container",
        mapping: {
          booleanFormFieldV2Renderer: "yt-boolean-form-field-v2-renderer"
        }
      },
      "data.additionalDetailCheckbox": {
        id: "additional-detail-checkbox-container",
        mapping: {
          booleanFormFieldV2Renderer: "yt-boolean-form-field-v2-renderer"
        }
      }
    },
    created: function() {
      this.refitJob_ = 0
    },
    attached: function() {
      this.$.scroller.dialogElement = this.parentNode
    },
    dataChanged_: function(a) {
      a && (this.submitButtonDisabled_ = !!this.get("data.submitButton.buttonRenderer.isDisabled"), this.set("data.submitButton.buttonRenderer.isDisabled", void 0), this.set("data.nextButton.buttonRenderer.isDisabled", void 0), this.navigationEndpoint_ = this.submitEndpoint_ = null, this.submitting = !1, this.responseMessage = null, this.additionalDetailCheckboxChecked_ = this.canShowNextButton_ = this.canShowAdditionalDetailCheckbox_ = this.canShowCheckbox_ = this.hideReportForm = !1, a.legalReportCheckbox &&
        this.set("data.legalReportCheckbox.booleanFormFieldV2Renderer.value", !1), a.additionalDetailCheckbox && this.set("data.additionalDetailCheckbox.booleanFormFieldV2Renderer.value", !1))
    },
    onYtPopupOpened_: function() {
      var a = BB(this, !0);
      a && a.getPlayerPromise().then(function(b) {
        b.pauseVideo()
      }.bind(this))
    },
    onYtNavigate_: function(a) {
      var b = a.detail.endpoint;
      b && b.confirmDialogEndpoint && (a.stopPropagation(), this.hideReportForm = !0)
    },
    onYtServiceRequestSent_: function() {
      this.submitButtonDisabled_ = !0
    },
    onYtServiceRequestCompleted_: function(a, b) {
      for (var c = b.actions, d = 0, e = c.length; d < e; d++) c[d].openPopupAction && (a.stopPropagation(), this.parentElement.close(), this.openPopup(c[d]));
      if (b.data && (a = this.get("feedbackResponses", b.data)))
        for (d = 0; d < a.length; d++)
          if (a[d].isThumbnailReporting) {
            this.parentElement.close();
            break
          }
    },
    onYtServiceRequestError_: function() {
      this.submitButtonDisabled_ = !1
    },
    _onDescendantIronResize: function(a) {
      a.stopPropagation();
      return !1
    },
    handleReportFormEndpointUpdateAction_: function(a) {
      a.submitEndpoint ? (this.submitEndpoint_ = a.submitEndpoint, this.submitEndpoint_.flagEndpoint.additionalDetailCheckboxChecked = this.additionalDetailCheckboxChecked_, this.dialogEndpoint_ = null, this.submitButtonDisabled_ = !1) : a.submitNavigationEndpoint ? (this.navigationEndpoint_ = a.submitNavigationEndpoint, this.dialogEndpoint_ = null, this.submitButtonDisabled = !1) : a.confirmDialog ? (this.navigationEndpoint_ = {
          confirmDialogEndpoint: {
            content: {
              confirmDialogRenderer: a.confirmDialog.confirmDialogRenderer
            }
          }
        },
        this.submitEndpoint_ = null, this.submitButtonDisabled_ = !1) : this.submitEndpoint_ = this.navigationEndpoint_ = null;
      a.disableSubmitButton && (this.submitButtonDisabled_ = !0);
      this.handleModifyReportFormCommand_(this.get("clickCommands.0.modifyReportFormCommand", a));
      this.refit_()
    },
    handleConfirmDialogCloseAction_: function(a) {
      a.confirmed ? this.parentElement.close() : this.hideReportForm = !1
    },
    submitButtonDisabledChanged_: function() {
      this.parentElement && this.parentElement.invalidateTabbables && this.parentElement.invalidateTabbables()
    },
    handleModifyReportFormCommand_: function(a) {
      a = this.get("action", a);
      "REPORT_FORM_ACTION_LEGAL_CHECKBOX_HIDE" == a ? this.canShowCheckbox_ = !1 : "REPORT_FORM_ACTION_LEGAL_CHECKBOX_SHOW" == a ? this.canShowCheckbox_ = !0 : "REPORT_FORM_ACTION_ADDITIONAL_DETAIL_CHECKBOX_HIDE" == a ? this.canShowAdditionalDetailCheckbox_ = !1 : "REPORT_FORM_ACTION_ADDITIONAL_DETAIL_CHECKBOX_SHOW" == a ? this.canShowAdditionalDetailCheckbox_ = !0 : "REPORT_FORM_ACTION_SUBMIT_BUTTON_SHOW" == a ? this.canShowNextButton_ = !1 : "REPORT_FORM_ACTION_NEXT_BUTTON_SHOW" ==
        a && (this.canShowNextButton_ = !0);
      this.refit_()
    },
    computeSubmitButtonData_: function(a, b, c) {
      var d = {};
      b && (d.navigationEndpoint = b);
      c && (d.serviceEndpoint = c);
      a && a.buttonRenderer && Kb(d, a.buttonRenderer);
      return d
    },
    computeNextButtonData_: function(a, b) {
      var c = {};
      if (!a || !a.buttonRenderer) return c;
      Kb(c, a.buttonRenderer);
      b && (c.serviceEndpoint = Xa(b), c.serviceEndpoint.flagEndpoint && (c.serviceEndpoint.flagEndpoint.legalCheckboxChecked = !0));
      return c
    },
    computeShowNextButton_: function(a, b, c) {
      return !!a && b && c
    },
    refit_: function() {
      this.refitJob_ || (this.refitJob_ = S.addLowPriorityJob(function() {
        this.fire("yt-refit");
        this.refitJob_ = 0
      }.bind(this)))
    },
    handleAdditionalDetailCheckboxUpdateAction_: function(a) {
      this.additionalDetailCheckboxChecked_ = a;
      this.submitEndpoint_.flagEndpoint.additionalDetailCheckboxChecked = a
    }
  });
  uB.YtUnlimitedFamilyInterstitialBehaviorImpl_ = {
    actionMap: {
      "yt-signal-action-show-previous-family-dialog": "handleSignalActionShowPreviousFamilyDialog_",
      "yt-open-popup-action": "handleOpenPopupAction_"
    },
    listeners: {
      "yt-popup-closed": "onPopupClosed_"
    },
    created: function() {
      window.familyDialogHistory || (window.familyDialogHistory = []);
      this.dialogHistory_ = window.familyDialogHistory;
      this.showingPreviousDialog_ = !1
    },
    maybeCloseDialogOnFooterButtonTap: function(a) {
      return Ag(Polymer.dom(a).rootTarget, "yt-button-renderer").hasAttribute("footer-button") ? (this.parentElement.close(), !0) : !1
    },
    pushToHistory: function(a) {
      this.dialogHistory_.push(a)
    },
    popFromHistory: function() {
      return this.dialogHistory_.pop()
    },
    handleSignalActionShowPreviousFamilyDialog_: function() {
      var a = this.popFromHistory();
      if (a) {
        var b = {
          openPopupAction: {
            popupType: "DIALOG",
            popup: {}
          }
        };
        b.openPopupAction.popup[a.renderer] = a.data;
        this.showingPreviousDialog_ = !0;
        this.openPopup(b)
      }
    },
    handleOpenPopupAction_: function(a) {
      if (this.showingPreviousDialog_) this.showingPreviousDialog_ = !1;
      else {
        var b = ["unlimitedFamilyMessageInterstitialRenderer", "unlimitedFamilyProfileInterstitialRenderer"].some(function(d) {
            return !!a.openPopupAction.popup[d]
          }),
          c = this.getElementName_();
        b && this.data && (this.pushToHistory({
          renderer: c,
          data: this.data
        }), this.parentElement.close())
      }
    },
    getElementName_: function() {
      var a = this.nodeName.split("-").slice(1).map(function(b) {
        return b[0].toUpperCase() + b.slice(1).toLowerCase()
      }).join("");
      return a[0].toLowerCase() + a.slice(1)
    }
  };
  uB.YtUnlimitedFamilyInterstitialBehavior = [uv.YtOpenPopupBehavior, nv.YtActionHandlerBehavior, uB.YtUnlimitedFamilyInterstitialBehaviorImpl_];
  Polymer({
    is: "yt-unlimited-family-message-interstitial-renderer",
    hostAttributes: {
      dialog: !0
    },
    behaviors: [Xw.YtEventForwardingBehavior, xw, uB.YtUnlimitedFamilyInterstitialBehavior, W.YtRendererBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      loading: {
        reflectToAttribute: !0,
        type: Boolean,
        value: !1
      }
    },
    listeners: {
      "yt-navigate": "onYtNavigate_",
      "yt-service-request-completed": "onYtServiceRequestCompleted_",
      "yt-service-request-sent": "onYtServiceRequestSent_",
      "yt-popup-opened": "openPopupHandler_",
      "yt-popup-closed": "closePopupHandler_"
    },
    stampDom: {
      "data.actionButton": {
        id: "action-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            attributes: {
              "footer-button": !0
            }
          }
        }
      },
      "data.dismissButton": {
        id: "dismiss-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            attributes: {
              "dialog-dismiss": !0,
              "footer-button": !0
            }
          }
        }
      }
    },
    attached: function() {
      this.sendAction("yt-register-create-family-dialog");
      this.$.thumbnail.onShow()
    },
    onYtNavigate_: function(a) {
      var b = a.detail.endpoint;
      b.unlimitedCreateFamilyEndpoint ? (this.loading = !0, this.sendAction("yt-open-create-family-dialog", [b.unlimitedCreateFamilyEndpoint, this.unicornReadyCallback_.bind(this)]), a.stopPropagation()) : this.maybeCloseDialogOnFooterButtonTap(a)
    },
    onYtServiceRequestSent_: function(a, b) {
      b && b.endpoint && b.endpoint.signalServiceEndpoint || (this.loading = !0)
    },
    onYtServiceRequestCompleted_: function() {
      this.parentElement.close && this.parentElement.close();
      this.loading = !1
    },
    openPopupHandler_: function(a) {
      a.detail == this && this.data.onOpenCommands && this.sendInnerTubeActions(this.data.onOpenCommands, this)
    },
    closePopupHandler_: function(a, b) {
      (b && !0 === b.canceled || b && !1 === b.canceled && !1 === b.confirmed) && this.data.onDismissCommands && this.sendInnerTubeActions(this.data.onDismissCommands, this)
    },
    dataChanged_: function() {
      this.loading = !1
    },
    unicornReadyCallback_: function() {
      this.parentElement.close && this.parentElement.close();
      this.loading = !1
    }
  });
  Polymer({
    is: "yt-unlimited-family-profile-interstitial-renderer",
    hostAttributes: {
      dialog: !0
    },
    properties: {
      data: Object,
      mainThumbnailWidth_: {
        type: Number,
        computed: "computeMainThumbnailWidth_(data.secondaryThumbnails)"
      },
      boundButtonTap_: {
        type: Function,
        value: function() {
          return this.onButtonTap_.bind(this)
        }
      }
    },
    behaviors: [xw, W.YtRendererBehavior, uB.YtUnlimitedFamilyInterstitialBehavior],
    stampDom: {
      "data.actionButton": {
        id: "action-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            attributes: {
              "footer-button": !0
            },
            properties: {
              "on-tap": "[[boundButtonTap_]]"
            }
          }
        }
      },
      "data.dismissButton": {
        id: "dismiss-button",
        mapping: {
          buttonRenderer: {
            component: "yt-button-renderer",
            attributes: {
              "dialog-dismiss": !0,
              "footer-button": !0
            }
          }
        }
      },
      "data.manageButton": {
        id: "manage-button",
        mapping: {
          buttonRenderer: "yt-button-renderer"
        }
      }
    },
    attached: function() {
      Polymer.dom(this.root).querySelectorAll(".secondary-thumbnail").forEach(function(a) {
        a.onShow()
      });
      this.$["main-thumbnail"].onShow()
    },
    onButtonTap_: function(a) {
      this.maybeCloseDialogOnFooterButtonTap(a)
    },
    computeMainThumbnailWidth_: function(a) {
      return a && 0 !== a.length ? 72 : 96
    }
  });
  Polymer({
    is: "yt-bubble-hint-renderer",
    behaviors: [W.YtRendererBehavior, Xw.YtEventForwardingBehavior, xw],
    properties: {
      data: Object,
      positionType: {
        type: String,
        reflectToAttribute: !0
      },
      hasButtons_: {
        type: Boolean,
        value: !1,
        reflectToAttribute: !0,
        computed: "computeHasButtons_(data)"
      },
      style_: {
        type: Boolean,
        computed: "computeStyle_(data.style)",
        reflectToAttribute: !0
      }
    },
    stampDom: {
      "data.dismissButton": {
        id: "dismiss-button",
        mapping: {
          buttonRenderer: "yt-button-renderer"
        }
      },
      "data.confirmButton": {
        id: "accept-button",
        mapping: {
          buttonRenderer: "yt-button-renderer"
        }
      }
    },
    computeHasButtons_: function(a) {
      return !(!a.dismissButton && !a.confirmButton)
    },
    computeStyle_: function(a) {
      return a || "BUBBLE_HINT_STYLE_UNKNOWN"
    }
  });
  Polymer({
    is: "yt-confirm-dialog-renderer",
    hostAttributes: {
      dialog: !0
    },
    properties: {
      data: Object,
      primaryIsCancel: {
        type: Object,
        computed: "computePrimaryIsCancel_(data.primaryIsCancel)",
        reflectToAttribute: !0,
        readOnly: !0
      },
      isCancelButtonHidden: {
        type: Object,
        computed: "computeIsCancelButtonHidden_(data)",
        readOnly: !0
      }
    },
    observers: ["onHeaderImageChanged_(data.headerImage)", "onThumbnailChanged_(data.thumbnail)"],
    behaviors: [W.YtRendererBehavior, Xw.YtEventForwardingBehavior],
    listeners: {
      "yt-img-shadow-loaded": "onThumbnailLoaded_",
      "yt-navigate": "onYtNavigate_",
      "yt-popup-opened": "openPopupHandler_",
      "yt-popup-closed": "closePopupHandler_"
    },
    attached: function() {
      var a = this;
      this.$.scroller.dialogElement = this.parentNode;
      window.requestAnimationFrame(function() {
        a.$.thumbnail.onShow()
      })
    },
    fireOnCloseActions_: function() {
      this.data.onClosedActions && this.sendInnerTubeActions(this.data.onClosedActions, this)
    },
    fireOnOpenCommands_: function() {
      this.data.onOpenCommands && this.sendInnerTubeActions(this.data.onOpenCommands, this)
    },
    fireOnDismissCommands_: function() {
      this.data.onDismissCommands && this.sendInnerTubeActions(this.data.onDismissCommands, this)
    },
    openPopupHandler_: function(a) {
      a.detail == this && this.fireOnOpenCommands_()
    },
    closePopupHandler_: function(a, b) {
      this.sendOptionalAction("yt-confirm-dialog-close-action", [b]);
      this.fireOnCloseActions_();
      (b && !0 === b.canceled || b && !1 === b.canceled && !1 === b.confirmed) && this.fireOnDismissCommands_()
    },
    onHeaderImageChanged_: function(a) {
      a ? this.setAttribute("dialog-with-header-image", "") : this.removeAttribute("dialog-with-header-image")
    },
    onThumbnailChanged_: function(a) {
      a ? (this.setAttribute("dialog-with-thumbnail", ""), this.$.scroller.scrollTarget.style.maxHeight = "139px") : (this.removeAttribute("dialog-with-thumbnail"), this.$.scroller.scrollTarget.style.maxHeight = "none")
    },
    onYtNavigate_: function(a) {
      a = Polymer.dom(a).rootTarget;
      Polymer.dom(this.$["confirm-button"]).deepContains(a) && this.parentElement.close()
    },
    computePrimaryIsCancel_: function(a) {
      return a
    },
    computeIsCancelButtonHidden_: function(a) {
      return a.skipCancelButton || !a.cancelButton
    },
    onThumbnailLoaded_: function() {
      this.parentElement && this.parentElement.fit()
    }
  });
  Polymer({
    is: "yt-notification-action-renderer",
    behaviors: [W.YtRendererBehavior, Xw.YtEventForwardingBehavior],
    properties: {
      data: Object
    },
    open: function() {
      this.$.toast.open()
    },
    close: function() {
      this.$.toast.close()
    },
    setVerticalOffset: function(a) {
      this.$.toast.verticalOffset = a;
      this.$.toast.fit()
    },
    computeButtonClass_: function(a) {
      return a ? "toast-button" : ""
    },
    computeText_: function(a) {
      return it(a)
    }
  });
  Polymer({
    is: "ytmusic-popup-container",
    behaviors: [yB, nv.YtActionHandlerBehavior, X.InjectBehavior, aB],
    properties: {
      playerUiState_: {
        type: Object,
        statePath: Qz,
        observer: "playerUiStateChanged_"
      }
    },
    actionMap: {
      "yt-confirm-dialog-close-action": "handleConfirmDialogCloseAction_"
    },
    SUPPORTED_POPUP_COMPONENT_MAP_: {
      "iron-dropdown": "iron-dropdown",
      "paper-dialog": "paper-dialog",
      "yt-bubble-hint-renderer": "yt-bubble-hint-renderer",
      "yt-confirm-dialog-renderer": "yt-confirm-dialog-renderer",
      "yt-notification-action-renderer": "yt-notification-action-renderer",
      "yt-report-form-modal-renderer": "yt-report-form-modal-renderer",
      "yt-sharing-renderer": "ytmusic-sharing-renderer",
      "yt-unlimited-family-message-interstitial-renderer": "yt-unlimited-family-message-interstitial-renderer",
      "yt-unlimited-family-profile-interstitial-renderer": "yt-unlimited-family-profile-interstitial-renderer",
      "yt-unplugged-pause-membership-dialog-renderer": "yt-unplugged-pause-membership-dialog-renderer",
      "ytmusic-add-to-playlist-renderer": "ytmusic-add-to-playlist-renderer",
      "ytmusic-mealbar-promo-renderer": "ytmusic-mealbar-promo-renderer",
      "ytmusic-menu-popup-renderer": "ytmusic-menu-popup-renderer",
      "ytmusic-modal-with-title-and-button-renderer": "ytmusic-modal-with-title-and-button-renderer",
      "ytmusic-multi-page-menu-renderer": "ytd-multi-page-menu-renderer",
      "ytmusic-notification-text-renderer": "ytmusic-notification-text-renderer",
      "ytmusic-you-there-renderer": "ytmusic-you-there-renderer"
    },
    INJECTION_ENABLED_COMPONENTS_: ["ytmusic-add-to-playlist-renderer", "ytmusic-menu-popup-renderer", "ytmusic-you-there-renderer"],
    created: function() {
      this.initPopupContainerBehavior($w)
    },
    getElement: function(a) {
      var b = this.SUPPORTED_POPUP_COMPONENT_MAP_[a];
      if (!b) return O(Error("Unsupported element requested: " + a)), null;
      b = this.INJECTION_ENABLED_COMPONENTS_.includes(b) ? Sv(b, this) : document.createElement(b);
      this.adjustPositionIfNecessary_(a, b);
      return b
    },
    adjustPositionIfNecessary_: function(a, b) {
      var c = this;
      if ("yt-notification-action-renderer" == a || "ytmusic-notification-text-renderer" == a) {
        var d = b.open;
        b.open = function() {
          c.positionAbovePlayerBar_(b);
          d.call(b)
        }
      }
    },
    playerUiStateChanged_: function() {
      var a = this.querySelector("yt-notification-action-renderer") || this.querySelector("ytmusic-notification-text-renderer");
      a && this.positionAbovePlayerBar_(a)
    },
    positionAbovePlayerBar_: function(a) {
      a.setVerticalOffset(Oz())
    },
    handleConfirmDialogCloseAction_: function() {}
  });
  Polymer({
    is: "ytmusic-multiselect-form-item-renderer",
    behaviors: [W.YtRendererBehavior, hB.YtmusicSelectableItemBehavior],
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      }
    },
    dataChanged_: function(a) {
      a.isPreselected && this.toggleSelected()
    }
  });
  Polymer({
    is: "ytmusic-multiselect-form-renderer",
    behaviors: [V.YtRendererStamperBehavior, nv.YtActionHandlerBehavior, W.YtRendererBehavior, X.InjectBehavior, xB],
    inject: {
      navigator_: Xz
    },
    created: function() {},
    actionMap: {
      "yt-music-browse-form-binder-command": "handleMusicBrowseFormBinderCommand_",
      "yt-music-language-selection-form-binder-command": "handleMusicLanguageSelectionFormBinderCommand_"
    },
    stampDom: {
      "data.items": {
        id: "items",
        mapping: {
          musicMultiselectFormItemRenderer: {
            component: "ytmusic-multiselect-form-item-renderer",
            noInjection: !0
          }
        }
      }
    },
    handleMusicBrowseFormBinderCommand_: function(a) {
      this.get("musicBrowseFormBinderCommand.browseEndpoint", a) && (a.musicBrowseFormBinderCommand.browseEndpoint.formData = {
        selectedValues: Array.from(this.selectedItems),
        impressionValues: Array.from(this.displayedItems)
      }, a.musicBrowseFormBinderCommand.clickTrackingParams = a.clickTrackingParams, a = Zx(a.musicBrowseFormBinderCommand), this.navigator_.navigate(a))
    },
    handleMusicLanguageSelectionFormBinderCommand_: function(a) {
      var b = a.musicLanguageSelectionFormBinderCommand;
      b && b.setSettingEndpoint && (b.setSettingEndpoint.stringValue = Array.from(this.selectedItems).join(","), b.clickTrackingParams = a.clickTrackingParams, this.sendServiceRequestAction([b]))
    },
    selectedItemsChanged: function() {
      this.set("data.proceedButton.buttonRenderer.isDisabled", this.selectedItems.size < this.data.minNumRequiredSelections)
    }
  });
  Polymer({
    is: "ytmusic-tastebuilder-item-renderer",
    behaviors: [W.YtRendererBehavior, hB.YtmusicSelectableItemBehavior],
    properties: {
      noTransition: {
        type: Boolean,
        reflectToAttribute: !0
      }
    },
    getThumbnailWidth_: function() {
      return 280
    }
  });
  Polymer({
    is: "ytmusic-tastebuilder-renderer",
    behaviors: [V.YtRendererStamperBehavior, xB, aB, nB, W.YtRendererBehavior],
    listeners: {
      "ytmusic-selectable-item-clicked": "onTastebuilderItemClicked_"
    },
    properties: {
      autoFill: {
        type: Boolean,
        value: !0
      },
      itemLists: {
        type: Array,
        computed: "computeItemLists_(data)",
        observer: "itemListsChanged"
      },
      renderedItems: Array,
      rowSize: {
        type: Number,
        value: 6,
        computed: "computeRowSize_(viewportSize)"
      },
      viewportSize: {
        type: Number,
        statePath: JA
      }
    },
    itemsPath: "renderedItems",
    stampDom: {
      shownItems: {
        id: "items",
        mapping: {
          tastebuilderItemRenderer: {
            component: "ytmusic-tastebuilder-item-renderer"
          }
        }
      }
    },
    created: function() {
      this.itemToListIndex_ = new Map;
      this.totalRemainingItems_ = this.currentListIndex_ = 0
    },
    attached: function() {
      var a = this;
      (new IntersectionObserver(function() {
        return a.appendItems_(3 * a.rowSize)
      }, {
        rootMargin: "650px",
        threshold: 0
      })).observe(this.$["intersection-target"])
    },
    onSubmit: function() {
      this.data.acceptButton.buttonRenderer.navigationEndpoint.browseEndpoint.formData = {
        selectedValues: Array.from(this.selectedItems),
        impressionValues: Array.from(this.displayedItems)
      }
    },
    computeItemLists_: function(a) {
      return a.contents.map(function(b) {
        return b.tastebuilderItemListRenderer.contents.slice()
      })
    },
    computeRowSize_: function(a) {
      return -1 > a ? 3 : 6
    },
    itemListsChanged: function() {
      this.currentListIndex = 0;
      this.totalRemainingItems = this.itemLists.reduce(function(b, c) {
        return b + c.length
      }, 0);
      this.renderedItems = [];
      var a = this.get("data.contents.0.tastebuilderItemListRenderer.collapsedItemCount") || 3;
      this.appendItems_(a * this.itemLists.length)
    },
    onTastebuilderItemClicked_: function(a) {
      if (a.detail.isSelected) {
        var b = a.detail.selectionFormValue;
        a = this.itemToListIndex_.get(b);
        var c = this.itemLists[a];
        if (0 !== c.length) {
          var d = this.renderedItems.findIndex(function(k) {
            return k.tastebuilderItemRenderer.selectionFormValue == b
          });
          d = (Math.floor(d / this.rowSize) + 1) * this.rowSize;
          for (var e = []; e.length < this.rowSize && 0 < c.length;) {
            var g = c.shift(),
              h = this.get("tastebuilderItemRenderer.selectionFormValue", g);
            h && !this.itemToListIndex_.has(h) && (this.itemToListIndex_.set(h, a), e.push(g))
          }
          this.splice.apply(this, ["renderedItems", d, 0].concat(la(e)))
        }
      }
    },
    appendItems_: function(a) {
      for (var b = []; b.length < a && 0 < this.totalRemainingItems;) {
        var c = this.currentListIndex;
        this.currentListIndex = (this.currentListIndex + 1) % this.itemLists.length;
        var d = this.itemLists[c];
        if (d.length) {
          d = d.shift();
          this.totalRemainingItems--;
          var e = this.get("tastebuilderItemRenderer.selectionFormValue", d);
          e && !this.itemToListIndex_.has(e) && (this.itemToListIndex_.set(e, c), b.push(d))
        }
      }
      this.push.apply(this, ["renderedItems"].concat(la(b)))
    }
  });
  Polymer({
    is: "ytmusic-drop-files-dialog",
    hostAttributes: {
      dialog: !0
    },
    behaviors: [X.InjectBehavior],
    inject: {
      uploadController_: WA
    },
    created: function() {},
    ready: function() {
      var a = this;
      (new vo(this.$.dropzone)).listen("c", function(b) {
        a.handleDragAndDropFileSelect_(b)
      })
    },
    handleDragAndDropFileSelect_: function(a) {
      a = this.uploadController_.getFlattenedFileList(a.files, a.directories);
      this.uploadController_.uploadFiles(a)
    },
    getDropToUploadText_: function() {
      return T("DROP_FILES_TO_UPLOAD")
    }
  });
  Polymer({
    is: "ytmusic-upload-progression",
    hostAttributes: {
      dialog: !0
    },
    behaviors: [X.InjectBehavior, aB],
    inject: {
      jsMediaTags_: MA,
      uploadController_: WA
    },
    properties: {
      fileUploads: {
        type: Array,
        statePath: OA
      },
      numAllUploads: {
        type: Number,
        computed: "computeNumAllUploads_(fileUploads)"
      },
      numStartedOrFinishedUploads: {
        type: Number,
        computed: "computeNumStartedOrFinishedUploads_(fileUploads)"
      },
      inProgressFileUploads: {
        type: Array,
        statePath: QA
      },
      displayedUpload: {
        type: Object,
        computed: "computeDisplayedUpload_(inProgressFileUploads)",
        observer: "displayedUploadChanged_"
      },
      title: String,
      subtitle: String,
      thumbnail: String,
      progressText: {
        type: String,
        computed: "computeProgressText_(numAllUploads, numStartedOrFinishedUploads)"
      }
    },
    created: function() {},
    computeNumAllUploads_: function(a) {
      return a.length
    },
    computeNumStartedOrFinishedUploads_: function(a) {
      return a.length - this.getStateBySelector(PA).length
    },
    computeDisplayedUpload_: function(a) {
      return a[0]
    },
    computeProgressText_: function(a, b) {
      return T("UPLOADING_NUM_OF_TOTAL", {
        current: b,
        total: a
      })
    },
    displayedUploadChanged_: function(a, b) {
      var c = this;
      a && (b && b.id === a.id || this.jsMediaTags_.read(a.decoratedFile.file, {
        onSuccess: function(d) {
          c.title = (d.tags.title || a.decoratedFile.file.name).trim();
          c.subtitle = (d.tags.artist || "").trim();
          c.thumbnail = c.getThumbnailSrc_(d)
        },
        onError: function() {
          c.title = a.decoratedFile.file.name.trim();
          c.subtitle = "";
          c.thumbnail = M("DEFAULT_ALBUM_IMAGE_SRC", void 0)
        }
      }))
    },
    getThumbnailSrc_: function(a) {
      if ((a = a.tags.picture) && a.data) {
        for (var b = "", c = 0; c < a.data.length; c++) b += String.fromCharCode(a.data[c]);
        return "data:" + a.format + ";base64," + window.btoa(b)
      }
      return M("DEFAULT_ALBUM_IMAGE_SRC", void 0)
    },
    getStopButtonText_: function() {
      return T("STOP")
    },
    onStopButtonTap_: function() {
      this.uploadController_.cancelInProgressUploads();
      this.uploadController_.clearUnfinishedUploads()
    }
  });
  Polymer({
    is: "ytmusic-uploads-complete",
    hostAttributes: {
      dialog: !0
    },
    behaviors: [X.InjectBehavior, aB],
    inject: {
      jsMediaTags_: MA,
      navigator_: Xz,
      uploadController_: WA
    },
    properties: {
      thumbnails: {
        type: Array,
        value: function() {
          return []
        }
      },
      failedFileUploads: {
        type: Array,
        statePath: SA
      },
      hasFailedUploads: {
        type: Boolean,
        computed: "computeHasFailedUploads_(failedFileUploads)"
      },
      hasThumbnails: {
        type: Boolean,
        computed: "computeHasThumbnails_(thumbnails)"
      }
    },
    created: function() {},
    ready: function() {
      var a = this.getStateBySelector(RA);
      this.buildThumbnailCollage_(a)
    },
    computeHasFailedUploads_: function(a) {
      return 0 < a.length
    },
    computeHasThumbnails_: function(a) {
      return 0 < a.length
    },
    getSuccessfulUploadsText_: function() {
      return ms("SUCCESSFUL_UPLOADS", this.getStateBySelector(RA).length)
    },
    getFailedUploadsText_: function() {
      return ms("FAILED_UPLOADS", this.getStateBySelector(SA).length)
    },
    getLibraryButtontext_: function() {
      return T("GO_TO_LIBRARY")
    },
    getDoneButtontext_: function() {
      return T("DONE")
    },
    onLibraryButtonTap_: function() {
      this.uploadController_.clearUploads();
      var a = Zx({
          browseEndpoint: {
            browseId: "FEmusic_library_privately_owned_tracks"
          }
        }),
        b = Ar(65801);
      jx(b);
      a.clickTrackingVe = b;
      this.navigator_.navigate(a)
    },
    onDoneButtonTap_: function() {
      this.uploadController_.clearUploads()
    },
    buildThumbnailCollage_: function(a) {
      var b = this;
      a && (a = a.slice(0, Math.min(a.length, 100)).map(function(c) {
        return b.readTags_(c.decoratedFile.file)
      }), Promise.all(a).then(function(c) {
        c = b.mapPicturesToAlbums_(c);
        c = b.getThumbnailSrcs_(c);
        b.updateStyles({
          "--ytmusic-uploads-complete-num-thumbnails": c.length
        });
        b.thumbnails = c;
        requestAnimationFrame(function() {
          b.fire("ytmusic-dialog-refit")
        })
      }))
    },
    mapPicturesToAlbums_: function(a) {
      var b = new Map;
      a = y(a);
      for (var c = a.next(); !c.done; c = a.next()) c = c.value, c.tags.album && c.tags.picture && (b.has(c.tags.album) || b.set(c.tags.album, c.tags.picture));
      return b
    },
    getThumbnailSrcs_: function(a) {
      var b = [];
      a = y(a.values());
      for (var c = a.next(); !c.done && 6 != b.length; c = a.next()) c = c.value, c.data ? c = "data:" + c.format + ";base64," + Me(c.data) : (O(Error("Attempted to generate thumbnail src from picture without data")), c = ""), c && b.push(c);
      return b
    },
    readTags_: function(a) {
      var b = this;
      return new Promise(function(c, d) {
        b.jsMediaTags_.read(a, {
          onSuccess: c,
          onError: d
        })
      })
    }
  });
  Polymer({
    is: "yt-alert-renderer",
    properties: {
      data: Object
    }
  });
  Polymer({
    is: "ytmusic-browse-response",
    behaviors: [V.YtRendererStamperBehavior, W.YtRendererBehavior, X.InjectBehavior, sB, rB.YtmusicPageBehavior],
    properties: {
      sectionListRenderer_: {
        type: Object,
        computed: "computeSectionListRenderer_(data)"
      }
    },
    stampDom: {
      "data.header": {
        id: "header",
        mapping: {
          musicDataBoundHeaderRenderer: {
            component: "ytmusic-data-bound-header-renderer",
            noInjection: !0
          },
          musicDetailHeaderRenderer: {
            component: "ytmusic-detail-header-renderer",
            noInjection: !0
          },
          musicEditablePlaylistDetailHeaderRenderer: {
            component: "ytmusic-editable-playlist-detail-header-renderer",
            noInjection: !0
          },
          musicHeaderRenderer: {
            component: "ytmusic-header-renderer",
            noInjection: !0
          },
          musicImmersiveHeaderRenderer: "ytmusic-immersive-header-renderer"
        }
      },
      "data.alerts": {
        id: "alerts",
        mapping: {
          alertRenderer: {
            component: "yt-alert-renderer",
            noInjection: !0
          },
          unlimitedUserNotificationRenderer: {
            component: "yt-unlimited-user-notification-renderer",
            noInjection: !0
          }
        }
      },
      "data.contents": {
        id: "contents",
        mapping: {
          musicMultiselectFormRenderer: "ytmusic-multiselect-form-renderer",
          tastebuilderRenderer: {
            component: "ytmusic-tastebuilder-renderer",
            noInjection: !0
          }
        }
      }
    },
    ready: function() {
      this.continuationUrl = (new Jx).getInnertubePath()
    },
    computeImmersiveMode: function(a) {
      var b = !!this.get("data.header.musicImmersiveHeaderRenderer") || !!this.get("data.header.musicDetailHeaderRenderer") || !!this.get("data.header.musicEditablePlaylistDetailHeaderRenderer") || !!this.get("data.header.musicDataBoundHeaderRenderer");
      a = this.computeSectionListRenderer_(a);
      a = !!this.get("contents.0.musicImmersiveCarouselShelfRenderer", a);
      return b || a
    },
    computeSectionListRenderer_: function(a) {
      if (this.get("contents.singleColumnBrowseResultsRenderer", a)) return a = a.contents.singleColumnBrowseResultsRenderer.tabs, (a = 1 == a.length ? a[0] : a.find(function(b) {
        return !!b.tabRenderer.selected
      })) && a.tabRenderer.content && a.tabRenderer.content.sectionListRenderer || void 0
    }
  });
  Polymer({
    is: "ytmusic-playlist-form",
    behaviors: [V.YtBindingExpressionsBehavior, iB, mv.YtActionSenderBehavior, X.InjectBehavior],
    inject: {
      navigator_: Xz
    },
    properties: {
      data: {
        type: Object,
        observer: "dataChanged_"
      },
      isCreate: {
        type: Boolean,
        value: !1
      },
      titleInputValue_: {
        type: String,
        value: ""
      },
      descriptionInputValue_: {
        type: String,
        value: ""
      },
      selectedPrivacyStatus_: {
        type: Number,
        value: 0
      }
    },
    PRIVACY_STATUSES_: ["PUBLIC", "PRIVATE", "UNLISTED"],
    created: function() {},
    dataChanged_: function(a) {
      var b = this;
      if (!this.isCreate) {
        this.titleInputValue_ = a.title;
        this.descriptionInputValue_ = a.description;
        var c = this.PRIVACY_STATUSES_.findIndex(function(d) {
          return d == a.privacyStatus
        });
        this.selectedPrivacyStatus_ = -1 == c ? 0 : c
      }
      setTimeout(function() {
        return b.$["title-input"]._focusableElement.focus()
      })
    },
    getTitle_: function(a, b) {
      return !b && this.get("title", a) ? a.title : T("NEW_PLAYLIST")
    },
    getTitleInputLabel_: function(a, b) {
      a = this.get("titleInputLabel", a);
      return !b && a ? a : T("TITLE")
    },
    getDescriptionInputLabel_: function(a, b) {
      a = this.get("descriptionInputLabel", a);
      return !b && a ? a : T("DESCRIPTION")
    },
    getPrivacyStatuses_: function() {
      return this.PRIVACY_STATUSES_
    },
    getPrivacyStatusLabel_: function(a) {
      switch (a) {
        case "PUBLIC":
          return T("PUBLIC");
        case "PRIVATE":
          return T("PRIVATE");
        case "UNLISTED":
          return T("UNLISTED");
        default:
          return ""
      }
    },
    getPrivacyDropdownLabel_: function() {
      return T("PRIVACY")
    },
    onSubmitButtonTap_: function() {
      this.$["title-input"].validate() ? this.isCreate ? this.sendCreatePlaylistRequest_() : this.sendEditPlaylistRequest_() : this.$["title-input"].autoValidate = !0
    },
    sendCreatePlaylistRequest_: function() {
      var a = this;
      this.sendServiceRequestAction([{
        createPlaylistServiceEndpoint: {
          videoIds: this.data.videoIds,
          sourcePlaylistId: this.data.sourcePlaylistId
        }
      }, {
        title: this.titleInputValue_,
        description: this.descriptionInputValue_,
        privacyStatus: this.PRIVACY_STATUSES_[this.selectedPrivacyStatus_]
      }]).then(function() {
        a.fire("ytmusic-dialog-close", {
          dialogType: "createPlaylist"
        })
      }, function() {
        return a.openToast(T("ERROR"))
      })
    },
    sendEditPlaylistRequest_: function() {
      var a = this;
      this.sendServiceRequestAction([{
        playlistEditEndpoint: {
          playlistId: this.data.playlistId,
          actions: [{
            action: "ACTION_SET_PLAYLIST_NAME",
            playlistName: this.titleInputValue_
          }, {
            action: "ACTION_SET_PLAYLIST_DESCRIPTION",
            playlistDescription: this.descriptionInputValue_
          }, {
            action: "ACTION_SET_PLAYLIST_PRIVACY",
            playlistPrivacy: this.PRIVACY_STATUSES_[this.selectedPrivacyStatus_]
          }]
        }
      }]).then(function() {
          a.fire("ytmusic-dialog-close", {
            dialogType: "editPlaylist"
          });
          a.navigator_.refreshCurrentPage()
        },
        function() {
          return a.openToast(T("ERROR"))
        })
    }
  });
  var DB = {};
  Polymer({
    is: "ytmusic-dialog",
    behaviors: [Polymer.PaperDialogBehavior, Dv.ComponentBehavior, V.YtRendererStamperBehavior, wv.YtEndpointBehavior, X.InjectBehavior, aB],
    listeners: {
      "ytmusic-dialog-close": "handleClose_",
      "ytmusic-dialog-refit": "handleRefit_"
    },
    properties: {
      dialogData: Object,
      dialogType: {
        type: String,
        computed: "computeDialogType_(dialogData)",
        reflectToAttribute: !0
      },
      mainContentData_: {
        type: Object,
        statePath: Zz,
        observer: "mainContentDataChanged_"
      }
    },
    stampDom: {
      dialogData: {
        id: "content",
        mapping: (DB.createChannel = "ytmusic-channel-creation-form-renderer",
          DB.createPlaylist = {
            component: "ytmusic-playlist-form",
            params: {
              isCreate: !0
            }
          }, DB.editPlaylist = {
            component: "ytmusic-playlist-form",
            params: {
              isCreate: !1
            }
          }, DB.hotkey = {
            component: "ytmusic-hotkey-dialog-renderer",
            noInjection: !0
          }, DB.settings = {
            component: "ytmusic-settings-page",
            noInjection: !0
          }, DB.dropFiles = {
            component: "ytmusic-drop-files-dialog"
          }, DB.uploadProgression = {
            component: "ytmusic-upload-progression"
          }, DB.uploadsComplete = {
            component: "ytmusic-uploads-complete"
          }, DB)
      }
    },
    computeDialogType_: function(a) {
      if (a.dropFiles) return "dropFiles";
      if (a.uploadProgression) return "uploadProgression";
      if (a.uploadsComplete) return "uploadsComplete"
    },
    mainContentDataChanged_: function(a, b) {
      !b || a && a.endpoint == b.endpoint || this.close()
    },
    handleClose_: function(a) {
      a.detail.dialogType && !this.dialogData[a.detail.dialogType] || this.close()
    },
    handleRefit_: function() {
      this.refit()
    }
  });
  var EB = {};
  EB.YtCancelRecurrenceBehavior = [Dv.ComponentBehavior, {
      ypcCancelRecurrenceHandler: function(a, b) {
        var c = this;
        if (b.ypcCancelRecurrenceEndpoint && b.ypcCancelRecurrenceEndpoint.params) {
          var d = this.getInterface(At);
          d ? d.requestDataForServiceEndpoint(b).then(function(e) {
            c.ypcCancelRecurrenceSuccess_(a, b, e)
          }, function(e) {
            c.ypcCancelRecurrenceFailure_(a, b, e)
          }).thenCatch(function() {
            O(Error("Error occurred in ypc cancel recurrence response handling."))
          }) : O(Error("Network Manager not initialized"))
        }
      },
      ypcCancelRecurrenceSuccess_: function(a, b, c) {
        c.data || (c = {
          data: c
        });
        c.data && c.data.actions && this.sendInnerTubeActions(c.data.actions, this);
        c.data.messageRenderer ? gv("YPC_ERROR_REASON_YPC_CANCEL_RECURRENCE_TRANSACTION_FAILURE", b.ypcCancelRecurrenceEndpoint.serializedYpcCancelFlowLoggingParams) : (b = b.ypcCancelRecurrenceEndpoint.serializedYpcCancelFlowLoggingParams) && bv("ypcCancelFlowSucceeded", "serializedYpcCancelFlowLoggingParams", b);
        a.fire("yt-service-request-completed", c)
      },
      ypcCancelRecurrenceFailure_: function(a, b, c) {
        gv("YPC_ERROR_REASON_YPC_CANCEL_RECURRENCE_TRANSACTION_FAILURE", b.ypcCancelRecurrenceEndpoint.serializedYpcCancelFlowLoggingParams);
        a.fire("yt-service-request-error", {
          error: c,
          params: [a, b]
        })
      }
    },
    mv.YtActionSenderBehavior
  ];
  var FB = function(a, b) {
    db.call(this, b);
    this.errorSupportedRenderers = a
  };
  K(FB, Ew);
  var GB = {};
  GB.YtCompleteTransactionBehavior = [Dv.ComponentBehavior, {
      completeTransaction: function(a, b) {
        var c = this;
        b = {
          payments_payload: window.btoa(b.integratorData),
          buybucket_params: a.data.buybucketParams,
          offer_params: a.data.offerParams
        };
        var d = this.getInterface(At),
          e = a.data.completeTransactionEndpoint,
          g = this.get("ypcCompleteTransactionEndpoint.actions", e);
        g && this.sendInnerTubeActions(g, this);
        return d.requestDataForServiceEndpoint(e, b).then(this.handleCompleteTransactionSuccess_, function() {
          return c.handleCompleteTransactionFailure_(a)
        })
      },
      handleCompleteTransactionSuccess_: function(a) {
        a.data || (a = {
          data: a
        });
        if (a.data.messageRenderer) return qh(new FB(a.data.messageRenderer));
        if (a.data.trackingParams) {
          var b = fs(),
            c = es();
          b && c && Er(sr, b, c, [xr(a.data.trackingParams)], void 0)
        }
        return ph(a)
      },
      handleCompleteTransactionFailure_: function(a) {
        a = this.get("data.serializedTransactionFlowLoggingParams", a);
        fv("TRANSACTION_ERROR_TYPE_YPC_COMPLETE_TRANSACTION_RPC_FAILURE", a);
        return qh(new lv("TRANSACTION_ERROR_TYPE_YPC_COMPLETE_TRANSACTION_RPC_FAILURE", a))
      },
      ypcCompleteTransactionHandler: function(a, b) {
        var c = this;
        b.ypcCompleteTransactionEndpoint && b.ypcCompleteTransactionEndpoint.gtmData && kv(b.ypcCompleteTransactionEndpoint.gtmData);
        var d = this.getInterface(At);
        d && d.requestDataForServiceEndpoint(b).then(function(e) {
          a.fire("yt-service-request-completed");
          c.ypcCompleteTransactionSuccess_(b, e)
        }, function() {
          return c.ypcCompleteTransactionFailure_(b)
        })
      },
      ypcCompleteTransactionSuccess_: function(a, b) {
        b.data || (b = {
          data: b
        });
        b.data.messageRenderer ? this.ypcCompleteTransactionFailure_(a) : (kv('{"event": "purchased", "purchaseStatus": "success"}'), this.logTransactionEvent_("transactionFlowSucceeded", a));
        b.data.actions && this.sendInnerTubeActions(b.data.actions, this)
      },
      ypcCompleteTransactionFailure_: function(a) {
        this.logTransactionEvent_("transactionFlowFailed", a, "TRANSACTION_ERROR_TYPE_YPC_COMPLETE_TRANSACTION_RPC_FAILURE")
      },
      logTransactionEvent_: function(a, b, c) {
        if (b = this.get("ypcCompleteTransactionEndpoint.serializedTransactionFlowLoggingParams", b)) b = {
          serializedTransactionFlowLoggingParams: b
        }, c && (b.errorType = c), tr(a, b), ur(), Zq()
      }
    },
    mv.YtActionSenderBehavior
  ];
  var HB = {};
  HB.YtWalletPaymentBehavior = [{
      openWalletDialog: function(a, b, c) {
        var d = vh();
        a = a.replace(/-/g, "+").replace(/_/g, "/");
        var e = Gt.getInstance().get("hl");
        iv.getInstance().openBuyDialog(a, d.resolve, void 0, d.reject, void 0, e, void 0, b ? this.onServerBackendAnalyticEvent_.bind(this, b) : void 0, this.onDialogClose_.bind(this), void 0, c);
        return d.promise
      },
      openFixFlowDialog: function(a, b, c) {
        a = a.replace(/-/g, "+").replace(/_/g, "/");
        iv.getInstance().openFixFlowDialog(a, b, void 0, c)
      },
      onDialogClose_: function() {
        this.sendAction("yt-wallet-dialog-closed")
      },
      onServerBackendAnalyticEvent_: function(a, b) {
        this.sendServiceRequestAction([a, {
          backend_analytics: b
        }])
      }
    },
    mv.YtActionSenderBehavior
  ];
  var JB = function(a, b, c, d) {
    var e = Ss(At);
    e && e.requestDataForServiceEndpoint(c, d).then(function(g) {
      var h = new CustomEvent("yt-service-request-completed", {
        bubbles: !0,
        cancelable: !1,
        composed: !0,
        detail: g
      });
      b.dispatchEvent(h);
      g.code && "ERROR" == g.code ? IB(c) : ((g = g.data.commands) && ot(a, g, b), (g = c.ypcPauseSubscriptionCommand.serializedYpcPauseFlowLoggingParams) && g && bv("ypcPauseFlowSucceeded", "serializedYpcPauseFlowLoggingParams", g))
    }, function() {
      return IB(c)
    })
  };

  function IB(a) {
    (a = a.ypcPauseSubscriptionCommand.serializedYpcPauseFlowLoggingParams) && a && bv("ypcPauseFlowFailed", "serializedYpcPauseFlowLoggingParams", a, void 0, "YPC_ERROR_REASON_INNERTUBE_RESPONSE_FAILURE")
  };
  var LB = function(a, b, c) {
    var d = Ss(At);
    d && d.requestDataForServiceEndpoint(c).then(function(e) {
      var g = new CustomEvent("yt-service-request-completed", {
        bubbles: !0,
        cancelable: !1,
        composed: !0,
        detail: e
      });
      b.dispatchEvent(g);
      e.code && "ERROR" == e.code ? KB(c) : ((e = e.data.commands) && ot(a, e, b), (e = c.ypcResumeSubscriptionCommand.serializedYpcResumeFlowLoggingParams) && e && bv("ypcResumeFlowSucceeded", "serializedYpcResumeFlowLoggingParams", e))
    }, function() {
      return KB(c)
    })
  };

  function KB(a) {
    (a = a.ypcResumeSubscriptionCommand.serializedYpcResumeFlowLoggingParams) && a && bv("ypcResumeFlowFailed", "serializedYpcResumeFlowLoggingParams", a, void 0, "YPC_ERROR_REASON_INNERTUBE_RESPONSE_FAILURE")
  };
  var MB = {};
  MB.YtEndpointHandlerWithYpcBehavior = [ov.YtEndpointHandlerBehavior, {
      listeners: {
        "yt-service-request-completed": "onGetCartServiceRequestCompleted_"
      },
      created: function() {
        this.buyFlowActionMap_ = {
          "yt-wallet-dialog-closed": "handleWalletDialogCloseEvent_"
        };
        this.ypcRegisterActionMapJobId_ = 0;
        this.registerServiceEndpointHandler(this.handleYPCEndpoint.bind(this))
      },
      attached: function() {
        var a = this;
        this.ypcRegisterActionMapJobId_ = S.addIdlePriorityJob(function() {
          a.registerActionMap(a.buyFlowActionMap_)
        })
      },
      detached: function() {
        var a = this;
        S.cancelJob(this.ypcRegisterActionMapJobId_);
        S.addIdlePriorityJob(function() {
          a.unregisterActionMap(a.buyFlowActionMap_)
        })
      },
      handleYPCEndpoint: function(a, b, c) {
        var d = b.ypcGetCartEndpoint;
        if (d) {
          var e = d.gtmId;
          e && jv(e);
          (d = d.gtmData) && kv(d)
        }
        return null != this.get("ypcGetCartEndpoint.prefetchConfig.ypcGetCartPrefetchResponseDataConfig.encryptedPurchaseParams", b) ? (this.handleYPCGetCartEndpointWithPrefetch_(a, b), !0) : null != this.get("ypcFixInstrumentEndpoint.encryptedFixInstrumentParameters", b) ? (this.handleYPCFixInstrumentEndpoint_(b), !0) : b.ypcCompleteTransactionEndpoint && b.ypcCompleteTransactionEndpoint.transactionParams ? (this.ypcCompleteTransactionHandler(a,
          b), !0) : b.ypcCancelRecurrenceEndpoint && b.ypcCancelRecurrenceEndpoint.params ? (this.ypcCancelRecurrenceHandler(a, b), !0) : P("enable_premium_voluntary_pause") && b.ypcPauseSubscriptionCommand ? (JB(this, a, b, c), !0) : P("enable_premium_voluntary_pause") && b.ypcResumeSubscriptionCommand ? (LB(this, a, b), !0) : !1
      },
      handleYPCGetCartEndpointWithPrefetch_: function(a, b) {
        var c = this,
          d = b.ypcGetCartEndpoint;
        b = d.prefetchConfig.ypcGetCartPrefetchResponseDataConfig;
        var e = b.encryptedPurchaseParams;
        d = d.offerParams;
        var g = b.completeTransactionEndpoint,
          h = b.serializedTransactionFlowLoggingParams,
          k = {
            data: {
              offerParams: window.btoa(d),
              completeTransactionEndpoint: g,
              serializedTransactionFlowLoggingParams: h
            }
          };
        tr("buyFlowStarted", {
          offerParams: d
        });
        this.openWalletDialog(e, b.ypcLogWalletAnalyticDataEndpoint, h).then(function(m) {
          return c.handleBuyFlowCompleteCallback_(k,
            m)
        }, function() {
          return c.handleOnLoadError(k)
        }).then(function(m) {
          return c.handlePostPurchaseSuccess_(a, k, m)
        }, function(m) {
          return c.handlePostPurchaseError_(m)
        })
      },
      onGetCartServiceRequestCompleted_: function(a, b) {
        var c = this;
        if (b && b.data && b.data.messageRenderer) this.handleMessageRenderer_(b.data.messageRenderer);
        else {
          var d = this.get("data.offerParams", b),
            e = this.get("data.encryptedPurchaseParams", b),
            g = this.get("data.upgradeDialogRenderer.ypcUpgradeDialogRenderer", b),
            h = this.get("data.ypcLogWalletAnalyticDataEndpoint", b);
          if (e || g)
            if (a.stopPropagation(), g) this.sendAction("yt-open-popup-action", [{
              openPopupAction: {
                popupType: M("openPopupConfig").popupTypeMap.ypcUpgradeDialogRenderer,
                popup: {
                  ypcUpgradeDialogRenderer: g
                }
              }
            }, this]);
            else {
              d && tr("buyFlowStarted", {
                offerParams: d
              });
              d = this.getLoggingParams_(b);
              e = this.openWalletDialog(e, h, d);
              var k = a.target;
              e.then(function(m) {
                return c.handleBuyFlowCompleteCallback_(b, m)
              }, function() {
                return c.handleOnLoadError(b)
              }).then(function(m) {
                return c.handlePostPurchaseSuccess_(k, b, m)
              }, function(m) {
                return c.handlePostPurchaseError_(m)
              })
            }
        }
      },
      handleBuyFlowCompleteCallback_: function(a, b) {
        var c = b.integratorData;
        return null == c || "" === c || null != b.error ? (a = this.getLoggingParams_(a), qh(new lv("TRANSACTION_ERROR_TYPE_YPC_BUYFLOW_COMPLETE_FAILURE", a))) : this.completeTransaction(a, b)
      },
      handlePostPurchaseSuccess_: function(a, b, c) {
        (b = this.getLoggingParams_(b)) && bv("transactionFlowSucceeded", "serializedTransactionFlowLoggingParams", b);
        (b = c.data) && b.gtmDatas && b.gtmDatas.length ? kv(b.gtmDatas[0]) : kv('{"event": "purchased", "purchaseStatus": "success"}');
        c.data && c.data.actions && this.sendInnerTubeActions(c.data.actions, a)
      },
      handlePostPurchaseError_: function() {
        O(Error("Error occurred during buyflow."))
      },
      handleOnLoadError: function(a) {
        a = this.getLoggingParams_(a);
        return qh(new lv("TRANSACTION_ERROR_TYPE_LOAD_FAILURE", a))
      },
      getLoggingParams_: function(a) {
        return this.get("data.serializedTransactionFlowLoggingParams", a)
      },
      handleWalletDialogCloseEvent_: function() {},
      handleMessageRenderer_: function(a) {
        var b = et(a, "renderer"),
          c = M("openPopupConfig");
        "confirmDialogRenderer" === b && c && this.sendAction("yt-open-popup-action", [{
          openPopupAction: {
            popupType: c.popupTypeMap[b],
            popup: a
          }
        }, this])
      },
      handleYPCFixInstrumentEndpoint_: function(a) {
        var b = this,
          c = a.ypcFixInstrumentEndpoint;
        a = c.encryptedFixInstrumentParameters;
        this.logFixFopEvent_(c, "FIX_FOP_EVENT_TYPE_START");
        this.openFixFlowDialog(a, function(d, e) {
          b.onFixFlowCompleteCallback_(c, d, e)
        }, function() {
          b.logFixFopEvent_(c, "FIX_FOP_EVENT_TYPE_FAILURE", "FIX_FOP_ERROR_TYPE_LOAD_FAILURE")
        })
      },
      onFixFlowCompleteCallback_: function(a, b, c) {
        var d = G("payments.business.integration.scenario.FixInstrument");
        if (b == d.IntegratorCallbackType.ON_COMPLETE) {
          b = "FIX_FOP_EVENT_TYPE_CANCEL";
          var e = null;
          null != c.error ? c.error != d.OnCompleteCallbackError.USER_CANCELLED && (this.sendInnerTubeActions([a.errorAction], this), b = "FIX_FOP_EVENT_TYPE_FAILURE", e = "FIX_FOP_ERROR_TYPE_UNSPECIFIED") : (this.sendInnerTubeActions([a.successAction], this), b = "FIX_FOP_EVENT_TYPE_SUCCESS");
          this.logFixFopEvent_(a, b, e)
        }
      },
      logFixFopEvent_: function(a, b, c) {
        (a = a.serializedFixFopLoggingParams) ? (b = {
          eventType: b,
          serializedFixFopLoggingParams: a
        }, null != c && (b.errorType = c), tr("fixFopFlow", b), ur(), Zq()) : O(Error("Fix Fop Logging params not provided."))
      }
    },
    EB.YtCancelRecurrenceBehavior, GB.YtCompleteTransactionBehavior, nv.YtActionHandlerBehavior, mv.YtActionSenderBehavior, HB.YtWalletPaymentBehavior, uv.YtOpenPopupBehavior
  ];
  var NB = {};
  NB.YtFeedbackCollectorBehavior = [nv.YtActionHandlerBehavior, {
    _noAccessors: !0,
    created: function() {
      this.feedbackCollectorActionMap_ = {
        "yt-help-dialog-requested": "handleHelpDialogRequested_",
        "yt-feedback-dialog-requested": "handleFeedbackDialogRequested_",
        "yt-signal-action-help": "handleSignalActionHelp_",
        "yt-signal-action-send-feedback": "handleSignalActionSendFeedback_",
        "yt-send-feedback-action": "handleSendFeedbackAction_",
        "yt-user-feedback-endpoint": "handleUserFeedbackEndpoint_"
      }
    },
    attached: function() {
      this.registerActionMap(this.feedbackCollectorActionMap_)
    },
    detached: function() {
      this.unregisterActionMap(this.feedbackCollectorActionMap_)
    },
    handleFeedbackDialogRequested_: function(a) {
      a = void 0 === a ? {} : a;
      this.getInterface(cA).showFeedbackDialog(a.customProductData, a.feedbackContent, a.onFeedbackSubmitted, a.bucket)
    },
    handleHelpDialogRequested_: function(a) {
      a = void 0 === a ? {} : a;
      this.getInterface(cA).showHelpDialog(a.helpContext, a.articleId, a.productData)
    },
    handleSignalActionHelp_: function() {
      this.handleHelpDialogRequested_()
    },
    handleSignalActionSendFeedback_: function() {
      this.handleFeedbackDialogRequested_()
    },
    handleSendFeedbackAction_: function(a, b, c) {
      a.sendFeedbackAction && a.sendFeedbackAction.productId ? Lo({
        productId: a.sendFeedbackAction.productId,
        bucket: a.sendFeedbackAction.bucket,
        enableAnonymousFeedback: !0,
        allowNonLoggedInFeedback: !0
      }, {
        feedbackChoice: c.feedbackChoice
      }) : this.handleFeedbackDialogRequested_({
        bucket: a.sendFeedbackAction.bucket
      })
    },
    handleUserFeedbackEndpoint_: function(a) {
      if (a.userFeedbackEndpoint) {
        a = a.userFeedbackEndpoint;
        var b = {
          bucket: a.bucketIdentifier
        };
        a.additionalDatas && (b.customProductData = {}, a.additionalDatas.forEach(function(c) {
          if (c = c.userFeedbackEndpointProductSpecificValueData) b.customProductData[c.key] = c.value
        }));
        this.handleFeedbackDialogRequested_(b)
      }
    }
  }];
  uB.YtLogYpcFlowCommandsBehavior = [
    [nv.YtActionHandlerBehavior, {
      created: function() {
        this.logFlowCommandsMap_ = {
          "yt-log-ypc-flow-start-command": "handleLogYpcFlowStart_",
          "yt-log-ypc-flow-dismiss-command": "handleLogYpcFlowDismiss_"
        }
      },
      attached: function() {
        this.registerActionMap(this.logFlowCommandsMap_)
      },
      detached: function() {
        this.unregisterActionMap(this.logFlowCommandsMap_)
      },
      handleLogYpcFlowStart_: function(a) {
        a.logYpcFlowStartCommand && a.logYpcFlowStartCommand && (a = a.logYpcFlowStartCommand, a.serializedTransactionFlowLoggingParams ? dv(a.serializedTransactionFlowLoggingParams) : a.serializedYpcCancelFlowLoggingParams ? (a = a.serializedYpcCancelFlowLoggingParams) && bv("ypcCancelFlowStarted", "serializedYpcCancelFlowLoggingParams", a) : a.serializedYpcResumeFlowLoggingParams ? (a = a.serializedYpcResumeFlowLoggingParams) && bv("ypcResumeFlowStarted", "serializedYpcResumeFlowLoggingParams", a) :
          a.serializedYpcPauseFlowLoggingParams && (a = a.serializedYpcPauseFlowLoggingParams) && bv("ypcPauseFlowStarted", "serializedYpcPauseFlowLoggingParams", a))
      },
      handleLogYpcFlowDismiss_: function(a) {
        a.logYpcFlowDismissCommand && (a = a.logYpcFlowDismissCommand, a.serializedTransactionFlowLoggingParams ? ev(a.serializedTransactionFlowLoggingParams) : a.serializedYpcCancelFlowLoggingParams ? (a = a.serializedYpcCancelFlowLoggingParams) && bv("ypcCancelFlowCancelled", "serializedYpcCancelFlowLoggingParams", a) : a.serializedYpcResumeFlowLoggingParams ? (a = a.serializedYpcResumeFlowLoggingParams) && bv("ypcResumeFlowCancelled", "serializedYpcResumeFlowLoggingParams", a) : a.serializedYpcPauseFlowLoggingParams &&
          (a = a.serializedYpcPauseFlowLoggingParams) && bv("ypcPauseFlowCancelled", "serializedYpcPauseFlowLoggingParams", a))
      }
    }]
  ];
  var OB = function() {};
  OB.prototype.start = function() {};
  OB.prototype.finish = function() {};
  F("yt.logging.errors.log", Kq, void 0);
  hb(M("ERRORS") || [], function(a) {
    Kq.apply(null, a)
  });
  Ld("ERRORS", []);
  window.onerror = function(a, b, c, d, e) {
    var g = !1,
      h = Nd("log_window_onerror_fraction");
    if (h && Math.random() < h) g = !0;
    else {
      h = document.getElementsByTagName("script");
      for (var k = 0, m = h.length; k < m; k++)
        if (0 < h[k].src.indexOf("/debug-")) {
          g = !0;
          break
        }
    }
    g && (e || (Ga(a) ? g = a : ErrorEvent && a instanceof ErrorEvent ? (g = a.message, b = a.filename, c = a.lineno, d = a.colno) : (g = "Unknown error", b = "Unknown file", c = 0), e = Sd(g, "UnhandledWindowError"), e.message = g, e.fileName = b, e.lineNumber = c, isNaN(d) ? delete e.columnNumber : e.columnNumber = d), O(e))
  };
  window.Polymer && !window.Polymer.Element && Od && vt();
  Ah = Rd;
  window.addEventListener("unhandledrejection", function(a) {
    Rd(a.reason)
  });
  Polymer({
    is: "yt-activity-manager",
    provides: qB,
    behaviors: [Dv.ComponentBehavior, mv.YtActionSenderBehavior],
    factoryImpl: function() {},
    created: function() {
      fr();
      F("ytglobal.ytUtilActivityCallback_", this.sendOptionalAction.bind(this, "yt-user-activity"), void 0);
      this.eventJobIds_ = Object.create(null);
      this.WAIT_FOR_SCROLL_EVENT_DURATION_ = 500;
      this.scrollEventsToIgnore_ = 0;
      this.stopIgnoringScrollTimeoutIds_ = [];
      new Bq(this.onMouseMove_.bind(this));
      this.listen(document, "scroll", "onScroll_");
      this.listen(window, "resize", "onResize_")
    },
    setTimestampAfterDelay_: function(a, b) {
      a in this.eventJobIds_ || (b = S.addLowPriorityJob(this.setTimestampAndClearJob_.bind(this, a), b), this.eventJobIds_[a] = b)
    },
    setTimestampAndClearJob_: function(a) {
      gr();
      delete this.eventJobIds_[a]
    },
    onScroll_: function(a) {
      0 < this.scrollEventsToIgnore_ ? this.stopIgnoringScroll_() : a.target == document && this.setTimestampAfterDelay_("scroll", 200)
    },
    onResize_: function() {
      this.setTimestampAfterDelay_("resize", 200)
    },
    onMouseMove_: function() {
      this.setTimestampAfterDelay_("mousemove", 100)
    },
    stopIgnoringScroll_: function(a) {
      this.scrollEventsToIgnore_--;
      a || clearTimeout(this.stopIgnoringScrollTimeoutIds_.pop())
    },
    getTimeSinceActive: function() {
      return ir()
    },
    ignoreNextScroll: function() {
      this.scrollEventsToIgnore_ += 1;
      this.stopIgnoringScrollTimeoutIds_.push(setTimeout(this.stopIgnoringScroll_.bind(this, !0), this.WAIT_FOR_SCROLL_EVENT_DURATION_))
    }
  });
  Polymer({
    is: "yt-create-family-dialog",
    APP_IDS: {
      ytr: 3,
      ytm: 5
    },
    behaviors: [nv.YtActionHandlerBehavior],
    properties: {
      isMobile: {
        type: Boolean,
        reflectToAttribute: !0
      },
      onReadyCallback_: Function,
      observer_: Object
    },
    actionMap: {
      "yt-open-create-family-dialog": "open"
    },
    created: function() {
      this.timeoutId_ = 0;
      Polymer.IronOverlayManager.ensureMinimumZ(2200)
    },
    detached: function() {
      this.observer_ && this.observer_.disconnect()
    },
    open: function(a, b) {
      var c = a.serializedYpcFamilyCreateLoggingParams;
      this.timeoutId_ = setTimeout(this.abort_.bind(this, a.postFlowErrorEndpoint, c), 3E4);
      b && (this.onReadyCallback_ = b);
      var d = this.$["unicorn-iframe"];
      c && c && cv("ypcFamilyCreateFlowStarted", c);
      Gq("family_creation", function() {
        var e = G("gapi.family_creation.render");
        G("gapi.config.update")("iframes/family_creation/url", this.getFamilyCreationUrlWithUnicornParams_());
        var g = 3;
        a.appId && a.appId in this.APP_IDS && (g = this.APP_IDS[a.appId]);
        e(d, {
          authUser: M("SESSION_INDEX") ||
            0,
          clientId: g,
          darkmode: document.documentElement.hasAttribute("dark") ? 1 : 0,
          hl: M("HL", void 0),
          initialflow: [4, 5, 6, 7],
          m: this.isMobile ? 1 : 0,
          onFlowComplete: this.onUnicornFlowComplete_.bind(this, a.postFlowSuccessEndpoint, c),
          onError: this.onUnicornFlowError_.bind(this, a.postFlowErrorEndpoint, c),
          onReady: this.onUnicornFlowReady_.bind(this, a.referencePcidParams)
        })
      }.bind(this))
    },
    close: function() {
      this.$.dialog.close();
      this.observer_ && this.observer_.disconnect()
    },
    onUnicornFlowComplete_: function(a, b) {
      this.close();
      b && b && cv("ypcFamilyCreateFlowSucceeded", b, void 0, void 0, void 0);
      this.fire("yt-navigate", {
        endpoint: a
      })
    },
    onUnicornFlowError_: function(a, b) {
      this.close();
      b && cv("ypcFamilyCreateFlowCancelled", b);
      this.fire("yt-navigate", {
        endpoint: a
      })
    },
    onUnicornFlowReady_: function(a) {
      this.clearTimeout_();
      if (this.onReadyCallback_) this.onReadyCallback_();
      a && G("gapi.family_creation.setConfig")(0, a);
      this.observer_ = new MutationObserver(function() {
        this.$.dialog.fit()
      }.bind(this));
      this.observer_.observe(this.$["unicorn-iframe"].querySelector("iframe"), {
        atttributes: !0,
        attributeFilter: ["style"]
      });
      this.$.dialog.open()
    },
    getFamilyCreationUrlWithUnicornParams_: function() {
      return M("YTR_FAMILY_CREATION_URL", void 0)
    },
    getCurrentUrl_: function() {
      return document.location.href
    },
    abort_: function(a, b) {
      this.clearTimeout_();
      this.onUnicornFlowError_(a, b)
    },
    clearTimeout_: function() {
      clearTimeout(this.timeoutId_)
    }
  });
  Polymer({
    is: "yt-page-navigation-progress",
    provides: OB,
    behaviors: [Dv.ComponentBehavior],
    factoryImpl: function() {},
    STEP: 1,
    BLOCK_ON: 80,
    MIN_PROGESS: 0,
    MAX_PROGESS: 100,
    created: function() {
      this.boundNextProgress_ = this.nextProgress_.bind(this)
    },
    ready: function() {
      this.progress_ = this.MIN_PROGESS;
      this.hidden = !0;
      this.setAttribute("aria-valuemin", this.MIN_PROGESS);
      this.setAttribute("aria-valuemax", this.MAX_PROGESS)
    },
    set progress(a) {
      this.progress_ = a;
      var b = "scaleX(" + a / this.MAX_PROGESS + ")",
        c = this.$.progress.style;
      c.transform = b;
      c.webkitTransform = b;
      this.setAttribute("aria-valuenow", a)
    },
    get progress() {
      return this.progress_
    },
    start: function() {
      this.progress = this.MIN_PROGESS;
      this.hidden = !1;
      window.requestAnimationFrame(this.boundNextProgress_)
    },
    finish: function() {
      this.progress = this.MAX_PROGESS;
      this.asyncFrame(function() {
        this.progress == this.MAX_PROGESS && (this.hidden = !0)
      }.bind(this), 80)
    },
    nextProgress_: function() {
      this.progress >= this.BLOCK_ON || (this.progress += this.STEP, window.requestAnimationFrame(this.boundNextProgress_))
    }
  });
  var PB = by();
  ax("DISPLAY_CONFIG");
  ax("HOTKEY_DIALOG");
  Ld("openPopupConfig", Zw);
  try {
    var QB = PB.isModalEndpoint() ? ay() : PB;
    QB.clickTrackingVe = fx;
    ix(QB);
    js.getInstance().newScreen()
  } catch (a) {
    O(Error("Failed to graft screen during app init for endpoint: " + JSON.stringify(PB)))
  }
  Polymer({
    is: "ytmusic-app",
    behaviors: [gB.LoggableBehavior, iB, nv.YtActionHandlerBehavior, {
        _noAccessors: !0,
        actionRouterIsRoot: !1,
        created: function() {
          this.actionRouter_ = lt.getInstance();
          this.actionRouterNode = this.actionRouterIsRoot ? document : this;
          this.onYtActionBoundListener_ = this.onYtAction_.bind(this);
          this.onYtRegisterActionBoundListener_ = this.onYtRegisterAction_.bind(this);
          this.actionRouterListenersRegistered_ = !1;
          this.onYtUnregisterActionBoundListener_ = this.onYtUnregisterAction_.bind(this);
          this.registerActionRouterEventListeners_()
        },
        attached: function() {
          this.registerActionRouterEventListeners_()
        },
        detached: function() {
          this.unregisterActionRouterEventListeners_()
        },
        registerActionRouterEventListeners_: function() {
          this.actionRouterListenersRegistered_ || (this.actionRouterListenersRegistered_ = !0, document.addEventListener("yt-unregister-action", this.onYtUnregisterActionBoundListener_), this.actionRouterNode.addEventListener("yt-action", this.onYtActionBoundListener_), this.actionRouterNode.addEventListener("yt-register-action", this.onYtRegisterActionBoundListener_))
        },
        unregisterActionRouterEventListeners_: function() {
          this.actionRouterListenersRegistered_ = !1;
          document.removeEventListener("yt-unregister-action", this.onYtUnregisterActionBoundListener_);
          this.actionRouterNode.removeEventListener("yt-action", this.onYtActionBoundListener_);
          this.actionRouterNode.removeEventListener("yt-register-action", this.onYtRegisterActionBoundListener_)
        },
        onYtAction_: function(a) {
          this.actionRouter_.handleAction(a.detail)
        },
        onYtRegisterAction_: function(a) {
          a = a.detail;
          var b = this.actionRouter_.actionRoutingMap.get(a.actionName);
          b || (b = new Map, this.actionRouter_.actionRoutingMap.set(a.actionName, b));
          b.set(a.context, Pd(a.handler.bind(a.context)))
        },
        onYtUnregisterAction_: function(a) {
          var b = this.actionRouter_.actionRoutingMap.get(a.detail.actionName);
          b && b.delete(a.detail.context)
        }
      },
      wv.YtEndpointBehavior, MB.YtEndpointHandlerWithYpcBehavior, uB.YtLogYpcFlowCommandsBehavior, NB.YtFeedbackCollectorBehavior, W.YtRendererBehavior, X.InjectBehavior, {},
      bB.YtmusicOpenPopupBehavior, aB
    ],
    isInjectionRoot: !0,
    provide: [Wz, oA, tA, Vz, LA, eA, dA, gA, rA, az, nA, Xz, Xy, mA, yA, Ex, AA, Nz, BA, Pz, qA, Iz, Bz, sA, Hz, Yy, WA, YA, HA, KA, {
        provide: Y,
        useValue: Y.getInstance()
      }, {
        provide: Gz,
        useValue: Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys
      }, {
        provide: cz,
        useFactory: function(a) {
          F("yt.abuse.player.botguardInitialized", up,
            void 0);
          F("yt.abuse.player.invokeBotguard", vp, void 0);
          F("yt.abuse.dclkstatus.checkDclkStatus", np, void 0);
          F("yt.player.exports.navigate", Gs, void 0);
          F("yt.util.activity.init", fr, void 0);
          F("yt.util.activity.getTimeSinceActive", ir, void 0);
          F("yt.util.activity.setTimestamp", gr, void 0);
          return Ks(a, M("PLAYER_CONFIG", void 0))
        },
        deps: [dz]
      }, {
        provide: dz,
        useFactory: function() {
          var a = document.createElement("div");
          a.style.width = "100%";
          a.style.height = "100%";
          return a
        }
      },
      {
        provide: MA,
        useFactory: function() {
          return NA
        }
      },
      {
        provide: Ko,
        useFactory: function() {
          return new Ko
        }
      },
      {
        provide: Window,
        useValue: window
      }
    ],
    inject: {
      navigator_: Xz,
      networkManager_: Xy,
      pageManager_: mA,
      promotionsService_: qA,
      queue_: Iz,
      toastService_: Yy,
      unusedAttestationService_: oA,
      unusedDragMonitor_: LA,
      unusedEndpointHandler_: eA,
      unusedFeedbackService_: dA,
      unusedHistoryManager_: gA,
      unusedInstallPromptService_: rA,
      unusedMessageHandler_: nA,
      unusedOnlineOfflineMonitor: XA,
      unusedPageTitleMonitor_: yA,
      unusedPlayerBarViewportSizeMonitor_: AA,
      unusedPlayerErrorMonitor_: BA,
      unusedServiceWorkerService_: sA,
      unusedUploadProgressMonitor_: YA,
      unusedViewportSizeMonitor_: HA,
      unusedYouThereService_: KA
    },
    actionRouterIsRoot: !0,
    actionMap: {
      "yt-add-to-toast-action": "handleAddToToastAction_",
      "yt-command-executor-command": "handleCommandExecutorCommand_",
      "yt-handle-playlist-deletion-command": "handlePlaylistDeletionCommand_",
      "yt-set-client-setting-endpoint": "handleSetClientSettingEndpoint_",
      "yt-signal-action-reload-page": "handleSignalActionReloadPage_",
      "yt-store-grafted-ve-action": "handleStoreGraftedVeAction_",
      "yt-register-create-family-dialog": "handleRegisterCreateFamilyDialog_",
      "yt-navigate-action": "handleNavigateAction_"
    },
    properties: {
      isLoading_: {
        type: Boolean,
        statePath: "navigation.isLoadingIndicatorShowing",
        observer: "isLoadingChanged_"
      },
      pivotBarData_: Object,
      isMobileWeb_: {
        type: Boolean,
        value: function() {
          return N("IS_MOBILE_WEB", !1)
        },
        reflectToAttribute: !0
      },
      playerUiState_: {
        type: String,
        statePath: Qz,
        observer: "playerUiStateChanged_"
      },
      showDebugLabel_: {
        type: Boolean,
        value: function() {
          return !!M("DEBUG_LABEL", void 0)
        }
      }
    },
    created: function() {
      this.initCsi_();
      Sr || (fr(), $r("FOREGROUND_HEARTBEAT_TRIGGER_ON_FOREGROUND"), Ro(ab($r, "FOREGROUND_HEARTBEAT_TRIGGER_ON_INTERVAL"), 3E4), Tr.push(wq(document, "visibilitychange", Yr)), Sr = !0);
      as(M("EVENT_ID", void 0));
      Tu(!0);
      lu("ac")
    },
    ready: function() {
      this.setDynamicCssProperties_();
      this.fetchTabsData_();
      this.registerPagesWithPageManager_();
      this.navigator_.performInitialNavigation(PB)
    },
    attached: function() {
      Wu("keyboard");
      P("music_web_ignore_display_config_promotions") || this.promotionsService_.processDisplayConfig()
    },
    getLoggerName: function() {
      return "ytmusic.ytmusic-app"
    },
    isLoadingChanged_: function(a) {
      var b = this.getInterface(OB);
      b && (a ? b.start() : b.finish())
    },
    playerUiStateChanged_: function(a) {
      document.documentElement.classList.toggle("inactive-player", "INACTIVE" == a)
    },
    registerPagesWithPageManager_: function() {
      this.pageManager_.registerAppElement(this);
      this.pageManager_.registerPlayerPage(this.$["player-page"]);
      this.pageManager_.registerMainContentPage(Jx, this.$["browse-page"]);
      this.pageManager_.registerMainContentPage(Qx, this.$["search-page"])
    },
    initCsi_: function() {
      pu("n", window.performance.timing.navigationStart);
      delete Md("TIMING_INFO", {}).yt_lt;
      Ku("yt_lt", "cold");
      lu("ai");
      Polymer.RenderStatus.afterNextRender(this, function() {
        lu("fpt")
      })
    },
    setDynamicCssProperties_: function() {
      var a = Vd("music_web_body_line_height") || "1.4";
      document.documentElement.style.setProperty("--ytmusic-title-line-height", Vd("music_web_title_line_height") || "1.2");
      document.documentElement.style.setProperty("--ytmusic-body-line-height", a)
    },
    fetchTabsData_: function() {
      var a = this;
      this.networkManager_.fetch("/guide").then(function(b) {
        return a.handleGuideResponse_(b)
      }, function() {
        a.toastService_.show(T("ERROR"))
      })
    },
    handleGuideResponse_: function(a) {
      a.trackingParams && kx(xr(a.trackingParams));
      this.pivotBarData_ = a.items.find(function(b) {
        return !!b.pivotBarRenderer
      }).pivotBarRenderer
    },
    getDefaultEndpoint_: function() {
      return ay()
    },
    handleAddToToastAction_: function(a) {
      this.openPopup({
        openPopupAction: {
          popupType: "TOAST",
          popup: a.addToToastAction.item
        }
      })
    },
    handleSignalActionReloadPage_: function() {
      location.reload()
    },
    handlePlaylistDeletionCommand_: function(a) {
      if (a = a.handlePlaylistDeletionCommand) {
        this.openToast(T("PLAYLIST_DELETED"));
        var b = this.getStateBySelector(Zz);
        b = G("endpoint.data.browseId", b);
        a = a.playlistId;
        "FEmusic_liked" == b ? this.navigator_.refreshCurrentPage() : b == "VL" + a && (a = Zx({
          browseEndpoint: {
            browseId: "FEmusic_liked"
          }
        }), this.navigator_.navigate(a))
      }
    },
    handleSetClientSettingEndpoint_: function(a) {
      ly(a.setClientSettingEndpoint)
    },
    handleStoreGraftedVeAction_: function(a) {
      jx(a)
    },
    handleRegisterCreateFamilyDialog_: function() {
      if (!this.querySelector("yt-create-family-dialog")) {
        var a = document.createElement("yt-create-family-dialog");
        Polymer.dom(this.root).appendChild(a)
      }
    },
    handleNavigateAction_: function(a) {
      a = this.get("navigateAction.endpoint", a);
      this.fire("yt-navigate", {
        endpoint: a
      })
    },
    handleCommandExecutorCommand_: function(a, b) {
      this.get("commandExecutorCommand.commands", a) && this.sendInnerTubeActions(a.commandExecutorCommand.commands, b)
    },
    getDebugLabel_: function() {
      return M("DEBUG_LABEL", void 0)
    }
  });
}).call(this);